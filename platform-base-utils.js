var platformBaseUtils=function(){"use strict";var mG=Object.defineProperty;var gG=(Go,ra,Ko)=>ra in Go?mG(Go,ra,{enumerable:!0,configurable:!0,writable:!0,value:Ko}):Go[ra]=Ko;var me=(Go,ra,Ko)=>gG(Go,typeof ra!="symbol"?ra+"":ra,Ko);var pk,hk,mk,gk;function Go(e){return e}const ra=[EvalError,RangeError,ReferenceError,SyntaxError,TypeError,URIError,globalThis.DOMException,globalThis.AssertionError,globalThis.SystemError].filter(Boolean).map(e=>[e.name,e]),Ko=new Map(ra);class pf extends Error{constructor(r){super(pf._prepareSuperMessage(r));me(this,"name","NonError")}static _prepareSuperMessage(r){try{return JSON.stringify(r)}catch{return String(r)}}}const jk=[{property:"name",enumerable:!1},{property:"message",enumerable:!1},{property:"stack",enumerable:!1},{property:"code",enumerable:!0},{property:"cause",enumerable:!1}],hf=new WeakSet,Uk=e=>{hf.add(e);const t=e.toJSON();return hf.delete(e),t},fy=e=>Ko.get(e)??Error,mf=({from:e,seen:t,to:r,forceEnumerable:n,maxDepth:s,depth:a,useToJSON:o,serialize:i})=>{if(!r)if(Array.isArray(e))r=[];else if(!i&&py(e)){const c=fy(e.name);r=new c}else r={};if(t.push(e),a>=s)return r;if(o&&typeof e.toJSON=="function"&&!hf.has(e))return Uk(e);const l=c=>mf({from:c,seen:[...t],forceEnumerable:n,maxDepth:s,depth:a,useToJSON:o,serialize:i});for(const[c,u]of Object.entries(e)){if(u&&u instanceof Uint8Array&&u.constructor.name==="Buffer"){r[c]="[object Buffer]";continue}if(u!==null&&typeof u=="object"&&typeof u.pipe=="function"){r[c]="[object Stream]";continue}if(typeof u!="function"){if(!u||typeof u!="object"){try{r[c]=u}catch{}continue}if(!t.includes(e[c])){a++,r[c]=l(e[c]);continue}r[c]="[Circular]"}}for(const{property:c,enumerable:u}of jk)typeof e[c]<"u"&&e[c]!==null&&Object.defineProperty(r,c,{value:py(e[c])?l(e[c]):e[c],enumerable:n?!0:u,configurable:!0,writable:!0});return r};function qk(e,t={}){const{maxDepth:r=Number.POSITIVE_INFINITY,useToJSON:n=!0}=t;return typeof e=="object"&&e!==null?mf({from:e,seen:[],forceEnumerable:!0,maxDepth:r,depth:0,useToJSON:n,serialize:!0}):typeof e=="function"?`[Function: ${e.name||"anonymous"}]`:e}function Vk(e,t={}){const{maxDepth:r=Number.POSITIVE_INFINITY}=t;if(e instanceof Error)return e;if(Hk(e)){const n=fy(e.name);return mf({from:e,seen:[],to:new n,maxDepth:r,depth:0,serialize:!1})}return new pf(e)}function py(e){return!!e&&typeof e=="object"&&"name"in e&&"message"in e&&"stack"in e}function Hk(e){return!!e&&typeof e=="object"&&"message"in e&&!Array.isArray(e)}var zk=Object.defineProperty,Wk=Object.defineProperties,Gk=Object.getOwnPropertyDescriptors,hy=Object.getOwnPropertySymbols,Kk=Object.prototype.hasOwnProperty,Yk=Object.prototype.propertyIsEnumerable,my=(e,t,r)=>t in e?zk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,hu=(e,t)=>{for(var r in t||(t={}))Kk.call(t,r)&&my(e,r,t[r]);if(hy)for(var r of hy(t))Yk.call(t,r)&&my(e,r,t[r]);return e},mu=(e,t)=>Wk(e,Gk(t)),gy=(e,t,r)=>new Promise((n,s)=>{var a=l=>{try{i(r.next(l))}catch(c){s(c)}},o=l=>{try{i(r.throw(l))}catch(c){s(c)}},i=l=>l.done?n(l.value):Promise.resolve(l.value).then(a,o);i((r=r.apply(e,t)).next())});function vy(e){let t,r={};function n(){Object.entries(r).length===0&&(t==null||t(),t=void 0)}let s=Math.floor(Math.random()*1e4);function a(){return s++}return{sendMessage(o,i,...l){return gy(this,null,function*(){var c,u,d,m;const b={id:a(),type:o,data:i,timestamp:Date.now()},g=(u=yield(c=e.verifyMessageData)==null?void 0:c.call(e,b))!=null?u:b;(d=e.logger)==null||d.debug(`[messaging] sendMessage {id=${g.id}} ─ᐅ`,g,...l);const h=yield e.sendMessage(g,...l),{res:v,err:y}=h??{err:new Error("No response")};if((m=e.logger)==null||m.debug(`[messaging] sendMessage {id=${g.id}} ᐊ─`,{res:v,err:y}),y!=null)throw Vk(y);return v})},onMessage(o,i){var l,c,u;if(t==null&&((l=e.logger)==null||l.debug(`[messaging] "${o}" initialized the message listener for this context`),t=e.addRootListener(d=>{var m,b;if(typeof d.type!="string"||typeof d.timestamp!="number"){if(e.breakError)return;const v=Error(`[messaging] Unknown message format, must include the 'type' & 'timestamp' fields, received: ${JSON.stringify(d)}`);throw(m=e.logger)==null||m.error(v),v}(b=e==null?void 0:e.logger)==null||b.debug("[messaging] Received message",d);const g=r[d.type];if(g==null)return;const h=g(d);return Promise.resolve(h).then(v=>{var y,C;return(C=(y=e.verifyMessageData)==null?void 0:y.call(e,v))!=null?C:v}).then(v=>{var y;return(y=e==null?void 0:e.logger)==null||y.debug(`[messaging] onMessage {id=${d.id}} ─ᐅ`,{res:v}),{res:v}}).catch(v=>{var y;return(y=e==null?void 0:e.logger)==null||y.debug(`[messaging] onMessage {id=${d.id}} ─ᐅ`,{err:v}),{err:qk(v)}})})),r[o]!=null){const d=Error(`[messaging] In this JS context, only one listener can be setup for ${o}`);throw(c=e.logger)==null||c.error(d),d}return r[o]=i,(u=e.logger)==null||u.log(`[messaging] Added listener for ${o}`),()=>{delete r[o],n()}},removeAllListeners(){Object.keys(r).forEach(o=>{delete r[o]}),n()}}}var yy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Jk(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var gu={exports:{}},Xk=gu.exports,by;function Qk(){return by||(by=1,function(e,t){(function(r,n){n(e)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:Xk,function(r){var n,s;if(!((s=(n=globalThis.chrome)==null?void 0:n.runtime)!=null&&s.id))throw new Error("This script should only be loaded in a browser extension.");if(typeof globalThis.browser>"u"||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const a="The message port closed before a response was received.",o=i=>{const l={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(l).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class c extends WeakMap{constructor($,q=void 0){super(q),this.createItem=$}get($){return this.has($)||this.set($,this.createItem($)),super.get($)}}const u=P=>P&&typeof P=="object"&&typeof P.then=="function",d=(P,$)=>(...q)=>{i.runtime.lastError?P.reject(new Error(i.runtime.lastError.message)):$.singleCallbackArg||q.length<=1&&$.singleCallbackArg!==!1?P.resolve(q[0]):P.resolve(q)},m=P=>P==1?"argument":"arguments",b=(P,$)=>function(E,...M){if(M.length<$.minArgs)throw new Error(`Expected at least ${$.minArgs} ${m($.minArgs)} for ${P}(), got ${M.length}`);if(M.length>$.maxArgs)throw new Error(`Expected at most ${$.maxArgs} ${m($.maxArgs)} for ${P}(), got ${M.length}`);return new Promise((F,N)=>{if($.fallbackToNoCallback)try{E[P](...M,d({resolve:F,reject:N},$))}catch(R){console.warn(`${P} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,R),E[P](...M),$.fallbackToNoCallback=!1,$.noCallback=!0,F()}else $.noCallback?(E[P](...M),F()):E[P](...M,d({resolve:F,reject:N},$))})},g=(P,$,q)=>new Proxy($,{apply(E,M,F){return q.call(M,P,...F)}});let h=Function.call.bind(Object.prototype.hasOwnProperty);const v=(P,$={},q={})=>{let E=Object.create(null),M={has(N,R){return R in P||R in E},get(N,R,H){if(R in E)return E[R];if(!(R in P))return;let U=P[R];if(typeof U=="function")if(typeof $[R]=="function")U=g(P,P[R],$[R]);else if(h(q,R)){let L=b(R,q[R]);U=g(P,P[R],L)}else U=U.bind(P);else if(typeof U=="object"&&U!==null&&(h($,R)||h(q,R)))U=v(U,$[R],q[R]);else if(h(q,"*"))U=v(U,$[R],q["*"]);else return Object.defineProperty(E,R,{configurable:!0,enumerable:!0,get(){return P[R]},set(L){P[R]=L}}),U;return E[R]=U,U},set(N,R,H,U){return R in E?E[R]=H:P[R]=H,!0},defineProperty(N,R,H){return Reflect.defineProperty(E,R,H)},deleteProperty(N,R){return Reflect.deleteProperty(E,R)}},F=Object.create(P);return new Proxy(F,M)},y=P=>({addListener($,q,...E){$.addListener(P.get(q),...E)},hasListener($,q){return $.hasListener(P.get(q))},removeListener($,q){$.removeListener(P.get(q))}}),C=new c(P=>typeof P!="function"?P:function(q){const E=v(q,{},{getContent:{minArgs:0,maxArgs:0}});P(E)}),_=new c(P=>typeof P!="function"?P:function(q,E,M){let F=!1,N,R=new Promise(D=>{N=function(Y){F=!0,D(Y)}}),H;try{H=P(q,E,N)}catch(D){H=Promise.reject(D)}const U=H!==!0&&u(H);if(H!==!0&&!U&&!F)return!1;const L=D=>{D.then(Y=>{M(Y)},Y=>{let Q;Y&&(Y instanceof Error||typeof Y.message=="string")?Q=Y.message:Q="An unexpected error occurred",M({__mozWebExtensionPolyfillReject__:!0,message:Q})}).catch(Y=>{console.error("Failed to send onMessage rejected reply",Y)})};return L(U?H:R),!0}),S=({reject:P,resolve:$},q)=>{i.runtime.lastError?i.runtime.lastError.message===a?$():P(new Error(i.runtime.lastError.message)):q&&q.__mozWebExtensionPolyfillReject__?P(new Error(q.message)):$(q)},x=(P,$,q,...E)=>{if(E.length<$.minArgs)throw new Error(`Expected at least ${$.minArgs} ${m($.minArgs)} for ${P}(), got ${E.length}`);if(E.length>$.maxArgs)throw new Error(`Expected at most ${$.maxArgs} ${m($.maxArgs)} for ${P}(), got ${E.length}`);return new Promise((M,F)=>{const N=S.bind(null,{resolve:M,reject:F});E.push(N),q.sendMessage(...E)})},I={devtools:{network:{onRequestFinished:y(C)}},runtime:{onMessage:y(_),onMessageExternal:y(_),sendMessage:x.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:x.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},f={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return l.privacy={network:{"*":f},services:{"*":f},websites:{"*":f}},v(i,I,l)};r.exports=o(chrome)}else r.exports=globalThis.browser})}(gu)),gu.exports}var Zk=Qk();const vu=pn(Zk);function $a(e){return vy(mu(hu({},e),{sendMessage(t,r){if(r==null)return vu.runtime.sendMessage(t);const n=typeof r=="number"?{tabId:r}:r;return vu.tabs.sendMessage(n.tabId,t,n.frameId!=null?{frameId:n.frameId}:void 0)},addRootListener(t){const r=(n,s)=>t(typeof n=="object"?mu(hu({},n),{sender:s}):n);return vu.runtime.onMessage.addListener(r),()=>vu.runtime.onMessage.removeListener(r)}}))}const Qr=[];for(let e=0;e<256;++e)Qr.push((e+256).toString(16).slice(1));function eO(e,t=0){return(Qr[e[t+0]]+Qr[e[t+1]]+Qr[e[t+2]]+Qr[e[t+3]]+"-"+Qr[e[t+4]]+Qr[e[t+5]]+"-"+Qr[e[t+6]]+Qr[e[t+7]]+"-"+Qr[e[t+8]]+Qr[e[t+9]]+"-"+Qr[e[t+10]]+Qr[e[t+11]]+Qr[e[t+12]]+Qr[e[t+13]]+Qr[e[t+14]]+Qr[e[t+15]]).toLowerCase()}let gf;const tO=new Uint8Array(16);function rO(){if(!gf){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");gf=crypto.getRandomValues.bind(crypto)}return gf(tO)}const wy={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function nO(e,t,r){var s;if(wy.randomUUID&&!e)return wy.randomUUID();e=e||{};const n=e.random??((s=e.rng)==null?void 0:s.call(e))??rO();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,eO(n)}const As=(hk=(pk=globalThis.browser)==null?void 0:pk.runtime)!=null&&hk.id?globalThis.browser:globalThis.chrome,vf=Object.freeze(Object.defineProperty({__proto__:null,source:"sheinChoice"},Symbol.toStringTag,{value:"Module"})),sO=e=>e;function Ki(e,t=2){const n=(Number(e)||0).toFixed(t);return Number(n)}function yf(e,t="",r){if(!e)return!1;if(t==="X_OUT_WAREHOUSE")return!0;const n=["已收件","已揽件","揽收","收寄","已送达","已到达","分拨中心","已取件","已装车","分拨","已收取快件","快件已发车","中转场","已收入","运输中","转运中心"];return e=e.replace(/(待收件|待揽收|等待揽收|待收寄|未揽收)/g,""),new RegExp(`(${n.join("|")})`).test(e)}function aO(e,t,r){return`/common/overall/no_referrer_jump?url=${encodeURIComponent(e)}`}function Sy(e,t){let r=[];["taobao","tmall"].includes(t)&&(r=["亲，小二正忙，滑动一下马上回来","霸下通用 web 页面-验证码","被挤爆啦,请稍后重试"]);for(const n of r)if(e.includes(n))return!0;return!1}function _y(e){let t="";for(let r=0;r<e.length;r++)t+=`${e[r].name}=${e[r].value}; `;return t}function Ty(){try{return navigator.userAgent}catch(e){return window.console.log("getUserAgent error",e),""}}function oO(){const t=navigator.userAgent.match(/Chrome\/(\d+)\./);return Number(t==null?void 0:t[1])||0}var yu={exports:{}},iO=yu.exports,Cy;function lO(){return Cy||(Cy=1,function(e,t){(function(r,n){e.exports=n()})(iO,function(){var r=1e3,n=6e4,s=36e5,a="millisecond",o="second",i="minute",l="hour",c="day",u="week",d="month",m="quarter",b="year",g="date",h="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,C={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(N){var R=["th","st","nd","rd"],H=N%100;return"["+N+(R[(H-20)%10]||R[H]||R[0])+"]"}},_=function(N,R,H){var U=String(N);return!U||U.length>=R?N:""+Array(R+1-U.length).join(H)+N},S={s:_,z:function(N){var R=-N.utcOffset(),H=Math.abs(R),U=Math.floor(H/60),L=H%60;return(R<=0?"+":"-")+_(U,2,"0")+":"+_(L,2,"0")},m:function N(R,H){if(R.date()<H.date())return-N(H,R);var U=12*(H.year()-R.year())+(H.month()-R.month()),L=R.clone().add(U,d),D=H-L<0,Y=R.clone().add(U+(D?-1:1),d);return+(-(U+(H-L)/(D?L-Y:Y-L))||0)},a:function(N){return N<0?Math.ceil(N)||0:Math.floor(N)},p:function(N){return{M:d,y:b,w:u,d:c,D:g,h:l,m:i,s:o,ms:a,Q:m}[N]||String(N||"").toLowerCase().replace(/s$/,"")},u:function(N){return N===void 0}},x="en",I={};I[x]=C;var f="$isDayjsObject",P=function(N){return N instanceof M||!(!N||!N[f])},$=function N(R,H,U){var L;if(!R)return x;if(typeof R=="string"){var D=R.toLowerCase();I[D]&&(L=D),H&&(I[D]=H,L=D);var Y=R.split("-");if(!L&&Y.length>1)return N(Y[0])}else{var Q=R.name;I[Q]=R,L=Q}return!U&&L&&(x=L),L||!U&&x},q=function(N,R){if(P(N))return N.clone();var H=typeof R=="object"?R:{};return H.date=N,H.args=arguments,new M(H)},E=S;E.l=$,E.i=P,E.w=function(N,R){return q(N,{locale:R.$L,utc:R.$u,x:R.$x,$offset:R.$offset})};var M=function(){function N(H){this.$L=$(H.locale,null,!0),this.parse(H),this.$x=this.$x||H.x||{},this[f]=!0}var R=N.prototype;return R.parse=function(H){this.$d=function(U){var L=U.date,D=U.utc;if(L===null)return new Date(NaN);if(E.u(L))return new Date;if(L instanceof Date)return new Date(L);if(typeof L=="string"&&!/Z$/i.test(L)){var Y=L.match(v);if(Y){var Q=Y[2]-1||0,ae=(Y[7]||"0").substring(0,3);return D?new Date(Date.UTC(Y[1],Q,Y[3]||1,Y[4]||0,Y[5]||0,Y[6]||0,ae)):new Date(Y[1],Q,Y[3]||1,Y[4]||0,Y[5]||0,Y[6]||0,ae)}}return new Date(L)}(H),this.init()},R.init=function(){var H=this.$d;this.$y=H.getFullYear(),this.$M=H.getMonth(),this.$D=H.getDate(),this.$W=H.getDay(),this.$H=H.getHours(),this.$m=H.getMinutes(),this.$s=H.getSeconds(),this.$ms=H.getMilliseconds()},R.$utils=function(){return E},R.isValid=function(){return this.$d.toString()!==h},R.isSame=function(H,U){var L=q(H);return this.startOf(U)<=L&&L<=this.endOf(U)},R.isAfter=function(H,U){return q(H)<this.startOf(U)},R.isBefore=function(H,U){return this.endOf(U)<q(H)},R.$g=function(H,U,L){return E.u(H)?this[U]:this.set(L,H)},R.unix=function(){return Math.floor(this.valueOf()/1e3)},R.valueOf=function(){return this.$d.getTime()},R.startOf=function(H,U){var L=this,D=!!E.u(U)||U,Y=E.p(H),Q=function(He,Me){var rt=E.w(L.$u?Date.UTC(L.$y,Me,He):new Date(L.$y,Me,He),L);return D?rt:rt.endOf(c)},ae=function(He,Me){return E.w(L.toDate()[He].apply(L.toDate("s"),(D?[0,0,0,0]:[23,59,59,999]).slice(Me)),L)},ne=this.$W,he=this.$M,ve=this.$D,We="set"+(this.$u?"UTC":"");switch(Y){case b:return D?Q(1,0):Q(31,11);case d:return D?Q(1,he):Q(0,he+1);case u:var Ge=this.$locale().weekStart||0,Te=(ne<Ge?ne+7:ne)-Ge;return Q(D?ve-Te:ve+(6-Te),he);case c:case g:return ae(We+"Hours",0);case l:return ae(We+"Minutes",1);case i:return ae(We+"Seconds",2);case o:return ae(We+"Milliseconds",3);default:return this.clone()}},R.endOf=function(H){return this.startOf(H,!1)},R.$set=function(H,U){var L,D=E.p(H),Y="set"+(this.$u?"UTC":""),Q=(L={},L[c]=Y+"Date",L[g]=Y+"Date",L[d]=Y+"Month",L[b]=Y+"FullYear",L[l]=Y+"Hours",L[i]=Y+"Minutes",L[o]=Y+"Seconds",L[a]=Y+"Milliseconds",L)[D],ae=D===c?this.$D+(U-this.$W):U;if(D===d||D===b){var ne=this.clone().set(g,1);ne.$d[Q](ae),ne.init(),this.$d=ne.set(g,Math.min(this.$D,ne.daysInMonth())).$d}else Q&&this.$d[Q](ae);return this.init(),this},R.set=function(H,U){return this.clone().$set(H,U)},R.get=function(H){return this[E.p(H)]()},R.add=function(H,U){var L,D=this;H=Number(H);var Y=E.p(U),Q=function(he){var ve=q(D);return E.w(ve.date(ve.date()+Math.round(he*H)),D)};if(Y===d)return this.set(d,this.$M+H);if(Y===b)return this.set(b,this.$y+H);if(Y===c)return Q(1);if(Y===u)return Q(7);var ae=(L={},L[i]=n,L[l]=s,L[o]=r,L)[Y]||1,ne=this.$d.getTime()+H*ae;return E.w(ne,this)},R.subtract=function(H,U){return this.add(-1*H,U)},R.format=function(H){var U=this,L=this.$locale();if(!this.isValid())return L.invalidDate||h;var D=H||"YYYY-MM-DDTHH:mm:ssZ",Y=E.z(this),Q=this.$H,ae=this.$m,ne=this.$M,he=L.weekdays,ve=L.months,We=L.meridiem,Ge=function(Me,rt,X,re){return Me&&(Me[rt]||Me(U,D))||X[rt].slice(0,re)},Te=function(Me){return E.s(Q%12||12,Me,"0")},He=We||function(Me,rt,X){var re=Me<12?"AM":"PM";return X?re.toLowerCase():re};return D.replace(y,function(Me,rt){return rt||function(X){switch(X){case"YY":return String(U.$y).slice(-2);case"YYYY":return E.s(U.$y,4,"0");case"M":return ne+1;case"MM":return E.s(ne+1,2,"0");case"MMM":return Ge(L.monthsShort,ne,ve,3);case"MMMM":return Ge(ve,ne);case"D":return U.$D;case"DD":return E.s(U.$D,2,"0");case"d":return String(U.$W);case"dd":return Ge(L.weekdaysMin,U.$W,he,2);case"ddd":return Ge(L.weekdaysShort,U.$W,he,3);case"dddd":return he[U.$W];case"H":return String(Q);case"HH":return E.s(Q,2,"0");case"h":return Te(1);case"hh":return Te(2);case"a":return He(Q,ae,!0);case"A":return He(Q,ae,!1);case"m":return String(ae);case"mm":return E.s(ae,2,"0");case"s":return String(U.$s);case"ss":return E.s(U.$s,2,"0");case"SSS":return E.s(U.$ms,3,"0");case"Z":return Y}return null}(Me)||Y.replace(":","")})},R.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},R.diff=function(H,U,L){var D,Y=this,Q=E.p(U),ae=q(H),ne=(ae.utcOffset()-this.utcOffset())*n,he=this-ae,ve=function(){return E.m(Y,ae)};switch(Q){case b:D=ve()/12;break;case d:D=ve();break;case m:D=ve()/3;break;case u:D=(he-ne)/6048e5;break;case c:D=(he-ne)/864e5;break;case l:D=he/s;break;case i:D=he/n;break;case o:D=he/r;break;default:D=he}return L?D:E.a(D)},R.daysInMonth=function(){return this.endOf(d).$D},R.$locale=function(){return I[this.$L]},R.locale=function(H,U){if(!H)return this.$L;var L=this.clone(),D=$(H,U,!0);return D&&(L.$L=D),L},R.clone=function(){return E.w(this.$d,this)},R.toDate=function(){return new Date(this.valueOf())},R.toJSON=function(){return this.isValid()?this.toISOString():null},R.toISOString=function(){return this.$d.toISOString()},R.toString=function(){return this.$d.toUTCString()},N}(),F=M.prototype;return q.prototype=F,[["$ms",a],["$s",o],["$m",i],["$H",l],["$W",c],["$M",d],["$y",b],["$D",g]].forEach(function(N){F[N[1]]=function(R){return this.$g(R,N[0],N[1])}}),q.extend=function(N,R){return N.$i||(N(R,M,q),N.$i=!0),q},q.locale=$,q.isDayjs=P,q.unix=function(N){return q(1e3*N)},q.en=I[x],q.Ls=I,q.p={},q})}(yu)),yu.exports}var uO=lO();const Ve=pn(uO);var xy=Object.prototype.hasOwnProperty;function bf(e,t){var r,n;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((n=e.length)===t.length)for(;n--&&bf(e[n],t[n]););return n===-1}if(!r||typeof e=="object"){n=0;for(r in e)if(xy.call(e,r)&&++n&&!xy.call(t,r)||!(r in t)||!bf(e[r],t[r]))return!1;return Object.keys(t).length===n}}return e!==e&&t!==t}const cO=new Error("request for lock canceled");var dO=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function i(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):s(u.value).then(i,l)}c((n=n.apply(e,t||[])).next())})};class fO{constructor(t,r=cO){this._value=t,this._cancelError=r,this._queue=[],this._weightedWaiters=[]}acquire(t=1,r=0){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return new Promise((n,s)=>{const a={resolve:n,reject:s,weight:t,priority:r},o=Iy(this._queue,i=>r<=i.priority);o===-1&&t<=this._value?this._dispatchItem(a):this._queue.splice(o+1,0,a)})}runExclusive(t){return dO(this,arguments,void 0,function*(r,n=1,s=0){const[a,o]=yield this.acquire(n,s);try{return yield r(a)}finally{o()}})}waitForUnlock(t=1,r=0){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return this._couldLockImmediately(t,r)?Promise.resolve():new Promise(n=>{this._weightedWaiters[t-1]||(this._weightedWaiters[t-1]=[]),pO(this._weightedWaiters[t-1],{resolve:n,priority:r})})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(t){this._value=t,this._dispatchQueue()}release(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);this._value+=t,this._dispatchQueue()}cancel(){this._queue.forEach(t=>t.reject(this._cancelError)),this._queue=[]}_dispatchQueue(){for(this._drainUnlockWaiters();this._queue.length>0&&this._queue[0].weight<=this._value;)this._dispatchItem(this._queue.shift()),this._drainUnlockWaiters()}_dispatchItem(t){const r=this._value;this._value-=t.weight,t.resolve([r,this._newReleaser(t.weight)])}_newReleaser(t){let r=!1;return()=>{r||(r=!0,this.release(t))}}_drainUnlockWaiters(){if(this._queue.length===0)for(let t=this._value;t>0;t--){const r=this._weightedWaiters[t-1];r&&(r.forEach(n=>n.resolve()),this._weightedWaiters[t-1]=[])}else{const t=this._queue[0].priority;for(let r=this._value;r>0;r--){const n=this._weightedWaiters[r-1];if(!n)continue;const s=n.findIndex(a=>a.priority<=t);(s===-1?n:n.splice(0,s)).forEach(a=>a.resolve())}}}_couldLockImmediately(t,r){return(this._queue.length===0||this._queue[0].priority<r)&&t<=this._value}}function pO(e,t){const r=Iy(e,n=>t.priority<=n.priority);e.splice(r+1,0,t)}function Iy(e,t){for(let r=e.length-1;r>=0;r--)if(t(e[r]))return r;return-1}var hO=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function i(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):s(u.value).then(i,l)}c((n=n.apply(e,t||[])).next())})};class mO{constructor(t){this._semaphore=new fO(1,t)}acquire(){return hO(this,arguments,void 0,function*(t=0){const[,r]=yield this._semaphore.acquire(1,t);return r})}runExclusive(t,r=0){return this._semaphore.runExclusive(()=>t(),1,r)}isLocked(){return this._semaphore.isLocked()}waitForUnlock(t=0){return this._semaphore.waitForUnlock(1,t)}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}}const bu=((gk=(mk=globalThis.browser)==null?void 0:mk.runtime)==null?void 0:gk.id)==null?globalThis.chrome:globalThis.browser,Ze=gO();function gO(){const e={local:wu("local"),session:wu("session"),sync:wu("sync"),managed:wu("managed")},t=h=>{const v=e[h];if(v==null){const y=Object.keys(e).join(", ");throw Error(`Invalid area "${h}". Options: ${y}`)}return v},r=h=>{const v=h.indexOf(":"),y=h.substring(0,v),C=h.substring(v+1);if(C==null)throw Error(`Storage key should be in the form of "area:key", but received "${h}"`);return{driverArea:y,driverKey:C,driver:t(y)}},n=h=>h+"$",s=(h,v)=>{const y={...h};return Object.entries(v).forEach(([C,_])=>{_==null?delete y[C]:y[C]=_}),y},a=(h,v)=>h??v??null,o=h=>typeof h=="object"&&!Array.isArray(h)?h:{},i=async(h,v,y)=>{const C=await h.getItem(v);return a(C,(y==null?void 0:y.fallback)??(y==null?void 0:y.defaultValue))},l=async(h,v)=>{const y=n(v),C=await h.getItem(y);return o(C)},c=async(h,v,y)=>{await h.setItem(v,y??null)},u=async(h,v,y)=>{const C=n(v),_=o(await h.getItem(C));await h.setItem(C,s(_,y))},d=async(h,v,y)=>{if(await h.removeItem(v),y!=null&&y.removeMeta){const C=n(v);await h.removeItem(C)}},m=async(h,v,y)=>{const C=n(v);if(y==null)await h.removeItem(C);else{const _=o(await h.getItem(C));[y].flat().forEach(S=>delete _[S]),await h.setItem(C,_)}},b=(h,v,y)=>h.watch(v,y);return{getItem:async(h,v)=>{const{driver:y,driverKey:C}=r(h);return await i(y,C,v)},getItems:async h=>{const v=new Map,y=new Map,C=[];h.forEach(S=>{let x,I;typeof S=="string"?x=S:"getValue"in S?(x=S.key,I={fallback:S.fallback}):(x=S.key,I=S.options),C.push(x);const{driverArea:f,driverKey:P}=r(x),$=v.get(f)??[];v.set(f,$.concat(P)),y.set(x,I)});const _=new Map;return await Promise.all(Array.from(v.entries()).map(async([S,x])=>{(await e[S].getItems(x)).forEach(f=>{const P=`${S}:${f.key}`,$=y.get(P),q=a(f.value,($==null?void 0:$.fallback)??($==null?void 0:$.defaultValue));_.set(P,q)})})),C.map(S=>({key:S,value:_.get(S)}))},getMeta:async h=>{const{driver:v,driverKey:y}=r(h);return await l(v,y)},getMetas:async h=>{const v=h.map(_=>{const S=typeof _=="string"?_:_.key,{driverArea:x,driverKey:I}=r(S);return{key:S,driverArea:x,driverKey:I,driverMetaKey:n(I)}}),y=v.reduce((_,S)=>{var x;return _[x=S.driverArea]??(_[x]=[]),_[S.driverArea].push(S),_},{}),C={};return await Promise.all(Object.entries(y).map(async([_,S])=>{const x=await bu.storage[_].get(S.map(I=>I.driverMetaKey));S.forEach(I=>{C[I.key]=x[I.driverMetaKey]??{}})})),v.map(_=>({key:_.key,meta:C[_.key]}))},setItem:async(h,v)=>{const{driver:y,driverKey:C}=r(h);await c(y,C,v)},setItems:async h=>{const v={};h.forEach(y=>{const{driverArea:C,driverKey:_}=r("key"in y?y.key:y.item.key);v[C]??(v[C]=[]),v[C].push({key:_,value:y.value})}),await Promise.all(Object.entries(v).map(async([y,C])=>{await t(y).setItems(C)}))},setMeta:async(h,v)=>{const{driver:y,driverKey:C}=r(h);await u(y,C,v)},setMetas:async h=>{const v={};h.forEach(y=>{const{driverArea:C,driverKey:_}=r("key"in y?y.key:y.item.key);v[C]??(v[C]=[]),v[C].push({key:_,properties:y.meta})}),await Promise.all(Object.entries(v).map(async([y,C])=>{const _=t(y),S=C.map(({key:P})=>n(P));console.log(y,S);const x=await _.getItems(S),I=Object.fromEntries(x.map(({key:P,value:$})=>[P,o($)])),f=C.map(({key:P,properties:$})=>{const q=n(P);return{key:q,value:s(I[q]??{},$)}});await _.setItems(f)}))},removeItem:async(h,v)=>{const{driver:y,driverKey:C}=r(h);await d(y,C,v)},removeItems:async h=>{const v={};h.forEach(y=>{let C,_;typeof y=="string"?C=y:"getValue"in y?C=y.key:"item"in y?(C=y.item.key,_=y.options):(C=y.key,_=y.options);const{driverArea:S,driverKey:x}=r(C);v[S]??(v[S]=[]),v[S].push(x),_!=null&&_.removeMeta&&v[S].push(n(x))}),await Promise.all(Object.entries(v).map(async([y,C])=>{await t(y).removeItems(C)}))},removeMeta:async(h,v)=>{const{driver:y,driverKey:C}=r(h);await m(y,C,v)},snapshot:async(h,v)=>{var _;const C=await t(h).snapshot();return(_=v==null?void 0:v.excludeKeys)==null||_.forEach(S=>{delete C[S],delete C[n(S)]}),C},restoreSnapshot:async(h,v)=>{await t(h).restoreSnapshot(v)},watch:(h,v)=>{const{driver:y,driverKey:C}=r(h);return b(y,C,v)},unwatch(){Object.values(e).forEach(h=>{h.unwatch()})},defineItem:(h,v)=>{const{driver:y,driverKey:C}=r(h),{version:_=1,migrations:S={}}=v??{};if(_<1)throw Error("Storage item version cannot be less than 1. Initial versions should be set to 1, not 0.");const x=async()=>{var H;const q=n(C),[{value:E},{value:M}]=await y.getItems([C,q]);if(E==null)return;const F=(M==null?void 0:M.v)??1;if(F>_)throw Error(`Version downgrade detected (v${F} -> v${_}) for "${h}"`);console.debug(`[@wxt-dev/storage] Running storage migration for ${h}: v${F} -> v${_}`);const N=Array.from({length:_-F},(U,L)=>F+L+1);let R=E;for(const U of N)try{R=await((H=S==null?void 0:S[U])==null?void 0:H.call(S,R))??R}catch(L){throw Error(`v${U} migration failed for "${h}"`,{cause:L})}await y.setItems([{key:C,value:R},{key:q,value:{...M,v:_}}]),console.debug(`[@wxt-dev/storage] Storage migration completed for ${h} v${_}`,{migratedValue:R})},I=(v==null?void 0:v.migrations)==null?Promise.resolve():x().catch(q=>{console.error(`[@wxt-dev/storage] Migration failed for ${h}`,q)}),f=new mO,P=()=>(v==null?void 0:v.fallback)??(v==null?void 0:v.defaultValue)??null,$=()=>f.runExclusive(async()=>{const q=await y.getItem(C);if(q!=null||(v==null?void 0:v.init)==null)return q;const E=await v.init();return await y.setItem(C,E),E});return I.then($),{key:h,get defaultValue(){return P()},get fallback(){return P()},getValue:async()=>(await I,v!=null&&v.init?await $():await i(y,C,v)),getMeta:async()=>(await I,await l(y,C)),setValue:async q=>(await I,await c(y,C,q)),setMeta:async q=>(await I,await u(y,C,q)),removeValue:async q=>(await I,await d(y,C,q)),removeMeta:async q=>(await I,await m(y,C,q)),watch:q=>b(y,C,(E,M)=>q(E??P(),M??P())),migrate:x}}}}function wu(e){const t=()=>{if(bu.runtime==null)throw Error(["'wxt/storage' must be loaded in a web extension environment",`
 - If thrown during a build, see https://github.com/wxt-dev/wxt/issues/371`,` - If thrown during tests, mock 'wxt/browser' correctly. See https://wxt.dev/guide/go-further/testing.html
`].join(`
`));if(bu.storage==null)throw Error("You must add the 'storage' permission to your manifest to use 'wxt/storage'");const n=bu.storage[e];if(n==null)throw Error(`"browser.storage.${e}" is undefined`);return n},r=new Set;return{getItem:async n=>(await t().get(n))[n],getItems:async n=>{const s=await t().get(n);return n.map(a=>({key:a,value:s[a]??null}))},setItem:async(n,s)=>{s==null?await t().remove(n):await t().set({[n]:s})},setItems:async n=>{const s=n.reduce((a,{key:o,value:i})=>(a[o]=i,a),{});await t().set(s)},removeItem:async n=>{await t().remove(n)},removeItems:async n=>{await t().remove(n)},snapshot:async()=>await t().get(),restoreSnapshot:async n=>{await t().set(n)},watch(n,s){const a=o=>{const i=o[n];i!=null&&(bf(i.newValue,i.oldValue)||s(i.newValue??null,i.oldValue??null))};return t().onChanged.addListener(a),r.add(a),()=>{t().onChanged.removeListener(a),r.delete(a)}},unwatch(){r.forEach(n=>{t().onChanged.removeListener(n)}),r.clear()}}}const vO=e=>e;async function Yo(e){return await Ze.getItem(`local:${e}`)||{}}function Su(e,t){Ze.setItem(`local:${e}`,t)}function gr(e=0){return e?Ve().add(e,"s").format("YYYY-MM-DD HH:mm:ss"):Ve().format("YYYY-MM-DD HH:mm:ss")}function dr(e=""){return{result:"success",reason:e}}function ir(e){return{result:"fail",reason:e}}function Yt(e){switch(typeof e){case"string":return e;case"object":return e.message;default:return"未知错误"}}const yO=e=>e;var ky=typeof global=="object"&&global&&global.Object===Object&&global,bO=typeof self=="object"&&self&&self.Object===Object&&self,cs=ky||bO||Function("return this")(),Sn=cs.Symbol,Oy=Object.prototype,wO=Oy.hasOwnProperty,SO=Oy.toString,Yi=Sn?Sn.toStringTag:void 0;function _O(e){var t=wO.call(e,Yi),r=e[Yi];try{e[Yi]=void 0;var n=!0}catch{}var s=SO.call(e);return n&&(t?e[Yi]=r:delete e[Yi]),s}var TO=Object.prototype,CO=TO.toString;function xO(e){return CO.call(e)}var IO="[object Null]",kO="[object Undefined]",Py=Sn?Sn.toStringTag:void 0;function Es(e){return e==null?e===void 0?kO:IO:Py&&Py in Object(e)?_O(e):xO(e)}function Nn(e){return e!=null&&typeof e=="object"}var OO="[object Symbol]";function Ji(e){return typeof e=="symbol"||Nn(e)&&Es(e)==OO}function wf(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var Er=Array.isArray,Ay=Sn?Sn.prototype:void 0,Ey=Ay?Ay.toString:void 0;function _u(e){if(typeof e=="string")return e;if(Er(e))return wf(e,_u)+"";if(Ji(e))return Ey?Ey.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var PO=/\s/;function AO(e){for(var t=e.length;t--&&PO.test(e.charAt(t)););return t}var EO=/^\s+/;function $y(e){return e&&e.slice(0,AO(e)+1).replace(EO,"")}function hn(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ry=NaN,$O=/^[-+]0x[0-9a-f]+$/i,RO=/^0b[01]+$/i,LO=/^0o[0-7]+$/i,MO=parseInt;function Sf(e){if(typeof e=="number")return e;if(Ji(e))return Ry;if(hn(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=hn(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=$y(e);var r=RO.test(e);return r||LO.test(e)?MO(e.slice(2),r?2:8):$O.test(e)?Ry:+e}var DO=1/0,NO=17976931348623157e292;function FO(e){if(!e)return e===0?e:0;if(e=Sf(e),e===DO||e===-1/0){var t=e<0?-1:1;return t*NO}return e===e?e:0}function _f(e){var t=FO(e),r=t%1;return t===t?r?t-r:t:0}function Tu(e){return e}var BO="[object AsyncFunction]",jO="[object Function]",UO="[object GeneratorFunction]",qO="[object Proxy]";function Cu(e){if(!hn(e))return!1;var t=Es(e);return t==jO||t==UO||t==BO||t==qO}var Tf=cs["__core-js_shared__"],Ly=function(){var e=/[^.]+$/.exec(Tf&&Tf.keys&&Tf.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function VO(e){return!!Ly&&Ly in e}var HO=Function.prototype,zO=HO.toString;function eo(e){if(e!=null){try{return zO.call(e)}catch{}try{return e+""}catch{}}return""}var WO=/[\\^$.*+?()[\]{}|]/g,GO=/^\[object .+?Constructor\]$/,KO=Function.prototype,YO=Object.prototype,JO=KO.toString,XO=YO.hasOwnProperty,QO=RegExp("^"+JO.call(XO).replace(WO,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ZO(e){if(!hn(e)||VO(e))return!1;var t=Cu(e)?QO:GO;return t.test(eo(e))}function eP(e,t){return e==null?void 0:e[t]}function to(e,t){var r=eP(e,t);return ZO(r)?r:void 0}var Cf=to(cs,"WeakMap"),My=Object.create,tP=function(){function e(){}return function(t){if(!hn(t))return{};if(My)return My(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function rP(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function nP(){}function xf(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var sP=800,aP=16,oP=Date.now;function iP(e){var t=0,r=0;return function(){var n=oP(),s=aP-(n-r);if(r=n,s>0){if(++t>=sP)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function lP(e){return function(){return e}}var xu=function(){try{var e=to(Object,"defineProperty");return e({},"",{}),e}catch{}}(),uP=xu?function(e,t){return xu(e,"toString",{configurable:!0,enumerable:!1,value:lP(t),writable:!0})}:Tu,Dy=iP(uP);function cP(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}function If(e,t,r,n){for(var s=e.length,a=r+(n?1:-1);n?a--:++a<s;)if(t(e[a],a,e))return a;return-1}function dP(e){return e!==e}function fP(e,t,r){for(var n=r-1,s=e.length;++n<s;)if(e[n]===t)return n;return-1}function kf(e,t,r){return t===t?fP(e,t,r):If(e,dP,r)}function pP(e,t){var r=e==null?0:e.length;return!!r&&kf(e,t,0)>-1}var hP=9007199254740991,mP=/^(?:0|[1-9]\d*)$/;function Iu(e,t){var r=typeof e;return t=t??hP,!!t&&(r=="number"||r!="symbol"&&mP.test(e))&&e>-1&&e%1==0&&e<t}function ku(e,t,r){t=="__proto__"&&xu?xu(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function Xi(e,t){return e===t||e!==e&&t!==t}var gP=Object.prototype,vP=gP.hasOwnProperty;function Of(e,t,r){var n=e[t];(!(vP.call(e,t)&&Xi(n,r))||r===void 0&&!(t in e))&&ku(e,t,r)}function Qi(e,t,r,n){var s=!r;r||(r={});for(var a=-1,o=t.length;++a<o;){var i=t[a],l=void 0;l===void 0&&(l=e[i]),s?ku(r,i,l):Of(r,i,l)}return r}var Ny=Math.max;function Fy(e,t,r){return t=Ny(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,a=Ny(n.length-t,0),o=Array(a);++s<a;)o[s]=n[t+s];s=-1;for(var i=Array(t+1);++s<t;)i[s]=n[s];return i[t]=r(o),rP(e,this,i)}}function yP(e,t){return Dy(Fy(e,t,Tu),e+"")}var bP=9007199254740991;function Pf(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=bP}function na(e){return e!=null&&Pf(e.length)&&!Cu(e)}function wP(e,t,r){if(!hn(r))return!1;var n=typeof t;return(n=="number"?na(r)&&Iu(t,r.length):n=="string"&&t in r)?Xi(r[t],e):!1}function SP(e){return yP(function(t,r){var n=-1,s=r.length,a=s>1?r[s-1]:void 0,o=s>2?r[2]:void 0;for(a=e.length>3&&typeof a=="function"?(s--,a):void 0,o&&wP(r[0],r[1],o)&&(a=s<3?void 0:a,s=1),t=Object(t);++n<s;){var i=r[n];i&&e(t,i,n,a)}return t})}var _P=Object.prototype;function Ou(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||_P;return e===r}function TP(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var CP="[object Arguments]";function By(e){return Nn(e)&&Es(e)==CP}var jy=Object.prototype,xP=jy.hasOwnProperty,IP=jy.propertyIsEnumerable,Jo=By(function(){return arguments}())?By:function(e){return Nn(e)&&xP.call(e,"callee")&&!IP.call(e,"callee")};function kP(){return!1}var Uy=typeof exports=="object"&&exports&&!exports.nodeType&&exports,qy=Uy&&typeof module=="object"&&module&&!module.nodeType&&module,OP=qy&&qy.exports===Uy,Vy=OP?cs.Buffer:void 0,PP=Vy?Vy.isBuffer:void 0,Xo=PP||kP,AP="[object Arguments]",EP="[object Array]",$P="[object Boolean]",RP="[object Date]",LP="[object Error]",MP="[object Function]",DP="[object Map]",NP="[object Number]",FP="[object Object]",BP="[object RegExp]",jP="[object Set]",UP="[object String]",qP="[object WeakMap]",VP="[object ArrayBuffer]",HP="[object DataView]",zP="[object Float32Array]",WP="[object Float64Array]",GP="[object Int8Array]",KP="[object Int16Array]",YP="[object Int32Array]",JP="[object Uint8Array]",XP="[object Uint8ClampedArray]",QP="[object Uint16Array]",ZP="[object Uint32Array]",Sr={};Sr[zP]=Sr[WP]=Sr[GP]=Sr[KP]=Sr[YP]=Sr[JP]=Sr[XP]=Sr[QP]=Sr[ZP]=!0,Sr[AP]=Sr[EP]=Sr[VP]=Sr[$P]=Sr[HP]=Sr[RP]=Sr[LP]=Sr[MP]=Sr[DP]=Sr[NP]=Sr[FP]=Sr[BP]=Sr[jP]=Sr[UP]=Sr[qP]=!1;function eA(e){return Nn(e)&&Pf(e.length)&&!!Sr[Es(e)]}function Af(e){return function(t){return e(t)}}var Hy=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Zi=Hy&&typeof module=="object"&&module&&!module.nodeType&&module,tA=Zi&&Zi.exports===Hy,Ef=tA&&ky.process,Qo=function(){try{var e=Zi&&Zi.require&&Zi.require("util").types;return e||Ef&&Ef.binding&&Ef.binding("util")}catch{}}(),zy=Qo&&Qo.isTypedArray,Pu=zy?Af(zy):eA,rA=Object.prototype,nA=rA.hasOwnProperty;function Wy(e,t){var r=Er(e),n=!r&&Jo(e),s=!r&&!n&&Xo(e),a=!r&&!n&&!s&&Pu(e),o=r||n||s||a,i=o?TP(e.length,String):[],l=i.length;for(var c in e)(t||nA.call(e,c))&&!(o&&(c=="length"||s&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Iu(c,l)))&&i.push(c);return i}function Gy(e,t){return function(r){return e(t(r))}}var sA=Gy(Object.keys,Object),aA=Object.prototype,oA=aA.hasOwnProperty;function Ky(e){if(!Ou(e))return sA(e);var t=[];for(var r in Object(e))oA.call(e,r)&&r!="constructor"&&t.push(r);return t}function ro(e){return na(e)?Wy(e):Ky(e)}function iA(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var lA=Object.prototype,uA=lA.hasOwnProperty;function cA(e){if(!hn(e))return iA(e);var t=Ou(e),r=[];for(var n in e)n=="constructor"&&(t||!uA.call(e,n))||r.push(n);return r}function el(e){return na(e)?Wy(e,!0):cA(e)}var dA=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,fA=/^\w*$/;function $f(e,t){if(Er(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Ji(e)?!0:fA.test(e)||!dA.test(e)||t!=null&&e in Object(t)}var tl=to(Object,"create");function pA(){this.__data__=tl?tl(null):{},this.size=0}function hA(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var mA="__lodash_hash_undefined__",gA=Object.prototype,vA=gA.hasOwnProperty;function yA(e){var t=this.__data__;if(tl){var r=t[e];return r===mA?void 0:r}return vA.call(t,e)?t[e]:void 0}var bA=Object.prototype,wA=bA.hasOwnProperty;function SA(e){var t=this.__data__;return tl?t[e]!==void 0:wA.call(t,e)}var _A="__lodash_hash_undefined__";function TA(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=tl&&t===void 0?_A:t,this}function no(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}no.prototype.clear=pA,no.prototype.delete=hA,no.prototype.get=yA,no.prototype.has=SA,no.prototype.set=TA;function CA(){this.__data__=[],this.size=0}function Au(e,t){for(var r=e.length;r--;)if(Xi(e[r][0],t))return r;return-1}var xA=Array.prototype,IA=xA.splice;function kA(e){var t=this.__data__,r=Au(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():IA.call(t,r,1),--this.size,!0}function OA(e){var t=this.__data__,r=Au(t,e);return r<0?void 0:t[r][1]}function PA(e){return Au(this.__data__,e)>-1}function AA(e,t){var r=this.__data__,n=Au(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function sa(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}sa.prototype.clear=CA,sa.prototype.delete=kA,sa.prototype.get=OA,sa.prototype.has=PA,sa.prototype.set=AA;var rl=to(cs,"Map");function EA(){this.size=0,this.__data__={hash:new no,map:new(rl||sa),string:new no}}function $A(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Eu(e,t){var r=e.__data__;return $A(t)?r[typeof t=="string"?"string":"hash"]:r.map}function RA(e){var t=Eu(this,e).delete(e);return this.size-=t?1:0,t}function LA(e){return Eu(this,e).get(e)}function MA(e){return Eu(this,e).has(e)}function DA(e,t){var r=Eu(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function aa(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}aa.prototype.clear=EA,aa.prototype.delete=RA,aa.prototype.get=LA,aa.prototype.has=MA,aa.prototype.set=DA;var NA="Expected a function";function Rf(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(NA);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],a=r.cache;if(a.has(s))return a.get(s);var o=e.apply(this,n);return r.cache=a.set(s,o)||a,o};return r.cache=new(Rf.Cache||aa),r}Rf.Cache=aa;var FA=500;function BA(e){var t=Rf(e,function(n){return r.size===FA&&r.clear(),n}),r=t.cache;return t}var jA=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,UA=/\\(\\)?/g,qA=BA(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(jA,function(r,n,s,a){t.push(s?a.replace(UA,"$1"):n||r)}),t});function Lf(e){return e==null?"":_u(e)}function $u(e,t){return Er(e)?e:$f(e,t)?[e]:qA(Lf(e))}function nl(e){if(typeof e=="string"||Ji(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function Mf(e,t){t=$u(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[nl(t[r++])];return r&&r==n?e:void 0}function sn(e,t,r){var n=e==null?void 0:Mf(e,t);return n===void 0?r:n}function Df(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var Yy=Sn?Sn.isConcatSpreadable:void 0;function VA(e){return Er(e)||Jo(e)||!!(Yy&&e&&e[Yy])}function Jy(e,t,r,n,s){var a=-1,o=e.length;for(r||(r=VA),s||(s=[]);++a<o;){var i=e[a];r(i)?Df(s,i):s[s.length]=i}return s}function Xy(e){var t=e==null?0:e.length;return t?Jy(e):[]}function HA(e){return Dy(Fy(e,void 0,Xy),e+"")}var Nf=Gy(Object.getPrototypeOf,Object),zA="[object Object]",WA=Function.prototype,GA=Object.prototype,Qy=WA.toString,KA=GA.hasOwnProperty,YA=Qy.call(Object);function Ff(e){if(!Nn(e)||Es(e)!=zA)return!1;var t=Nf(e);if(t===null)return!0;var r=KA.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Qy.call(r)==YA}function Zy(e,t,r){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(s);++n<s;)a[n]=e[n+t];return a}function JA(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:Zy(e,t,r)}var XA="\\ud800-\\udfff",QA="\\u0300-\\u036f",ZA="\\ufe20-\\ufe2f",eE="\\u20d0-\\u20ff",tE=QA+ZA+eE,rE="\\ufe0e\\ufe0f",nE="\\u200d",sE=RegExp("["+nE+XA+tE+rE+"]");function aE(e){return sE.test(e)}function oE(e){return e.split("")}var eb="\\ud800-\\udfff",iE="\\u0300-\\u036f",lE="\\ufe20-\\ufe2f",uE="\\u20d0-\\u20ff",cE=iE+lE+uE,dE="\\ufe0e\\ufe0f",fE="["+eb+"]",Bf="["+cE+"]",jf="\\ud83c[\\udffb-\\udfff]",pE="(?:"+Bf+"|"+jf+")",tb="[^"+eb+"]",rb="(?:\\ud83c[\\udde6-\\uddff]){2}",nb="[\\ud800-\\udbff][\\udc00-\\udfff]",hE="\\u200d",sb=pE+"?",ab="["+dE+"]?",mE="(?:"+hE+"(?:"+[tb,rb,nb].join("|")+")"+ab+sb+")*",gE=ab+sb+mE,vE="(?:"+[tb+Bf+"?",Bf,rb,nb,fE].join("|")+")",yE=RegExp(jf+"(?="+jf+")|"+vE+gE,"g");function bE(e){return e.match(yE)||[]}function Uf(e){return aE(e)?bE(e):oE(e)}function ds(){if(!arguments.length)return[];var e=arguments[0];return Er(e)?e:[e]}var wE=Math.ceil,SE=Math.max;function qf(e,t,r){t===void 0?t=1:t=SE(_f(t),0);var n=e==null?0:e.length;if(!n||t<1)return[];for(var s=0,a=0,o=Array(wE(n/t));s<n;)o[a++]=Zy(e,s,s+=t);return o}function _E(e,t,r){return e===e&&(r!==void 0&&(e=e<=r?e:r),e=e>=t?e:t),e}function TE(){this.__data__=new sa,this.size=0}function CE(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function xE(e){return this.__data__.get(e)}function IE(e){return this.__data__.has(e)}var kE=200;function OE(e,t){var r=this.__data__;if(r instanceof sa){var n=r.__data__;if(!rl||n.length<kE-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new aa(n)}return r.set(e,t),this.size=r.size,this}function fs(e){var t=this.__data__=new sa(e);this.size=t.size}fs.prototype.clear=TE,fs.prototype.delete=CE,fs.prototype.get=xE,fs.prototype.has=IE,fs.prototype.set=OE;function PE(e,t){return e&&Qi(t,ro(t),e)}function AE(e,t){return e&&Qi(t,el(t),e)}var ob=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ib=ob&&typeof module=="object"&&module&&!module.nodeType&&module,EE=ib&&ib.exports===ob,lb=EE?cs.Buffer:void 0,ub=lb?lb.allocUnsafe:void 0;function cb(e,t){if(t)return e.slice();var r=e.length,n=ub?ub(r):new e.constructor(r);return e.copy(n),n}function $E(e,t){for(var r=-1,n=e==null?0:e.length,s=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[s++]=o)}return a}function db(){return[]}var RE=Object.prototype,LE=RE.propertyIsEnumerable,fb=Object.getOwnPropertySymbols,Vf=fb?function(e){return e==null?[]:(e=Object(e),$E(fb(e),function(t){return LE.call(e,t)}))}:db;function ME(e,t){return Qi(e,Vf(e),t)}var DE=Object.getOwnPropertySymbols,pb=DE?function(e){for(var t=[];e;)Df(t,Vf(e)),e=Nf(e);return t}:db;function NE(e,t){return Qi(e,pb(e),t)}function hb(e,t,r){var n=t(e);return Er(e)?n:Df(n,r(e))}function Hf(e){return hb(e,ro,Vf)}function FE(e){return hb(e,el,pb)}var zf=to(cs,"DataView"),Wf=to(cs,"Promise"),Zo=to(cs,"Set"),mb="[object Map]",BE="[object Object]",gb="[object Promise]",vb="[object Set]",yb="[object WeakMap]",bb="[object DataView]",jE=eo(zf),UE=eo(rl),qE=eo(Wf),VE=eo(Zo),HE=eo(Cf),Fn=Es;(zf&&Fn(new zf(new ArrayBuffer(1)))!=bb||rl&&Fn(new rl)!=mb||Wf&&Fn(Wf.resolve())!=gb||Zo&&Fn(new Zo)!=vb||Cf&&Fn(new Cf)!=yb)&&(Fn=function(e){var t=Es(e),r=t==BE?e.constructor:void 0,n=r?eo(r):"";if(n)switch(n){case jE:return bb;case UE:return mb;case qE:return gb;case VE:return vb;case HE:return yb}return t});var zE=Object.prototype,WE=zE.hasOwnProperty;function GE(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&WE.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var Ru=cs.Uint8Array;function Gf(e){var t=new e.constructor(e.byteLength);return new Ru(t).set(new Ru(e)),t}function KE(e,t){var r=t?Gf(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var YE=/\w*$/;function JE(e){var t=new e.constructor(e.source,YE.exec(e));return t.lastIndex=e.lastIndex,t}var wb=Sn?Sn.prototype:void 0,Sb=wb?wb.valueOf:void 0;function XE(e){return Sb?Object(Sb.call(e)):{}}function _b(e,t){var r=t?Gf(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var QE="[object Boolean]",ZE="[object Date]",e2="[object Map]",t2="[object Number]",r2="[object RegExp]",n2="[object Set]",s2="[object String]",a2="[object Symbol]",o2="[object ArrayBuffer]",i2="[object DataView]",l2="[object Float32Array]",u2="[object Float64Array]",c2="[object Int8Array]",d2="[object Int16Array]",f2="[object Int32Array]",p2="[object Uint8Array]",h2="[object Uint8ClampedArray]",m2="[object Uint16Array]",g2="[object Uint32Array]";function v2(e,t,r){var n=e.constructor;switch(t){case o2:return Gf(e);case QE:case ZE:return new n(+e);case i2:return KE(e,r);case l2:case u2:case c2:case d2:case f2:case p2:case h2:case m2:case g2:return _b(e,r);case e2:return new n;case t2:case s2:return new n(e);case r2:return JE(e);case n2:return new n;case a2:return XE(e)}}function Tb(e){return typeof e.constructor=="function"&&!Ou(e)?tP(Nf(e)):{}}var y2="[object Map]";function b2(e){return Nn(e)&&Fn(e)==y2}var Cb=Qo&&Qo.isMap,w2=Cb?Af(Cb):b2,S2="[object Set]";function _2(e){return Nn(e)&&Fn(e)==S2}var xb=Qo&&Qo.isSet,T2=xb?Af(xb):_2,C2=1,x2=2,I2=4,Ib="[object Arguments]",k2="[object Array]",O2="[object Boolean]",P2="[object Date]",A2="[object Error]",kb="[object Function]",E2="[object GeneratorFunction]",$2="[object Map]",R2="[object Number]",Ob="[object Object]",L2="[object RegExp]",M2="[object Set]",D2="[object String]",N2="[object Symbol]",F2="[object WeakMap]",B2="[object ArrayBuffer]",j2="[object DataView]",U2="[object Float32Array]",q2="[object Float64Array]",V2="[object Int8Array]",H2="[object Int16Array]",z2="[object Int32Array]",W2="[object Uint8Array]",G2="[object Uint8ClampedArray]",K2="[object Uint16Array]",Y2="[object Uint32Array]",yr={};yr[Ib]=yr[k2]=yr[B2]=yr[j2]=yr[O2]=yr[P2]=yr[U2]=yr[q2]=yr[V2]=yr[H2]=yr[z2]=yr[$2]=yr[R2]=yr[Ob]=yr[L2]=yr[M2]=yr[D2]=yr[N2]=yr[W2]=yr[G2]=yr[K2]=yr[Y2]=!0,yr[A2]=yr[kb]=yr[F2]=!1;function sl(e,t,r,n,s,a){var o,i=t&C2,l=t&x2,c=t&I2;if(o!==void 0)return o;if(!hn(e))return e;var u=Er(e);if(u){if(o=GE(e),!i)return xf(e,o)}else{var d=Fn(e),m=d==kb||d==E2;if(Xo(e))return cb(e,i);if(d==Ob||d==Ib||m&&!s){if(o=l||m?{}:Tb(e),!i)return l?NE(e,AE(o,e)):ME(e,PE(o,e))}else{if(!yr[d])return s?e:{};o=v2(e,d,i)}}a||(a=new fs);var b=a.get(e);if(b)return b;a.set(e,o),T2(e)?e.forEach(function(v){o.add(sl(v,t,r,v,e,a))}):w2(e)&&e.forEach(function(v,y){o.set(y,sl(v,t,r,y,e,a))});var g=c?l?FE:Hf:l?el:ro,h=u?void 0:g(e);return cP(h||e,function(v,y){h&&(y=v,v=e[y]),Of(o,y,sl(v,t,r,y,e,a))}),o}var J2=4;function Pb(e){return sl(e,J2)}var X2=1,Q2=4;function Z2(e){return sl(e,X2|Q2)}var e$="__lodash_hash_undefined__";function t$(e){return this.__data__.set(e,e$),this}function r$(e){return this.__data__.has(e)}function al(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new aa;++t<r;)this.add(e[t])}al.prototype.add=al.prototype.push=t$,al.prototype.has=r$;function n$(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function Ab(e,t){return e.has(t)}var s$=1,a$=2;function Eb(e,t,r,n,s,a){var o=r&s$,i=e.length,l=t.length;if(i!=l&&!(o&&l>i))return!1;var c=a.get(e),u=a.get(t);if(c&&u)return c==t&&u==e;var d=-1,m=!0,b=r&a$?new al:void 0;for(a.set(e,t),a.set(t,e);++d<i;){var g=e[d],h=t[d];if(n)var v=o?n(h,g,d,t,e,a):n(g,h,d,e,t,a);if(v!==void 0){if(v)continue;m=!1;break}if(b){if(!n$(t,function(y,C){if(!Ab(b,C)&&(g===y||s(g,y,r,n,a)))return b.push(C)})){m=!1;break}}else if(!(g===h||s(g,h,r,n,a))){m=!1;break}}return a.delete(e),a.delete(t),m}function $b(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}function Lu(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var o$=1,i$=2,l$="[object Boolean]",u$="[object Date]",c$="[object Error]",d$="[object Map]",f$="[object Number]",p$="[object RegExp]",h$="[object Set]",m$="[object String]",g$="[object Symbol]",v$="[object ArrayBuffer]",y$="[object DataView]",Rb=Sn?Sn.prototype:void 0,Kf=Rb?Rb.valueOf:void 0;function b$(e,t,r,n,s,a,o){switch(r){case y$:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case v$:return!(e.byteLength!=t.byteLength||!a(new Ru(e),new Ru(t)));case l$:case u$:case f$:return Xi(+e,+t);case c$:return e.name==t.name&&e.message==t.message;case p$:case m$:return e==t+"";case d$:var i=$b;case h$:var l=n&o$;if(i||(i=Lu),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;n|=i$,o.set(e,t);var u=Eb(i(e),i(t),n,s,a,o);return o.delete(e),u;case g$:if(Kf)return Kf.call(e)==Kf.call(t)}return!1}var w$=1,S$=Object.prototype,_$=S$.hasOwnProperty;function T$(e,t,r,n,s,a){var o=r&w$,i=Hf(e),l=i.length,c=Hf(t),u=c.length;if(l!=u&&!o)return!1;for(var d=l;d--;){var m=i[d];if(!(o?m in t:_$.call(t,m)))return!1}var b=a.get(e),g=a.get(t);if(b&&g)return b==t&&g==e;var h=!0;a.set(e,t),a.set(t,e);for(var v=o;++d<l;){m=i[d];var y=e[m],C=t[m];if(n)var _=o?n(C,y,m,t,e,a):n(y,C,m,e,t,a);if(!(_===void 0?y===C||s(y,C,r,n,a):_)){h=!1;break}v||(v=m=="constructor")}if(h&&!v){var S=e.constructor,x=t.constructor;S!=x&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof x=="function"&&x instanceof x)&&(h=!1)}return a.delete(e),a.delete(t),h}var C$=1,Lb="[object Arguments]",Mb="[object Array]",Mu="[object Object]",x$=Object.prototype,Db=x$.hasOwnProperty;function I$(e,t,r,n,s,a){var o=Er(e),i=Er(t),l=o?Mb:Fn(e),c=i?Mb:Fn(t);l=l==Lb?Mu:l,c=c==Lb?Mu:c;var u=l==Mu,d=c==Mu,m=l==c;if(m&&Xo(e)){if(!Xo(t))return!1;o=!0,u=!1}if(m&&!u)return a||(a=new fs),o||Pu(e)?Eb(e,t,r,n,s,a):b$(e,t,l,r,n,s,a);if(!(r&C$)){var b=u&&Db.call(e,"__wrapped__"),g=d&&Db.call(t,"__wrapped__");if(b||g){var h=b?e.value():e,v=g?t.value():t;return a||(a=new fs),s(h,v,r,n,a)}}return m?(a||(a=new fs),T$(e,t,r,n,s,a)):!1}function Du(e,t,r,n,s){return e===t?!0:e==null||t==null||!Nn(e)&&!Nn(t)?e!==e&&t!==t:I$(e,t,r,n,Du,s)}var k$=1,O$=2;function P$(e,t,r,n){var s=r.length,a=s;if(e==null)return!a;for(e=Object(e);s--;){var o=r[s];if(o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++s<a;){o=r[s];var i=o[0],l=e[i],c=o[1];if(o[2]){if(l===void 0&&!(i in e))return!1}else{var u=new fs,d;if(!(d===void 0?Du(c,l,k$|O$,n,u):d))return!1}}return!0}function Nb(e){return e===e&&!hn(e)}function A$(e){for(var t=ro(e),r=t.length;r--;){var n=t[r],s=e[n];t[r]=[n,s,Nb(s)]}return t}function Fb(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}function E$(e){var t=A$(e);return t.length==1&&t[0][2]?Fb(t[0][0],t[0][1]):function(r){return r===e||P$(r,e,t)}}function $$(e,t){return e!=null&&t in Object(e)}function Bb(e,t,r){t=$u(t,e);for(var n=-1,s=t.length,a=!1;++n<s;){var o=nl(t[n]);if(!(a=e!=null&&r(e,o)))break;e=e[o]}return a||++n!=s?a:(s=e==null?0:e.length,!!s&&Pf(s)&&Iu(o,s)&&(Er(e)||Jo(e)))}function jb(e,t){return e!=null&&Bb(e,t,$$)}var R$=1,L$=2;function M$(e,t){return $f(e)&&Nb(t)?Fb(nl(e),t):function(r){var n=sn(r,e);return n===void 0&&n===t?jb(r,e):Du(t,n,R$|L$)}}function D$(e){return function(t){return t==null?void 0:t[e]}}function N$(e){return function(t){return Mf(t,e)}}function F$(e){return $f(e)?D$(nl(e)):N$(e)}function ol(e){return typeof e=="function"?e:e==null?Tu:typeof e=="object"?Er(e)?M$(e[0],e[1]):E$(e):F$(e)}function B$(e,t,r,n){for(var s=-1,a=e==null?0:e.length;++s<a;){var o=e[s];t(n,o,r(o),e)}return n}function j$(e){return function(t,r,n){for(var s=-1,a=Object(t),o=n(t),i=o.length;i--;){var l=o[++s];if(r(a[l],l,a)===!1)break}return t}}var Ub=j$();function U$(e,t){return e&&Ub(e,t,ro)}function q$(e,t){return function(r,n){if(r==null)return r;if(!na(r))return e(r,n);for(var s=r.length,a=-1,o=Object(r);++a<s&&n(o[a],a,o)!==!1;);return r}}var qb=q$(U$);function V$(e,t,r,n){return qb(e,function(s,a,o){t(n,s,r(s),o)}),n}function H$(e,t){return function(r,n){var s=Er(r)?B$:V$,a=t?t():{};return s(r,e,ol(n),a)}}var Yf=function(){return cs.Date.now()},z$="Expected a function",W$=Math.max,G$=Math.min;function oa(e,t,r){var n,s,a,o,i,l,c=0,u=!1,d=!1,m=!0;if(typeof e!="function")throw new TypeError(z$);t=Sf(t)||0,hn(r)&&(u=!!r.leading,d="maxWait"in r,a=d?W$(Sf(r.maxWait)||0,t):a,m="trailing"in r?!!r.trailing:m);function b(I){var f=n,P=s;return n=s=void 0,c=I,o=e.apply(P,f),o}function g(I){return c=I,i=setTimeout(y,t),u?b(I):o}function h(I){var f=I-l,P=I-c,$=t-f;return d?G$($,a-P):$}function v(I){var f=I-l,P=I-c;return l===void 0||f>=t||f<0||d&&P>=a}function y(){var I=Yf();if(v(I))return C(I);i=setTimeout(y,h(I))}function C(I){return i=void 0,m&&n?b(I):(n=s=void 0,o)}function _(){i!==void 0&&clearTimeout(i),c=0,n=l=s=i=void 0}function S(){return i===void 0?o:C(Yf())}function x(){var I=Yf(),f=v(I);if(n=arguments,s=this,l=I,f){if(i===void 0)return g(l);if(d)return clearTimeout(i),i=setTimeout(y,t),b(l)}return i===void 0&&(i=setTimeout(y,t)),o}return x.cancel=_,x.flush=S,x}function Jf(e,t,r){(r!==void 0&&!Xi(e[t],r)||r===void 0&&!(t in e))&&ku(e,t,r)}function K$(e){return Nn(e)&&na(e)}function Xf(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function Y$(e){return Qi(e,el(e))}function J$(e,t,r,n,s,a,o){var i=Xf(e,r),l=Xf(t,r),c=o.get(l);if(c){Jf(e,r,c);return}var u=a?a(i,l,r+"",e,t,o):void 0,d=u===void 0;if(d){var m=Er(l),b=!m&&Xo(l),g=!m&&!b&&Pu(l);u=l,m||b||g?Er(i)?u=i:K$(i)?u=xf(i):b?(d=!1,u=cb(l,!0)):g?(d=!1,u=_b(l,!0)):u=[]:Ff(l)||Jo(l)?(u=i,Jo(i)?u=Y$(i):(!hn(i)||Cu(i))&&(u=Tb(l))):d=!1}d&&(o.set(l,u),s(u,l,n,a,o),o.delete(l)),Jf(e,r,u)}function Vb(e,t,r,n,s){e!==t&&Ub(t,function(a,o){if(s||(s=new fs),hn(a))J$(e,t,o,r,Vb,n,s);else{var i=n?n(Xf(e,o),a,o+"",e,t,s):void 0;i===void 0&&(i=a),Jf(e,o,i)}},el)}function X$(e){return function(t,r,n){var s=Object(t);if(!na(t)){var a=ol(r);t=ro(t),r=function(i){return a(s[i],i,s)}}var o=e(t,r,n);return o>-1?s[a?t[o]:o]:void 0}}var Q$=Math.max;function Z$(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var s=r==null?0:_f(r);return s<0&&(s=Q$(n+s,0)),If(e,ol(t),s)}var eR=X$(Z$);function tR(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var s=n-1;return If(e,ol(t),s,!0)}function rR(e,t){var r=-1,n=na(e)?Array(e.length):[];return qb(e,function(s,a,o){n[++r]=t(s,a,o)}),n}function nR(e,t){var r=Er(e)?wf:rR;return r(e,ol(t))}function sR(e,t){return Jy(nR(e,t))}function Nu(e){for(var t=-1,r=e==null?0:e.length,n={};++t<r;){var s=e[t];n[s[0]]=s[1]}return n}function aR(e,t){return e>t}var oR=Object.prototype,iR=oR.hasOwnProperty;function lR(e,t){return e!=null&&iR.call(e,t)}function so(e,t){return e!=null&&Bb(e,t,lR)}var uR="[object String]";function Ra(e){return typeof e=="string"||!Er(e)&&Nn(e)&&Es(e)==uR}function cR(e,t){return wf(t,function(r){return e[r]})}function dR(e){return e==null?[]:cR(e,ro(e))}var fR="[object Boolean]";function Hb(e){return e===!0||e===!1||Nn(e)&&Es(e)==fR}var pR="[object Map]",hR="[object Set]",mR=Object.prototype,gR=mR.hasOwnProperty;function qt(e){if(e==null)return!0;if(na(e)&&(Er(e)||typeof e=="string"||typeof e.splice=="function"||Xo(e)||Pu(e)||Jo(e)))return!e.length;var t=Fn(e);if(t==pR||t==hR)return!e.size;if(Ou(e))return!Ky(e).length;for(var r in e)if(gR.call(e,r))return!1;return!0}function ao(e,t){return Du(e,t)}var vR="[object Number]";function yR(e){return typeof e=="number"||Nn(e)&&Es(e)==vR}function il(e){return yR(e)&&e!=+e}function $s(e){return e==null}function ll(e){return e===null}function zb(e){return e===void 0}var bR=H$(function(e,t,r){ku(e,r,t)});function wR(e,t,r){for(var n=-1,s=e.length;++n<s;){var a=e[n],o=t(a);if(o!=null&&(i===void 0?o===o&&!Ji(o):r(o,i)))var i=o,l=a}return l}function Qf(e){return e&&e.length?wR(e,Tu,aR):void 0}var Wb=SP(function(e,t,r){Vb(e,t,r)});function SR(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}var _R="[object Map]",TR="[object Set]",Zf=Sn?Sn.iterator:void 0;function Gb(e){if(!e)return[];if(na(e))return Ra(e)?Uf(e):xf(e);if(Zf&&e[Zf])return SR(e[Zf]());var t=Fn(e),r=t==_R?$b:t==TR?Lu:dR;return r(e)}function Kb(e,t,r,n){if(!hn(e))return e;t=$u(t,e);for(var s=-1,a=t.length,o=a-1,i=e;i!=null&&++s<a;){var l=nl(t[s]),c=r;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(s!=o){var u=i[l];c=void 0,c===void 0&&(c=hn(u)?u:Iu(t[s+1])?[]:{})}Of(i,l,c),i=i[l]}return e}function CR(e,t,r){for(var n=-1,s=t.length,a={};++n<s;){var o=t[n],i=Mf(e,o);r(i,o)&&Kb(a,$u(o,e),i)}return a}function xR(e,t){return CR(e,t,function(r,n){return jb(e,n)})}var oo=HA(function(e,t){return e==null?{}:xR(e,t)});function IR(e,t,r){return e==null?e:Kb(e,t,r)}function Yb(e,t,r){return e=Lf(e),r=r==null?0:_E(_f(r),0,e.length),t=_u(t),e.slice(r,r+t.length)==t}var kR="Expected a function";function Jb(e,t,r){var n=!0,s=!0;if(typeof e!="function")throw new TypeError(kR);return hn(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),oa(e,t,{leading:n,maxWait:t,trailing:s})}function OR(e,t){for(var r=e.length;r--&&kf(t,e[r],0)>-1;);return r}function PR(e,t){for(var r=-1,n=e.length;++r<n&&kf(t,e[r],0)>-1;);return r}function ep(e,t,r){if(e=Lf(e),e&&t===void 0)return $y(e);if(!e||!(t=_u(t)))return e;var n=Uf(e),s=Uf(t),a=PR(n,s),o=OR(n,s)+1;return JA(n,a,o).join("")}var AR=1/0,ER=Zo&&1/Lu(new Zo([,-0]))[1]==AR?function(e){return new Zo(e)}:nP,$R=200;function RR(e,t,r){var n=-1,s=pP,a=e.length,o=!0,i=[],l=i;if(a>=$R){var c=ER(e);if(c)return Lu(c);o=!1,s=Ab,l=new al}else l=i;e:for(;++n<a;){var u=e[n],d=u;if(u=u!==0?u:0,o&&d===d){for(var m=l.length;m--;)if(l[m]===d)continue e;i.push(u)}else s(l,d,r)||(l!==i&&l.push(d),i.push(u))}return i}function LR(e){return e&&e.length?RR(e):[]}const Ye=e=>new Promise(t=>{setTimeout(()=>{t()},e)}),Xb=()=>{if(Promise.withResolvers)return Promise.withResolvers();let e,t;return{promise:new Promise((n,s)=>{e=n,t=s}),resolve:e,reject:t}},Qb=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,MR=e=>{let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(97+Math.floor(Math.random()*26));return t},tp=(e={})=>{const{minWordLength:t=3,maxWordLength:r=10,minCount:n=3,maxCount:s=10}=e,a=Qb(n,s);return Array.from({length:a},()=>MR(Qb(t,r))).join("-")},La=e=>e.then(t=>[t,null]).catch(t=>[void 0,t]),Fu=e=>{let t=null;return(...r)=>t||(t=e(...r),t.finally(()=>{t=null}),t)},je={successResult:e=>({result:"success",...e}),failResult:e=>{if(!Ra(e)&&!Ff(e))return{result:"fail"};const t=Ra(e)?{reason:e}:e;return Object.assign({result:"fail"},t)},isSuccess:e=>so(e,"result")&&e.result==="success",isFail:e=>so(e,"result")&&e.result==="fail"};function DR(e=20){let t={},r=0,n=0;function s(){const i=Object.keys(t).map(Number);if(i.length===0)return null;const l=Math.min(...i),c=t[l],u=c.shift();return c.length||delete t[l],u||null}async function a(i){try{await i()}catch(l){console.error("任务执行失败:",l)}finally{if(r--,n>0){const l=s();l&&(n--,r++,a(l))}}}const o=function(i,l=50){if(l=Math.floor(Math.max(1,Math.min(100,l))),t[l]=t[l]||[],t[l].push(i),n++,r<e){const c=s();c&&(n--,r++,a(c))}};return o.stop=function(){t={}},o.queueCount=function(){return n+r},o.waitQueueCount=function(){return n},o.processQueueCount=function(){return r},o}function NR(e){try{return new URL(e),!0}catch{return!1}}var rp,Zb;function ei(){return Zb||(Zb=1,rp=TypeError),rp}const FR=Jk(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));var np,e0;function Bu(){if(e0)return np;e0=1;var e=typeof Map=="function"&&Map.prototype,t=Object.getOwnPropertyDescriptor&&e?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,r=e&&t&&typeof t.get=="function"?t.get:null,n=e&&Map.prototype.forEach,s=typeof Set=="function"&&Set.prototype,a=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,o=s&&a&&typeof a.get=="function"?a.get:null,i=s&&Set.prototype.forEach,l=typeof WeakMap=="function"&&WeakMap.prototype,c=l?WeakMap.prototype.has:null,u=typeof WeakSet=="function"&&WeakSet.prototype,d=u?WeakSet.prototype.has:null,m=typeof WeakRef=="function"&&WeakRef.prototype,b=m?WeakRef.prototype.deref:null,g=Boolean.prototype.valueOf,h=Object.prototype.toString,v=Function.prototype.toString,y=String.prototype.match,C=String.prototype.slice,_=String.prototype.replace,S=String.prototype.toUpperCase,x=String.prototype.toLowerCase,I=RegExp.prototype.test,f=Array.prototype.concat,P=Array.prototype.join,$=Array.prototype.slice,q=Math.floor,E=typeof BigInt=="function"?BigInt.prototype.valueOf:null,M=Object.getOwnPropertySymbols,F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,N=typeof Symbol=="function"&&typeof Symbol.iterator=="object",R=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===N||!0)?Symbol.toStringTag:null,H=Object.prototype.propertyIsEnumerable,U=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(J){return J.__proto__}:null);function L(J,V){if(J===1/0||J===-1/0||J!==J||J&&J>-1e3&&J<1e3||I.call(/e/,V))return V;var Se=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof J=="number"){var Qe=J<0?-q(-J):q(J);if(Qe!==J){var dt=String(Qe),mt=C.call(V,dt.length+1);return _.call(dt,Se,"$&_")+"."+_.call(_.call(mt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return _.call(V,Se,"$&_")}var D=FR,Y=D.custom,Q=re(Y)?Y:null,ae={__proto__:null,double:'"',single:"'"},ne={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};np=function J(V,Se,Qe,dt){var mt=Se||{};if(_e(mt,"quoteStyle")&&!_e(ae,mt.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(_e(mt,"maxStringLength")&&(typeof mt.maxStringLength=="number"?mt.maxStringLength<0&&mt.maxStringLength!==1/0:mt.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var hr=_e(mt,"customInspect")?mt.customInspect:!0;if(typeof hr!="boolean"&&hr!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(_e(mt,"indent")&&mt.indent!==null&&mt.indent!=="	"&&!(parseInt(mt.indent,10)===mt.indent&&mt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(_e(mt,"numericSeparator")&&typeof mt.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Cr=mt.numericSeparator;if(typeof V>"u")return"undefined";if(V===null)return"null";if(typeof V=="boolean")return V?"true":"false";if(typeof V=="string")return it(V,mt);if(typeof V=="number"){if(V===0)return 1/0/V>0?"0":"-0";var xr=String(V);return Cr?L(V,xr):xr}if(typeof V=="bigint"){var Hr=String(V)+"n";return Cr?L(V,Hr):Hr}var Mt=typeof mt.depth>"u"?5:mt.depth;if(typeof Qe>"u"&&(Qe=0),Qe>=Mt&&Mt>0&&typeof V=="object")return We(V)?"[Array]":"[Object]";var nr=pr(mt,Qe);if(typeof dt>"u")dt=[];else if(Pe(dt,V)>=0)return"[Circular]";function Xr(Rn,Ln,Uo){if(Ln&&(dt=$.call(dt),dt.push(Ln)),Uo){var qo={depth:mt.depth};return _e(mt,"quoteStyle")&&(qo.quoteStyle=mt.quoteStyle),J(Rn,qo,Qe+1,dt)}return J(Rn,mt,Qe+1,dt)}if(typeof V=="function"&&!Te(V)){var Vi=qe(V),Ks=fe(V,Xr);return"[Function"+(Vi?": "+Vi:" (anonymous)")+"]"+(Ks.length>0?" { "+P.call(Ks,", ")+" }":"")}if(re(V)){var Bo=N?_.call(String(V),/^(Symbol\(.*\))_[^)]*$/,"$1"):F.call(V);return typeof V=="object"&&!N?bt(Bo):Bo}if(Ce(V)){for(var $n="<"+x.call(String(V.nodeName)),is=V.attributes||[],ks=0;ks<is.length;ks++)$n+=" "+is[ks].name+"="+he(ve(is[ks].value),"double",mt);return $n+=">",V.childNodes&&V.childNodes.length&&($n+="..."),$n+="</"+x.call(String(V.nodeName))+">",$n}if(We(V)){if(V.length===0)return"[]";var Ys=fe(V,Xr);return nr&&!Tr(Ys)?"["+ce(Ys,nr)+"]":"[ "+P.call(Ys,", ")+" ]"}if(He(V)){var jo=fe(V,Xr);return!("cause"in Error.prototype)&&"cause"in V&&!H.call(V,"cause")?"{ ["+String(V)+"] "+P.call(f.call("[cause]: "+Xr(V.cause),jo),", ")+" }":jo.length===0?"["+String(V)+"]":"{ ["+String(V)+"] "+P.call(jo,", ")+" }"}if(typeof V=="object"&&hr){if(Q&&typeof V[Q]=="function"&&D)return D(V,{depth:Mt-Qe});if(hr!=="symbol"&&typeof V.inspect=="function")return V.inspect()}if(De(V)){var Hi=[];return n&&n.call(V,function(Rn,Ln){Hi.push(Xr(Ln,V,!0)+" => "+Xr(Rn,V))}),At("Map",r.call(V),Hi,nr)}if(Ke(V)){var Oe=[];return i&&i.call(V,function(Rn){Oe.push(Xr(Rn,V))}),At("Set",o.call(V),Oe,nr)}if($e(V))return fr("WeakMap");if(ye(V))return fr("WeakSet");if(st(V))return fr("WeakRef");if(rt(V))return bt(Xr(Number(V)));if(ge(V))return bt(Xr(E.call(V)));if(X(V))return bt(g.call(V));if(Me(V))return bt(Xr(String(V)));if(typeof window<"u"&&V===window)return"{ [object Window] }";if(typeof globalThis<"u"&&V===globalThis||typeof yy<"u"&&V===yy)return"{ [object globalThis] }";if(!Ge(V)&&!Te(V)){var nt=fe(V,Xr),Bt=U?U(V)===Object.prototype:V instanceof Object||V.constructor===Object,Ir=V instanceof Object?"":"null prototype",zr=!Bt&&R&&Object(V)===V&&R in V?C.call(ke(V),8,-1):Ir?"Object":"",Js=Bt||typeof V.constructor!="function"?"":V.constructor.name?V.constructor.name+" ":"",Wr=Js+(zr||Ir?"["+P.call(f.call([],zr||[],Ir||[]),": ")+"] ":"");return nt.length===0?Wr+"{}":nr?Wr+"{"+ce(nt,nr)+"}":Wr+"{ "+P.call(nt,", ")+" }"}return String(V)};function he(J,V,Se){var Qe=Se.quoteStyle||V,dt=ae[Qe];return dt+J+dt}function ve(J){return _.call(String(J),/"/g,"&quot;")}function We(J){return ke(J)==="[object Array]"&&(!R||!(typeof J=="object"&&R in J))}function Ge(J){return ke(J)==="[object Date]"&&(!R||!(typeof J=="object"&&R in J))}function Te(J){return ke(J)==="[object RegExp]"&&(!R||!(typeof J=="object"&&R in J))}function He(J){return ke(J)==="[object Error]"&&(!R||!(typeof J=="object"&&R in J))}function Me(J){return ke(J)==="[object String]"&&(!R||!(typeof J=="object"&&R in J))}function rt(J){return ke(J)==="[object Number]"&&(!R||!(typeof J=="object"&&R in J))}function X(J){return ke(J)==="[object Boolean]"&&(!R||!(typeof J=="object"&&R in J))}function re(J){if(N)return J&&typeof J=="object"&&J instanceof Symbol;if(typeof J=="symbol")return!0;if(!J||typeof J!="object"||!F)return!1;try{return F.call(J),!0}catch{}return!1}function ge(J){if(!J||typeof J!="object"||!E)return!1;try{return E.call(J),!0}catch{}return!1}var Re=Object.prototype.hasOwnProperty||function(J){return J in this};function _e(J,V){return Re.call(J,V)}function ke(J){return h.call(J)}function qe(J){if(J.name)return J.name;var V=y.call(v.call(J),/^function\s*([\w$]+)/);return V?V[1]:null}function Pe(J,V){if(J.indexOf)return J.indexOf(V);for(var Se=0,Qe=J.length;Se<Qe;Se++)if(J[Se]===V)return Se;return-1}function De(J){if(!r||!J||typeof J!="object")return!1;try{r.call(J);try{o.call(J)}catch{return!0}return J instanceof Map}catch{}return!1}function $e(J){if(!c||!J||typeof J!="object")return!1;try{c.call(J,c);try{d.call(J,d)}catch{return!0}return J instanceof WeakMap}catch{}return!1}function st(J){if(!b||!J||typeof J!="object")return!1;try{return b.call(J),!0}catch{}return!1}function Ke(J){if(!o||!J||typeof J!="object")return!1;try{o.call(J);try{r.call(J)}catch{return!0}return J instanceof Set}catch{}return!1}function ye(J){if(!d||!J||typeof J!="object")return!1;try{d.call(J,d);try{c.call(J,c)}catch{return!0}return J instanceof WeakSet}catch{}return!1}function Ce(J){return!J||typeof J!="object"?!1:typeof HTMLElement<"u"&&J instanceof HTMLElement?!0:typeof J.nodeName=="string"&&typeof J.getAttribute=="function"}function it(J,V){if(J.length>V.maxStringLength){var Se=J.length-V.maxStringLength,Qe="... "+Se+" more character"+(Se>1?"s":"");return it(C.call(J,0,V.maxStringLength),V)+Qe}var dt=ne[V.quoteStyle||"single"];dt.lastIndex=0;var mt=_.call(_.call(J,dt,"\\$1"),/[\x00-\x1f]/g,Et);return he(mt,"single",V)}function Et(J){var V=J.charCodeAt(0),Se={8:"b",9:"t",10:"n",12:"f",13:"r"}[V];return Se?"\\"+Se:"\\x"+(V<16?"0":"")+S.call(V.toString(16))}function bt(J){return"Object("+J+")"}function fr(J){return J+" { ? }"}function At(J,V,Se,Qe){var dt=Qe?ce(Se,Qe):P.call(Se,", ");return J+" ("+V+") {"+dt+"}"}function Tr(J){for(var V=0;V<J.length;V++)if(Pe(J[V],`
`)>=0)return!1;return!0}function pr(J,V){var Se;if(J.indent==="	")Se="	";else if(typeof J.indent=="number"&&J.indent>0)Se=P.call(Array(J.indent+1)," ");else return null;return{base:Se,prev:P.call(Array(V+1),Se)}}function ce(J,V){if(J.length===0)return"";var Se=`
`+V.prev+V.base;return Se+P.call(J,","+Se)+`
`+V.prev}function fe(J,V){var Se=We(J),Qe=[];if(Se){Qe.length=J.length;for(var dt=0;dt<J.length;dt++)Qe[dt]=_e(J,dt)?V(J[dt],J):""}var mt=typeof M=="function"?M(J):[],hr;if(N){hr={};for(var Cr=0;Cr<mt.length;Cr++)hr["$"+mt[Cr]]=mt[Cr]}for(var xr in J)_e(J,xr)&&(Se&&String(Number(xr))===xr&&xr<J.length||N&&hr["$"+xr]instanceof Symbol||(I.call(/[^\w$]/,xr)?Qe.push(V(xr,J)+": "+V(J[xr],J)):Qe.push(xr+": "+V(J[xr],J))));if(typeof M=="function")for(var Hr=0;Hr<mt.length;Hr++)H.call(J,mt[Hr])&&Qe.push("["+V(mt[Hr])+"]: "+V(J[mt[Hr]],J));return Qe}return np}var sp,t0;function BR(){if(t0)return sp;t0=1;var e=Bu(),t=ei(),r=function(i,l,c){for(var u=i,d;(d=u.next)!=null;u=d)if(d.key===l)return u.next=d.next,c||(d.next=i.next,i.next=d),d},n=function(i,l){if(i){var c=r(i,l);return c&&c.value}},s=function(i,l,c){var u=r(i,l);u?u.value=c:i.next={key:l,next:i.next,value:c}},a=function(i,l){return i?!!r(i,l):!1},o=function(i,l){if(i)return r(i,l,!0)};return sp=function(){var l,c={assert:function(u){if(!c.has(u))throw new t("Side channel does not contain "+e(u))},delete:function(u){var d=l&&l.next,m=o(l,u);return m&&d&&d===m&&(l=void 0),!!m},get:function(u){return n(l,u)},has:function(u){return a(l,u)},set:function(u,d){l||(l={next:void 0}),s(l,u,d)}};return c},sp}var ap,r0;function n0(){return r0||(r0=1,ap=Object),ap}var op,s0;function jR(){return s0||(s0=1,op=Error),op}var ip,a0;function UR(){return a0||(a0=1,ip=EvalError),ip}var lp,o0;function qR(){return o0||(o0=1,lp=RangeError),lp}var up,i0;function VR(){return i0||(i0=1,up=ReferenceError),up}var cp,l0;function HR(){return l0||(l0=1,cp=SyntaxError),cp}var dp,u0;function zR(){return u0||(u0=1,dp=URIError),dp}var fp,c0;function WR(){return c0||(c0=1,fp=Math.abs),fp}var pp,d0;function GR(){return d0||(d0=1,pp=Math.floor),pp}var hp,f0;function KR(){return f0||(f0=1,hp=Math.max),hp}var mp,p0;function YR(){return p0||(p0=1,mp=Math.min),mp}var gp,h0;function JR(){return h0||(h0=1,gp=Math.pow),gp}var vp,m0;function XR(){return m0||(m0=1,vp=Math.round),vp}var yp,g0;function QR(){return g0||(g0=1,yp=Number.isNaN||function(t){return t!==t}),yp}var bp,v0;function ZR(){if(v0)return bp;v0=1;var e=QR();return bp=function(r){return e(r)||r===0?r:r<0?-1:1},bp}var wp,y0;function eL(){return y0||(y0=1,wp=Object.getOwnPropertyDescriptor),wp}var Sp,b0;function w0(){if(b0)return Sp;b0=1;var e=eL();if(e)try{e([],"length")}catch{e=null}return Sp=e,Sp}var _p,S0;function tL(){if(S0)return _p;S0=1;var e=Object.defineProperty||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return _p=e,_p}var Tp,_0;function rL(){return _0||(_0=1,Tp=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var s=42;t[r]=s;for(var a in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var o=Object.getOwnPropertySymbols(t);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var i=Object.getOwnPropertyDescriptor(t,r);if(i.value!==s||i.enumerable!==!0)return!1}return!0}),Tp}var Cp,T0;function nL(){if(T0)return Cp;T0=1;var e=typeof Symbol<"u"&&Symbol,t=rL();return Cp=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},Cp}var xp,C0;function x0(){return C0||(C0=1,xp=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),xp}var Ip,I0;function k0(){if(I0)return Ip;I0=1;var e=n0();return Ip=e.getPrototypeOf||null,Ip}var kp,O0;function sL(){if(O0)return kp;O0=1;var e="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,r=Math.max,n="[object Function]",s=function(l,c){for(var u=[],d=0;d<l.length;d+=1)u[d]=l[d];for(var m=0;m<c.length;m+=1)u[m+l.length]=c[m];return u},a=function(l,c){for(var u=[],d=c,m=0;d<l.length;d+=1,m+=1)u[m]=l[d];return u},o=function(i,l){for(var c="",u=0;u<i.length;u+=1)c+=i[u],u+1<i.length&&(c+=l);return c};return kp=function(l){var c=this;if(typeof c!="function"||t.apply(c)!==n)throw new TypeError(e+c);for(var u=a(arguments,1),d,m=function(){if(this instanceof d){var y=c.apply(this,s(u,arguments));return Object(y)===y?y:this}return c.apply(l,s(u,arguments))},b=r(0,c.length-u.length),g=[],h=0;h<b;h++)g[h]="$"+h;if(d=Function("binder","return function ("+o(g,",")+"){ return binder.apply(this,arguments); }")(m),c.prototype){var v=function(){};v.prototype=c.prototype,d.prototype=new v,v.prototype=null}return d},kp}var Op,P0;function ju(){if(P0)return Op;P0=1;var e=sL();return Op=Function.prototype.bind||e,Op}var Pp,A0;function Ap(){return A0||(A0=1,Pp=Function.prototype.call),Pp}var Ep,E0;function $0(){return E0||(E0=1,Ep=Function.prototype.apply),Ep}var $p,R0;function aL(){return R0||(R0=1,$p=typeof Reflect<"u"&&Reflect&&Reflect.apply),$p}var Rp,L0;function oL(){if(L0)return Rp;L0=1;var e=ju(),t=$0(),r=Ap(),n=aL();return Rp=n||e.call(r,t),Rp}var Lp,M0;function D0(){if(M0)return Lp;M0=1;var e=ju(),t=ei(),r=Ap(),n=oL();return Lp=function(a){if(a.length<1||typeof a[0]!="function")throw new t("a function is required");return n(e,r,a)},Lp}var Mp,N0;function iL(){if(N0)return Mp;N0=1;var e=D0(),t=w0(),r;try{r=[].__proto__===Array.prototype}catch(o){if(!o||typeof o!="object"||!("code"in o)||o.code!=="ERR_PROTO_ACCESS")throw o}var n=!!r&&t&&t(Object.prototype,"__proto__"),s=Object,a=s.getPrototypeOf;return Mp=n&&typeof n.get=="function"?e([n.get]):typeof a=="function"?function(i){return a(i==null?i:s(i))}:!1,Mp}var Dp,F0;function lL(){if(F0)return Dp;F0=1;var e=x0(),t=k0(),r=iL();return Dp=e?function(s){return e(s)}:t?function(s){if(!s||typeof s!="object"&&typeof s!="function")throw new TypeError("getProto: not an object");return t(s)}:r?function(s){return r(s)}:null,Dp}var Np,B0;function uL(){if(B0)return Np;B0=1;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,r=ju();return Np=r.call(e,t),Np}var Fp,j0;function Bp(){if(j0)return Fp;j0=1;var e,t=n0(),r=jR(),n=UR(),s=qR(),a=VR(),o=HR(),i=ei(),l=zR(),c=WR(),u=GR(),d=KR(),m=YR(),b=JR(),g=XR(),h=ZR(),v=Function,y=function(He){try{return v('"use strict"; return ('+He+").constructor;")()}catch{}},C=w0(),_=tL(),S=function(){throw new i},x=C?function(){try{return arguments.callee,S}catch{try{return C(arguments,"callee").get}catch{return S}}}():S,I=nL()(),f=lL(),P=k0(),$=x0(),q=$0(),E=Ap(),M={},F=typeof Uint8Array>"u"||!f?e:f(Uint8Array),N={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":I&&f?f([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":M,"%AsyncGenerator%":M,"%AsyncGeneratorFunction%":M,"%AsyncIteratorPrototype%":M,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":n,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":v,"%GeneratorFunction%":M,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":I&&f?f(f([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!I||!f?e:f(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":t,"%Object.getOwnPropertyDescriptor%":C,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":s,"%ReferenceError%":a,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!I||!f?e:f(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":I&&f?f(""[Symbol.iterator]()):e,"%Symbol%":I?Symbol:e,"%SyntaxError%":o,"%ThrowTypeError%":x,"%TypedArray%":F,"%TypeError%":i,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":l,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet,"%Function.prototype.call%":E,"%Function.prototype.apply%":q,"%Object.defineProperty%":_,"%Object.getPrototypeOf%":P,"%Math.abs%":c,"%Math.floor%":u,"%Math.max%":d,"%Math.min%":m,"%Math.pow%":b,"%Math.round%":g,"%Math.sign%":h,"%Reflect.getPrototypeOf%":$};if(f)try{null.error}catch(He){var R=f(f(He));N["%Error.prototype%"]=R}var H=function He(Me){var rt;if(Me==="%AsyncFunction%")rt=y("async function () {}");else if(Me==="%GeneratorFunction%")rt=y("function* () {}");else if(Me==="%AsyncGeneratorFunction%")rt=y("async function* () {}");else if(Me==="%AsyncGenerator%"){var X=He("%AsyncGeneratorFunction%");X&&(rt=X.prototype)}else if(Me==="%AsyncIteratorPrototype%"){var re=He("%AsyncGenerator%");re&&f&&(rt=f(re.prototype))}return N[Me]=rt,rt},U={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},L=ju(),D=uL(),Y=L.call(E,Array.prototype.concat),Q=L.call(q,Array.prototype.splice),ae=L.call(E,String.prototype.replace),ne=L.call(E,String.prototype.slice),he=L.call(E,RegExp.prototype.exec),ve=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,We=/\\(\\)?/g,Ge=function(Me){var rt=ne(Me,0,1),X=ne(Me,-1);if(rt==="%"&&X!=="%")throw new o("invalid intrinsic syntax, expected closing `%`");if(X==="%"&&rt!=="%")throw new o("invalid intrinsic syntax, expected opening `%`");var re=[];return ae(Me,ve,function(ge,Re,_e,ke){re[re.length]=_e?ae(ke,We,"$1"):Re||ge}),re},Te=function(Me,rt){var X=Me,re;if(D(U,X)&&(re=U[X],X="%"+re[0]+"%"),D(N,X)){var ge=N[X];if(ge===M&&(ge=H(X)),typeof ge>"u"&&!rt)throw new i("intrinsic "+Me+" exists, but is not available. Please file an issue!");return{alias:re,name:X,value:ge}}throw new o("intrinsic "+Me+" does not exist!")};return Fp=function(Me,rt){if(typeof Me!="string"||Me.length===0)throw new i("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof rt!="boolean")throw new i('"allowMissing" argument must be a boolean');if(he(/^%?[^%]*%?$/,Me)===null)throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var X=Ge(Me),re=X.length>0?X[0]:"",ge=Te("%"+re+"%",rt),Re=ge.name,_e=ge.value,ke=!1,qe=ge.alias;qe&&(re=qe[0],Q(X,Y([0,1],qe)));for(var Pe=1,De=!0;Pe<X.length;Pe+=1){var $e=X[Pe],st=ne($e,0,1),Ke=ne($e,-1);if((st==='"'||st==="'"||st==="`"||Ke==='"'||Ke==="'"||Ke==="`")&&st!==Ke)throw new o("property names with quotes must have matching quotes");if(($e==="constructor"||!De)&&(ke=!0),re+="."+$e,Re="%"+re+"%",D(N,Re))_e=N[Re];else if(_e!=null){if(!($e in _e)){if(!rt)throw new i("base intrinsic for "+Me+" exists, but the property is not available.");return}if(C&&Pe+1>=X.length){var ye=C(_e,$e);De=!!ye,De&&"get"in ye&&!("originalValue"in ye.get)?_e=ye.get:_e=_e[$e]}else De=D(_e,$e),_e=_e[$e];De&&!ke&&(N[Re]=_e)}}return _e},Fp}var jp,U0;function q0(){if(U0)return jp;U0=1;var e=Bp(),t=D0(),r=t([e("%String.prototype.indexOf%")]);return jp=function(s,a){var o=e(s,!!a);return typeof o=="function"&&r(s,".prototype.")>-1?t([o]):o},jp}var Up,V0;function H0(){if(V0)return Up;V0=1;var e=Bp(),t=q0(),r=Bu(),n=ei(),s=e("%Map%",!0),a=t("Map.prototype.get",!0),o=t("Map.prototype.set",!0),i=t("Map.prototype.has",!0),l=t("Map.prototype.delete",!0),c=t("Map.prototype.size",!0);return Up=!!s&&function(){var d,m={assert:function(b){if(!m.has(b))throw new n("Side channel does not contain "+r(b))},delete:function(b){if(d){var g=l(d,b);return c(d)===0&&(d=void 0),g}return!1},get:function(b){if(d)return a(d,b)},has:function(b){return d?i(d,b):!1},set:function(b,g){d||(d=new s),o(d,b,g)}};return m},Up}var qp,z0;function cL(){if(z0)return qp;z0=1;var e=Bp(),t=q0(),r=Bu(),n=H0(),s=ei(),a=e("%WeakMap%",!0),o=t("WeakMap.prototype.get",!0),i=t("WeakMap.prototype.set",!0),l=t("WeakMap.prototype.has",!0),c=t("WeakMap.prototype.delete",!0);return qp=a?function(){var d,m,b={assert:function(g){if(!b.has(g))throw new s("Side channel does not contain "+r(g))},delete:function(g){if(a&&g&&(typeof g=="object"||typeof g=="function")){if(d)return c(d,g)}else if(n&&m)return m.delete(g);return!1},get:function(g){return a&&g&&(typeof g=="object"||typeof g=="function")&&d?o(d,g):m&&m.get(g)},has:function(g){return a&&g&&(typeof g=="object"||typeof g=="function")&&d?l(d,g):!!m&&m.has(g)},set:function(g,h){a&&g&&(typeof g=="object"||typeof g=="function")?(d||(d=new a),i(d,g,h)):n&&(m||(m=n()),m.set(g,h))}};return b}:n,qp}var Vp,W0;function dL(){if(W0)return Vp;W0=1;var e=ei(),t=Bu(),r=BR(),n=H0(),s=cL(),a=s||n||r;return Vp=function(){var i,l={assert:function(c){if(!l.has(c))throw new e("Side channel does not contain "+t(c))},delete:function(c){return!!i&&i.delete(c)},get:function(c){return i&&i.get(c)},has:function(c){return!!i&&i.has(c)},set:function(c,u){i||(i=a()),i.set(c,u)}};return l},Vp}var Hp,G0;function zp(){if(G0)return Hp;G0=1;var e=String.prototype.replace,t=/%20/g,r={RFC1738:"RFC1738",RFC3986:"RFC3986"};return Hp={default:r.RFC3986,formatters:{RFC1738:function(n){return e.call(n,t,"+")},RFC3986:function(n){return String(n)}},RFC1738:r.RFC1738,RFC3986:r.RFC3986},Hp}var Wp,K0;function Y0(){if(K0)return Wp;K0=1;var e=zp(),t=Object.prototype.hasOwnProperty,r=Array.isArray,n=function(){for(var v=[],y=0;y<256;++y)v.push("%"+((y<16?"0":"")+y.toString(16)).toUpperCase());return v}(),s=function(y){for(;y.length>1;){var C=y.pop(),_=C.obj[C.prop];if(r(_)){for(var S=[],x=0;x<_.length;++x)typeof _[x]<"u"&&S.push(_[x]);C.obj[C.prop]=S}}},a=function(y,C){for(var _=C&&C.plainObjects?{__proto__:null}:{},S=0;S<y.length;++S)typeof y[S]<"u"&&(_[S]=y[S]);return _},o=function v(y,C,_){if(!C)return y;if(typeof C!="object"&&typeof C!="function"){if(r(y))y.push(C);else if(y&&typeof y=="object")(_&&(_.plainObjects||_.allowPrototypes)||!t.call(Object.prototype,C))&&(y[C]=!0);else return[y,C];return y}if(!y||typeof y!="object")return[y].concat(C);var S=y;return r(y)&&!r(C)&&(S=a(y,_)),r(y)&&r(C)?(C.forEach(function(x,I){if(t.call(y,I)){var f=y[I];f&&typeof f=="object"&&x&&typeof x=="object"?y[I]=v(f,x,_):y.push(x)}else y[I]=x}),y):Object.keys(C).reduce(function(x,I){var f=C[I];return t.call(x,I)?x[I]=v(x[I],f,_):x[I]=f,x},S)},i=function(y,C){return Object.keys(C).reduce(function(_,S){return _[S]=C[S],_},y)},l=function(v,y,C){var _=v.replace(/\+/g," ");if(C==="iso-8859-1")return _.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(_)}catch{return _}},c=1024,u=function(y,C,_,S,x){if(y.length===0)return y;var I=y;if(typeof y=="symbol"?I=Symbol.prototype.toString.call(y):typeof y!="string"&&(I=String(y)),_==="iso-8859-1")return escape(I).replace(/%u[0-9a-f]{4}/gi,function(F){return"%26%23"+parseInt(F.slice(2),16)+"%3B"});for(var f="",P=0;P<I.length;P+=c){for(var $=I.length>=c?I.slice(P,P+c):I,q=[],E=0;E<$.length;++E){var M=$.charCodeAt(E);if(M===45||M===46||M===95||M===126||M>=48&&M<=57||M>=65&&M<=90||M>=97&&M<=122||x===e.RFC1738&&(M===40||M===41)){q[q.length]=$.charAt(E);continue}if(M<128){q[q.length]=n[M];continue}if(M<2048){q[q.length]=n[192|M>>6]+n[128|M&63];continue}if(M<55296||M>=57344){q[q.length]=n[224|M>>12]+n[128|M>>6&63]+n[128|M&63];continue}E+=1,M=65536+((M&1023)<<10|$.charCodeAt(E)&1023),q[q.length]=n[240|M>>18]+n[128|M>>12&63]+n[128|M>>6&63]+n[128|M&63]}f+=q.join("")}return f},d=function(y){for(var C=[{obj:{o:y},prop:"o"}],_=[],S=0;S<C.length;++S)for(var x=C[S],I=x.obj[x.prop],f=Object.keys(I),P=0;P<f.length;++P){var $=f[P],q=I[$];typeof q=="object"&&q!==null&&_.indexOf(q)===-1&&(C.push({obj:I,prop:$}),_.push(q))}return s(C),y},m=function(y){return Object.prototype.toString.call(y)==="[object RegExp]"},b=function(y){return!y||typeof y!="object"?!1:!!(y.constructor&&y.constructor.isBuffer&&y.constructor.isBuffer(y))},g=function(y,C){return[].concat(y,C)},h=function(y,C){if(r(y)){for(var _=[],S=0;S<y.length;S+=1)_.push(C(y[S]));return _}return C(y)};return Wp={arrayToObject:a,assign:i,combine:g,compact:d,decode:l,encode:u,isBuffer:b,isRegExp:m,maybeMap:h,merge:o},Wp}var Gp,J0;function fL(){if(J0)return Gp;J0=1;var e=dL(),t=Y0(),r=zp(),n=Object.prototype.hasOwnProperty,s={brackets:function(v){return v+"[]"},comma:"comma",indices:function(v,y){return v+"["+y+"]"},repeat:function(v){return v}},a=Array.isArray,o=Array.prototype.push,i=function(h,v){o.apply(h,a(v)?v:[v])},l=Date.prototype.toISOString,c=r.default,u={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:t.encode,encodeValuesOnly:!1,filter:void 0,format:c,formatter:r.formatters[c],indices:!1,serializeDate:function(v){return l.call(v)},skipNulls:!1,strictNullHandling:!1},d=function(v){return typeof v=="string"||typeof v=="number"||typeof v=="boolean"||typeof v=="symbol"||typeof v=="bigint"},m={},b=function h(v,y,C,_,S,x,I,f,P,$,q,E,M,F,N,R,H,U){for(var L=v,D=U,Y=0,Q=!1;(D=D.get(m))!==void 0&&!Q;){var ae=D.get(v);if(Y+=1,typeof ae<"u"){if(ae===Y)throw new RangeError("Cyclic object value");Q=!0}typeof D.get(m)>"u"&&(Y=0)}if(typeof $=="function"?L=$(y,L):L instanceof Date?L=M(L):C==="comma"&&a(L)&&(L=t.maybeMap(L,function(Re){return Re instanceof Date?M(Re):Re})),L===null){if(x)return P&&!R?P(y,u.encoder,H,"key",F):y;L=""}if(d(L)||t.isBuffer(L)){if(P){var ne=R?y:P(y,u.encoder,H,"key",F);return[N(ne)+"="+N(P(L,u.encoder,H,"value",F))]}return[N(y)+"="+N(String(L))]}var he=[];if(typeof L>"u")return he;var ve;if(C==="comma"&&a(L))R&&P&&(L=t.maybeMap(L,P)),ve=[{value:L.length>0?L.join(",")||null:void 0}];else if(a($))ve=$;else{var We=Object.keys(L);ve=q?We.sort(q):We}var Ge=f?String(y).replace(/\./g,"%2E"):String(y),Te=_&&a(L)&&L.length===1?Ge+"[]":Ge;if(S&&a(L)&&L.length===0)return Te+"[]";for(var He=0;He<ve.length;++He){var Me=ve[He],rt=typeof Me=="object"&&Me&&typeof Me.value<"u"?Me.value:L[Me];if(!(I&&rt===null)){var X=E&&f?String(Me).replace(/\./g,"%2E"):String(Me),re=a(L)?typeof C=="function"?C(Te,X):Te:Te+(E?"."+X:"["+X+"]");U.set(v,Y);var ge=e();ge.set(m,U),i(he,h(rt,re,C,_,S,x,I,f,C==="comma"&&R&&a(L)?null:P,$,q,E,M,F,N,R,H,ge))}}return he},g=function(v){if(!v)return u;if(typeof v.allowEmptyArrays<"u"&&typeof v.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof v.encodeDotInKeys<"u"&&typeof v.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(v.encoder!==null&&typeof v.encoder<"u"&&typeof v.encoder!="function")throw new TypeError("Encoder has to be a function.");var y=v.charset||u.charset;if(typeof v.charset<"u"&&v.charset!=="utf-8"&&v.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var C=r.default;if(typeof v.format<"u"){if(!n.call(r.formatters,v.format))throw new TypeError("Unknown format option provided.");C=v.format}var _=r.formatters[C],S=u.filter;(typeof v.filter=="function"||a(v.filter))&&(S=v.filter);var x;if(v.arrayFormat in s?x=v.arrayFormat:"indices"in v?x=v.indices?"indices":"repeat":x=u.arrayFormat,"commaRoundTrip"in v&&typeof v.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var I=typeof v.allowDots>"u"?v.encodeDotInKeys===!0?!0:u.allowDots:!!v.allowDots;return{addQueryPrefix:typeof v.addQueryPrefix=="boolean"?v.addQueryPrefix:u.addQueryPrefix,allowDots:I,allowEmptyArrays:typeof v.allowEmptyArrays=="boolean"?!!v.allowEmptyArrays:u.allowEmptyArrays,arrayFormat:x,charset:y,charsetSentinel:typeof v.charsetSentinel=="boolean"?v.charsetSentinel:u.charsetSentinel,commaRoundTrip:!!v.commaRoundTrip,delimiter:typeof v.delimiter>"u"?u.delimiter:v.delimiter,encode:typeof v.encode=="boolean"?v.encode:u.encode,encodeDotInKeys:typeof v.encodeDotInKeys=="boolean"?v.encodeDotInKeys:u.encodeDotInKeys,encoder:typeof v.encoder=="function"?v.encoder:u.encoder,encodeValuesOnly:typeof v.encodeValuesOnly=="boolean"?v.encodeValuesOnly:u.encodeValuesOnly,filter:S,format:C,formatter:_,serializeDate:typeof v.serializeDate=="function"?v.serializeDate:u.serializeDate,skipNulls:typeof v.skipNulls=="boolean"?v.skipNulls:u.skipNulls,sort:typeof v.sort=="function"?v.sort:null,strictNullHandling:typeof v.strictNullHandling=="boolean"?v.strictNullHandling:u.strictNullHandling}};return Gp=function(h,v){var y=h,C=g(v),_,S;typeof C.filter=="function"?(S=C.filter,y=S("",y)):a(C.filter)&&(S=C.filter,_=S);var x=[];if(typeof y!="object"||y===null)return"";var I=s[C.arrayFormat],f=I==="comma"&&C.commaRoundTrip;_||(_=Object.keys(y)),C.sort&&_.sort(C.sort);for(var P=e(),$=0;$<_.length;++$){var q=_[$],E=y[q];C.skipNulls&&E===null||i(x,b(E,q,I,f,C.allowEmptyArrays,C.strictNullHandling,C.skipNulls,C.encodeDotInKeys,C.encode?C.encoder:null,C.filter,C.sort,C.allowDots,C.serializeDate,C.format,C.formatter,C.encodeValuesOnly,C.charset,P))}var M=x.join(C.delimiter),F=C.addQueryPrefix===!0?"?":"";return C.charsetSentinel&&(C.charset==="iso-8859-1"?F+="utf8=%26%2310003%3B&":F+="utf8=%E2%9C%93&"),M.length>0?F+M:""},Gp}var Kp,X0;function pL(){if(X0)return Kp;X0=1;var e=Y0(),t=Object.prototype.hasOwnProperty,r=Array.isArray,n={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:e.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},s=function(m){return m.replace(/&#(\d+);/g,function(b,g){return String.fromCharCode(parseInt(g,10))})},a=function(m,b){return m&&typeof m=="string"&&b.comma&&m.indexOf(",")>-1?m.split(","):m},o="utf8=%26%2310003%3B",i="utf8=%E2%9C%93",l=function(b,g){var h={__proto__:null},v=g.ignoreQueryPrefix?b.replace(/^\?/,""):b;v=v.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var y=g.parameterLimit===1/0?void 0:g.parameterLimit,C=v.split(g.delimiter,y),_=-1,S,x=g.charset;if(g.charsetSentinel)for(S=0;S<C.length;++S)C[S].indexOf("utf8=")===0&&(C[S]===i?x="utf-8":C[S]===o&&(x="iso-8859-1"),_=S,S=C.length);for(S=0;S<C.length;++S)if(S!==_){var I=C[S],f=I.indexOf("]="),P=f===-1?I.indexOf("="):f+1,$,q;P===-1?($=g.decoder(I,n.decoder,x,"key"),q=g.strictNullHandling?null:""):($=g.decoder(I.slice(0,P),n.decoder,x,"key"),q=e.maybeMap(a(I.slice(P+1),g),function(M){return g.decoder(M,n.decoder,x,"value")})),q&&g.interpretNumericEntities&&x==="iso-8859-1"&&(q=s(String(q))),I.indexOf("[]=")>-1&&(q=r(q)?[q]:q);var E=t.call(h,$);E&&g.duplicates==="combine"?h[$]=e.combine(h[$],q):(!E||g.duplicates==="last")&&(h[$]=q)}return h},c=function(m,b,g,h){for(var v=h?b:a(b,g),y=m.length-1;y>=0;--y){var C,_=m[y];if(_==="[]"&&g.parseArrays)C=g.allowEmptyArrays&&(v===""||g.strictNullHandling&&v===null)?[]:[].concat(v);else{C=g.plainObjects?{__proto__:null}:{};var S=_.charAt(0)==="["&&_.charAt(_.length-1)==="]"?_.slice(1,-1):_,x=g.decodeDotInKeys?S.replace(/%2E/g,"."):S,I=parseInt(x,10);!g.parseArrays&&x===""?C={0:v}:!isNaN(I)&&_!==x&&String(I)===x&&I>=0&&g.parseArrays&&I<=g.arrayLimit?(C=[],C[I]=v):x!=="__proto__"&&(C[x]=v)}v=C}return v},u=function(b,g,h,v){if(b){var y=h.allowDots?b.replace(/\.([^.[]+)/g,"[$1]"):b,C=/(\[[^[\]]*])/,_=/(\[[^[\]]*])/g,S=h.depth>0&&C.exec(y),x=S?y.slice(0,S.index):y,I=[];if(x){if(!h.plainObjects&&t.call(Object.prototype,x)&&!h.allowPrototypes)return;I.push(x)}for(var f=0;h.depth>0&&(S=_.exec(y))!==null&&f<h.depth;){if(f+=1,!h.plainObjects&&t.call(Object.prototype,S[1].slice(1,-1))&&!h.allowPrototypes)return;I.push(S[1])}if(S){if(h.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+h.depth+" and strictDepth is true");I.push("["+y.slice(S.index)+"]")}return c(I,g,h,v)}},d=function(b){if(!b)return n;if(typeof b.allowEmptyArrays<"u"&&typeof b.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof b.decodeDotInKeys<"u"&&typeof b.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(b.decoder!==null&&typeof b.decoder<"u"&&typeof b.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof b.charset<"u"&&b.charset!=="utf-8"&&b.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var g=typeof b.charset>"u"?n.charset:b.charset,h=typeof b.duplicates>"u"?n.duplicates:b.duplicates;if(h!=="combine"&&h!=="first"&&h!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var v=typeof b.allowDots>"u"?b.decodeDotInKeys===!0?!0:n.allowDots:!!b.allowDots;return{allowDots:v,allowEmptyArrays:typeof b.allowEmptyArrays=="boolean"?!!b.allowEmptyArrays:n.allowEmptyArrays,allowPrototypes:typeof b.allowPrototypes=="boolean"?b.allowPrototypes:n.allowPrototypes,allowSparse:typeof b.allowSparse=="boolean"?b.allowSparse:n.allowSparse,arrayLimit:typeof b.arrayLimit=="number"?b.arrayLimit:n.arrayLimit,charset:g,charsetSentinel:typeof b.charsetSentinel=="boolean"?b.charsetSentinel:n.charsetSentinel,comma:typeof b.comma=="boolean"?b.comma:n.comma,decodeDotInKeys:typeof b.decodeDotInKeys=="boolean"?b.decodeDotInKeys:n.decodeDotInKeys,decoder:typeof b.decoder=="function"?b.decoder:n.decoder,delimiter:typeof b.delimiter=="string"||e.isRegExp(b.delimiter)?b.delimiter:n.delimiter,depth:typeof b.depth=="number"||b.depth===!1?+b.depth:n.depth,duplicates:h,ignoreQueryPrefix:b.ignoreQueryPrefix===!0,interpretNumericEntities:typeof b.interpretNumericEntities=="boolean"?b.interpretNumericEntities:n.interpretNumericEntities,parameterLimit:typeof b.parameterLimit=="number"?b.parameterLimit:n.parameterLimit,parseArrays:b.parseArrays!==!1,plainObjects:typeof b.plainObjects=="boolean"?b.plainObjects:n.plainObjects,strictDepth:typeof b.strictDepth=="boolean"?!!b.strictDepth:n.strictDepth,strictNullHandling:typeof b.strictNullHandling=="boolean"?b.strictNullHandling:n.strictNullHandling}};return Kp=function(m,b){var g=d(b);if(m===""||m===null||typeof m>"u")return g.plainObjects?{__proto__:null}:{};for(var h=typeof m=="string"?l(m,g):m,v=g.plainObjects?{__proto__:null}:{},y=Object.keys(h),C=0;C<y.length;++C){var _=y[C],S=u(_,h[_],g,typeof m=="string");v=e.merge(v,S,g)}return g.allowSparse===!0?v:e.compact(v)},Kp}var Yp,Q0;function hL(){if(Q0)return Yp;Q0=1;var e=fL(),t=pL(),r=zp();return Yp={formats:r,parse:t,stringify:e},Yp}var mL=hL();const Ma=pn(mL);function Jp(e,t="https://kuajing-plw.happyporsche.com"){return NR(e)?e:`${t}${e}`}async function ul(e){const{url:t,method:r="GET",dataType:n="json",params:s,body:a=null,baseUrl:o,...i}=e,l=Jp(t,o),c=s?`${l}?${new URLSearchParams(s).toString()}`:l,u={...i,body:a,method:r};return await fetch(c,u).then(m=>n==="json"?m.json():vL(m))}const gL=5*60*1e3;async function Tt(e){const{data:t,headers:r,dataType:n="json",...s}=e,{cacheKey:a,cacheMaxAge:o}=e,i=Date.now();if(a){const c=await Ze.getItem(a);if(c&&c.expireTime>i)return c.res}const l=await ul({...s,dataType:n,body:t&&Ma.stringify(t),headers:{"content-type":"application/x-www-form-urlencoded; charset=UTF-8",...r}});if(a){const u={expireTime:i+(o||gL),res:l};Ze.setItem(a,u)}if(l.result==="success")return l;throw l}function _n(e){return new Promise((t,r)=>{const{url:n,method:s="GET",data:a,params:o,headers:i={},xhrFields:l={}}=e,c=new XMLHttpRequest;c.addEventListener("readystatechange",()=>{c.readyState===4&&(c.status===200?t(c.response):r(c.response))}),c.addEventListener("error",d=>{r(d)});const u=o?[n,Ma.stringify(o)].join("?"):n;c.open(s,u);for(const[d,m]of Object.entries(i))c.setRequestHeader(d,m);for(const[d,m]of Object.entries(l))c[d]=m;c.send(Ff(a)?Ma.stringify(a):a)})}async function vL(e){var t;return(t=e.headers.get("Content-Type"))!=null&&t.includes("GBK")?e.blob().then(r=>{const{promise:n,resolve:s,reject:a}=Xb(),o=new FileReader;return o.onload=()=>{s(o.result)},o.onerror=i=>{a(i)},o.readAsText(r,"GBK"),n}):await e.text()}const Yn="https://erp.91miaoshou.com/api",io="https://sso.geiwohuo.com",yL="gmt_order_delivery",bL="gmt_settlement";async function lo(e){const{url:t,data:r=null,type:n="POST"}=e||{},s={};n==="POST"?s.body=r&&JSON.stringify(r):s.params=r||void 0;const a=await ul({url:t,method:n,headers:{"content-type":"application/json;charset=UTF-8"},...s}),o=a?a.msg:"";return(o?!+o.includes("子系统登录重定向"):1)?a:Promise.reject("未登录SHEIN后台")}function Z0(e,t){const r=new Date(e),n=new Date(r.toISOString()),s={year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZone:t,hour12:!1},o=new Intl.DateTimeFormat("en-US",s).format(n),[i,l]=o.split(", "),[c,u,d]=i.split("/").map(h=>h.padStart(2,"0")),[m,b,g]=l.split(":").map(h=>h.padStart(2,"0"));return`${d}-${c}-${u} ${m}:${b}:${g}`}const Xp="local:crawlSheinChoiceMallInfoList",ew="local:crawlSheinChoiceTabId";let Qp=class extends Error{constructor(r,n){super(r);me(this,"sleepSeconds");this.name=this.constructor.name,this.sleepSeconds=n,Error.captureStackTrace(this,this.constructor)}};const Jn={isDebug:!1,crawlTabId:null,localData:{},crawlQueue:null};let Uu=class{constructor(t,r=null){me(this,"earthUrlsMap",{updateCrawlRequestStatus:`${Yn}/platform/shein_choice/stat/crawl/update_crawl_request_status`,initCrawlRequestDetail:`${Yn}/platform/shein_choice/stat/crawl/init_crawl_request_detail`});me(this,"mallId");me(this,"requestId");me(this,"crawlTaskKey");me(this,"crawlTaskNameAndRetKey");me(this,"crawlTaskNameAndLogKey");me(this,"crawlTaskObj",{});me(this,"crawlRequestIdAndTaskNameAndRetObj");me(this,"crawlRequestIdAndTaskNameAndLogObj");this.mallId=t,this.requestId=r,this.crawlTaskKey=`crawl_shein_choice_task_${this.mallId}`,this.crawlTaskNameAndRetKey=`crawl_shein_choice_task_ret_${this.mallId}`,this.crawlTaskNameAndLogKey=`crawl_shein_choice_task_log_${this.mallId}`}async init(){this.crawlTaskObj=await Yo(this.crawlTaskKey),this.crawlRequestIdAndTaskNameAndRetObj=await this.initCacheData(this.crawlTaskNameAndRetKey),this.crawlRequestIdAndTaskNameAndLogObj=await this.initCacheData(this.crawlTaskNameAndLogKey)}resetAllTaskCount(t){this.crawlTaskObj.status=null,this.crawlTaskObj.requestId=this.requestId,this.crawlTaskObj.allTaskCount=t,this.crawlTaskObj.finishTaskCount=0;for(const r in this.crawlRequestIdAndTaskNameAndRetObj){const n=this.crawlRequestIdAndTaskNameAndRetObj[r]||{};for(const s in n)n[s]&&n[s].result==="success"&&this.crawlTaskObj.finishTaskCount++}this.setItem(this.crawlTaskKey,this.crawlTaskObj)}incrFinishTaskCount(t){this.crawlTaskObj.finishTaskCount+=t,this.setItem(this.crawlTaskKey,this.crawlTaskObj)}async getCrawlInfo(){var u;const t={mallId:this.mallId,status:null,progressText:"",progressRate:""};(((u=Jn.crawlQueue)==null?void 0:u.crawlQueueList)||[]).find(d=>`${d.mallId}`==`${this.mallId}`)&&(t.status="processing");const{requestId:s,currentTaskName:a,progressText:o,allTaskCount:i,finishTaskCount:l,status:c}=this.crawlTaskObj;return this.requestId&&`${this.requestId}`==`${s}`&&(t.progressText=`【${a}】：${o}`,t.progressRate=i>0?Math.floor(l/i*100):0,c==="success"?t.progressText="采集完成":c==="fail"&&(t.progressText=`采集部分失败：${t.reason||""}`)),console.debug("CrawlInfo",t),t}async updateRequestStatus(t,r){return Tt({url:this.earthUrlsMap.updateCrawlRequestStatus,method:"POST",data:{requestId:t,status:r.result,reason:r.reason}})}async saveRequestDetail(t,r){return Tt({url:this.earthUrlsMap.initCrawlRequestDetail,method:"POST",data:{requestId:t,desc:r}})}async initCacheData(t){const r=await Yo(t);let n={};for(const a in r)if(!this.requestId||`${this.requestId}`==`${a}`){n=r[a];break}const s={};return s[this.requestId]=n,s}setItem(t,r){this.requestId&&Su(t,r),this.sendToClientTab()}async sendToClientTab(){if(!Jn.crawlTabId)return;const t=await this.getCrawlInfo();try{const r=await Ze.getItem(Xp)||[],{mallId:n}=t,s=r.reduce((a,o)=>(`${o.id}`==`${n}`?a.push({...o,...t}):a.push(o),a),[]);Ze.setItem(Xp,s)}catch(r){Jn.crawlTabId=null,console.debug(r)}}isTaskSuccess(t,r){const n=this.crawlRequestIdAndTaskNameAndRetObj[this.requestId][t]||{};return!!(r&&n[r]&&n[r].result==="success"||n.result==="success")}async updateRequestRet(t){if(this.crawlTaskObj.status=t==null?void 0:t.result,this.crawlTaskObj.reason=t==null?void 0:t.reason,this.setItem(this.crawlTaskKey,this.crawlTaskObj),(await this.updateRequestStatus(this.requestId,t)).result!=="success")throw new Error(`更新采集结果:${t.reason}`)}async saveTaskSubTaskRet(t,r,n){this.crawlRequestIdAndTaskNameAndRetObj[this.requestId][t]||(this.crawlRequestIdAndTaskNameAndRetObj[this.requestId][t]={}),this.crawlRequestIdAndTaskNameAndRetObj[this.requestId][t][r]=n,this.setItem(this.crawlTaskNameAndRetKey,this.crawlRequestIdAndTaskNameAndRetObj);let s="";n.result==="success"?s="采集成功":s=`采集失败，原因：${n.reason}`,await this.updateTaskProgress(t,r+s)}async saveTaskRet(t,r){let n=t,s="";r.result==="success"?(n+="，采集成功",s="采集成功"):(n+=`，采集失败，原因：${r.reason}`,s=`采集失败，原因：${r.reason}`),await this.updateTaskProgress(t,s);const a=await this.saveRequestDetail(this.requestId,n);if(a.result!=="success")throw new Error(`保存采集详情失败:${a.reason}`);r.canRetry||this.incrFinishTaskCount(1),this.crawlRequestIdAndTaskNameAndRetObj[this.requestId][t]=r,this.setItem(this.crawlTaskNameAndRetKey,this.crawlRequestIdAndTaskNameAndRetObj)}startTask(t){this.crawlTaskObj.currentTaskName=t,this.crawlTaskObj.progressText="开始采集",this.setItem(this.crawlTaskKey,this.crawlTaskObj),this.debugLog(t,"开始采集")}updateTaskProgress(t,r){this.crawlTaskObj.currentTaskName=t,this.crawlTaskObj.progressText=r,this.setItem(this.crawlTaskKey,this.crawlTaskObj),this.debugLog(t,r)}async debugLog(t,r){Jn.isDebug&&(this.crawlRequestIdAndTaskNameAndLogObj[this.requestId][t]||(this.crawlRequestIdAndTaskNameAndLogObj[this.requestId][t]=[]),this.crawlRequestIdAndTaskNameAndLogObj[this.requestId][t].push({date:gr(),desc:r}),this.setItem(this.crawlTaskNameAndLogKey,this.crawlRequestIdAndTaskNameAndLogObj))}};class tw{constructor({mallId:t,mallName:r,action:n,mallType:s,bindShopId:a,authAppNameList:o,startDate:i,endDate:l,requestId:c}){me(this,"earthUrlsMap",{initCrawlRequest:`${Yn}/platform/shein_choice/stat/crawl/init_crawl_request`,updateCrawlRequestStatus:`${Yn}/platform/shein_choice/stat/crawl/update_crawl_request_status`,initCrawlRequestDetail:`${Yn}/platform/shein_choice/stat/crawl/init_crawl_request_detail`,getFullAccountName:`${Yn}/auth/account/get_full_account_name`,getAccountInfo:`${Yn}/auth/account/get_account_info`,createSheinChoiceImportTask:`${Yn}/order/data/import_cost/createSheinChoiceImportTask`});me(this,"earthChoiceUrlMap",{saveMallLastRsyncTime:`${Yn}/platform/shein_choice/stat/crawl/saveMallLastRsyncTime`,saveCrawlWaitSettlementData:`${Yn}/platform/pddkj_choice/stat/crawl/saveCrawlWaitSettlementData`});me(this,"sheinChoiceUrlMap",{getUserInfo:`${io}/sso-prefix/auth/getUser`,getFileExportList:`${io}/sso/common/fileExport/list`,getTimezoneList:`${io}/sso/public/account/timezoneList`,exportPlatformWaitPayCheckDetail:`${io}/gspJob/common/file/export/exportPlatformWaitPayCheckDetail`,exportPlatformPayedCheckDetail:`${io}/gspJob/common/file/export/exportPlatformPayedCheckDetail`,getFileUrl:`${io}/sso/common/fileExport/getFileUrl`});me(this,"requestId");me(this,"mallId");me(this,"mallName");me(this,"action");me(this,"mallType");me(this,"bindShopId");me(this,"authAppNameList");me(this,"startDate");me(this,"endDate");me(this,"crawlLogObj",{});this.requestId=c,this.mallId=t,this.mallName=r,this.action=n,this.mallType=s,this.bindShopId=a,this.authAppNameList=o||[],this.startDate=i,this.endDate=l,(!this.startDate||!this.endDate)&&(this.startDate=Ve().subtract(30,"day").format("YYYY-MM-DD"),this.endDate=Ve().format("YYYY-MM-DD"))}async startCrawl(){console.debug("startCrawl");try{if(!this.mallId)throw new Error("店铺为空");if(!this.bindShopId)throw new Error("绑定店铺为空");if(!this.requestId)throw new Error("采集日志ID为空");this.crawlLogObj=new Uu(this.mallId,this.requestId),await this.crawlLogObj.init(),this.crawlLogObj.resetAllTaskCount(2),await this.startCrawlChoiceWaitPayList(this.mallId,this.startDate,this.endDate),await this.startCrawlChoicePayedList(this.mallId,this.startDate,this.endDate),await this.crawlLogObj.updateRequestRet(dr())}catch(t){if(this.crawlLogObj)await this.crawlLogObj.updateRequestRet(ir(Yt(t)));else throw t}}async startCrawlChoiceWaitPayList(t,r,n){const s="财务/我的收入/待结算收入",a="waitPayList";if(!this.crawlLogObj.isTaskSuccess(s))try{await this.crawlLogObj.startTask(s);const o=Date.now();let i=!1;const l={};let c={};const u=Ve(r).format("YYYY-MM-DD 00:00:00"),d=Ve(n).format("YYYY-MM-DD 23:59:59"),m=this.buildExportTaskHash(u,d,a);let b={result:"fail",reason:""};const g="hasTaskHashAndTaskIdMap";for(;!i;){if(Date.now()-o>18e4)throw new Qp("导出等待超时",180);i=!0,c[m]||(c=Yo(g));const v=await this.getCurrentTimezoneInfo(),y=v.timezone,C=this.getCurrentUTC(v.defaultTimezone),_=gr(),S=Z0(_,y),x=Ve(S).format("YYYY-MM-DD 00:00:00"),I=Ve(S).format("YYYY-MM-DD 23:59:59"),P=(await this.getFileExportList(x,I)).find($=>{const q=new Date(this.convertToBeijingTime($.createTime,C)).getTime(),E=$.fileName.includes("待结算账单");return q<=(l[m]||0)+6e4&&E||c[m]});if(P)if(`${P.fileStatus}`=="1"){c[m]=P.id,Su(g,c);const $=await this.getFileUrl(P.id);if(!$)throw new Error("获取下载地址为空");const q={gmtOrderDateStart:u,gmtOrderDateEnd:d,orderDateType:yL,shopId:this.bindShopId,file:await this.getFileBase64($),filename:P.id,requestId:this.requestId};b=await Tt({url:this.earthUrlsMap.createSheinChoiceImportTask,method:"POST",data:q})}else i=!1;else i=!1,await this.exportPlatformWaitPayCheckDetail(u,d),l[m]||(l[m]=new Date(gr()).getTime());await Ye(5e3)}await this.saveMallLastRsyncTime(t,a),await this.crawlLogObj.saveTaskRet(s,b)}catch(o){await this.crawlLogObj.saveTaskRet(s,ir(Yt(o)))}}async startCrawlChoicePayedList(t,r,n){const s="财务/我的收入/已完成结算收入",a="payedList";if(!this.crawlLogObj.isTaskSuccess(s))try{await this.crawlLogObj.startTask(s);const o=Date.now();let i=!1;const l={};let c={};const u=Ve(r).format("YYYY-MM-DD 00:00:00"),d=Ve(n).format("YYYY-MM-DD 23:59:59"),m=this.buildExportTaskHash(u,d,a);let b={result:"fail",reason:""};const g="hasTaskHashAndTaskIdMap";for(;!i;){if(Date.now()-o>18e4)throw new Qp("导出等待超时",180);i=!0,c[m]||(c=Yo(g));const v=await this.getCurrentTimezoneInfo(),y=v.timezone,C=this.getCurrentUTC(v.defaultTimezone),_=gr(),S=Z0(_,y),x=Ve(S).format("YYYY-MM-DD 00:00:00"),I=Ve(S).format("YYYY-MM-DD 23:59:59"),P=(await this.getFileExportList(x,I)).find($=>{const q=new Date(this.convertToBeijingTime($.createTime,C)).getTime(),E=$.fileName.includes("已完成账单");return q<=(l[m]||0)+6e4&&E||c[m]});if(P)if(`${P.fileStatus}`=="1"){c[m]=P.id,Su(g,c);const $=await this.getFileUrl(P.id);if(!$)throw new Error("获取下载地址为空");const q={gmtOrderDateStart:u,gmtOrderDateEnd:d,orderDateType:bL,shopId:this.bindShopId,file:await this.getFileBase64($),filename:P.id,requestId:this.requestId};b=await Tt({url:this.earthUrlsMap.createSheinChoiceImportTask,method:"POST",data:q})}else i=!1;else i=!1,l[m]||(await this.exportPlatformPayedCheckDetail(u,d),l[m]=new Date(gr()).getTime());await Ye(5e3)}await this.saveMallLastRsyncTime(t,a),await this.crawlLogObj.saveTaskRet(s,b)}catch(o){await this.crawlLogObj.saveTaskRet(s,ir(Yt(o)))}}async getTimezoneList(){var n;const t=this.sheinChoiceUrlMap.getTimezoneList,r=await lo({url:t,type:"GET",data:{page:1,perPage:20}});if(`${r==null?void 0:r.code}`!="0")throw new Error(r.msg);return(n=r==null?void 0:r.info)==null?void 0:n.list}async getCurrentTimezoneInfo(){const t=await this.getUserInfo(),r=t.timezone;return t.utcTimezone?{timezone:r,defaultTimezone:t.utcTimezone}:(await this.getTimezoneList()).find(s=>`${s.timezone}`==`${r}`)}async getUserInfo(){const t=this.sheinChoiceUrlMap.getUserInfo,r=await lo({url:t,type:"GET"});if(`${r==null?void 0:r.code}`!="0")throw new Error(r.msg);return r.info}async getFileExportList(t,r){var a;const n=this.sheinChoiceUrlMap.getFileExportList,s=await lo({url:n,data:{createTimeStart:t,createTimeEnd:r,page:1,perPage:20}});if(`${s==null?void 0:s.code}`!="0")throw new Error(s.msg);return(a=s==null?void 0:s.info)==null?void 0:a.data}convertToBeijingTime(t,r){const n=new Date(t),s=new Date(n.toUTCString()),a=8*60,o=r*60,i=new Date(s.getTime()+(a-o)*60*1e3);return Ve(i).format("YYYY-MM-DD HH:mm:ss")}getCurrentUTC(t){return t.replace(/UTC|UCT/g,"")}buildExportTaskHash(t,r,n){return`${t}-${r}-${n}`}async getFileUrl(t){var s;const r=this.sheinChoiceUrlMap.getFileUrl,n=await lo({url:r,type:"GET",data:{id:t}});if(`${n==null?void 0:n.code}`!="0")throw new Error(n.msg);return(s=n==null?void 0:n.info)==null?void 0:s.url}async exportPlatformWaitPayCheckDetail(t,r){var a;const n=this.sheinChoiceUrlMap.exportPlatformWaitPayCheckDetail,s=await lo({url:n,type:"POST",data:{type:28,mode:2,orderDeliveryBeginTime:t,orderDeliveryEndTime:r}});if(`${s==null?void 0:s.code}`!="0")throw new Error(s.msg);return(a=s==null?void 0:s.info)==null?void 0:a.data}async exportPlatformPayedCheckDetail(t,r){const n=this.sheinChoiceUrlMap.exportPlatformPayedCheckDetail,s=await lo({url:n,type:"POST",data:{type:28,mode:2,payBeginTime:t,payEndTime:r}});if(`${s==null?void 0:s.code}`!="0")throw new Error(s.msg);return s.info.data}async getFileBase64(t){const n=await(await fetch(t)).blob();return await this.transBlobToBase64(n)}transBlobToBase64(t){return new Promise(r=>{const n=new FileReader;n.onload=function(s){var o;let a=(o=s==null?void 0:s.target)==null?void 0:o.result;a&&a.indexOf("base64,")>0&&(a=a.split("base64,")[1]),r(a)},n.readAsDataURL(t)})}async saveMallLastRsyncTime(t,r){return await Tt({url:this.earthChoiceUrlMap.saveMallLastRsyncTime,method:"POST",data:{mallId:t,rsyncType:r}})}}let rw=class{constructor(){me(this,"earthUrlsMap",{getCrawlTaskUrl:`${Yn}/platform/shein_choice/stat/crawl/get_crawl_task`,initCrawlRequest:`${Yn}/platform/shein_choice/stat/crawl/init_crawl_request`});me(this,"runStatus","wait");me(this,"crawlQueueList",[]);me(this,"isRunning",!1);me(this,"nextAutoCrawlTime",0)}getAllWindows(){return new Promise(t=>{As.windows.getAll({},r=>{t(r)})})}async run(t){console.debug("CrawlQueue run");try{if(this.runStatus="process",!Jn.crawlTabId){let r=await Ze.getItem(ew);r=r?Number.parseInt(r):null,r=il(r)?null:r,Jn.crawlTabId=r}for(;;){const n=(await this.getAllWindows()).length;if(console.debug("打开窗口数量",n),n>0){await this.autoCrawl();let s=await this.getTaskTs();const a=await Ze.getItem("local:newTs");if(a&&(s=a,Ze.removeItem("local:newTs")),s&&s>t){this.runStatus="waitStop";break}}await Ye(900*1e3)}return new Promise(r=>{const n=setInterval(()=>{console.debug("wait stop"),this.isRunning===!1&&(clearInterval(n),console.debug("task stop"),r(!0))},3e3)})}catch(r){throw this.runStatus="waitStop",r}}async autoCrawl(){if(Date.now()<this.nextAutoCrawlTime)return;Jn.isDebug?this.nextAutoCrawlTime=Date.now()+1e3*60:this.nextAutoCrawlTime=Date.now()+1e3*3600;try{const r=await Tt({url:this.earthUrlsMap.getCrawlTaskUrl,method:"GET"}),n=(r==null?void 0:r.taskList)||[];if(n.length){const s=await this.getSheinChoiceBackendLoginInfo();for(const a of n)`${a.mallId}`==`${s==null?void 0:s.supplierId}`&&(a.mallName=s.supplierUserName,a.platform="sheinChoice",this.addCrawlQueueByTask(a))}console.debug(gr(),"crawlQueueList",this.crawlQueueList)}catch(r){console.debug(gr(),"autoCrawl fail",r)}}async getTaskTs(){const t=await Tt({url:"http://plw.szchengji-inc.com/open/plugin/getBgTaskCodeTs",method:"GET"});return t==null?void 0:t.ts}addCrawlQueueByTask(t){console.debug("addCrawlQueueByTask",t);const{mallId:r,mallName:n,mallType:s,bindShopId:a,authAppNameList:o,host:i}=t;this.addCrawlQueue({mallId:r,mallName:n,mallType:s,bindShopId:a,authAppNameList:o,action:"auto",host:i})}async addCrawlQueue(t){const{mallId:r,mallName:n,mallType:s,bindShopId:a,authAppNameList:o,startDate:i,endDate:l,action:c,gmtExec:u,host:d}=t||{},m=this.crawlQueueList.find(g=>`${g.mallId}`==`${r}`);(!m||m.locked===0)&&(this.crawlQueueList=this.crawlQueueList.filter(g=>`${g.mallId}`!=`${r}`),this.crawlQueueList.push({mallId:r,mallName:n,mallType:s,bindShopId:a,authAppNameList:o,startDate:i,endDate:l,action:c||"auto",retryTimes:0,locked:0,gmtExec:u||gr(),gmtLock:null,requestId:m&&m.requestId,host:d}),this.crawlQueueList.sort((g,h)=>new Date(g.gmtExec).getTime()-new Date(h.gmtExec).getTime()));const b=new Uu(r);await b.init(),b.sendToClientTab(),this.start()}async getSheinChoiceBackendLoginInfo(){const t=`${io}/sso-prefix/auth/getUser`;try{const r=await ul({url:t}),n=r?r.msg:"";return(n?!+n.includes("子系统登录重定向"):1)?Promise.resolve(r):Promise.reject("未登录Shein后台")}catch{return Promise.resolve({})}}async start(){if(console.debug("start"),!this.isRunning){for(console.debug(gr(),"start process queue"),this.isRunning=!0;;){let t=null;try{if(t=await this.lockQueue(),console.debug(gr(),"lock queue",t),t){const r=await this.processQueue(t);console.debug(gr(),"processQueue",r),await this.clearQueue(t,r)}else if(this.crawlQueueList.length>0)console.debug(gr(),"lock empty,sleep"),await Ye(10*1e3);else{console.debug(gr(),"stop timer");break}}catch(r){console.debug(gr(),"processQueue exception",t,r)}if(this.runStatus==="waitStop")break}this.isRunning=!1}}async lockQueue(){this.crawlQueueList=this.crawlQueueList.filter(n=>n.retryTimes<5);const t=gr(),r=this.crawlQueueList.find(n=>n.locked===0&&n.gmtExec<=t);if(r){if(!r.requestId){const n=await this.initRequestId(r);if(n.result==="success")r.requestId=n.requestId;else return r.retryTimes++,null}r.locked=1,r.gmtLock=t}return r}async processQueue(t){try{return await new tw(t).startCrawl(),{result:"success",reason:""}}catch(r){return r instanceof Qp?{result:"fail",canRetry:!0,sleepSeconds:(r==null?void 0:r.sleepSeconds)||1800,reason:r.message}:{result:"fail",canRetry:!1,sleepSeconds:0,reason:Yt(r)}}}async clearQueue(t,r){if(r.canRetry){const s=this.crawlQueueList.find(a=>`${a.mallId}`==`${t.mallId}`);s.retryTimes++,s.locked=0,s.gmtExec=gr(r.sleepSeconds||1800)}else this.crawlQueueList=this.crawlQueueList.filter(s=>`${s.mallId}`!=`${t.mallId}`);const n=new Uu(t.mallId,t.requestId);await n.init(),n.sendToClientTab()}initRequestId({mallId:t,mallName:r,action:n}){return Tt({url:this.earthUrlsMap.initCrawlRequest,method:"POST",data:{mallId:t,mallName:r,action:n}})}};const nw=Object.freeze(Object.defineProperty({__proto__:null,CrawlLog:Uu,CrawlQueue:rw,CrawlSheinChoice:tw,CrawlTask:class{async run(){console.debug("sheinChoiceCrawlTask"),Jn.crawlQueue||(Jn.crawlQueue=new rw,await Ze.getItem("local:crawlDebug")&&(Jn.isDebug=!0));try{for(;;){const{ts:t,result:r}=await this.getTaskCode();if(console.debug("getSheinChoiceTaskCode",t),r==="success"){if(await Jn.crawlQueue.run(t)!==!0)throw new Error("返回不是true");await Ye(5*1e3)}else await Ye(3600*1e3)}}catch(t){Ze.setItem("local:bgTaskFail",`异常:${Date.now()}:${t==null?void 0:t.message}`)}}async getTaskCode(){return Tt({url:"http://plw.szchengji-inc.com/open/plugin/getBgTaskCode",method:"GET"})}},LOCAL_CRAWL_MALL_INFO_LIST:Xp,LOCAL_CRAWL_SHEIN_CHOICE_TAB_ID:ew,_globalCrawlData:Jn,ajaxSheinChoice:lo},Symbol.toStringTag,{value:"Module"})),Zp=Object.freeze(Object.defineProperty({__proto__:null,source:"temu"},Symbol.toStringTag,{value:"Module"})),Ft="https://erp.91miaoshou.com/api",eh="eprFee",sw="eprFeeRefund",qu="gmt_settlement",wL="returnWaybillFee",aw="tradeIncome",ow="freightIncome",iw="afterSalesRefund",lw="freightRefundAmount",uw="illegalDeduction",cw="otherFee",SL="shipWaybillFee",th="gmt_order_start",_L="afterSalesCompensationDeduction",TL="labelingServiceFee",CL="pickupServiceFee",xL="returnServiceFee",IL="returnGoodsSortingPackingFee",kL="postDiscountTax",OL="platformSubsidy",PL="taxRefund",AL="waybillFee",EL="refundQuantity",$L="local:temuAntiContent";async function Ct(e){let{mallId:t,url:r,data:n=null,retryTimes:s=0,antiContentStr:a}=e;const o=await ul({url:r,method:"POST",body:n&&JSON.stringify(n),headers:{Accept:"*/*","Anti-Content":a,"content-type":"application/json",Mallid:t}});return o.error_code&&(o.errorCode=o.error_code,o.errorMsg=o.error_msg),o.errorCode===40001&&(o.errorMsg||(o.errorMsg="登录过期，请重新登录")),o.errorCode===4000004&&(o.errorMsg||"").includes("请稍后重试")&&s<3?(await Ye(3e3),s++,await Ct({mallId:t,url:r,data:n,retryTimes:s,antiContentStr:a})):o}async function ia(e){let{mallId:t,url:r,data:n=null,retryTimes:s=0}=e;const a=await ul({url:r,method:"POST",body:n&&JSON.stringify(n),headers:{"content-type":"application/json;charset=UTF-8"}});return a.errorCode===40001&&(a.errorMsg||(a.errorMsg="登录过期，请重新登录")),a.errorCode===4000004&&(a.errorMsg||"").includes("请稍后重试")&&s<3?(console.debug("请求频繁，等待3s后重试..."),await Ye(3e3),s++,await ia({mallId:t,url:r,data:n,retryTimes:s})):a}function _t(e,t="seller"){return`${dw(t).host||""}${e}`}function RL(e){return`https://agentseller.temu.com${e}`}function la(e){return dw(e).name||""}function dw(e){return{seller:{name:"seller",host:"https://seller.kuajingmaihuo.com"},us:{name:"美国",host:"https://agentseller-us.temu.com"},global:{name:"全球",host:"https://agentseller.temu.com"},eu:{name:"欧区",host:"https://agentseller-eu.temu.com"}}[e]||{}}function LL(e){try{return JSON.parse(e)}catch{return{}}}function fw(e,t){let r=0,n=0;const s=[];for(const a in e)n++,s[r]=s[r]||{},s[r][a]=e[a],n===t&&(r++,n=0);return s}function pw(e){if(!e)return 0;let t=e.replace(/,/g,"").replace(/[^\d.-]/g,"");t.includes(".")||(t+=".00");const r=Number.parseFloat(t).toFixed(2);return il(r)?0:r}const rh="local:crawlMallInfoList",hw="local:crawlTabId";class Tn extends Error{constructor(r,n){super(r);me(this,"sleepSeconds");this.name=this.constructor.name,this.sleepSeconds=n,Error.captureStackTrace(this,this.constructor)}}const kr={isDebug:!1,crawlTabId:null,localData:{},crawlQueue:null};class Vu{constructor(t,r=null){me(this,"earthUrlsMap",{updateCrawlRequestStatus:`${Ft}/platform/pddkj/stat/crawl/update_crawl_request_status`,initCrawlRequestDetail:`${Ft}/platform/pddkj/stat/crawl/init_crawl_request_detail`});me(this,"mallId");me(this,"requestId");me(this,"crawlTaskKey");me(this,"crawlTaskNameAndRetKey");me(this,"crawlTaskNameAndLogKey");me(this,"crawlTaskObj",{});me(this,"crawlRequestIdAndTaskNameAndRetObj");me(this,"crawlRequestIdAndTaskNameAndLogObj");this.mallId=t,this.requestId=r,this.crawlTaskKey=`crawl_task_${this.mallId}`,this.crawlTaskNameAndRetKey=`crawl_task_ret_${this.mallId}`,this.crawlTaskNameAndLogKey=`crawl_task_log_${this.mallId}`}async init(){this.crawlTaskObj=await Yo(this.crawlTaskKey),this.crawlRequestIdAndTaskNameAndRetObj=await this.initCacheData(this.crawlTaskNameAndRetKey),this.crawlRequestIdAndTaskNameAndLogObj=await this.initCacheData(this.crawlTaskNameAndLogKey)}resetAllTaskCount(t){this.crawlTaskObj.status=null,this.crawlTaskObj.requestId=this.requestId,this.crawlTaskObj.allTaskCount=t,this.crawlTaskObj.finishTaskCount=0;for(const r in this.crawlRequestIdAndTaskNameAndRetObj){const n=this.crawlRequestIdAndTaskNameAndRetObj[r]||{};for(const s in n)n[s]&&n[s].result==="success"&&this.crawlTaskObj.finishTaskCount++}this.setItem(this.crawlTaskKey,this.crawlTaskObj)}incrFinishTaskCount(t){this.crawlTaskObj.finishTaskCount+=t,this.setItem(this.crawlTaskKey,this.crawlTaskObj)}async getCrawlInfo(){var u;const t={mallId:this.mallId,status:null,progressText:"",progressRate:""};(((u=kr.crawlQueue)==null?void 0:u.crawlQueueList)||[]).find(d=>`${d.mallId}`==`${this.mallId}`)&&(t.status="processing");const{requestId:s,currentTaskName:a,progressText:o,allTaskCount:i,finishTaskCount:l,status:c}=this.crawlTaskObj;return this.requestId&&`${this.requestId}`==`${s}`&&(t.progressText=`【${a}】：${o}`,t.progressRate=i>0?Math.floor(l/i*100):0,c==="success"?t.progressText="采集完成":c==="fail"&&(t.progressText=`采集部分失败：${t.reason||""}`)),console.debug("CrawlInfo",t),t}async updateRequestStatus(t,r){return Tt({url:this.earthUrlsMap.updateCrawlRequestStatus,method:"POST",data:{requestId:t,status:r.result,reason:r.reason}})}async saveRequestDetail(t,r){return Tt({url:this.earthUrlsMap.initCrawlRequestDetail,method:"POST",data:{requestId:t,desc:r}})}async initCacheData(t){const r=await Yo(t);let n={};for(const a in r)if(!this.requestId||`${this.requestId}`==`${a}`){n=r[a];break}const s={};return s[this.requestId]=n,s}setItem(t,r){this.requestId&&Su(t,r),this.sendToClientTab()}async sendToClientTab(){if(!kr.crawlTabId)return;const t=await this.getCrawlInfo();try{const r=await Ze.getItem(rh)||[],{mallId:n}=t,s=r.reduce((a,o)=>(`${o.id}`==`${n}`?a.push({...o,...t}):a.push(o),a),[]);Ze.setItem(rh,s)}catch(r){kr.crawlTabId=null,console.debug(r)}}isTaskSuccess(t,r){const n=this.crawlRequestIdAndTaskNameAndRetObj[this.requestId][t]||{};return!!(r&&n[r]&&n[r].result==="success"||n.result==="success")}async updateRequestRet(t){if(this.crawlTaskObj.status=t==null?void 0:t.result,this.crawlTaskObj.reason=t==null?void 0:t.reason,this.setItem(this.crawlTaskKey,this.crawlTaskObj),(await this.updateRequestStatus(this.requestId,t)).result!=="success")throw new Error(`更新采集结果:${t.reason}`)}async saveTaskSubTaskRet(t,r,n){this.crawlRequestIdAndTaskNameAndRetObj[this.requestId][t]||(this.crawlRequestIdAndTaskNameAndRetObj[this.requestId][t]={}),this.crawlRequestIdAndTaskNameAndRetObj[this.requestId][t][r]=n,this.setItem(this.crawlTaskNameAndRetKey,this.crawlRequestIdAndTaskNameAndRetObj);let s="";n.result==="success"?s="采集成功":s=`采集失败，原因：${n.reason}`,await this.updateTaskProgress(t,r+s)}async saveTaskRet(t,r){let n=t,s="";r.result==="success"?(n+="，采集成功",s="采集成功"):(n+=`，采集失败，原因：${r.reason}`,s=`采集失败，原因：${r.reason}`),await this.updateTaskProgress(t,s);const a=await this.saveRequestDetail(this.requestId,n);if(a.result!=="success")throw new Error(`保存采集详情失败:${a.reason}`);r.canRetry||this.incrFinishTaskCount(1),this.crawlRequestIdAndTaskNameAndRetObj[this.requestId][t]=r,this.setItem(this.crawlTaskNameAndRetKey,this.crawlRequestIdAndTaskNameAndRetObj)}startTask(t){this.crawlTaskObj.currentTaskName=t,this.crawlTaskObj.progressText="开始采集",this.setItem(this.crawlTaskKey,this.crawlTaskObj),this.debugLog(t,"开始采集")}updateTaskProgress(t,r){this.crawlTaskObj.currentTaskName=t,this.crawlTaskObj.progressText=r,this.setItem(this.crawlTaskKey,this.crawlTaskObj),this.debugLog(t,r)}async debugLog(t,r){kr.isDebug&&(this.crawlRequestIdAndTaskNameAndLogObj[this.requestId][t]||(this.crawlRequestIdAndTaskNameAndLogObj[this.requestId][t]=[]),this.crawlRequestIdAndTaskNameAndLogObj[this.requestId][t].push({date:gr(),desc:r}),this.setItem(this.crawlTaskNameAndLogKey,this.crawlRequestIdAndTaskNameAndLogObj))}}class mw{constructor({mallId:t,mallName:r,action:n,mallType:s,bindShopId:a,authAppNameList:o,startDate:i,endDate:l,requestId:c,antiContentStr:u,host:d}){me(this,"earthUrlsMap",{getShopWithBindMallList:`${Ft}/platform/pddkj/stat/crawl/get_crawl_shop_with_bind_mall_list`,bindTemuMall:`${Ft}/platform/pddkj/shop/shop/bind_pddkj_mall`,unbindTemuMall:`${Ft}/platform/pddkj/shop/shop/unbind_pddkj_mall`,uploadSettlement:`${Ft}/platform/pddkj/stat/crawl/upload_settlement_excel`,saveMallGmtLastRsyncSettlement:`${Ft}/platform/pddkj/stat/crawl/save_mall_gmt_last_rsync_settlement`,uploadSaleManageList:`${Ft}/platform/pddkj/stat/crawl/upload_sale_manage_list`,saveMallGmtLastRsyncSaleManage:`${Ft}/platform/pddkj/stat/crawl/save_mall_gmt_last_rsync_sale_manage`,uploadAfterSaleList:`${Ft}/platform/pddkj/stat/crawl/upload_after_sale_list`,saveMallGmtLastRsyncAfterSale:`${Ft}/platform/pddkj/stat/crawl/save_mall_gmt_last_rsync_after_sale`,initCrawlRequest:`${Ft}/platform/pddkj/stat/crawl/init_crawl_request`,updateCrawlRequestStatus:`${Ft}/platform/pddkj/stat/crawl/update_crawl_request_status`,initCrawlRequestDetail:`${Ft}/platform/pddkj/stat/crawl/init_crawl_request_detail`,getFullAccountName:`${Ft}/auth/account/get_full_account_name`,getAccountInfo:`${Ft}/auth/account/get_account_info`,createPddkjChoiceImportTask:`${Ft}/order/data/import_cost/createPddkjChoiceImportTask`,uploadProductSale:`${Ft}/platform/pddkj/stat/crawl/upload_product_sale`,uploadProductQualityScoreUrl:`${Ft}/platform/pddkj/stat/crawl/uploadProductQualityScore`,uploadLongTermActivityUrl:`${Ft}/platform/pddkj/stat/crawl/upload_long_term_activity`,uploadAppliedActivityUrl:`${Ft}/platform/pddkj/stat/crawl/upload_applied_activity`,getCrawlTaskUrl:`${Ft}/platform/pddkj/stat/crawl/upload_applied_activity`,uploadCustomizePic:`${Ft}/platform/pddkj/stat/crawl/upload_customize_pic`,uploadCustomizeGoodsList:`${Ft}/platform/pddkj/stat/crawl/upload_customize_goods_list`,batchAddGoodsRiskTags:`${Ft}/warehouse/pddkj_prepare_goods/batch_add_goods_risk_tags`,clearInvalidGoodsRiskTags:`${Ft}/warehouse/pddkj_prepare_goods/clear_invalid_goods_risk_tags`,getTimestamp:`${Ft}/home/home/getTimestamp`,createPddkjImportTask:`${Ft}/order/data/import_cost/createPddkjImportTask`,uploadProductSkuQualityScoreUrl:`${Ft}/platform/pddkj/stat/crawl/uploadProductSkuQualityScore`,saveAccountOverview:`${Ft}/platform/pddkj/stat/crawl/saveAccountOverview`,saveAccountWaitSettleAmount:`${Ft}/platform/pddkj_choice/stat/crawl/saveAccountWaitSettleAmount`,saveAccountLimitationOfFunds:`${Ft}/platform/pddkj/stat/crawl/saveAccountLimitationOfFunds`,savePddkjCrawlDataParseTask:`${Ft}/platform/pddkj/stat/crawl/savePddkjCrawlDataParseTask`});me(this,"earthChoiceUrlMap",{saveMallLastRsyncTime:`${Ft}/platform/pddkj_choice/stat/crawl/saveMallLastRsyncTime`,uploadProductList:`${Ft}/platform/pddkj_choice/stat/crawl/uploadProductList`,uploadSettlement:`${Ft}/platform/pddkj_choice/stat/crawl/uploadSettlementExcel`,saveCrawlWaitSettlementData:`${Ft}/platform/pddkj_choice/stat/crawl/saveCrawlWaitSettlementData`,uploadProductActivityPriceList:`${Ft}/platform/pddkj_choice/stat/crawl/uploadProductActivityPriceList`,uploadProductQualityScoreUrl:`${Ft}/platform/pddkj_choice/stat/crawl/uploadProductQualityScore`});me(this,"earthLocalUrlMap",{uploadLocalOrderSkuList:`${Ft}/platform/pddkj_local/stat/crawl/uploadLocalOrderSkuList`,uploadLocalOrderReport:`${Ft}/platform/pddkj_local/stat/crawl/uploadLocalOrderReport`,createPddkjLocalImportTask:`${Ft}/order/data/import_cost/createPddkjLocalImportTask`});me(this,"requestId");me(this,"mallId");me(this,"mallName");me(this,"action");me(this,"mallType");me(this,"bindShopId");me(this,"authAppNameList");me(this,"startDate");me(this,"endDate");me(this,"crawlLogObj",{});me(this,"antiContentStr");me(this,"host");this.requestId=c,this.mallId=t,this.mallName=r,this.action=n,this.mallType=s,this.bindShopId=a,this.authAppNameList=o||[],this.startDate=i,this.endDate=l,this.antiContentStr=u,this.host=d,(!this.startDate||!this.endDate)&&(this.startDate=Ve().subtract(30,"day").format("YYYY-MM-DD"),this.endDate=Ve().format("YYYY-MM-DD"))}async startCrawl(){console.debug("startCrawl");try{if(!this.mallId)throw new Error("店铺为空");if(!this.bindShopId)throw new Error("绑定店铺为空");if(!this.requestId)throw new Error("采集日志ID为空");if(this.crawlLogObj=new Vu(this.mallId,this.requestId),await this.crawlLogObj.init(),this.mallType==="pddkj")this.crawlLogObj.resetAllTaskCount(20),await this.startCrawlGoodsQuantityScoreDt(this.mallId,"eu"),await this.startCrawlGoodsQuantityScoreDt(this.mallId,"global"),await this.startCrawlGoodsQuantityScoreDt(this.mallId,"us"),await this.startCrawlLongTermActivityList(this.mallId),await this.startCrawlAppliedActivityList(this.mallId),await this.startCrawlSaleManage(this.mallId),await this.startRsyncRiskTag(this.mallId),await this.startRsyncCustomizeOrderSkuInfo(this.mallId,this.startDate,this.endDate),await this.startCrawlRegionSettlement(this.mallId,"us",this.startDate,this.endDate),await this.startCrawlRegionSettlement(this.mallId,"eu",this.startDate,this.endDate),await this.startCrawlRegionSettlement(this.mallId,"global",this.startDate,this.endDate),await this.startCrawlEprProxyPaymentServiceFee(this.mallId,"eu",this.startDate,this.endDate),await this.startCrawlEprFee(this.mallId,"eu",this.startDate,this.endDate),await this.startCrawlStockingPenalty(this.mallId,"global",this.startDate,this.endDate),await this.startCrawlQualityAccidentViolationDeduction(this.mallId,"global",this.startDate,this.endDate),await this.startCrawlBill(this.mallId,this.startDate,this.endDate),await this.startCrawlFulfillmentBill(this.mallId,1,this.startDate,this.endDate),await this.startCrawlFulfillmentBill(this.mallId,2,this.startDate,this.endDate),await this.startCrawlAccountOverview(this.mallId),await this.startCrawlFundFrozen(this.mallId);else if(this.mallType==="pddkjChoice"){const t={pddkjChoiceOrder:"us",pddkjChoiceEuOrder:"eu",pddkjChoiceGlobalOrder:"global"};this.crawlLogObj.resetAllTaskCount(8+this.authAppNameList.length*5),await this.startCrawlChoiceProductList(this.mallId),await this.startCrawlChoiceAppliedActivityList(this.mallId),await this.startCrawlChoicelongTermEnrollmentList(this.mallId),await this.startCrawlChoiceErpFee(this.mallId,this.startDate,this.endDate),await this.startRsyncRiskTag(this.mallId);for(const r of this.authAppNameList){const n=t[r];await this.startCrawlChoiceGoodsQuantityScoreDt(this.mallId,n),await this.startCrawlChoiceStmlLogistics(this.mallId,n,this.startDate,this.endDate),await this.startCrawlChoiceStmlReverseLogistics(this.mallId,n,this.startDate,this.endDate,1),await this.startCrawlChoiceStmlReverseLogistics(this.mallId,n,this.startDate,this.endDate,2),await this.startCrawlWaitSettlementData(this.mallId,n)}await this.startCrawlChoiceTransactionRevenue(this.mallId,this.startDate,this.endDate),await this.startCrawlAccountOverview(this.mallId),await this.startCrawlFundFrozen(this.mallId)}else if(this.mallType==="pddkjLocal")this.crawlLogObj.resetAllTaskCount(5),await this.startCrawlLocalOrderList(this.mallId,this.startDate,this.endDate),await this.startCrawlLocalOrderReport(this.mallId,this.startDate,this.endDate),await this.startCrawlLocalBillReport(this.mallId,this.startDate,this.endDate);else throw new Error(`店铺类型错误${this.mallType}`);await this.crawlLogObj.updateRequestRet(dr())}catch(t){if(this.crawlLogObj)await this.crawlLogObj.updateRequestRet(ir(Yt(t)));else throw t}}async startCrawlChoiceProductList(t){var s;const r="销售管理";if(this.crawlLogObj.isTaskSuccess(r))return;const n=kr;try{await this.crawlLogObj.startTask(r);const a=RL("/visage-agent-seller/product/skc/pageQuery"),o=20;let i=1,l=0,c=0;do{const u=await Ct({mallId:t,url:a,data:{page:i,pageSize:o},antiContentStr:this.antiContentStr});if(u.errorCode!==1e6)throw new Error(u.errorMsg);if(!u.result)break;const d=[];l||(l=((s=u.result)==null?void 0:s.total)||0,c=Math.max(1,Math.ceil(l/o)));const m=u.result,b=(m==null?void 0:m.pageItems)||[];for(const h of b){const{productId:v,productSkcId:y}=h||{},C={productId:v,productSkcId:y,productSkuSummaries:[]},_=h.productSkuSummaries;if(_)for(const S of _){const I={...oo(S,["productSkuId","extCode","supplierPrice","supplierPriceUS","siteSupplierPrices"]),currency:S.currencyType};C.productSkuSummaries.push(I)}d.push(C)}const g=await Tt({url:this.earthChoiceUrlMap.uploadProductList,method:"POST",data:{mallId:t,uploadDataList:JSON.stringify(d),filename:`${r}-第${i}页`,requestId:this.requestId,shopId:this.bindShopId}});if(g.result!=="success")throw new Error(g.reason);if(await this.crawlLogObj.updateTaskProgress(r,`第${i}/${c}页`),await Ye(3e3),n.isDebug&&i===2){this.crawlLogObj.debugLog(r,"debug模式只取两页");break}i++}while((i-1)*o<l);await this.saveMallLastRsyncTime(t,"productList"),await this.crawlLogObj.saveTaskRet(r,dr())}catch(a){await this.crawlLogObj.saveTaskRet(r,ir(Yt(a)))}}async startCrawlChoiceAppliedActivityList(t){var s,a;const r="店铺营销/报名记录/专题活动 活动申报价";if(this.crawlLogObj.isTaskSuccess(r))return;const n=kr;try{await this.crawlLogObj.startTask(r);const o=_t("/marvel-mms/cn/api/kiana/gambit/marketing/activity/product/applied/list"),i=10;let l=1,c=0,u=0;do{const d=await Ct({mallId:t,url:o,data:{pageNo:l,pageSize:i},antiContentStr:this.antiContentStr});if(d.errorCode!==1e6)throw new Error(d.errorMsg);if(!d.result)break;const m=[];c||(c=((s=d.result)==null?void 0:s.total)||0,u=Math.max(1,Math.ceil(c/i)));const b=d.result,g=(b==null?void 0:b.productList)||[];for(const v of g){const{productId:y,activityStartTime:C,activityEndTime:_,id:S,sessionStatus:x,skcList:I=[]}=v||{};for(const f of I){const P=f.skcId;for(const $ of f.skuList){const{skuId:q,currency:E,extCode:M}=$||{};let F=$.activityPrice,N=!1;if(Er($.sitePriceList))for(const H of $.sitePriceList)H.siteName==="美国站"&&(F=H.activityPrice,N=!0);Er($.sitePriceList)&&$.sitePriceList.length&&N===!1&&(F=(a=$.sitePriceList[0])==null?void 0:a.activityPrice);const R={productId:y,productSkcId:P,productSkuId:q,currency:E,extCode:M,activityPrice:F,activityStartTime:C,activityEndTime:_,activityId:S,sessionStatus:x};m.push(R)}}}const h=await Tt({url:this.earthChoiceUrlMap.uploadProductActivityPriceList,method:"POST",data:{mallId:t,uploadDataList:JSON.stringify(m),filename:`${r}-第${l}页`,requestId:this.requestId,shopId:this.bindShopId}});if(h.result!=="success")throw new Error(h.reason);if(await this.crawlLogObj.updateTaskProgress(r,`第${l}/${u}页`),await Ye(3e3),n.isDebug&&l===2){this.crawlLogObj.debugLog(r,"debug模式只取两页");break}l++}while((l-1)*i<c);await this.saveMallLastRsyncTime(t,"activityPrice"),await this.crawlLogObj.saveTaskRet(r,dr())}catch(o){await this.crawlLogObj.saveTaskRet(r,ir(Yt(o)))}}async startCrawlChoicelongTermEnrollmentList(t){var s;const r="店铺营销/报名记录/长期活动 活动申报价";if(this.crawlLogObj.isTaskSuccess(r))return;const n=kr;try{await this.crawlLogObj.startTask(r);const a=_t("/marvel-mms/cn/api/kiana/gambit/marketing/enroll/list"),o=50;let i=1,l=0,c=0,u=0;do{const d=await Ct({mallId:t,url:a,data:{pageNo:i,pageSize:o},antiContentStr:this.antiContentStr});if(d.errorCode!==1e6){if(i>1&&d.errorMsg==="Operation too frequent, please try again later"){if(u++,u>5)throw new Error(`${d.errorMsg} retry 5 times 合计${l} page=${i}`);await Ye(5e3*u);continue}throw new Error(d.errorMsg)}if(u=0,!d.result)break;const m=[];l||(l=((s=d.result)==null?void 0:s.total)||0,c=Math.max(1,Math.ceil(l/o)));const g=d.result.list??[];for(const v of g){const{productId:y,sessionStartTime:C,sessionEndTime:_,enrollId:S,sessionStatus:x,skcList:I=[]}=v||{};for(const f of I){const P=f.skcId;for(const $ of f.skuList){const{skuId:q,currency:E,extCode:M}=$||{};let F=$.activityPrice,N=!1;if(Er($.sitePriceList))for(const H of $.sitePriceList)H.siteName==="美国站"&&(F=H.activityPrice,N=!0);Er($.sitePriceList)&&$.sitePriceList.length&&N===!1&&(F=$.sitePriceList[0].activityPrice);const R={productId:y,productSkcId:P,productSkuId:q,currency:E,extCode:M,activityPrice:F,activityStartTime:C,activityEndTime:_,activityId:S,sessionStatus:x};m.push(R)}}}const h=await Tt({url:this.earthChoiceUrlMap.uploadProductActivityPriceList,method:"POST",data:{mallId:t,uploadDataList:JSON.stringify(m),filename:`${r}-第${i}页`,requestId:this.requestId,shopId:this.bindShopId}});if(h.result!=="success")throw new Error(h.reason);if(await this.crawlLogObj.updateTaskProgress(r,`第${i}/${c}页`),await Ye(5e3),n.isDebug&&i===2){this.crawlLogObj.debugLog(r,"debug模式只取两页");break}i++}while((i-1)*o<l);await this.saveMallLastRsyncTime(t,"activityPrice"),await this.crawlLogObj.saveTaskRet(r,dr())}catch(a){await this.crawlLogObj.saveTaskRet(r,ir(Yt(a)))}}async startCrawlChoiceErpFee(t,r,n){var o,i;const s="eu",a=`账户资金/EPR费用管理-${la(s)}`;if(!this.crawlLogObj.isTaskSuccess(a))try{const l=Date.now();await this.crawlLogObj.startTask(a),await this.loginMallAgent(t,s);let c=!1;const u={},d=[{taskType:18,taskTypeName:"商品环保费"},{taskType:19,taskTypeName:"物流包装环保费"}],m=[{exportType:2,exportTypeName:"已扣费"},{exportType:4,exportTypeName:"已退费"}];for(;!c;){if(Date.now()-l>3e5)throw new Tn("导出等待超时",300);c=!0;for(const b of this.groupBy30Days(r,n))for(const{taskType:g,taskTypeName:h}of d){const v=await this.getChoiceExportHistory(t,s,g);for(const{exportType:y,exportTypeName:C}of m){const _=h+C;if(this.crawlLogObj.isTaskSuccess(a,_))continue;const S=v.find(x=>`${x.exportType}`==`${y}`&&x.expireTime>Date.now()&&`${x.financeStartTime}`==`${b.start.getTime()}`&&`${x.financeEndTime}`==`${b.end.getTime()}`);if(S)if(+S.status==2){const x=_t("/api/merchant/file/export/download",s),I=await Ct({mallId:t,url:x,data:{taskType:g,id:S.id},antiContentStr:this.antiContentStr});if(I.errorMsg)throw new Error(I.errorMsg);if(!((o=I.result)!=null&&o.fileUrl))throw new Error("获取下载地址失败");const f=(i=I.result)==null?void 0:i.fileUrl;let P=[];y===2?P=[eh]:y===4&&(P=[sw]);const $={feeTypeList:P,gmtOrderDateStart:this.timestampTranDate(S.financeStartTime),gmtOrderDateEnd:this.timestampTranDate(S.financeEndTime),orderDateType:qu,shopId:this.bindShopId,file:await this.getFileBase64(f),filename:`${S.id}-${a}`,requestId:this.requestId},q=await Tt({url:this.earthUrlsMap.createPddkjChoiceImportTask,method:"POST",data:$});await this.crawlLogObj.saveTaskSubTaskRet(a,_,q)}else c=!1;else{c=!1;const x={exportType:y,taskType:g,financeStartTime:b.start.getTime(),financeEndTime:b.end.getTime()};if(!u[`${x.exportType}-${x.taskType}-${x.financeStartTime}-${x.financeEndTime}}`]){const I=_t("/api/merchant/file/export",s),f=await Ct({mallId:t,url:I,data:x,antiContentStr:this.antiContentStr});if(f.errorCode!==1e6&&f.errorMsg!=="导出任务已存在, 请勿重复创建, 请前往【导出历史】查看")throw new Error(f.errorMsg);u[`${x.taskType}-${x.taskType}-${x.financeStartTime}-${x.financeEndTime}}`]=!0}}}}await Ye(5e3)}await this.saveMallLastRsyncTime(t,"eprFee"),await this.crawlLogObj.saveTaskRet(a,dr())}catch(l){await this.crawlLogObj.saveTaskRet(a,ir(Yt(l)))}}async startCrawlChoiceGoodsQuantityScoreDt(t,r){const n=`品质分-${la(r)}`;try{if(this.crawlLogObj.isTaskSuccess(n))return;const s=r==="eu";await this.crawlLogObj.startTask(n),await this.loginMallAgent(t,r);const a=_t("/bg-luna-agent-seller/goods/quality/semiHosted/qualityScore/count",r),o=await Ct({mallId:t,url:a,data:{page:1,pageSize:10,qualityScoreEnum:2},antiContentStr:this.antiContentStr});if(o.errorCode!==1e6)throw new Error(o.errorMsg);const i=await Tt({url:this.earthUrlsMap.uploadProductQualityScoreUrl,method:"POST",data:{mallId:t,region:r,uploadDataList:JSON.stringify(o.result),filename:n,requestId:this.requestId,shopId:this.bindShopId}});if(i.result!=="success")throw new Error(i.reason);await this.saveMallLastRsyncTime(t,s?"goodsQuantityScore":"goodsQuantityScoreEu"),await this.crawlLogObj.saveTaskRet(n,dr())}catch(s){await this.crawlLogObj.saveTaskRet(n,ir(Yt(s)))}}async startCrawlChoiceStmlReverseLogistics(t,r,n,s,a){const o=`账户资金/退货面单费-${la(r)}-${a===1?"商家仓":"temu仓"}`;if(!this.crawlLogObj.isTaskSuccess(o))try{const i={},l=Date.now();let c=!1,u=!1;for(;!c;){if(Date.now()-l>3e5)throw new Tn("导出等待超时",300);c=!0,u||(await this.loginMallAgent(t,r),u=!0);const d=await this.queryStmlReverseLogisticsTask(t,r,a);for(const m of this.groupBy30Days(n,s)){const b={deductTypeList:[1,2,3],deductDesc:["支出","调整(支出)","调整(退款)"],deductTimeBegin:m.start.getTime(),deductTimeEnd:m.end.getTime(),rangeTime:`导出任务生成时间: ${this.timestampTranDate(m.start.getTime(),"YYYY-MM-DD")} ~ ${this.timestampTranDate(m.end.getTime(),"YYYY-MM-DD")}`},g=b.rangeTime;if(this.crawlLogObj.isTaskSuccess(o,g))continue;const h={ext:JSON.stringify(b)},v=d.find(y=>ao(LL(y.ext),b)&&Date.now()-new Date(y.createdAt).getTime()<24*3600*1e3&&!(y.isFinished&&!y.isSuccess));if(v)if(v.isFinished){const y=JSON.parse(v.ext),C={gmtOrderDateStart:this.timestampTranDate(y.deductTimeBegin),gmtOrderDateEnd:this.timestampTranDate(y.deductTimeEnd),feeTypeList:[wL],orderDateType:qu,shopId:this.bindShopId,file:await this.getFileBase64(v.downloadUrl),filename:`${v.id}-${o}`,requestId:this.requestId},_=await Tt({url:this.earthUrlsMap.createPddkjChoiceImportTask,method:"POST",data:C});await this.crawlLogObj.saveTaskSubTaskRet(o,g,_)}else c=!1;else if(c=!1,!i[`${b.deductTimeBegin}-${b.deductTimeEnd}`]){let y=_t("/portal/sunce/seller/center/bill/download/async",r);r==="us"&&(y=_t("/portal/udp/sunce/seller/center/bill/download/async",r)),a===2&&(y=_t("/portal/sunquan/seller/center/bill/download/async",r),r==="us"&&(y=_t("/portal/udp/sunquan/seller/center/bill/download/async",r))),await Ct({mallId:t,url:y,data:h,antiContentStr:this.antiContentStr}),i[`${b.deductTimeBegin}-${b.deductTimeEnd}`]=!0}}await Ye(1e4)}await this.saveMallLastRsyncTime(t,"stmlReverseLogistics"),await this.crawlLogObj.saveTaskRet(o,dr())}catch(i){await this.crawlLogObj.saveTaskRet(o,ir(Yt(i)))}}async queryStmlReverseLogisticsTask(t,r,n){var o;let s=_t("/portal/sunce/seller/center/bill/task/list",r);r==="us"&&(s=_t("/portal/udp/sunce/seller/center/bill/task/list",r)),n===2&&(s=_t("/portal/sunquan/seller/center/bill/task/list",r),r==="us"&&(s=_t("/portal/udp/sunquan/seller/center/bill/task/list",r)));const a=await Ct({mallId:t,url:s,data:{pageNum:1,pageSize:10},antiContentStr:this.antiContentStr});if(a.errorMsg)throw new Error(a.errorMsg);return((o=a.result)==null?void 0:o.excelCommonTaskList)||[]}async startCrawlChoiceStmlLogistics(t,r,n,s){const a=`账户资金/发货面单费-${la(r)}`;if(!this.crawlLogObj.isTaskSuccess(a))try{let o=!1,i=!1;const l={},c=Date.now();for(;!o;){if(Date.now()-c>3e5)throw new Tn("导出等待超时",300);o=!0,i||(await this.loginMallAgent(t,r),i=!0);const u=await this.queryStmlLogisticsTask(t,r);for(const d of this.groupBy30Days(n,s)){const m={req:{deductTimeBegin:d.start.getTime(),deductTimeEnd:d.end.getTime(),reconciliationTypeList:[1,2,3,5,6,7,8]},requestStr:JSON.stringify([{label:"账单类型",value:["支出","调整(支出)","调整(退款)","物流商赔偿款","揽收支出","揽收调整(支出)","揽收调整(退款)"]},`账单支出/退款时间: ${this.timestampTranDate(d.start.getTime(),"YYYY-MM-DD")} ~ ${this.timestampTranDate(d.end.getTime(),"YYYY-MM-DD")}`])},b=`${m.req.deductTimeBegin}-${m.req.deductTimeEnd}`;if(this.crawlLogObj.isTaskSuccess(a,b))continue;const g=u.find(h=>h.isFinished&&h.isSuccess&&h.taskId===l[b]);if(g)if(g.isFinished){let h=JSON.parse(g.requestStr);h=h[1].replace("账单支出/退款时间: ","").replaceAll(" ",""),h=h.split("~");const v=`${h[0]} 00:00:00`,y=`${h[1]} 23:59:59`,C={gmtOrderDateStart:v,gmtOrderDateEnd:y,feeTypeList:[SL],orderDateType:qu,shopId:this.bindShopId,file:await this.getFileBase64(g.downloadUrl),filename:`${g.taskId}-${a}-${b}`,requestId:this.requestId},_=await Tt({url:this.earthUrlsMap.createPddkjChoiceImportTask,method:"POST",data:C});await this.crawlLogObj.saveTaskSubTaskRet(a,b,_)}else o=!1;else if(o=!1,!l[b]){let h=_t("/portal/selene/seller/portal/recon/download",r);r==="us"&&(h=_t("/api/udp/yuanbenchu/seller_central/recon_bill/download/async",r));const v=await Ct({mallId:t,url:h,data:m,antiContentStr:this.antiContentStr});if(v.errorMsg)throw new Error(v.errorMsg);l[b]=v.result.taskId}}await Ye(1e4)}await this.saveMallLastRsyncTime(t,"stmlLogistics"),await this.crawlLogObj.saveTaskRet(a,dr())}catch(o){await this.crawlLogObj.saveTaskRet(a,ir(Yt(o)))}}async queryStmlLogisticsTask(t,r){let n=_t("/portal/selene/seller/portal/recon/download_list",r);r==="us"&&(n=_t("/api/udp/yuanbenchu/seller_central/recon_bill/task/info",r));const s=await Ct({mallId:t,url:n,data:{pageNum:1,pageSize:10},antiContentStr:this.antiContentStr});if(s.errorMsg)throw new Error(s.errorMsg);return s.result.excelCommonTaskList}async startCrawlChoiceTransactionRevenue(t,r,n){var a;const s="账户资金/对账中心/财务明细/财务详情 交易收入";if(!this.crawlLogObj.isTaskSuccess(s))try{const o=Date.now(),i={};let l=!1;for(;!l;){if(Date.now()-o>3e5)throw new Tn("导出等待超时",300);l=!0;const c=await this.getChoiceTransactionRevenueExportHistoryTaskList(t);for(const u of this.groupBy30Days(r,n)){const d=`${u.start.getTime()}-${u.end.getTime()}`;if(this.crawlLogObj.isTaskSuccess(s,d))continue;const m=c.find(b=>`${b.searchExportTimeBegin}`==`${u.start.getTime()}`&&`${b.searchExportTimeEnd}`==`${u.end.getTime()}`&&b.expireTime>Date.now()&&+b.status==2);if(m)for(const b of["seller","global","us","eu"]){let g={};if(b==="seller"){const x={taskType:19,id:m.id},I=_t("/api/merchant/file/export/download",b);g=await Ct({mallId:t,url:I,data:x,antiContentStr:this.antiContentStr})}else g=await this.getAgentBillFile(t,b,m);if(g.errorCode!==1e6)throw new Error(g.errorMsg);const h=(a=g.result)==null?void 0:a.fileUrl;if(!h)throw new Error("获取下载地址为空");const v=await this.getFileBase64(h),y=`${d}-${b}-${m.id}`;await Tt({url:this.earthUrlsMap.savePddkjCrawlDataParseTask,method:"POST",data:{mallId:t,region:b,platform:this.mallType,filename:y,file:v,requestId:this.requestId,fundType:"结算明细",fundStatus:3,gmtBillStart:this.timestampTranDate(u.start.getTime()),gmtBillEnd:this.timestampTranDate(u.end.getTime())}});const C={feeTypeList:[aw,iw,ow,lw,uw,cw],gmtOrderDateStart:this.timestampTranDate(m.searchExportTimeBegin),gmtOrderDateEnd:this.timestampTranDate(m.searchExportTimeEnd),orderDateType:qu,shopId:this.bindShopId,file:v,filename:y},_=await Tt({url:this.earthUrlsMap.createPddkjChoiceImportTask,method:"POST",data:C});await this.crawlLogObj.saveTaskSubTaskRet(s,d,_)}else if(l=!1,!i[d]){const b={fundDetailExport:!0,taskType:19,beginTime:u.start.getTime(),endTime:u.end.getTime()},g=_t("/api/merchant/file/export"),h=await Ct({mallId:t,url:g,data:b,antiContentStr:this.antiContentStr});if(h.errorMsg)throw new Error(h.errorMsg);i[d]=!0}}await Ye(5e3)}await this.saveMallLastRsyncTime(t,"bill"),await this.crawlLogObj.saveTaskRet(s,dr())}catch(o){await this.crawlLogObj.saveTaskRet(s,ir(Yt(o)))}}async startCrawlGoodsQuantityScoreDt(t,r){const n=`品质分-${la(r)}`;try{if(this.crawlLogObj.isTaskSuccess(n))return;const s=kr,a=r==="eu";await this.crawlLogObj.startTask(n),await this.loginMallAgent(t,r);let o=_t("/bg-luna-agent-seller/goods/quality/supplyChain/qualityScore/count",r);const i=await Ct({mallId:t,url:o,data:{page:1,pageSize:10,qualityScoreEnum:2},antiContentStr:this.antiContentStr});if(i.errorCode!==1e6)throw new Error(i.errorMsg);const l=await Tt({url:this.earthUrlsMap.uploadProductQualityScoreUrl,method:"POST",data:{mallId:t,region:r,isEu:a?1:0,uploadDataList:JSON.stringify(i.result),filename:n,requestId:this.requestId,shopId:this.bindShopId}});if(l.result!=="success")throw new Error(l.reason);o=_t("/bg-luna-agent-seller/goods/quality/supplyChain/qualityMetrics/pageQuery",r);for(const c of[1,2,3,4]){let u=1;const d=10;let m=0,b=0;do{const g=await Ct({mallId:t,url:o,data:{page:u,pageSize:d,qualityScoreEnum:c},antiContentStr:this.antiContentStr});if(g.errorCode!==1e6)throw new Error(g.errorMsg);if(!g.result)break;m||(m=g.result.total,b=Math.max(1,Math.ceil(m/d)));const v=g.result.pageItems,y=await Tt({url:this.earthUrlsMap.uploadProductSkuQualityScoreUrl,method:"POST",data:{mallId:t,region:r,qualityScoreEnum:c,uploadDataList:JSON.stringify(v)}});if(y.result!=="success")throw new Error(y.reason);await this.crawlLogObj.updateTaskProgress(n,`第${u}/${b}页`),await Ye(3e3),s.isDebug&&u===2&&this.crawlLogObj.debugLog(n,"debug模式只取两页"),u++}while((u-1)*d<m)}await this.saveMallLastRsyncTime(t,a?"goodsQuantityScore":"goodsQuantityScoreEu"),await this.crawlLogObj.saveTaskRet(n,dr())}catch(s){await this.crawlLogObj.saveTaskRet(n,ir(Yt(s)))}}async startCrawlLongTermActivityList(t){var s;const r="店铺营销/报名记录/长期活动 活动申报价";if(this.crawlLogObj.isTaskSuccess(r))return;const n=kr;try{await this.crawlLogObj.startTask(r);const a=_t("/marvel-mms/cn/api/kiana/gambit/marketing/enroll/list"),o=40;let i=1,l=0,c=0,u=0;do{const d=await Ct({mallId:t,url:a,data:{pageNo:i,pageSize:o,sessionStatusTag:3},antiContentStr:this.antiContentStr});if(d.errorCode!==1e6){if(i>1&&d.errorMsg==="Operation too frequent, please try again later"){if(u++,u>5)throw new Error(`${d.errorMsg} retry 5 times 合计${l} page=${i}`);await Ye(5e3*u);continue}throw new Error(d.errorMsg)}if(u=0,!d.result)break;const m=[];l||(l=((s=d.result)==null?void 0:s.total)||0,c=Math.max(1,Math.ceil(l/o)));const b=d.result,g=(b==null?void 0:b.list)||[];for(const v of g){const y=oo(v,["activityStock","remainingActivityStock","sessionEndTime","sessionStartTime","enrollId","productId","skcList"]);m.push(y)}const h=await Tt({url:this.earthUrlsMap.uploadLongTermActivityUrl,method:"POST",data:{mallId:t,uploadDataList:JSON.stringify(m),filename:`${r}-第${i}页`,requestId:this.requestId,shopId:this.bindShopId}});if(h.result!=="success")throw new Error(h.reason);if(await this.crawlLogObj.updateTaskProgress(r,`第${i}/${c}页`),await Ye(5e3),n.isDebug&&i===2){this.crawlLogObj.debugLog(r,"debug模式只取两页");break}i++}while((i-1)*o<l);await this.saveMallLastRsyncTime(t,"longTermActivity"),await this.crawlLogObj.saveTaskRet(r,dr())}catch(a){await this.crawlLogObj.saveTaskRet(r,ir(Yt(a)))}}async startCrawlAppliedActivityList(t){var s;const r="店铺营销/报名记录/专题活动 活动申报价";if(this.crawlLogObj.isTaskSuccess(r))return;const n=kr;try{await this.crawlLogObj.startTask(r);const a=_t("/marvel-mms/cn/api/kiana/gambit/marketing/activity/product/applied/list"),o=10;let i=1,l=0,c=0;do{const u=await Ct({mallId:t,url:a,data:{pageNo:i,pageSize:o,sessionStatusTag:3},antiContentStr:this.antiContentStr});if(u.errorCode!==1e6)throw new Error(u.errorMsg);if(!u.result)break;const d=[];l||(l=((s=u.result)==null?void 0:s.total)||0,c=Math.max(1,Math.ceil(l/o)));const m=u.result,b=(m==null?void 0:m.productList)||[];for(const h of b){const y={...oo(h,["id","productId","activityStock","activityStartTime","activityEndTime","skcList"]),remainingActivityStock:0};d.push(y)}const g=await Tt({url:this.earthUrlsMap.uploadAppliedActivityUrl,method:"POST",data:{mallId:t,uploadDataList:JSON.stringify(d),filename:`${r}-第${i}页`,requestId:this.requestId,shopId:this.bindShopId}});if(g.result!=="success")throw new Error(g.reason);if(await this.crawlLogObj.updateTaskProgress(r,`第${i}/${c}页`),await Ye(3e3),n.isDebug&&i===2){await this.crawlLogObj.debugLog(r,"debug模式只取两页");break}i++}while((i-1)*o<l);await this.saveMallLastRsyncTime(t,"appliedActivity"),await this.crawlLogObj.saveTaskRet(r,dr())}catch(a){await this.crawlLogObj.saveTaskRet(r,ir(Yt(a)))}}async startCrawlSaleManage(t){var s;const r="销售管理/申报价格+销量";if(this.crawlLogObj.isTaskSuccess(r))return;const n=kr;try{await this.crawlLogObj.startTask(r);const a=_t("/marvel-mms/cn/api/kiana/venom/sales/management/listWarehouse"),o=!0,i=20;let l=1,c=0,u=0;do{let d=await Ct({mallId:t,url:a,data:{isLack:0,pageNo:l,pageSize:i,priceAdjustRecentDays:7},antiContentStr:this.antiContentStr});const m=[];if(d.errorCode!==1e6)throw new Error(d.errorMsg);c||(c=((s=d.result)==null?void 0:s.total)||0,u=Math.max(1,Math.ceil(c/i)));const b=d.result,g=(b==null?void 0:b.subOrderList)||[];for(const h of g){const v=h.skuQuantityDetailList||[];let y=!1,C={};if(o){const x=[];for(const I of v)x.push(I.productSkuId),I.lastThirtyDaysSaleVolume>0&&(y=!0);if(y){const I=this.getPastDate(31),f=this.getPastDate(1);C=await this.getProductSkuIdAndDtSaleListMap(t,x,I,f),await Ye(300)}else{const I=[];for(let f=31;f>0;f--)I.push({date:this.getPastDate(f),sale:0});for(const f of x)C[f]=I}}const S={...oo(h,["productId","productSkcId","commentNum","mark","onSalesDurationOffline"]),skuQuantityDetailList:[]};for(const x of v){const I=oo(x,["productSkuId","className","supplierPrice","currencyType"]);o&&(I.dtSaleList=C[I.productSkuId]),S.skuQuantityDetailList.push(I)}m.push(S)}if(d=await Tt({url:this.earthUrlsMap.uploadSaleManageList,method:"POST",data:{mallId:t,isNeedRsyncProductSale:1,uploadDataList:JSON.stringify(m),requestId:this.requestId,filename:`${r}-第${l}页`,shopId:this.bindShopId}}),d.result!=="success")throw new Error(d.reason);if(await this.crawlLogObj.updateTaskProgress(r,`第${l}/${u}页`),await Ye(3e3),n.isDebug&&l===2){this.crawlLogObj.debugLog(r,"debug模式只取两页");break}l++}while((l-1)*i<c);await this.saveMallLastRsyncTime(t,"saleManage"),await this.crawlLogObj.saveTaskRet(r,dr())}catch(a){await this.crawlLogObj.saveTaskRet(r,ir(Yt(a)))}}async startRsyncCustomizeOrderSkuInfo(t,r,n){var o,i;const s="备货单定制品内容";if(this.crawlLogObj.isTaskSuccess(s))return;const a=kr;try{await this.crawlLogObj.startTask(s);for(const l of this.groupBy30Days(r,n)){const c=_t("/oms/bg/venom/api/supplier/purchase/manager/querySubOrderList"),u={beginTime:l.start.getTime(),endTime:l.end.getTime()},d="global",m=20;let b=1,g=0,h=0;await this.loginMallAgent(t,d);do{const v=await Ct({mallId:t,url:c,data:{pageNo:b,pageSize:m,purchaseTimeFrom:u.beginTime,purchaseTimeTo:u.endTime,oneDimensionSort:{firstOrderByDesc:1,firstOrderByParam:"createdAt"},isCustomGoods:!0},antiContentStr:this.antiContentStr});if(v.errorCode===1e6){g||(g=((o=v.result)==null?void 0:o.total)||0,h=Math.max(1,Math.ceil(g/m))),await this.crawlLogObj.updateTaskProgress(s,`第${b}/${h}页`);const y=v.result,C=(y==null?void 0:y.subOrderForSupplierList)||[],_=[];for(const S of C)S.subPurchaseOrderSn&&((i=S.subPurchaseOrderSn)==null?void 0:i.length)>0&&!_.includes(S.subPurchaseOrderSn)&&_.push(S.subPurchaseOrderSn);await this.rsyncCustomOrderSkuInfo(t,d,_)}else throw new Error(v.errorMsg);if(await Ye(3e3),a.isDebug&&b===2){console.warn("debug模式只取两页");break}b++}while((b-1)*m<g)}await this.saveMallLastRsyncTime(t,"customizeOrderSkuInfo"),await this.crawlLogObj.saveTaskRet(s,dr())}catch(l){await this.crawlLogObj.saveTaskRet(s,ir(Yt(l)))}}async startCrawlRegionSettlement(t,r,n,s){var o;const a=`结算数据-${la(r)}`;if(!this.crawlLogObj.isTaskSuccess(a))try{await this.crawlLogObj.startTask(a);const i=Date.now(),l=1,c=2,u=3,d={[l]:{type:l,desc:"待处理款项",breadcrumb:"结算数据/待结算/导出明细"},[c]:{type:c,desc:"结算中款项",breadcrumb:"结算数据/结算中/导出明细"},[u]:{type:u,desc:"已到账款项",breadcrumb:"结算数据/已到账/导出明细"}};await this.loginMallAgent(t,r);const m={};let b=!1;for(;!b;){if(Date.now()-i>3e5)throw new Tn("导出等待超时",300);b=!0;const g=await this.getSettlementExportHistoryTaskList(t,r);for(const h in d){let v=n,y=s;(+h===l||+h===c)&&(v=s,y=s);for(const C of this.groupBy30Days(v,y)){let _=this.timestampTranDate(C.start.getTime(),"YYYY-MM-DD"),S=this.timestampTranDate(C.end.getTime(),"YYYY-MM-DD");(+h===l||+h===c)&&(_=n,S=s);const x=`${_} ${S} ${d[h].desc}`;if(this.crawlLogObj.isTaskSuccess(a,x))continue;let I=g.find(f=>`${f.settleDataType}`==`${h}`&&f.status==2&&f.id==m[x]);if(I){await this.crawlLogObj.debugLog(a,`${x}:找到导出任务${JSON.stringify(I)}`);const f=_t("/api/merchant/file/export/download",r);let P=await Ct({mallId:t,url:f,data:{id:I.id,taskType:12},antiContentStr:this.antiContentStr});const $=(o=P.result)==null?void 0:o.fileUrl,q=`${a}-${x}-${I.id}`,E=await this.getFileBase64($);P=await Tt({url:this.earthUrlsMap.uploadSettlement,method:"POST",data:{taskId:I.id,fundType:I.settleDataType,mallId:t,gmtExportBegin:I.beginDate,gmtExportEnd:I.endDate,region:r,filename:q,file:E,requestId:this.requestId}}),await Tt({url:this.earthUrlsMap.savePddkjCrawlDataParseTask,method:"POST",data:{mallId:t,region:r,filename:q,platform:this.mallType,file:E,requestId:this.requestId,fundType:"结算明细",fundStatus:h,gmtBillStart:this.timestampTranDate(C.start.getTime()),gmtBillEnd:this.timestampTranDate(C.end.getTime())}}),await this.crawlLogObj.saveTaskSubTaskRet(a,x,P)}else if(b=!1,!m[x]){await this.crawlLogObj.debugLog(a,`${x}:创建导出`);const f=_t("/api/merchant/file/export",r),P={settleDataType:Number.parseInt(h),taskType:12};+h===u&&(P.beginDate=_,P.endDate=S);const $=await Ct({mallId:t,url:f,data:P,antiContentStr:this.antiContentStr});if($.errorMsg)throw new Error($.errorMsg);m[x]=$.result}}}await Ye(5e3)}await this.saveMallLastRsyncTime(t,"settlement"),await this.crawlLogObj.saveTaskRet(a,dr())}catch(i){await this.crawlLogObj.saveTaskRet(a,ir(Yt(i)))}}async startCrawlEprProxyPaymentServiceFee(t,r,n,s){var o;const a=`EPR代付服务费-已扣费-${la(r)}`;if(!this.crawlLogObj.isTaskSuccess(a))try{const i=Date.now();await this.crawlLogObj.startTask(a),await this.loginMallAgent(t,r);let l=!1;const c=16,u={};for(;!l;){if(Date.now()-i>3e5)throw new Tn("导出等待超时",300);l=!0;const d=await this.queryExportHistory(t,r,c);for(const m of this.groupBy30Days(n,s)){const b=this.timestampTranDate(m.start.getTime(),"YYYY-MM-DD"),g=this.timestampTranDate(m.end.getTime(),"YYYY-MM-DD"),h=`${b}-${g}`;if(this.crawlLogObj.isTaskSuccess(a,h))continue;const v=d.find(y=>`${y.financeDateStart}`==`${b}`&&`${y.financeDateEnd}`==`${g}`&&+y.status==2);if(v){const y=_t("/api/merchant/file/export/download",r);let C=await Ct({mallId:t,url:y,data:{id:v.id,taskType:c},antiContentStr:this.antiContentStr});const _=(o=C.result)==null?void 0:o.fileUrl,S=await this.getFileBase64(_),x=`${h}-${v.id}`;C=await Tt({url:this.earthUrlsMap.createPddkjImportTask,method:"POST",data:{feeTypeList:[eh],gmtOrderDateStart:m.start,gmtOrderDateEnd:m.end,orderDateType:th,shopId:this.bindShopId,filename:x,file:S,requestId:this.requestId}}),await Tt({url:this.earthUrlsMap.savePddkjCrawlDataParseTask,method:"POST",data:{mallId:t,region:r,filename:x,file:S,platform:this.mallType,requestId:this.requestId,fundType:"代付服务费",fundStatus:3,gmtBillStart:this.timestampTranDate(m.start.getTime()),gmtBillEnd:this.timestampTranDate(m.end.getTime())}}),await this.crawlLogObj.saveTaskSubTaskRet(a,h,C)}else if(l=!1,!u[h]){await this.crawlLogObj.debugLog(a,`${h}:创建导出`);const y=_t("/api/merchant/file/export",r),_=await Ct({mallId:t,url:y,data:{billingCycleList:[],taskType:c,financeDateStart:b,financeDateEnd:g},antiContentStr:this.antiContentStr});if(_.errorMsg)throw new Error(_.errorMsg);u[h]=!0}}await Ye(5e3)}await this.saveMallLastRsyncTime(t,"pddkj_eprFee"),await this.crawlLogObj.saveTaskRet(a,dr())}catch(i){await this.crawlLogObj.saveTaskRet(a,ir(Yt(i)))}}async startCrawlEprFee(t,r,n,s){const a=`EPR费用-${la(r)}`;if(!this.crawlLogObj.isTaskSuccess(a))try{const o=Date.now();await this.crawlLogObj.startTask(a),await this.loginMallAgent(t,r);let i=!1;const l={};for(;!i;){if(Date.now()-o>3e5)throw new Tn("导出等待超时",300);i=!0;for(const c of[18,19]){const u=await this.queryExportHistory(t,r,c);let d="商品环保费";c===19&&(d="物流包装环保费");for(const m of[1,2,4])for(const b of this.groupBy30Days(n,s)){const g=this.timestampTranDate(b.start.getTime(),"YYYY-MM-DD"),h=this.timestampTranDate(b.end.getTime(),"YYYY-MM-DD"),v=`${g}-${h}-${c}-${m}`;if(this.crawlLogObj.isTaskSuccess(a,v))continue;const y=u.find(C=>`${C.financeStartTime}`==`${b.start.getTime()}`&&`${C.financeEndTime}`==`${b.end.getTime()}`&&+C.status==2&&`${C.exportType}`==`${m}`);if(y){const C=_t("/api/merchant/file/export/download",r);let _=await Ct({mallId:t,url:C,data:{id:y.id,taskType:c},antiContentStr:this.antiContentStr});const S=_.result.fileUrl;let x=[eh];m===4&&(x=[sw]);const I=`${v}-${y.id}`,f=await this.getFileBase64(S);(m===2||m===4)&&(_=await Tt({url:this.earthUrlsMap.createPddkjImportTask,method:"POST",data:{feeTypeList:x,gmtOrderDateStart:this.timestampTranDate(b.start.getTime()),gmtOrderDateEnd:this.timestampTranDate(b.end.getTime()),orderDateType:th,shopId:this.bindShopId,filename:I,file:f,requestId:this.requestId}})),(m===1||m===2)&&(_=await Tt({url:this.earthUrlsMap.savePddkjCrawlDataParseTask,method:"POST",data:{mallId:t,region:r,filename:I,file:f,platform:this.mallType,requestId:this.requestId,fundType:d,fundStatus:m===2?3:1,gmtBillStart:this.timestampTranDate(b.start.getTime()),gmtBillEnd:this.timestampTranDate(b.end.getTime())}})),await this.crawlLogObj.saveTaskSubTaskRet(a,v,_)}else if(i=!1,!l[v]){await this.crawlLogObj.debugLog(a,`${v}:创建导出`);const C=_t("/api/merchant/file/export",r),_={exportType:m,taskType:c,financeStartTime:b.start.getTime(),financeEndTime:b.end.getTime()},S=await Ct({mallId:t,url:C,data:_,antiContentStr:this.antiContentStr});if(S.errorMsg)throw new Error(S.errorMsg);l[v]=!0}}}await Ye(5e3)}await this.saveMallLastRsyncTime(t,"pddkj_eprFee"),await this.crawlLogObj.saveTaskRet(a,dr())}catch(o){await this.crawlLogObj.saveTaskRet(a,ir(Yt(o)))}}async startCrawlStockingPenalty(t,r,n,s){const a="账户资金-违规信息-备货违规",o="备货违规";if(!this.crawlLogObj.isTaskSuccess(a))try{await this.crawlLogObj.startTask(a),await this.loginMallAgent(t,r);const l=[];for(const u of this.groupBy30Days(n,s)){const d=u.start.getTime(),m=u.end.getTime();let b=1;const g=50,h=0;let v=0;const y=[],C=_t("/mms/api/andes/punish/seller/queryPurchasePunishList",r);do{const S=await Ct({mallId:t,url:C,data:{pageNo:b,pageSize:g,punishTabCode:h,status:3,startDateFrom:d,startDateTo:m},antiContentStr:this.antiContentStr});if(S.errorMsg)throw new Error(S.errorMsg);const x=S.result,I=x.list;if(I)for(const f of I)y.push(f);v=x.total,b++,await Ye(2e3)}while(y.length<v);for(const _ of y)l.push(_)}const c=await Tt({url:this.earthUrlsMap.savePddkjCrawlDataParseTask,method:"POST",data:{mallId:t,region:r,file:"",platform:this.mallType,requestId:this.requestId,fundType:o,fundStatus:3,data:l,filename:a,gmtBillStart:n,gmtBillEnd:`${s} 23:59:59`}});if(c.result!=="success")throw new Error(c.reason);await this.saveMallLastRsyncTime(t,"stockingPenalty"),await this.crawlLogObj.saveTaskRet(a,dr())}catch(l){await this.crawlLogObj.saveTaskRet(a,ir(Yt(l)))}}async startCrawlQualityAccidentViolationDeduction(t,r,n,s){const a="账户资金-违规信息-质量事故违规",o="质量事故违规";if(!this.crawlLogObj.isTaskSuccess(a))try{await this.crawlLogObj.startTask(a),await this.loginMallAgent(t,r);const l=[];for(const u of this.groupBy30Days(n,s)){const d=u.start.getTime(),m=u.end.getTime();let b=1;const g=50,h=2;let v=0;const y=[],C=_t("/mms/api/andes/punish/seller/listPunishRecord",r);do{const S=await Ct({mallId:t,url:C,data:{pageNo:b,pageSize:g,punishTabCode:h,status:3,startDateFrom:d,startDateTo:m},antiContentStr:this.antiContentStr});if(S.errorMsg)throw new Error(S.errorMsg);const x=S.result,I=x.list;if(I)for(const f of I)y.push(f);v=x.total,b++,await Ye(2e3)}while(y.length<v);for(const _ of y)l.push(_)}const c=await Tt({url:this.earthUrlsMap.savePddkjCrawlDataParseTask,method:"POST",data:{mallId:t,region:r,file:"",platform:this.mallType,requestId:this.requestId,fundType:o,fundStatus:3,data:l,filename:a,gmtBillStart:n,gmtBillEnd:`${s} 23:59:59`}});if(c.result!=="success")throw new Error(c.reason);await this.saveMallLastRsyncTime(t,"qualityAccidentViolationDeduction"),await this.crawlLogObj.saveTaskRet(a,dr())}catch(l){await this.crawlLogObj.saveTaskRet(a,ir(Yt(l)))}}async startCrawlBill(t,r,n){const s="账务明细";if(!this.crawlLogObj.isTaskSuccess(s))try{await this.crawlLogObj.startTask(s);const a=Date.now();let o=!1;const i={};for(;!o;){if(Date.now()-a>3e5)throw new Tn("导出等待超时",300);o=!0;const l=await this.getChoiceTransactionRevenueExportHistoryTaskList(t);for(const c of this.groupBy30Days(r,n)){const u=`${c.start.getTime()}-${c.end.getTime()}`;if(this.crawlLogObj.isTaskSuccess(s,u))continue;const d=l.find(m=>`${m.searchExportTimeBegin}`==`${c.start.getTime()}`&&`${m.searchExportTimeEnd}`==`${c.end.getTime()}`&&+m.status==2);if(d)for(const m of["seller","global","us","eu"]){let b={};if(m==="seller"){const S={taskType:19,id:d.id},x=_t("/api/merchant/file/export/download",m);b=await Ct({mallId:t,url:x,data:S,antiContentStr:this.antiContentStr})}else b=await this.getAgentBillFile(t,m,d);if(b.errorCode!==1e6)throw new Error(b.errorMsg);const g=b.result.fileUrl;if(!g)throw new Error("获取下载地址为空");let h=`${s}-${u}-${m}-${d.id}`,v=await this.getFileBase64(g);const y={feeTypeList:[_L,TL,cw],gmtOrderDateStart:this.timestampTranDate(d.searchExportTimeBegin),gmtOrderDateEnd:this.timestampTranDate(d.searchExportTimeEnd),orderDateType:th,shopId:this.bindShopId,file:v,filename:h,requestId:this.requestId};await Tt({url:this.earthUrlsMap.savePddkjCrawlDataParseTask,method:"POST",data:{mallId:t,region:m,filename:h,platform:this.mallType,file:v,requestId:this.requestId,fundType:"结算明细",fundStatus:3,gmtBillStart:this.timestampTranDate(c.start.getTime()),gmtBillEnd:this.timestampTranDate(c.end.getTime())}});const C=await Tt({url:this.earthUrlsMap.createPddkjImportTask,method:"POST",data:y});await this.crawlLogObj.saveTaskSubTaskRet(s,u,C)}else if(o=!1,!i[u]){const m={fundDetailExport:!0,taskType:19,beginTime:c.start.getTime(),endTime:c.end.getTime()},b=_t("/api/merchant/file/export"),g=await Ct({mallId:t,url:b,data:m,antiContentStr:this.antiContentStr});if(g.errorMsg)throw new Error(g.errorMsg);i[u]=!0}}await Ye(5e3)}await this.saveMallLastRsyncTime(t,"bill"),await this.crawlLogObj.saveTaskRet(s,dr())}catch(a){await this.crawlLogObj.saveTaskRet(s,ir(Yt(a)))}}async startCrawlFulfillmentBill(t,r,n,s){let a="履约服务账单/已缴费数据";if(r===1&&(a="履约服务账单/待缴费数据"),!this.crawlLogObj.isTaskSuccess(a))try{await this.crawlLogObj.startTask(a);const o=Date.now();let i=!1;const l={},c=13,u="seller";for(;!i;){if(Date.now()-o>3e5)throw new Tn("导出等待超时",300);i=!0;const m=(await this.queryExportHistory(t,u,c)).find(b=>+b.status==2&&b.createTime>o);if(m){const b=_t("/api/merchant/file/export/download",u),g=await Ct({mallId:t,url:b,data:{id:m.id,taskType:c},antiContentStr:this.antiContentStr});if(g.errorCode!==1e6)throw new Error(g.errorMsg);const h=g.result.fileUrl;if(!h)throw new Error("获取下载地址为空");const v=await this.getFileBase64(h),y=`${m.fundTypeDesc}-${m.id}`;if(r===2){const C={feeTypeList:[CL,xL,IL],shopId:this.bindShopId,file:v,filename:y,requestId:this.requestId},_=await Tt({url:this.earthUrlsMap.createPddkjImportTask,method:"POST",data:C});await this.crawlLogObj.saveTaskSubTaskRet(a,"",_)}await Tt({url:this.earthUrlsMap.savePddkjCrawlDataParseTask,method:"POST",data:{mallId:t,region:u,file:"",platform:this.mallType,requestId:this.requestId,fundType:"履约服务账单明细",fundStatus:r===2?3:1,gmtBillStart:n,gmtBillEnd:s}})}else if(i=!1,!l[a]){const b={taskType:c,billStatus:r,mallId:t,pageNum:1,pageSize:20},g=_t("/api/merchant/file/express/export"),h=await Ct({mallId:t,url:g,data:b,antiContentStr:this.antiContentStr});if(h.errorMsg&&h.errorMsg!=="当前筛选条件的导出任务已创建, 请勿重复创建")throw new Error(h.errorMsg);l[a]=!0}await Ye(5e3)}await this.saveMallLastRsyncTime(t,"fulfillmentBill"),await this.crawlLogObj.saveTaskRet(a,dr())}catch(o){await this.crawlLogObj.saveTaskRet(a,ir(Yt(o)))}}async getSettlementExportHistoryTaskList(t,r){var a;const n=_t("/api/merchant/file/export/history/page",r);return((a=(await Ct({mallId:t,url:n,data:{pageNum:1,pageSize:10,taskType:12},antiContentStr:this.antiContentStr})).result)==null?void 0:a.merchantMerchantFileExportHistoryList)||[]}async rsyncCustomOrderSkuInfo(t,r,n){var u;if(!n||n.length===0)return;const s=kr,a=_t("/bg-luna-agent-seller/product/customizeSku/pageQuery",r),o=20;let i=1,l=0,c=0;do{const d=await Ct({mallId:t,url:a,data:{page:i,pageSize:o,subPurchaseOrderSns:n},antiContentStr:this.antiContentStr}),m=[];if(d.errorCode===1e6){l||(l=((u=d.result)==null?void 0:u.total)||0,c=Math.max(1,Math.ceil(l/o)));const b=d.result,g=(b==null?void 0:b.pageItems)||[];for(const h of g){const v=await this.buildCustomizeUploadData(t,h);m.push(v)}if(m.length>0){await this.replaceCustomizePicUrlWithFetchInfo(m),await this.replaceCustomizePicFetchInfoWithUploadUrlEntity(m);const h=await Tt({url:this.earthUrlsMap.uploadCustomizeGoodsList,method:"POST",data:{data:JSON.stringify(m),requestId:this.requestId,filename:`备货单定制品内容-${i}`,shopId:this.bindShopId}});if(h.result!=="success")throw new Error(h.reason)}}else throw new Error(d.errorMsg);if(console.debug(`采集定制品内容，${i}/${c}页完成`),await Ye(3e3),s.isDebug&&i===2){console.warn("debug模式只取两页");break}i++}while((i-1)*o<l)}async replaceCustomizePicFetchInfoWithUploadUrlEntity(t){const r=qf(t,2),n=async(s,a)=>{const o=[];for(const i of s)for(const l in i[a]){const c=i[a][l],u=new Promise((d,m)=>{(async()=>{try{const b=await Tt({url:this.earthUrlsMap.uploadCustomizePic,method:"POST",data:{ext:c.ext,sku:i.customProductSkuId,mallId:i.mallId,file:c.base64}});if(b.result!=="success")throw new Error(b.reason);i[a][l]=b.entity}catch(b){m(Yt(b))}d(!0)})()});o.push(u)}await Promise.all(o)};for(const s of r)await n(s,"originalImgUrls"),await n(s,"previewImgUrls"),await n(s,"regionImgUrls")}async buildCustomizeUploadData(t,r){var d,m,b,g,h,v;const n=r.subPurchaseOrderSnList,s=r.personalProductSkuId,a=(d=r.productSkuCustomization)==null?void 0:d.customizationTmplSurfaces,o=((m=r.productSkuCustomization)==null?void 0:m.customizedPreviewItems)||[],i=[],l=[],c=[];let u=null;for(const y of o){if(`${y.previewType}`=="3"){i.push(y.imageUrlDisplay),u=y.customizedText;continue}if(`${y.previewType}`=="1"){l.push(y.imageUrlDisplay);for(const C of a)for(const _ of(C==null?void 0:C.regions)||[]){const S=`${y.imageUrlDisplay}&imageMogr2/cut/${(b=_.dimension)==null?void 0:b.width}x${(g=_.dimension)==null?void 0:g.height}x${(h=_.position)==null?void 0:h.x}x${(v=_.position)==null?void 0:v.y}`;c.push(S)}continue}}return{mallId:t,subPurchaseOrderSns:n,customProductSkuId:s,originalImgUrls:i,previewImgUrls:l,regionImgUrls:c,customText:u}}async replaceCustomizePicUrlWithFetchInfo(t){const r={},n=[];for(const o of t)n.push(...o.originalImgUrls,...o.previewImgUrls,...o.regionImgUrls);const s=qf(n,10);for(const o of s){const i=[];for(const l of o){const c=new Promise((u,d)=>{(async()=>{try{const m=l.substring(l.lastIndexOf(".")+1).toLowerCase().split("?")[0],b=await this.fetchSkuCustomizePic(l);b&&(r[l]={base64:b,ext:m}),u(!0)}catch(m){d(Yt(m))}})()});i.push(c)}await Promise.all(i)}const a=(o,i)=>{const l=[];for(const c of o[i])r[c]&&l.push(r[c]);o[i]=l};for(const o of t)a(o,"originalImgUrls"),a(o,"previewImgUrls"),a(o,"regionImgUrls")}async fetchSkuCustomizePic(t){let r=null;try{r=await fetch(t)}catch{const a="采集图片失败，尝试切换合适的网络环境后再进行操作";throw new Error(a)}if(!r||!r.ok)return!1;const n=await r.blob();return await new Promise(a=>{const o=new FileReader;o.onload=function(i){var c;let l=(c=i==null?void 0:i.target)==null?void 0:c.result;if(l&&l.indexOf("base64,")>0)l=l.split("base64,")[1];else{let d=(JSON.parse(l)||{}).message;if(d)throw d.includes("Too many request")&&(d="请求获取定制品图片接口过于频繁，请稍后再试"),new Error(d)}a(l)},o.readAsDataURL(n)})}getPastDate(t){return Ve().subtract(t,"day").format("YYYY-MM-DD")}async getProductSkuIdAndDtSaleListMap(t,r,n,s){const a=_t("/oms/bg/venom/api/supplier/sales/management/querySkuSalesNumber"),o=await Ct({mallId:t,url:a,data:{endDate:s,startDate:n,productSkuIds:r},antiContentStr:this.antiContentStr});if(o.errorCode!==1e6)throw new Error(o.errorMsg);const i={};for(const l of o.result||[])i[l.prodSkuId]||(i[l.prodSkuId]=[]),i[l.prodSkuId].push({date:l.date,sale:l.salesNumber});return i}async getChoiceTransactionRevenueExportHistoryTaskList(t){var s;const r=_t("/api/merchant/file/export/history/page"),n=await Ct({mallId:t,url:r,data:{pageNum:1,pageSize:10,taskType:19},antiContentStr:this.antiContentStr});if(n.errorMsg)throw new Error(n.errorMsg);return((s=n.result)==null?void 0:s.merchantMerchantFileExportHistoryList)||[]}async getAgentBillFile(t,r,n){await this.loginMallAgent(t,r);const s=31;let a={taskType:s,params:n.agentSellerExportParams,sign:n.agentSellerExportSign},o=_t("/api/merchant/file/export",r),i=await Ct({mallId:t,url:o,data:a,antiContentStr:this.antiContentStr});if(i.errorMsg&&i.errorMsg!=="导出任务已存在, 请勿重复创建, 请前往【导出历史】查看")throw new Error(i.errorMsg);const l=i.result,c=Date.now();i={};do{if(a={id:l,taskType:s},o=_t("/api/merchant/file/export/download",r),i=await Ct({mallId:t,url:o,data:a,antiContentStr:this.antiContentStr}),i.errorCode===1e6)break;if(i.errorMsg!=="导出任务未完成")throw new Error(i.errorMsg);if(await Ye(5e3),Date.now()-c>3e5)throw new Tn("导出等待超时",300)}while(!0);return i}async saveMallLastRsyncTime(t,r){return await Tt({url:this.earthChoiceUrlMap.saveMallLastRsyncTime,method:"POST",data:{mallId:t,rsyncType:r}})}async loginMallAgent(t,r){var l;let n=_t("/bg/quiet/api/auth/obtainCode");const s=await Ct({mallId:t,url:n,data:{redirectUrl:_t("/main/authentication",r)},antiContentStr:this.antiContentStr});if(s.errorCode!==1e6)throw new Error(`自动登录卖家中心失败1:${s.errorMsg}`);n=_t("/api/seller/auth/loginByCode",r);const a={code:(l=s.result)==null?void 0:l.code,confirm:!0,targetMallId:t},o=2;let i=0;for(;i<o;)try{const c=await Ct({mallId:t,url:n,data:a,antiContentStr:this.antiContentStr});if(c.errorCode!==1e6)throw new Error(`自动登录卖家中心失败:${c.errorMsg}`===void 0?JSON.stringify(c):c.errorMsg);return}catch(c){if(i++,i<o)await Ye(3e3);else throw new Error(`自动登录卖家中心失败e:${Yt(c)}`)}}async startRsyncRiskTag(t){await this.loginMallAgent(t,"global");const r={};await this.startRsyncCompliantLivePhotos(r,t),await this.startRsyncComplianceProperty(r,t),await this.uploadSpuRiskTags(r),await this.saveMallLastRsyncTime(t,"riskTag")}async startRsyncCompliantLivePhotos(t,r){var a,o;const n="合规中心/商品实拍图";if(this.crawlLogObj.isTaskSuccess(n))return;const s=kr;try{await this.crawlLogObj.startTask(n);const i=_t("/api/flash/real_picture/list","global"),l=20;let c=1,u=0,d=0;do{const m=await Ct({mallId:r,url:i,data:{page:c,page_size:l},antiContentStr:this.antiContentStr});if(m.errorCode!==1e6)throw new Error(m.errorMsg);u||(u=Math.min(200,((a=m.result)==null?void 0:a.total)||0),d=Math.max(1,Math.ceil(u/l)));const b=((o=m.result)==null?void 0:o.items)||[];for(const g of b)this.addSpuRiskTag(t,g.spu_id,40001);if(await this.crawlLogObj.updateTaskProgress(n,`第${c}/${d}页`),await Ye(3e3),s.isDebug&&c===2){this.crawlLogObj.debugLog(n,"debug模式只取两页");break}c++}while((c-1)*l<u);await this.crawlLogObj.saveTaskRet(n,dr())}catch(i){await this.crawlLogObj.saveTaskRet(n,ir(Yt(i)))}}async startRsyncComplianceProperty(t,r){var a,o;const n="合规中心/商品合规信息";if(this.crawlLogObj.isTaskSuccess(n))return;const s=kr;try{this.crawlLogObj.startTask(n);const i=_t("/ms/bg-flux-ms/compliance_property/page_query","global"),l=20;let c=1,u=0,d=0;do{const m=await Ct({mallId:r,url:i,data:{page_num:c,page_size:l,type:2},antiContentStr:this.antiContentStr});if(m.errorCode!==1e6)throw new Error(m.errorMsg);u||(u=Math.min(200,((a=m.result)==null?void 0:a.total)||0),d=Math.max(1,Math.ceil(u/l)));const b=((o=m.result)==null?void 0:o.data)||[];for(const g of b)this.addSpuRiskTag(t,g.spu_id,40001);if(this.crawlLogObj.updateTaskProgress(n,`第${c}/${d}页`),await Ye(3e3),s.isDebug&&c===2){this.crawlLogObj.debugLog(n,"debug模式只取两页");break}c++}while((c-1)*l<u);await this.crawlLogObj.saveTaskRet(n,dr())}catch(i){await this.crawlLogObj.saveTaskRet(n,ir(Yt(i)))}}async uploadSpuRiskTags(t){const n=(await Tt({url:this.earthUrlsMap.getTimestamp,method:"GET"})).timestamp,s=fw(t,50);for(const a of s)await Tt({url:this.earthUrlsMap.batchAddGoodsRiskTags,method:"POST",data:{productIdAndTagValuesMap:a,batchAddTimestamp:n,filename:"风险标签",requestId:this.requestId,shopId:this.bindShopId}});await Tt({url:this.earthUrlsMap.clearInvalidGoodsRiskTags,method:"POST",data:{batchAddTimestamp:n}})}addSpuRiskTag(t,r,n){if(r&&n){if(!t[r])t[r]=[];else if(t[r].includes(n))return;t[r].push(n)}}groupBy30Days(t,r){const n=[];r=new Date(r);let s=new Date(t);for(s.setHours(0,0,0);s<=r;){let a=new Date(s);if(a.setDate(a.getDate()+30),a>r&&(a=r),a.setHours(23,59,59),s.getTime()===a.getTime())break;const o={start:new Date(s),end:a};n.push(o),s=new Date(s),s.setDate(s.getDate()+31)}return n}async getChoiceExportHistory(t,r,n){var o;const s=_t("/api/merchant/file/export/history/page",r),a=await Ct({mallId:t,url:s,data:{pageNum:1,pageSize:20,taskType:n},antiContentStr:this.antiContentStr});if(a.errorMsg)throw new Error(a.errorMsg);return((o=a.result)==null?void 0:o.merchantMerchantFileExportHistoryList)||[]}timestampTranDate(t,r="YYYY-MM-DD HH:mm:ss"){let n="";switch(typeof t){case"string":il(t)||(n=Ve(+t).format(r||"YYYY-MM-DD"),(n.includes("1970")||+t<5e3)&&(n=Ve(t).format(r||"YYYY")),t=n);break;case"number":t=Ve(t).format(r||"YYYY-MM-DD");break;case"object":if(Er(t))for(let s=0;s<t.length;s++)il(t[s])||(n=Ve(+t[s]).format(r||"YYYY-MM-DD"),(n.includes("1970")||+t[s]<5e3)&&(n=Ve(t[s]).format(r||"YYYY")),t[s]=n);break}return t}async getFileBase64(t){if(!t)return"";const n=await(await fetch(t)).blob();return await this.transBlobToBase64(n)}transBlobToBase64(t){return new Promise(r=>{const n=new FileReader;n.onload=function(s){var o;let a=(o=s==null?void 0:s.target)==null?void 0:o.result;a&&a.indexOf("base64,")>0&&(a=a.split("base64,")[1]),r(a)},n.readAsDataURL(t)})}async queryExportHistory(t,r,n,s=0){var c;const a=_t("/api/merchant/file/export/history/page",r),o=await Ct({mallId:t,url:a,data:{pageNum:1,pageSize:20,taskType:n},antiContentStr:this.antiContentStr});if(o.errorMsg)throw new Error(o.errorMsg);const i=((c=o.result)==null?void 0:c.merchantMerchantFileExportHistoryList)||[],l=[];for(const u of i){const{status:d}=u;if(+d==1){if(await Ye(5e3),s++,s>60)throw new Tn("导出任务超时",300);return await this.queryExportHistory(t,r,n,s)}+d==2&&l.push(u)}return l}async startCrawlLocalOrderList(t,r,n){var o,i;const s="订单/管理订单";if(this.crawlLogObj.isTaskSuccess(s))return;const a=kr;try{n=new Date(n),n.setHours(23,59,59),r=new Date(r),r.setHours(0,0,0),this.crawlLogObj.startTask(s);const l=[];for(const b of[1,2,3,4]){let g=1;const h=10;let v=0,y=0;do{const C=await ia({mallId:t,url:`${this.host}/mms/kirogi/local/recentOrderList`,data:{packageAbnormalTypeList:[],pageNumber:g,pageSize:h,parentOrderTimeEnd:n.getTime()/1e3,parentOrderTimeStart:r.getTime()/1e3,queryType:b,sortType:1}});if(C.success!==!0)throw new Error(C.errorMsg);v||(v=Math.min(200,(o=C.result)==null?void 0:o.totalItemNum),y=Math.max(1,Math.ceil(v/h)));const _=((i=C.result)==null?void 0:i.pageItems)||[];for(const x of _){const f=x.parentOrderMap.poCurrencyExchangeInfo.storeSettlementCurrency;for(const P of x.orderList)l.push({orderSn:P.orderSn,orderSkuId:P.skuId,orderProductId:P.goodsId,localOrderStatus:P.localOrderStatus,goodsRetailPrice:pw(P.goodsRetailPrice),goodsBasePrice:pw(P.goodsBasePrice),quantity:P.quantity,shippedQuantity:P.shippedQuantity,currency:f})}let S;switch(b){case 4:S="已发货";break;case 3:S="已取消";break;case 2:S="未发货";break;case 1:S="平台处理中";break}if(this.crawlLogObj.updateTaskProgress(s,`${S} 第${g}/${y}页`),await Ye(3e3),a.isDebug&&g===2){this.crawlLogObj.debugLog(s,"debug模式只取两页");break}g++}while((g-1)*h<v)}const u=(await Tt({url:this.earthUrlsMap.getTimestamp,method:"GET"})).timestamp,d=fw(l,50);let m=0;for(const b of d)await Tt({url:this.earthLocalUrlMap.uploadLocalOrderSkuList,method:"POST",data:{shopId:this.bindShopId,orderSkuList:b,batchAddTimestamp:u,requestId:this.requestId,filename:`${s}-${m}`}}),m++;await this.saveMallLastRsyncTime(t,"localOrder"),await this.crawlLogObj.saveTaskRet(s,dr())}catch(l){await this.crawlLogObj.saveTaskRet(s,ir(Yt(l)))}}async startCrawlLocalOrderReport(t,r,n){var a;const s="订单/订单报告";if(!this.crawlLogObj.isTaskSuccess(s))try{const o=Date.now();this.crawlLogObj.startTask(s);let i=!1;for(n=new Date(n),n.setHours(23,59,59),r=new Date(r),r.setHours(0,0,0);!i;){if(Date.now()-o>3e5)throw new Tn("导出等待超时",300);i=!0;const c=(await this.getLocalOrderExportTaskList(t)).find(u=>new Date(u.jobApplyTimeStr).getTime()>o&&`${u.jobStatus}`=="1");if(c){const u=await ia({mallId:t,url:`${this.host}/mms/kirogi/local/export/task/download`,data:{jobId:c.jobId}});if(u.success!==!0)throw new Error(u.errorMsg);const d=(a=u.result)==null?void 0:a.downloadUrl;if(!d)throw new Error("获取下载地址为空");const m={gmtOrderDateStart:this.timestampTranDate(r),gmtOrderDateEnd:this.timestampTranDate(n),shopId:this.bindShopId,file:await this.getFileBase64(d)};await Tt({url:this.earthLocalUrlMap.uploadLocalOrderReport,method:"POST",data:m})}else{i=!1;const u={parentOrderStatusList:[1,2,4,41,5,51,3],parentOrderTimeEnd:n.getTime()/1e3,parentOrderTimeStart:r.getTime()/1e3},d=`${this.host}/mms/kirogi/local/export/addOrdersExportTask`,m=await ia({mallId:t,url:d,data:u});if(m.success!==!0)throw new Error(m.errorMsg)}await Ye(5e3)}await this.saveMallLastRsyncTime(t,"bill"),await this.crawlLogObj.saveTaskRet(s,dr())}catch(o){await this.crawlLogObj.saveTaskRet(s,ir(Yt(o)))}}getThreeDaysAgoLastSecond(){const t=new Date,r=new Date(t);return r.setDate(r.getDate()-3),r.setHours(23,59,59),r}async startCrawlLocalBillReport(t,r,n){var a;const s="财务/报告库";if(!this.crawlLogObj.isTaskSuccess(s))try{const o=Date.now();this.crawlLogObj.startTask(s);let i=!1;const l={};n=new Date(n),n.setHours(23,59,59);const c=this.getThreeDaysAgoLastSecond();for(n.getTime()>c.getTime()&&(n=c),r=new Date(r),r.setHours(0,0,0);!i;){if(Date.now()-o>3e5)throw new Tn("导出等待超时",300);i=!0;const d=(await this.getLocalBillExportTaskList(t)).find(m=>`${m.end_time_stamp}`==`${n.getTime()}`&&`${m.start_time_stamp}`==`${r.getTime()}`&&`${m.status}`=="1");if(d){const m=await ia({mallId:t,url:`${this.host}/mms/statement/export/task/result`,data:{flowId:d.flow_id}});if(m.success!==!0)throw new Error(m.error_msg);const b=(a=m.result)==null?void 0:a.file_url;if(!b)throw new Error("获取下载地址为空");const g={feeTypeList:[aw,ow,kL,OL,iw,AL,uw,lw,PL,EL],shopId:this.bindShopId,file:await this.getFileBase64(b),filename:d.flow_id,gmtOrderDateStart:this.timestampTranDate(r.getTime()),gmtOrderDateEnd:this.timestampTranDate(n.getTime())};await Tt({url:this.earthLocalUrlMap.createPddkjLocalImportTask,data:g,method:"POST"})}else if(i=!1,!l[s]){const m={beginCreateTime:r.getTime(),endCreateTime:n.getTime()},b=`${this.host}/mms/statement/export/task/create`,g=await ia({mallId:t,url:b,data:m});if(g.success!==!0)throw new Error(g.error_msg);l[s]=!0}await Ye(5e3)}await this.saveMallLastRsyncTime(t,"bill"),await this.crawlLogObj.saveTaskRet(s,dr())}catch(o){await this.crawlLogObj.saveTaskRet(s,ir(Yt(o)))}}async getLocalBillExportTaskList(t){const r=`${this.host}/mms/statement/export/task/list`,n=await ia({mallId:t,url:r,data:{page:1,size:10}});if(n.success!==!0)throw new Error(n.errorMsg);return n.result.export_task_list}async getLocalOrderExportTaskList(t){const r=`${this.host}/mms/kirogi/local/export/listOrdersExportTask`,n=await ia({mallId:t,url:r,data:{pageNumber:1,pageSize:10}});if(n.success!==!0)throw new Error(n.errorMsg);return n.result.pageItems}async startCrawlAccountOverview(t){const r="账户资金/资金中心-货款账户";if(!this.crawlLogObj.isTaskSuccess(r))try{await this.crawlLogObj.startTask(r);const n=_t("/api/merchant/payment/account/amount/info");let s=await Ct({mallId:t,url:n,data:{},antiContentStr:this.antiContentStr});if(s.errorCode!==1e6)throw new Error(s.errorMsg);const{currency:a,totalAmount:o,availableBalance:i,mallDepositLimitAmount:l}=s.result||{},c={mallId:t,shopId:this.bindShopId,requestId:this.requestId,region:"seller",totalAmount:o,availableAmount:i,accountReservedAmount:l,currency:a};if(s=await Tt({url:this.earthUrlsMap.saveAccountOverview,method:"POST",data:c}),s.result!=="success")throw new Error(s.reason);await this.saveMallLastRsyncTime(t,"accountOverview"),await this.crawlLogObj.saveTaskRet(r,dr())}catch(n){await this.crawlLogObj.saveTaskRet(r,ir(Yt(n)))}}removeCurrencyUnit(t){return t.replace(/[^\d.-]/g,"")}async startCrawlFundFrozen(t){var n;const r="账户资金/资金限制";if(!this.crawlLogObj.isTaskSuccess(r))try{await this.crawlLogObj.startTask(r);for(const s of["global","us","eu"]){await this.loginMallAgent(t,s);const a=_t("/api/merchant/fund-frozen/rules",s);let o=await Ct({mallId:t,url:a,data:{},antiContentStr:this.antiContentStr});if(o.errorCode!==1e6)throw new Error(o.errorMsg);const i=((n=o.result)==null?void 0:n.rules)||[],l=[];for(const c of i){const{frozenType:u}=c,d=10;let m=1,b=0;do{const g=await Ct({mallId:t,url:_t("/api/merchant/fund-frozen/details",s),data:{frozenType:u,pageNum:m,pageSize:d},antiContentStr:this.antiContentStr});if(g.errorCode!==1e6)throw new Error(g.errorMsg);if(!g.result)break;const{detailsRowCount:h,detailsColumns:v,detailsRows:y}=g.result;b||(b=h||0),m===1&&Object.assign(c,{detailsRowCount:h,detailsColumns:v,detailsRows:[]});for(const C of y)C.amount=this.removeCurrencyUnit(C.amount),c.detailsRows.push(C);await Ye(3e3),m++}while((m-1)*d<b);l.push({...c,amount:this.removeCurrencyUnit(c.amount)})}if(l.length>0&&(o=await Tt({url:this.earthUrlsMap.saveAccountLimitationOfFunds,method:"POST",data:{mallId:t,shopId:this.bindShopId,region:s,requestId:this.requestId,list:l}}),o.result!=="success"))throw new Error(o.reason)}await this.saveMallLastRsyncTime(t,"fundFrozen"),await this.crawlLogObj.saveTaskRet(r,dr())}catch(s){await this.crawlLogObj.saveTaskRet(r,ir(Yt(s)))}}async startCrawlWaitSettlementData(t,r){const n=`账户资金/资金中心-结算数据-${la(r)}`;if(!this.crawlLogObj.isTaskSuccess(n))try{await this.crawlLogObj.startTask(n);const s=_t("/api/merchant/settle/detail/getWaitSettlementData",r),a=await Ct({mallId:t,url:s,data:{},antiContentStr:this.antiContentStr});if(a.success!==!0)throw new Error(a.errorMsg);const o=a.result||{},i={mallId:t,shopId:this.bindShopId,requestId:this.requestId,region:r,waitSettleAmount:o.waitSettleAmount,currency:o.waitSettleAmountFormat.currencyCode};await Tt({url:this.earthUrlsMap.saveAccountWaitSettleAmount,method:"POST",data:i}),await this.saveMallLastRsyncTime(t,"accountOverview"),await this.crawlLogObj.saveTaskRet(n,dr())}catch(s){await this.crawlLogObj.saveTaskRet(n,ir(Yt(s)))}}}class gw{constructor(t){me(this,"earthUrlsMap",{getCrawlTaskUrl:`${Ft}/platform/pddkj/stat/crawl/get_crawl_task`,initCrawlRequest:`${Ft}/platform/pddkj/stat/crawl/init_crawl_request`});me(this,"runStatus","wait");me(this,"crawlQueueList",[]);me(this,"isRunning",!1);me(this,"nextAutoCrawlTime",0);me(this,"antiContentStr");this.antiContentStr=t}getAllWindows(){return new Promise(t=>{As.windows.getAll({},r=>{t(r)})})}async run(t){console.debug("CrawlQueue run");try{if(this.runStatus="process",!kr.crawlTabId){let r=await Ze.getItem(hw);r=r?Number.parseInt(r):null,r=il(r)?null:r,kr.crawlTabId=r}for(;;){const n=(await this.getAllWindows()).length;if(console.debug("打开窗口数量",n),n>0){await this.autoCrawl();let s=await this.getTaskTs();const a=await Ze.getItem("local:newTs");if(a&&(s=a,Ze.removeItem("local:newTs")),s&&s>t){this.runStatus="waitStop";break}}await Ye(9e5)}return new Promise(r=>{const n=setInterval(()=>{console.debug("wait stop"),this.isRunning===!1&&(clearInterval(n),console.debug("task stop"),r(!0))},3e3)})}catch(r){throw this.runStatus="waitStop",r}}async autoCrawl(){if(Date.now()<this.nextAutoCrawlTime)return;kr.isDebug?this.nextAutoCrawlTime=Date.now()+6e4:this.nextAutoCrawlTime=Date.now()+36e5;try{const r=await Tt({url:this.earthUrlsMap.getCrawlTaskUrl,method:"GET"}),n=(r==null?void 0:r.taskList)||[];if(n.length){const s=await this.getTemuMallMap();for(const a of n){const o=s[a.mallId];o&&(a.mallName=o.mallName,this.addCrawlQueueByTask(a))}}console.debug(gr(),"crawlQueueList",this.crawlQueueList)}catch(r){console.debug(gr(),"autoCrawl fail",r)}}async getTaskTs(){const t=await Tt({url:"/open/plugin/getBgTaskCodeTs",method:"GET"});return t==null?void 0:t.ts}addCrawlQueueByTask(t){console.debug("addCrawlQueueByTask",t);const{mallId:r,mallName:n,mallType:s,bindShopId:a,authAppNameList:o,host:i}=t;this.addCrawlQueue({mallId:r,mallName:n,mallType:s,bindShopId:a,authAppNameList:o,action:"auto",host:i})}async addCrawlQueue(t){const{mallId:r,mallName:n,mallType:s,bindShopId:a,authAppNameList:o,startDate:i,endDate:l,action:c,gmtExec:u,host:d}=t||{},m=this.crawlQueueList.find(g=>`${g.mallId}`==`${r}`);(!m||m.locked===0)&&(this.crawlQueueList=this.crawlQueueList.filter(g=>`${g.mallId}`!=`${r}`),this.crawlQueueList.push({mallId:r,mallName:n,mallType:s,bindShopId:a,authAppNameList:o,startDate:i,endDate:l,action:c||"auto",retryTimes:0,locked:0,gmtExec:u||gr(),gmtLock:null,requestId:m&&m.requestId,host:d}),this.crawlQueueList.sort((g,h)=>new Date(g.gmtExec).getTime()-new Date(h.gmtExec).getTime()));const b=new Vu(r);await b.init(),b.sendToClientTab(),this.start()}async getTemuMallMap(){const t=_t("/bg/quiet/api/mms/userInfo"),r=await Ct({url:t,antiContentStr:this.antiContentStr}),n={};if(r.result&&r.result.companyList&&r.result.companyList.length)for(const s of r.result.companyList)for(const a of s.malInfoList||[])n[a.mallId]=a;return n}async start(){if(console.debug("start"),!this.isRunning){for(console.debug(gr(),"start process queue"),this.isRunning=!0;;){let t=null;try{if(t=await this.lockQueue(),console.debug(gr(),"lock queue",t),t){const r=await this.processQueue(t);console.debug(gr(),"processQueue",r),await this.clearQueue(t,r)}else if(this.crawlQueueList.length>0)console.debug(gr(),"lock empty,sleep"),await Ye(1e4);else{console.debug(gr(),"stop timer");break}}catch(r){console.debug(gr(),"processQueue exception",t,r)}if(this.runStatus==="waitStop")break}this.isRunning=!1}}async lockQueue(){this.crawlQueueList=this.crawlQueueList.filter(n=>n.retryTimes<5);const t=gr(),r=this.crawlQueueList.find(n=>n.locked===0&&n.gmtExec<=t);if(r){if(!r.requestId){const n=await this.initRequestId(r);if(n.result==="success")r.requestId=n.requestId;else return r.retryTimes++,null}r.locked=1,r.gmtLock=t}return r}async processQueue(t){try{return await new mw({...t,antiContentStr:this.antiContentStr}).startCrawl(),{result:"success",reason:""}}catch(r){return r instanceof Tn?{result:"fail",canRetry:!0,sleepSeconds:(r==null?void 0:r.sleepSeconds)||1800,reason:r.message}:{result:"fail",canRetry:!1,sleepSeconds:0,reason:Yt(r)}}}async clearQueue(t,r){if(r.canRetry){const s=this.crawlQueueList.find(a=>`${a.mallId}`==`${t.mallId}`);s.retryTimes++,s.locked=0,s.gmtExec=gr(r.sleepSeconds||1800)}else this.crawlQueueList=this.crawlQueueList.filter(s=>`${s.mallId}`!=`${t.mallId}`);const n=new Vu(t.mallId,t.requestId);await n.init(),n.sendToClientTab()}initRequestId({mallId:t,mallName:r,action:n}){return Tt({url:this.earthUrlsMap.initCrawlRequest,method:"POST",data:{mallId:t,mallName:r,action:n}})}}class ML{constructor(t){me(this,"antiContentStr");this.antiContentStr=t}async run(){console.debug("CrawlTask"),kr.crawlQueue||(kr.crawlQueue=new gw(this.antiContentStr),await Ze.getItem("local:crawlDebug")&&(kr.isDebug=!0));try{for(;;){const{ts:t,result:r}=await this.getTaskCode();if(console.debug("getTaskCode",t),r==="success"){if(await kr.crawlQueue.run(t)!==!0)throw new Error("返回不是true");await Ye(5e3)}else await Ye(36e5)}}catch(t){Ze.setItem("local:bgTaskFail",`异常:${Date.now()}:${t==null?void 0:t.message}`)}}async getTaskCode(){return Tt({url:"/open/plugin/getBgTaskCode",method:"GET"})}}const nh=Object.freeze(Object.defineProperty({__proto__:null,CrawlLog:Vu,CrawlQueue:gw,CrawlTask:ML,CrawlTemu:mw,LOCAL_CRAWL_MALL_INFO_LIST:rh,LOCAL_CRAWL_TAB_ID:hw,LOCAL_TEMU_ANTI_CONTENT:$L,_globalCrawlData:kr,ajaxPddkjAgent:Ct,ajaxPddkjLocal:ia},Symbol.toStringTag,{value:"Module"})),uo="1688",DL={verticalAttributesMap:{_F_b_kj_dc:"mskjzs",xx:"zying"}};var Hu={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */var NL=Hu.exports,vw;function FL(){return vw||(vw=1,function(e){(function(t,r){e.exports=t.document?r(t,!0):function(n){if(!n.document)throw new Error("jQuery requires a window with a document");return r(n)}})(typeof window<"u"?window:NL,function(t,r){var n=[],s=Object.getPrototypeOf,a=n.slice,o=n.flat?function(p){return n.flat.call(p)}:function(p){return n.concat.apply([],p)},i=n.push,l=n.indexOf,c={},u=c.toString,d=c.hasOwnProperty,m=d.toString,b=m.call(Object),g={},h=function(T){return typeof T=="function"&&typeof T.nodeType!="number"&&typeof T.item!="function"},v=function(T){return T!=null&&T===T.window},y=t.document,C={type:!0,src:!0,nonce:!0,noModule:!0};function _(p,T,O){O=O||y;var A,B,j=O.createElement("script");if(j.text=p,T)for(A in C)B=T[A]||T.getAttribute&&T.getAttribute(A),B&&j.setAttribute(A,B);O.head.appendChild(j).parentNode.removeChild(j)}function S(p){return p==null?p+"":typeof p=="object"||typeof p=="function"?c[u.call(p)]||"object":typeof p}var x="3.7.1",I=/HTML$/i,f=function(p,T){return new f.fn.init(p,T)};f.fn=f.prototype={jquery:x,constructor:f,length:0,toArray:function(){return a.call(this)},get:function(p){return p==null?a.call(this):p<0?this[p+this.length]:this[p]},pushStack:function(p){var T=f.merge(this.constructor(),p);return T.prevObject=this,T},each:function(p){return f.each(this,p)},map:function(p){return this.pushStack(f.map(this,function(T,O){return p.call(T,O,T)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(f.grep(this,function(p,T){return(T+1)%2}))},odd:function(){return this.pushStack(f.grep(this,function(p,T){return T%2}))},eq:function(p){var T=this.length,O=+p+(p<0?T:0);return this.pushStack(O>=0&&O<T?[this[O]]:[])},end:function(){return this.prevObject||this.constructor()},push:i,sort:n.sort,splice:n.splice},f.extend=f.fn.extend=function(){var p,T,O,A,B,j,z=arguments[0]||{},oe=1,se=arguments.length,pe=!1;for(typeof z=="boolean"&&(pe=z,z=arguments[oe]||{},oe++),typeof z!="object"&&!h(z)&&(z={}),oe===se&&(z=this,oe--);oe<se;oe++)if((p=arguments[oe])!=null)for(T in p)A=p[T],!(T==="__proto__"||z===A)&&(pe&&A&&(f.isPlainObject(A)||(B=Array.isArray(A)))?(O=z[T],B&&!Array.isArray(O)?j=[]:!B&&!f.isPlainObject(O)?j={}:j=O,B=!1,z[T]=f.extend(pe,j,A)):A!==void 0&&(z[T]=A));return z},f.extend({expando:"jQuery"+(x+Math.random()).replace(/\D/g,""),isReady:!0,error:function(p){throw new Error(p)},noop:function(){},isPlainObject:function(p){var T,O;return!p||u.call(p)!=="[object Object]"?!1:(T=s(p),T?(O=d.call(T,"constructor")&&T.constructor,typeof O=="function"&&m.call(O)===b):!0)},isEmptyObject:function(p){var T;for(T in p)return!1;return!0},globalEval:function(p,T,O){_(p,{nonce:T&&T.nonce},O)},each:function(p,T){var O,A=0;if(P(p))for(O=p.length;A<O&&T.call(p[A],A,p[A])!==!1;A++);else for(A in p)if(T.call(p[A],A,p[A])===!1)break;return p},text:function(p){var T,O="",A=0,B=p.nodeType;if(!B)for(;T=p[A++];)O+=f.text(T);return B===1||B===11?p.textContent:B===9?p.documentElement.textContent:B===3||B===4?p.nodeValue:O},makeArray:function(p,T){var O=T||[];return p!=null&&(P(Object(p))?f.merge(O,typeof p=="string"?[p]:p):i.call(O,p)),O},inArray:function(p,T,O){return T==null?-1:l.call(T,p,O)},isXMLDoc:function(p){var T=p&&p.namespaceURI,O=p&&(p.ownerDocument||p).documentElement;return!I.test(T||O&&O.nodeName||"HTML")},merge:function(p,T){for(var O=+T.length,A=0,B=p.length;A<O;A++)p[B++]=T[A];return p.length=B,p},grep:function(p,T,O){for(var A,B=[],j=0,z=p.length,oe=!O;j<z;j++)A=!T(p[j],j),A!==oe&&B.push(p[j]);return B},map:function(p,T,O){var A,B,j=0,z=[];if(P(p))for(A=p.length;j<A;j++)B=T(p[j],j,O),B!=null&&z.push(B);else for(j in p)B=T(p[j],j,O),B!=null&&z.push(B);return o(z)},guid:1,support:g}),typeof Symbol=="function"&&(f.fn[Symbol.iterator]=n[Symbol.iterator]),f.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(p,T){c["[object "+T+"]"]=T.toLowerCase()});function P(p){var T=!!p&&"length"in p&&p.length,O=S(p);return h(p)||v(p)?!1:O==="array"||T===0||typeof T=="number"&&T>0&&T-1 in p}function $(p,T){return p.nodeName&&p.nodeName.toLowerCase()===T.toLowerCase()}var q=n.pop,E=n.sort,M=n.splice,F="[\\x20\\t\\r\\n\\f]",N=new RegExp("^"+F+"+|((?:^|[^\\\\])(?:\\\\.)*)"+F+"+$","g");f.contains=function(p,T){var O=T&&T.parentNode;return p===O||!!(O&&O.nodeType===1&&(p.contains?p.contains(O):p.compareDocumentPosition&&p.compareDocumentPosition(O)&16))};var R=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function H(p,T){return T?p==="\0"?"�":p.slice(0,-1)+"\\"+p.charCodeAt(p.length-1).toString(16)+" ":"\\"+p}f.escapeSelector=function(p){return(p+"").replace(R,H)};var U=y,L=i;(function(){var p,T,O,A,B,j=L,z,oe,se,pe,Ae,Be=f.expando,we=0,Xe=0,Dt=uf(),sr=uf(),zt=uf(),nn=uf(),Gr=function(te,de){return te===de&&(B=!0),0},Xs="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Qs="(?:\\\\[\\da-fA-F]{1,6}"+F+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",tr="\\["+F+"*("+Qs+")(?:"+F+"*([*^$|!~]?=)"+F+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Qs+"))|)"+F+"*\\]",zo=":("+Qs+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+tr+")*)|.*)\\)|)",or=new RegExp(F+"+","g"),Dr=new RegExp("^"+F+"*,"+F+"*"),du=new RegExp("^"+F+"*([>+~]|"+F+")"+F+"*"),ay=new RegExp(F+"|>"),Zs=new RegExp(zo),fu=new RegExp("^"+Qs+"$"),ea={ID:new RegExp("^#("+Qs+")"),CLASS:new RegExp("^\\.("+Qs+")"),TAG:new RegExp("^("+Qs+"|[*])"),ATTR:new RegExp("^"+tr),PSEUDO:new RegExp("^"+zo),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+F+"*(even|odd|(([+-]|)(\\d*)n|)"+F+"*(?:([+-]|)"+F+"*(\\d+)|))"+F+"*\\)|)","i"),bool:new RegExp("^(?:"+Xs+")$","i"),needsContext:new RegExp("^"+F+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+F+"*((?:-\\d)?\\d*)"+F+"*\\)|)(?=[^-]|$)","i")},Xa=/^(?:input|select|textarea|button)$/i,Qa=/^h\d$/i,ls=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,oy=/[+~]/,Aa=new RegExp("\\\\[\\da-fA-F]{1,6}"+F+"?|\\\\([^\\r\\n\\f])","g"),Ea=function(te,de){var be="0x"+te.slice(1)-65536;return de||(be<0?String.fromCharCode(be+65536):String.fromCharCode(be>>10|55296,be&1023|56320))},lG=function(){Za()},uG=df(function(te){return te.disabled===!0&&$(te,"fieldset")},{dir:"parentNode",next:"legend"});function cG(){try{return z.activeElement}catch{}}try{j.apply(n=a.call(U.childNodes),U.childNodes),n[U.childNodes.length].nodeType}catch{j={apply:function(de,be){L.apply(de,a.call(be))},call:function(de){L.apply(de,a.call(arguments,1))}}}function mr(te,de,be,Ie){var Fe,at,lt,gt,ut,Xt,Rt,Nt=de&&de.ownerDocument,Qt=de?de.nodeType:9;if(be=be||[],typeof te!="string"||!te||Qt!==1&&Qt!==9&&Qt!==11)return be;if(!Ie&&(Za(de),de=de||z,se)){if(Qt!==11&&(ut=ls.exec(te)))if(Fe=ut[1]){if(Qt===9)if(lt=de.getElementById(Fe)){if(lt.id===Fe)return j.call(be,lt),be}else return be;else if(Nt&&(lt=Nt.getElementById(Fe))&&mr.contains(de,lt)&&lt.id===Fe)return j.call(be,lt),be}else{if(ut[2])return j.apply(be,de.getElementsByTagName(te)),be;if((Fe=ut[3])&&de.getElementsByClassName)return j.apply(be,de.getElementsByClassName(Fe)),be}if(!nn[te+" "]&&(!pe||!pe.test(te))){if(Rt=te,Nt=de,Qt===1&&(ay.test(te)||du.test(te))){for(Nt=oy.test(te)&&iy(de.parentNode)||de,(Nt!=de||!g.scope)&&((gt=de.getAttribute("id"))?gt=f.escapeSelector(gt):de.setAttribute("id",gt=Be)),Xt=pu(te),at=Xt.length;at--;)Xt[at]=(gt?"#"+gt:":scope")+" "+cf(Xt[at]);Rt=Xt.join(",")}try{return j.apply(be,Nt.querySelectorAll(Rt)),be}catch{nn(te,!0)}finally{gt===Be&&de.removeAttribute("id")}}}return Bk(te.replace(N,"$1"),de,be,Ie)}function uf(){var te=[];function de(be,Ie){return te.push(be+" ")>T.cacheLength&&delete de[te.shift()],de[be+" "]=Ie}return de}function Ps(te){return te[Be]=!0,te}function Wi(te){var de=z.createElement("fieldset");try{return!!te(de)}catch{return!1}finally{de.parentNode&&de.parentNode.removeChild(de),de=null}}function dG(te){return function(de){return $(de,"input")&&de.type===te}}function fG(te){return function(de){return($(de,"input")||$(de,"button"))&&de.type===te}}function Nk(te){return function(de){return"form"in de?de.parentNode&&de.disabled===!1?"label"in de?"label"in de.parentNode?de.parentNode.disabled===te:de.disabled===te:de.isDisabled===te||de.isDisabled!==!te&&uG(de)===te:de.disabled===te:"label"in de?de.disabled===te:!1}}function Wo(te){return Ps(function(de){return de=+de,Ps(function(be,Ie){for(var Fe,at=te([],be.length,de),lt=at.length;lt--;)be[Fe=at[lt]]&&(be[Fe]=!(Ie[Fe]=be[Fe]))})})}function iy(te){return te&&typeof te.getElementsByTagName<"u"&&te}function Za(te){var de,be=te?te.ownerDocument||te:U;return be==z||be.nodeType!==9||!be.documentElement||(z=be,oe=z.documentElement,se=!f.isXMLDoc(z),Ae=oe.matches||oe.webkitMatchesSelector||oe.msMatchesSelector,oe.msMatchesSelector&&U!=z&&(de=z.defaultView)&&de.top!==de&&de.addEventListener("unload",lG),g.getById=Wi(function(Ie){return oe.appendChild(Ie).id=f.expando,!z.getElementsByName||!z.getElementsByName(f.expando).length}),g.disconnectedMatch=Wi(function(Ie){return Ae.call(Ie,"*")}),g.scope=Wi(function(){return z.querySelectorAll(":scope")}),g.cssHas=Wi(function(){try{return z.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),g.getById?(T.filter.ID=function(Ie){var Fe=Ie.replace(Aa,Ea);return function(at){return at.getAttribute("id")===Fe}},T.find.ID=function(Ie,Fe){if(typeof Fe.getElementById<"u"&&se){var at=Fe.getElementById(Ie);return at?[at]:[]}}):(T.filter.ID=function(Ie){var Fe=Ie.replace(Aa,Ea);return function(at){var lt=typeof at.getAttributeNode<"u"&&at.getAttributeNode("id");return lt&&lt.value===Fe}},T.find.ID=function(Ie,Fe){if(typeof Fe.getElementById<"u"&&se){var at,lt,gt,ut=Fe.getElementById(Ie);if(ut){if(at=ut.getAttributeNode("id"),at&&at.value===Ie)return[ut];for(gt=Fe.getElementsByName(Ie),lt=0;ut=gt[lt++];)if(at=ut.getAttributeNode("id"),at&&at.value===Ie)return[ut]}return[]}}),T.find.TAG=function(Ie,Fe){return typeof Fe.getElementsByTagName<"u"?Fe.getElementsByTagName(Ie):Fe.querySelectorAll(Ie)},T.find.CLASS=function(Ie,Fe){if(typeof Fe.getElementsByClassName<"u"&&se)return Fe.getElementsByClassName(Ie)},pe=[],Wi(function(Ie){var Fe;oe.appendChild(Ie).innerHTML="<a id='"+Be+"' href='' disabled='disabled'></a><select id='"+Be+"-\r\\' disabled='disabled'><option selected=''></option></select>",Ie.querySelectorAll("[selected]").length||pe.push("\\["+F+"*(?:value|"+Xs+")"),Ie.querySelectorAll("[id~="+Be+"-]").length||pe.push("~="),Ie.querySelectorAll("a#"+Be+"+*").length||pe.push(".#.+[+~]"),Ie.querySelectorAll(":checked").length||pe.push(":checked"),Fe=z.createElement("input"),Fe.setAttribute("type","hidden"),Ie.appendChild(Fe).setAttribute("name","D"),oe.appendChild(Ie).disabled=!0,Ie.querySelectorAll(":disabled").length!==2&&pe.push(":enabled",":disabled"),Fe=z.createElement("input"),Fe.setAttribute("name",""),Ie.appendChild(Fe),Ie.querySelectorAll("[name='']").length||pe.push("\\["+F+"*name"+F+"*="+F+`*(?:''|"")`)}),g.cssHas||pe.push(":has"),pe=pe.length&&new RegExp(pe.join("|")),Gr=function(Ie,Fe){if(Ie===Fe)return B=!0,0;var at=!Ie.compareDocumentPosition-!Fe.compareDocumentPosition;return at||(at=(Ie.ownerDocument||Ie)==(Fe.ownerDocument||Fe)?Ie.compareDocumentPosition(Fe):1,at&1||!g.sortDetached&&Fe.compareDocumentPosition(Ie)===at?Ie===z||Ie.ownerDocument==U&&mr.contains(U,Ie)?-1:Fe===z||Fe.ownerDocument==U&&mr.contains(U,Fe)?1:A?l.call(A,Ie)-l.call(A,Fe):0:at&4?-1:1)}),z}mr.matches=function(te,de){return mr(te,null,null,de)},mr.matchesSelector=function(te,de){if(Za(te),se&&!nn[de+" "]&&(!pe||!pe.test(de)))try{var be=Ae.call(te,de);if(be||g.disconnectedMatch||te.document&&te.document.nodeType!==11)return be}catch{nn(de,!0)}return mr(de,z,null,[te]).length>0},mr.contains=function(te,de){return(te.ownerDocument||te)!=z&&Za(te),f.contains(te,de)},mr.attr=function(te,de){(te.ownerDocument||te)!=z&&Za(te);var be=T.attrHandle[de.toLowerCase()],Ie=be&&d.call(T.attrHandle,de.toLowerCase())?be(te,de,!se):void 0;return Ie!==void 0?Ie:te.getAttribute(de)},mr.error=function(te){throw new Error("Syntax error, unrecognized expression: "+te)},f.uniqueSort=function(te){var de,be=[],Ie=0,Fe=0;if(B=!g.sortStable,A=!g.sortStable&&a.call(te,0),E.call(te,Gr),B){for(;de=te[Fe++];)de===te[Fe]&&(Ie=be.push(Fe));for(;Ie--;)M.call(te,be[Ie],1)}return A=null,te},f.fn.uniqueSort=function(){return this.pushStack(f.uniqueSort(a.apply(this)))},T=f.expr={cacheLength:50,createPseudo:Ps,match:ea,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(te){return te[1]=te[1].replace(Aa,Ea),te[3]=(te[3]||te[4]||te[5]||"").replace(Aa,Ea),te[2]==="~="&&(te[3]=" "+te[3]+" "),te.slice(0,4)},CHILD:function(te){return te[1]=te[1].toLowerCase(),te[1].slice(0,3)==="nth"?(te[3]||mr.error(te[0]),te[4]=+(te[4]?te[5]+(te[6]||1):2*(te[3]==="even"||te[3]==="odd")),te[5]=+(te[7]+te[8]||te[3]==="odd")):te[3]&&mr.error(te[0]),te},PSEUDO:function(te){var de,be=!te[6]&&te[2];return ea.CHILD.test(te[0])?null:(te[3]?te[2]=te[4]||te[5]||"":be&&Zs.test(be)&&(de=pu(be,!0))&&(de=be.indexOf(")",be.length-de)-be.length)&&(te[0]=te[0].slice(0,de),te[2]=be.slice(0,de)),te.slice(0,3))}},filter:{TAG:function(te){var de=te.replace(Aa,Ea).toLowerCase();return te==="*"?function(){return!0}:function(be){return $(be,de)}},CLASS:function(te){var de=Dt[te+" "];return de||(de=new RegExp("(^|"+F+")"+te+"("+F+"|$)"))&&Dt(te,function(be){return de.test(typeof be.className=="string"&&be.className||typeof be.getAttribute<"u"&&be.getAttribute("class")||"")})},ATTR:function(te,de,be){return function(Ie){var Fe=mr.attr(Ie,te);return Fe==null?de==="!=":de?(Fe+="",de==="="?Fe===be:de==="!="?Fe!==be:de==="^="?be&&Fe.indexOf(be)===0:de==="*="?be&&Fe.indexOf(be)>-1:de==="$="?be&&Fe.slice(-be.length)===be:de==="~="?(" "+Fe.replace(or," ")+" ").indexOf(be)>-1:de==="|="?Fe===be||Fe.slice(0,be.length+1)===be+"-":!1):!0}},CHILD:function(te,de,be,Ie,Fe){var at=te.slice(0,3)!=="nth",lt=te.slice(-4)!=="last",gt=de==="of-type";return Ie===1&&Fe===0?function(ut){return!!ut.parentNode}:function(ut,Xt,Rt){var Nt,Qt,It,wr,Dn,fn=at!==lt?"nextSibling":"previousSibling",us=ut.parentNode,ta=gt&&ut.nodeName.toLowerCase(),Gi=!Rt&&!gt,wn=!1;if(us){if(at){for(;fn;){for(It=ut;It=It[fn];)if(gt?$(It,ta):It.nodeType===1)return!1;Dn=fn=te==="only"&&!Dn&&"nextSibling"}return!0}if(Dn=[lt?us.firstChild:us.lastChild],lt&&Gi){for(Qt=us[Be]||(us[Be]={}),Nt=Qt[te]||[],wr=Nt[0]===we&&Nt[1],wn=wr&&Nt[2],It=wr&&us.childNodes[wr];It=++wr&&It&&It[fn]||(wn=wr=0)||Dn.pop();)if(It.nodeType===1&&++wn&&It===ut){Qt[te]=[we,wr,wn];break}}else if(Gi&&(Qt=ut[Be]||(ut[Be]={}),Nt=Qt[te]||[],wr=Nt[0]===we&&Nt[1],wn=wr),wn===!1)for(;(It=++wr&&It&&It[fn]||(wn=wr=0)||Dn.pop())&&!((gt?$(It,ta):It.nodeType===1)&&++wn&&(Gi&&(Qt=It[Be]||(It[Be]={}),Qt[te]=[we,wn]),It===ut)););return wn-=Fe,wn===Ie||wn%Ie===0&&wn/Ie>=0}}},PSEUDO:function(te,de){var be,Ie=T.pseudos[te]||T.setFilters[te.toLowerCase()]||mr.error("unsupported pseudo: "+te);return Ie[Be]?Ie(de):Ie.length>1?(be=[te,te,"",de],T.setFilters.hasOwnProperty(te.toLowerCase())?Ps(function(Fe,at){for(var lt,gt=Ie(Fe,de),ut=gt.length;ut--;)lt=l.call(Fe,gt[ut]),Fe[lt]=!(at[lt]=gt[ut])}):function(Fe){return Ie(Fe,0,be)}):Ie}},pseudos:{not:Ps(function(te){var de=[],be=[],Ie=dy(te.replace(N,"$1"));return Ie[Be]?Ps(function(Fe,at,lt,gt){for(var ut,Xt=Ie(Fe,null,gt,[]),Rt=Fe.length;Rt--;)(ut=Xt[Rt])&&(Fe[Rt]=!(at[Rt]=ut))}):function(Fe,at,lt){return de[0]=Fe,Ie(de,null,lt,be),de[0]=null,!be.pop()}}),has:Ps(function(te){return function(de){return mr(te,de).length>0}}),contains:Ps(function(te){return te=te.replace(Aa,Ea),function(de){return(de.textContent||f.text(de)).indexOf(te)>-1}}),lang:Ps(function(te){return fu.test(te||"")||mr.error("unsupported lang: "+te),te=te.replace(Aa,Ea).toLowerCase(),function(de){var be;do if(be=se?de.lang:de.getAttribute("xml:lang")||de.getAttribute("lang"))return be=be.toLowerCase(),be===te||be.indexOf(te+"-")===0;while((de=de.parentNode)&&de.nodeType===1);return!1}}),target:function(te){var de=t.location&&t.location.hash;return de&&de.slice(1)===te.id},root:function(te){return te===oe},focus:function(te){return te===cG()&&z.hasFocus()&&!!(te.type||te.href||~te.tabIndex)},enabled:Nk(!1),disabled:Nk(!0),checked:function(te){return $(te,"input")&&!!te.checked||$(te,"option")&&!!te.selected},selected:function(te){return te.parentNode&&te.parentNode.selectedIndex,te.selected===!0},empty:function(te){for(te=te.firstChild;te;te=te.nextSibling)if(te.nodeType<6)return!1;return!0},parent:function(te){return!T.pseudos.empty(te)},header:function(te){return Qa.test(te.nodeName)},input:function(te){return Xa.test(te.nodeName)},button:function(te){return $(te,"input")&&te.type==="button"||$(te,"button")},text:function(te){var de;return $(te,"input")&&te.type==="text"&&((de=te.getAttribute("type"))==null||de.toLowerCase()==="text")},first:Wo(function(){return[0]}),last:Wo(function(te,de){return[de-1]}),eq:Wo(function(te,de,be){return[be<0?be+de:be]}),even:Wo(function(te,de){for(var be=0;be<de;be+=2)te.push(be);return te}),odd:Wo(function(te,de){for(var be=1;be<de;be+=2)te.push(be);return te}),lt:Wo(function(te,de,be){var Ie;for(be<0?Ie=be+de:be>de?Ie=de:Ie=be;--Ie>=0;)te.push(Ie);return te}),gt:Wo(function(te,de,be){for(var Ie=be<0?be+de:be;++Ie<de;)te.push(Ie);return te})}},T.pseudos.nth=T.pseudos.eq;for(p in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[p]=dG(p);for(p in{submit:!0,reset:!0})T.pseudos[p]=fG(p);function Fk(){}Fk.prototype=T.filters=T.pseudos,T.setFilters=new Fk;function pu(te,de){var be,Ie,Fe,at,lt,gt,ut,Xt=sr[te+" "];if(Xt)return de?0:Xt.slice(0);for(lt=te,gt=[],ut=T.preFilter;lt;){(!be||(Ie=Dr.exec(lt)))&&(Ie&&(lt=lt.slice(Ie[0].length)||lt),gt.push(Fe=[])),be=!1,(Ie=du.exec(lt))&&(be=Ie.shift(),Fe.push({value:be,type:Ie[0].replace(N," ")}),lt=lt.slice(be.length));for(at in T.filter)(Ie=ea[at].exec(lt))&&(!ut[at]||(Ie=ut[at](Ie)))&&(be=Ie.shift(),Fe.push({value:be,type:at,matches:Ie}),lt=lt.slice(be.length));if(!be)break}return de?lt.length:lt?mr.error(te):sr(te,gt).slice(0)}function cf(te){for(var de=0,be=te.length,Ie="";de<be;de++)Ie+=te[de].value;return Ie}function df(te,de,be){var Ie=de.dir,Fe=de.next,at=Fe||Ie,lt=be&&at==="parentNode",gt=Xe++;return de.first?function(ut,Xt,Rt){for(;ut=ut[Ie];)if(ut.nodeType===1||lt)return te(ut,Xt,Rt);return!1}:function(ut,Xt,Rt){var Nt,Qt,It=[we,gt];if(Rt){for(;ut=ut[Ie];)if((ut.nodeType===1||lt)&&te(ut,Xt,Rt))return!0}else for(;ut=ut[Ie];)if(ut.nodeType===1||lt)if(Qt=ut[Be]||(ut[Be]={}),Fe&&$(ut,Fe))ut=ut[Ie]||ut;else{if((Nt=Qt[at])&&Nt[0]===we&&Nt[1]===gt)return It[2]=Nt[2];if(Qt[at]=It,It[2]=te(ut,Xt,Rt))return!0}return!1}}function ly(te){return te.length>1?function(de,be,Ie){for(var Fe=te.length;Fe--;)if(!te[Fe](de,be,Ie))return!1;return!0}:te[0]}function pG(te,de,be){for(var Ie=0,Fe=de.length;Ie<Fe;Ie++)mr(te,de[Ie],be);return be}function ff(te,de,be,Ie,Fe){for(var at,lt=[],gt=0,ut=te.length,Xt=de!=null;gt<ut;gt++)(at=te[gt])&&(!be||be(at,Ie,Fe))&&(lt.push(at),Xt&&de.push(gt));return lt}function uy(te,de,be,Ie,Fe,at){return Ie&&!Ie[Be]&&(Ie=uy(Ie)),Fe&&!Fe[Be]&&(Fe=uy(Fe,at)),Ps(function(lt,gt,ut,Xt){var Rt,Nt,Qt,It,wr=[],Dn=[],fn=gt.length,us=lt||pG(de||"*",ut.nodeType?[ut]:ut,[]),ta=te&&(lt||!de)?ff(us,wr,te,ut,Xt):us;if(be?(It=Fe||(lt?te:fn||Ie)?[]:gt,be(ta,It,ut,Xt)):It=ta,Ie)for(Rt=ff(It,Dn),Ie(Rt,[],ut,Xt),Nt=Rt.length;Nt--;)(Qt=Rt[Nt])&&(It[Dn[Nt]]=!(ta[Dn[Nt]]=Qt));if(lt){if(Fe||te){if(Fe){for(Rt=[],Nt=It.length;Nt--;)(Qt=It[Nt])&&Rt.push(ta[Nt]=Qt);Fe(null,It=[],Rt,Xt)}for(Nt=It.length;Nt--;)(Qt=It[Nt])&&(Rt=Fe?l.call(lt,Qt):wr[Nt])>-1&&(lt[Rt]=!(gt[Rt]=Qt))}}else It=ff(It===gt?It.splice(fn,It.length):It),Fe?Fe(null,gt,It,Xt):j.apply(gt,It)})}function cy(te){for(var de,be,Ie,Fe=te.length,at=T.relative[te[0].type],lt=at||T.relative[" "],gt=at?1:0,ut=df(function(Nt){return Nt===de},lt,!0),Xt=df(function(Nt){return l.call(de,Nt)>-1},lt,!0),Rt=[function(Nt,Qt,It){var wr=!at&&(It||Qt!=O)||((de=Qt).nodeType?ut(Nt,Qt,It):Xt(Nt,Qt,It));return de=null,wr}];gt<Fe;gt++)if(be=T.relative[te[gt].type])Rt=[df(ly(Rt),be)];else{if(be=T.filter[te[gt].type].apply(null,te[gt].matches),be[Be]){for(Ie=++gt;Ie<Fe&&!T.relative[te[Ie].type];Ie++);return uy(gt>1&&ly(Rt),gt>1&&cf(te.slice(0,gt-1).concat({value:te[gt-2].type===" "?"*":""})).replace(N,"$1"),be,gt<Ie&&cy(te.slice(gt,Ie)),Ie<Fe&&cy(te=te.slice(Ie)),Ie<Fe&&cf(te))}Rt.push(be)}return ly(Rt)}function hG(te,de){var be=de.length>0,Ie=te.length>0,Fe=function(at,lt,gt,ut,Xt){var Rt,Nt,Qt,It=0,wr="0",Dn=at&&[],fn=[],us=O,ta=at||Ie&&T.find.TAG("*",Xt),Gi=we+=us==null?1:Math.random()||.1,wn=ta.length;for(Xt&&(O=lt==z||lt||Xt);wr!==wn&&(Rt=ta[wr])!=null;wr++){if(Ie&&Rt){for(Nt=0,!lt&&Rt.ownerDocument!=z&&(Za(Rt),gt=!se);Qt=te[Nt++];)if(Qt(Rt,lt||z,gt)){j.call(ut,Rt);break}Xt&&(we=Gi)}be&&((Rt=!Qt&&Rt)&&It--,at&&Dn.push(Rt))}if(It+=wr,be&&wr!==It){for(Nt=0;Qt=de[Nt++];)Qt(Dn,fn,lt,gt);if(at){if(It>0)for(;wr--;)Dn[wr]||fn[wr]||(fn[wr]=q.call(ut));fn=ff(fn)}j.apply(ut,fn),Xt&&!at&&fn.length>0&&It+de.length>1&&f.uniqueSort(ut)}return Xt&&(we=Gi,O=us),Dn};return be?Ps(Fe):Fe}function dy(te,de){var be,Ie=[],Fe=[],at=zt[te+" "];if(!at){for(de||(de=pu(te)),be=de.length;be--;)at=cy(de[be]),at[Be]?Ie.push(at):Fe.push(at);at=zt(te,hG(Fe,Ie)),at.selector=te}return at}function Bk(te,de,be,Ie){var Fe,at,lt,gt,ut,Xt=typeof te=="function"&&te,Rt=!Ie&&pu(te=Xt.selector||te);if(be=be||[],Rt.length===1){if(at=Rt[0]=Rt[0].slice(0),at.length>2&&(lt=at[0]).type==="ID"&&de.nodeType===9&&se&&T.relative[at[1].type]){if(de=(T.find.ID(lt.matches[0].replace(Aa,Ea),de)||[])[0],de)Xt&&(de=de.parentNode);else return be;te=te.slice(at.shift().value.length)}for(Fe=ea.needsContext.test(te)?0:at.length;Fe--&&(lt=at[Fe],!T.relative[gt=lt.type]);)if((ut=T.find[gt])&&(Ie=ut(lt.matches[0].replace(Aa,Ea),oy.test(at[0].type)&&iy(de.parentNode)||de))){if(at.splice(Fe,1),te=Ie.length&&cf(at),!te)return j.apply(be,Ie),be;break}}return(Xt||dy(te,Rt))(Ie,de,!se,be,!de||oy.test(te)&&iy(de.parentNode)||de),be}g.sortStable=Be.split("").sort(Gr).join("")===Be,Za(),g.sortDetached=Wi(function(te){return te.compareDocumentPosition(z.createElement("fieldset"))&1}),f.find=mr,f.expr[":"]=f.expr.pseudos,f.unique=f.uniqueSort,mr.compile=dy,mr.select=Bk,mr.setDocument=Za,mr.tokenize=pu,mr.escape=f.escapeSelector,mr.getText=f.text,mr.isXML=f.isXMLDoc,mr.selectors=f.expr,mr.support=f.support,mr.uniqueSort=f.uniqueSort})();var D=function(p,T,O){for(var A=[],B=O!==void 0;(p=p[T])&&p.nodeType!==9;)if(p.nodeType===1){if(B&&f(p).is(O))break;A.push(p)}return A},Y=function(p,T){for(var O=[];p;p=p.nextSibling)p.nodeType===1&&p!==T&&O.push(p);return O},Q=f.expr.match.needsContext,ae=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function ne(p,T,O){return h(T)?f.grep(p,function(A,B){return!!T.call(A,B,A)!==O}):T.nodeType?f.grep(p,function(A){return A===T!==O}):typeof T!="string"?f.grep(p,function(A){return l.call(T,A)>-1!==O}):f.filter(T,p,O)}f.filter=function(p,T,O){var A=T[0];return O&&(p=":not("+p+")"),T.length===1&&A.nodeType===1?f.find.matchesSelector(A,p)?[A]:[]:f.find.matches(p,f.grep(T,function(B){return B.nodeType===1}))},f.fn.extend({find:function(p){var T,O,A=this.length,B=this;if(typeof p!="string")return this.pushStack(f(p).filter(function(){for(T=0;T<A;T++)if(f.contains(B[T],this))return!0}));for(O=this.pushStack([]),T=0;T<A;T++)f.find(p,B[T],O);return A>1?f.uniqueSort(O):O},filter:function(p){return this.pushStack(ne(this,p||[],!1))},not:function(p){return this.pushStack(ne(this,p||[],!0))},is:function(p){return!!ne(this,typeof p=="string"&&Q.test(p)?f(p):p||[],!1).length}});var he,ve=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,We=f.fn.init=function(p,T,O){var A,B;if(!p)return this;if(O=O||he,typeof p=="string")if(p[0]==="<"&&p[p.length-1]===">"&&p.length>=3?A=[null,p,null]:A=ve.exec(p),A&&(A[1]||!T))if(A[1]){if(T=T instanceof f?T[0]:T,f.merge(this,f.parseHTML(A[1],T&&T.nodeType?T.ownerDocument||T:y,!0)),ae.test(A[1])&&f.isPlainObject(T))for(A in T)h(this[A])?this[A](T[A]):this.attr(A,T[A]);return this}else return B=y.getElementById(A[2]),B&&(this[0]=B,this.length=1),this;else return!T||T.jquery?(T||O).find(p):this.constructor(T).find(p);else{if(p.nodeType)return this[0]=p,this.length=1,this;if(h(p))return O.ready!==void 0?O.ready(p):p(f)}return f.makeArray(p,this)};We.prototype=f.fn,he=f(y);var Ge=/^(?:parents|prev(?:Until|All))/,Te={children:!0,contents:!0,next:!0,prev:!0};f.fn.extend({has:function(p){var T=f(p,this),O=T.length;return this.filter(function(){for(var A=0;A<O;A++)if(f.contains(this,T[A]))return!0})},closest:function(p,T){var O,A=0,B=this.length,j=[],z=typeof p!="string"&&f(p);if(!Q.test(p)){for(;A<B;A++)for(O=this[A];O&&O!==T;O=O.parentNode)if(O.nodeType<11&&(z?z.index(O)>-1:O.nodeType===1&&f.find.matchesSelector(O,p))){j.push(O);break}}return this.pushStack(j.length>1?f.uniqueSort(j):j)},index:function(p){return p?typeof p=="string"?l.call(f(p),this[0]):l.call(this,p.jquery?p[0]:p):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(p,T){return this.pushStack(f.uniqueSort(f.merge(this.get(),f(p,T))))},addBack:function(p){return this.add(p==null?this.prevObject:this.prevObject.filter(p))}});function He(p,T){for(;(p=p[T])&&p.nodeType!==1;);return p}f.each({parent:function(p){var T=p.parentNode;return T&&T.nodeType!==11?T:null},parents:function(p){return D(p,"parentNode")},parentsUntil:function(p,T,O){return D(p,"parentNode",O)},next:function(p){return He(p,"nextSibling")},prev:function(p){return He(p,"previousSibling")},nextAll:function(p){return D(p,"nextSibling")},prevAll:function(p){return D(p,"previousSibling")},nextUntil:function(p,T,O){return D(p,"nextSibling",O)},prevUntil:function(p,T,O){return D(p,"previousSibling",O)},siblings:function(p){return Y((p.parentNode||{}).firstChild,p)},children:function(p){return Y(p.firstChild)},contents:function(p){return p.contentDocument!=null&&s(p.contentDocument)?p.contentDocument:($(p,"template")&&(p=p.content||p),f.merge([],p.childNodes))}},function(p,T){f.fn[p]=function(O,A){var B=f.map(this,T,O);return p.slice(-5)!=="Until"&&(A=O),A&&typeof A=="string"&&(B=f.filter(A,B)),this.length>1&&(Te[p]||f.uniqueSort(B),Ge.test(p)&&B.reverse()),this.pushStack(B)}});var Me=/[^\x20\t\r\n\f]+/g;function rt(p){var T={};return f.each(p.match(Me)||[],function(O,A){T[A]=!0}),T}f.Callbacks=function(p){p=typeof p=="string"?rt(p):f.extend({},p);var T,O,A,B,j=[],z=[],oe=-1,se=function(){for(B=B||p.once,A=T=!0;z.length;oe=-1)for(O=z.shift();++oe<j.length;)j[oe].apply(O[0],O[1])===!1&&p.stopOnFalse&&(oe=j.length,O=!1);p.memory||(O=!1),T=!1,B&&(O?j=[]:j="")},pe={add:function(){return j&&(O&&!T&&(oe=j.length-1,z.push(O)),function Ae(Be){f.each(Be,function(we,Xe){h(Xe)?(!p.unique||!pe.has(Xe))&&j.push(Xe):Xe&&Xe.length&&S(Xe)!=="string"&&Ae(Xe)})}(arguments),O&&!T&&se()),this},remove:function(){return f.each(arguments,function(Ae,Be){for(var we;(we=f.inArray(Be,j,we))>-1;)j.splice(we,1),we<=oe&&oe--}),this},has:function(Ae){return Ae?f.inArray(Ae,j)>-1:j.length>0},empty:function(){return j&&(j=[]),this},disable:function(){return B=z=[],j=O="",this},disabled:function(){return!j},lock:function(){return B=z=[],!O&&!T&&(j=O=""),this},locked:function(){return!!B},fireWith:function(Ae,Be){return B||(Be=Be||[],Be=[Ae,Be.slice?Be.slice():Be],z.push(Be),T||se()),this},fire:function(){return pe.fireWith(this,arguments),this},fired:function(){return!!A}};return pe};function X(p){return p}function re(p){throw p}function ge(p,T,O,A){var B;try{p&&h(B=p.promise)?B.call(p).done(T).fail(O):p&&h(B=p.then)?B.call(p,T,O):T.apply(void 0,[p].slice(A))}catch(j){O.apply(void 0,[j])}}f.extend({Deferred:function(p){var T=[["notify","progress",f.Callbacks("memory"),f.Callbacks("memory"),2],["resolve","done",f.Callbacks("once memory"),f.Callbacks("once memory"),0,"resolved"],["reject","fail",f.Callbacks("once memory"),f.Callbacks("once memory"),1,"rejected"]],O="pending",A={state:function(){return O},always:function(){return B.done(arguments).fail(arguments),this},catch:function(j){return A.then(null,j)},pipe:function(){var j=arguments;return f.Deferred(function(z){f.each(T,function(oe,se){var pe=h(j[se[4]])&&j[se[4]];B[se[1]](function(){var Ae=pe&&pe.apply(this,arguments);Ae&&h(Ae.promise)?Ae.promise().progress(z.notify).done(z.resolve).fail(z.reject):z[se[0]+"With"](this,pe?[Ae]:arguments)})}),j=null}).promise()},then:function(j,z,oe){var se=0;function pe(Ae,Be,we,Xe){return function(){var Dt=this,sr=arguments,zt=function(){var Gr,Xs;if(!(Ae<se)){if(Gr=we.apply(Dt,sr),Gr===Be.promise())throw new TypeError("Thenable self-resolution");Xs=Gr&&(typeof Gr=="object"||typeof Gr=="function")&&Gr.then,h(Xs)?Xe?Xs.call(Gr,pe(se,Be,X,Xe),pe(se,Be,re,Xe)):(se++,Xs.call(Gr,pe(se,Be,X,Xe),pe(se,Be,re,Xe),pe(se,Be,X,Be.notifyWith))):(we!==X&&(Dt=void 0,sr=[Gr]),(Xe||Be.resolveWith)(Dt,sr))}},nn=Xe?zt:function(){try{zt()}catch(Gr){f.Deferred.exceptionHook&&f.Deferred.exceptionHook(Gr,nn.error),Ae+1>=se&&(we!==re&&(Dt=void 0,sr=[Gr]),Be.rejectWith(Dt,sr))}};Ae?nn():(f.Deferred.getErrorHook?nn.error=f.Deferred.getErrorHook():f.Deferred.getStackHook&&(nn.error=f.Deferred.getStackHook()),t.setTimeout(nn))}}return f.Deferred(function(Ae){T[0][3].add(pe(0,Ae,h(oe)?oe:X,Ae.notifyWith)),T[1][3].add(pe(0,Ae,h(j)?j:X)),T[2][3].add(pe(0,Ae,h(z)?z:re))}).promise()},promise:function(j){return j!=null?f.extend(j,A):A}},B={};return f.each(T,function(j,z){var oe=z[2],se=z[5];A[z[1]]=oe.add,se&&oe.add(function(){O=se},T[3-j][2].disable,T[3-j][3].disable,T[0][2].lock,T[0][3].lock),oe.add(z[3].fire),B[z[0]]=function(){return B[z[0]+"With"](this===B?void 0:this,arguments),this},B[z[0]+"With"]=oe.fireWith}),A.promise(B),p&&p.call(B,B),B},when:function(p){var T=arguments.length,O=T,A=Array(O),B=a.call(arguments),j=f.Deferred(),z=function(oe){return function(se){A[oe]=this,B[oe]=arguments.length>1?a.call(arguments):se,--T||j.resolveWith(A,B)}};if(T<=1&&(ge(p,j.done(z(O)).resolve,j.reject,!T),j.state()==="pending"||h(B[O]&&B[O].then)))return j.then();for(;O--;)ge(B[O],z(O),j.reject);return j.promise()}});var Re=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;f.Deferred.exceptionHook=function(p,T){t.console&&t.console.warn&&p&&Re.test(p.name)&&t.console.warn("jQuery.Deferred exception: "+p.message,p.stack,T)},f.readyException=function(p){t.setTimeout(function(){throw p})};var _e=f.Deferred();f.fn.ready=function(p){return _e.then(p).catch(function(T){f.readyException(T)}),this},f.extend({isReady:!1,readyWait:1,ready:function(p){(p===!0?--f.readyWait:f.isReady)||(f.isReady=!0,!(p!==!0&&--f.readyWait>0)&&_e.resolveWith(y,[f]))}}),f.ready.then=_e.then;function ke(){y.removeEventListener("DOMContentLoaded",ke),t.removeEventListener("load",ke),f.ready()}y.readyState==="complete"||y.readyState!=="loading"&&!y.documentElement.doScroll?t.setTimeout(f.ready):(y.addEventListener("DOMContentLoaded",ke),t.addEventListener("load",ke));var qe=function(p,T,O,A,B,j,z){var oe=0,se=p.length,pe=O==null;if(S(O)==="object"){B=!0;for(oe in O)qe(p,T,oe,O[oe],!0,j,z)}else if(A!==void 0&&(B=!0,h(A)||(z=!0),pe&&(z?(T.call(p,A),T=null):(pe=T,T=function(Ae,Be,we){return pe.call(f(Ae),we)})),T))for(;oe<se;oe++)T(p[oe],O,z?A:A.call(p[oe],oe,T(p[oe],O)));return B?p:pe?T.call(p):se?T(p[0],O):j},Pe=/^-ms-/,De=/-([a-z])/g;function $e(p,T){return T.toUpperCase()}function st(p){return p.replace(Pe,"ms-").replace(De,$e)}var Ke=function(p){return p.nodeType===1||p.nodeType===9||!+p.nodeType};function ye(){this.expando=f.expando+ye.uid++}ye.uid=1,ye.prototype={cache:function(p){var T=p[this.expando];return T||(T={},Ke(p)&&(p.nodeType?p[this.expando]=T:Object.defineProperty(p,this.expando,{value:T,configurable:!0}))),T},set:function(p,T,O){var A,B=this.cache(p);if(typeof T=="string")B[st(T)]=O;else for(A in T)B[st(A)]=T[A];return B},get:function(p,T){return T===void 0?this.cache(p):p[this.expando]&&p[this.expando][st(T)]},access:function(p,T,O){return T===void 0||T&&typeof T=="string"&&O===void 0?this.get(p,T):(this.set(p,T,O),O!==void 0?O:T)},remove:function(p,T){var O,A=p[this.expando];if(A!==void 0){if(T!==void 0)for(Array.isArray(T)?T=T.map(st):(T=st(T),T=T in A?[T]:T.match(Me)||[]),O=T.length;O--;)delete A[T[O]];(T===void 0||f.isEmptyObject(A))&&(p.nodeType?p[this.expando]=void 0:delete p[this.expando])}},hasData:function(p){var T=p[this.expando];return T!==void 0&&!f.isEmptyObject(T)}};var Ce=new ye,it=new ye,Et=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,bt=/[A-Z]/g;function fr(p){return p==="true"?!0:p==="false"?!1:p==="null"?null:p===+p+""?+p:Et.test(p)?JSON.parse(p):p}function At(p,T,O){var A;if(O===void 0&&p.nodeType===1)if(A="data-"+T.replace(bt,"-$&").toLowerCase(),O=p.getAttribute(A),typeof O=="string"){try{O=fr(O)}catch{}it.set(p,T,O)}else O=void 0;return O}f.extend({hasData:function(p){return it.hasData(p)||Ce.hasData(p)},data:function(p,T,O){return it.access(p,T,O)},removeData:function(p,T){it.remove(p,T)},_data:function(p,T,O){return Ce.access(p,T,O)},_removeData:function(p,T){Ce.remove(p,T)}}),f.fn.extend({data:function(p,T){var O,A,B,j=this[0],z=j&&j.attributes;if(p===void 0){if(this.length&&(B=it.get(j),j.nodeType===1&&!Ce.get(j,"hasDataAttrs"))){for(O=z.length;O--;)z[O]&&(A=z[O].name,A.indexOf("data-")===0&&(A=st(A.slice(5)),At(j,A,B[A])));Ce.set(j,"hasDataAttrs",!0)}return B}return typeof p=="object"?this.each(function(){it.set(this,p)}):qe(this,function(oe){var se;if(j&&oe===void 0)return se=it.get(j,p),se!==void 0||(se=At(j,p),se!==void 0)?se:void 0;this.each(function(){it.set(this,p,oe)})},null,T,arguments.length>1,null,!0)},removeData:function(p){return this.each(function(){it.remove(this,p)})}}),f.extend({queue:function(p,T,O){var A;if(p)return T=(T||"fx")+"queue",A=Ce.get(p,T),O&&(!A||Array.isArray(O)?A=Ce.access(p,T,f.makeArray(O)):A.push(O)),A||[]},dequeue:function(p,T){T=T||"fx";var O=f.queue(p,T),A=O.length,B=O.shift(),j=f._queueHooks(p,T),z=function(){f.dequeue(p,T)};B==="inprogress"&&(B=O.shift(),A--),B&&(T==="fx"&&O.unshift("inprogress"),delete j.stop,B.call(p,z,j)),!A&&j&&j.empty.fire()},_queueHooks:function(p,T){var O=T+"queueHooks";return Ce.get(p,O)||Ce.access(p,O,{empty:f.Callbacks("once memory").add(function(){Ce.remove(p,[T+"queue",O])})})}}),f.fn.extend({queue:function(p,T){var O=2;return typeof p!="string"&&(T=p,p="fx",O--),arguments.length<O?f.queue(this[0],p):T===void 0?this:this.each(function(){var A=f.queue(this,p,T);f._queueHooks(this,p),p==="fx"&&A[0]!=="inprogress"&&f.dequeue(this,p)})},dequeue:function(p){return this.each(function(){f.dequeue(this,p)})},clearQueue:function(p){return this.queue(p||"fx",[])},promise:function(p,T){var O,A=1,B=f.Deferred(),j=this,z=this.length,oe=function(){--A||B.resolveWith(j,[j])};for(typeof p!="string"&&(T=p,p=void 0),p=p||"fx";z--;)O=Ce.get(j[z],p+"queueHooks"),O&&O.empty&&(A++,O.empty.add(oe));return oe(),B.promise(T)}});var Tr=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,pr=new RegExp("^(?:([+-])=|)("+Tr+")([a-z%]*)$","i"),ce=["Top","Right","Bottom","Left"],fe=y.documentElement,J=function(p){return f.contains(p.ownerDocument,p)},V={composed:!0};fe.getRootNode&&(J=function(p){return f.contains(p.ownerDocument,p)||p.getRootNode(V)===p.ownerDocument});var Se=function(p,T){return p=T||p,p.style.display==="none"||p.style.display===""&&J(p)&&f.css(p,"display")==="none"};function Qe(p,T,O,A){var B,j,z=20,oe=A?function(){return A.cur()}:function(){return f.css(p,T,"")},se=oe(),pe=O&&O[3]||(f.cssNumber[T]?"":"px"),Ae=p.nodeType&&(f.cssNumber[T]||pe!=="px"&&+se)&&pr.exec(f.css(p,T));if(Ae&&Ae[3]!==pe){for(se=se/2,pe=pe||Ae[3],Ae=+se||1;z--;)f.style(p,T,Ae+pe),(1-j)*(1-(j=oe()/se||.5))<=0&&(z=0),Ae=Ae/j;Ae=Ae*2,f.style(p,T,Ae+pe),O=O||[]}return O&&(Ae=+Ae||+se||0,B=O[1]?Ae+(O[1]+1)*O[2]:+O[2],A&&(A.unit=pe,A.start=Ae,A.end=B)),B}var dt={};function mt(p){var T,O=p.ownerDocument,A=p.nodeName,B=dt[A];return B||(T=O.body.appendChild(O.createElement(A)),B=f.css(T,"display"),T.parentNode.removeChild(T),B==="none"&&(B="block"),dt[A]=B,B)}function hr(p,T){for(var O,A,B=[],j=0,z=p.length;j<z;j++)A=p[j],A.style&&(O=A.style.display,T?(O==="none"&&(B[j]=Ce.get(A,"display")||null,B[j]||(A.style.display="")),A.style.display===""&&Se(A)&&(B[j]=mt(A))):O!=="none"&&(B[j]="none",Ce.set(A,"display",O)));for(j=0;j<z;j++)B[j]!=null&&(p[j].style.display=B[j]);return p}f.fn.extend({show:function(){return hr(this,!0)},hide:function(){return hr(this)},toggle:function(p){return typeof p=="boolean"?p?this.show():this.hide():this.each(function(){Se(this)?f(this).show():f(this).hide()})}});var Cr=/^(?:checkbox|radio)$/i,xr=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Hr=/^$|^module$|\/(?:java|ecma)script/i;(function(){var p=y.createDocumentFragment(),T=p.appendChild(y.createElement("div")),O=y.createElement("input");O.setAttribute("type","radio"),O.setAttribute("checked","checked"),O.setAttribute("name","t"),T.appendChild(O),g.checkClone=T.cloneNode(!0).cloneNode(!0).lastChild.checked,T.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!T.cloneNode(!0).lastChild.defaultValue,T.innerHTML="<option></option>",g.option=!!T.lastChild})();var Mt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Mt.tbody=Mt.tfoot=Mt.colgroup=Mt.caption=Mt.thead,Mt.th=Mt.td,g.option||(Mt.optgroup=Mt.option=[1,"<select multiple='multiple'>","</select>"]);function nr(p,T){var O;return typeof p.getElementsByTagName<"u"?O=p.getElementsByTagName(T||"*"):typeof p.querySelectorAll<"u"?O=p.querySelectorAll(T||"*"):O=[],T===void 0||T&&$(p,T)?f.merge([p],O):O}function Xr(p,T){for(var O=0,A=p.length;O<A;O++)Ce.set(p[O],"globalEval",!T||Ce.get(T[O],"globalEval"))}var Vi=/<|&#?\w+;/;function Ks(p,T,O,A,B){for(var j,z,oe,se,pe,Ae,Be=T.createDocumentFragment(),we=[],Xe=0,Dt=p.length;Xe<Dt;Xe++)if(j=p[Xe],j||j===0)if(S(j)==="object")f.merge(we,j.nodeType?[j]:j);else if(!Vi.test(j))we.push(T.createTextNode(j));else{for(z=z||Be.appendChild(T.createElement("div")),oe=(xr.exec(j)||["",""])[1].toLowerCase(),se=Mt[oe]||Mt._default,z.innerHTML=se[1]+f.htmlPrefilter(j)+se[2],Ae=se[0];Ae--;)z=z.lastChild;f.merge(we,z.childNodes),z=Be.firstChild,z.textContent=""}for(Be.textContent="",Xe=0;j=we[Xe++];){if(A&&f.inArray(j,A)>-1){B&&B.push(j);continue}if(pe=J(j),z=nr(Be.appendChild(j),"script"),pe&&Xr(z),O)for(Ae=0;j=z[Ae++];)Hr.test(j.type||"")&&O.push(j)}return Be}var Bo=/^([^.]*)(?:\.(.+)|)/;function $n(){return!0}function is(){return!1}function ks(p,T,O,A,B,j){var z,oe;if(typeof T=="object"){typeof O!="string"&&(A=A||O,O=void 0);for(oe in T)ks(p,oe,O,A,T[oe],j);return p}if(A==null&&B==null?(B=O,A=O=void 0):B==null&&(typeof O=="string"?(B=A,A=void 0):(B=A,A=O,O=void 0)),B===!1)B=is;else if(!B)return p;return j===1&&(z=B,B=function(se){return f().off(se),z.apply(this,arguments)},B.guid=z.guid||(z.guid=f.guid++)),p.each(function(){f.event.add(this,T,B,A,O)})}f.event={global:{},add:function(p,T,O,A,B){var j,z,oe,se,pe,Ae,Be,we,Xe,Dt,sr,zt=Ce.get(p);if(Ke(p))for(O.handler&&(j=O,O=j.handler,B=j.selector),B&&f.find.matchesSelector(fe,B),O.guid||(O.guid=f.guid++),(se=zt.events)||(se=zt.events=Object.create(null)),(z=zt.handle)||(z=zt.handle=function(nn){return typeof f<"u"&&f.event.triggered!==nn.type?f.event.dispatch.apply(p,arguments):void 0}),T=(T||"").match(Me)||[""],pe=T.length;pe--;)oe=Bo.exec(T[pe])||[],Xe=sr=oe[1],Dt=(oe[2]||"").split(".").sort(),Xe&&(Be=f.event.special[Xe]||{},Xe=(B?Be.delegateType:Be.bindType)||Xe,Be=f.event.special[Xe]||{},Ae=f.extend({type:Xe,origType:sr,data:A,handler:O,guid:O.guid,selector:B,needsContext:B&&f.expr.match.needsContext.test(B),namespace:Dt.join(".")},j),(we=se[Xe])||(we=se[Xe]=[],we.delegateCount=0,(!Be.setup||Be.setup.call(p,A,Dt,z)===!1)&&p.addEventListener&&p.addEventListener(Xe,z)),Be.add&&(Be.add.call(p,Ae),Ae.handler.guid||(Ae.handler.guid=O.guid)),B?we.splice(we.delegateCount++,0,Ae):we.push(Ae),f.event.global[Xe]=!0)},remove:function(p,T,O,A,B){var j,z,oe,se,pe,Ae,Be,we,Xe,Dt,sr,zt=Ce.hasData(p)&&Ce.get(p);if(!(!zt||!(se=zt.events))){for(T=(T||"").match(Me)||[""],pe=T.length;pe--;){if(oe=Bo.exec(T[pe])||[],Xe=sr=oe[1],Dt=(oe[2]||"").split(".").sort(),!Xe){for(Xe in se)f.event.remove(p,Xe+T[pe],O,A,!0);continue}for(Be=f.event.special[Xe]||{},Xe=(A?Be.delegateType:Be.bindType)||Xe,we=se[Xe]||[],oe=oe[2]&&new RegExp("(^|\\.)"+Dt.join("\\.(?:.*\\.|)")+"(\\.|$)"),z=j=we.length;j--;)Ae=we[j],(B||sr===Ae.origType)&&(!O||O.guid===Ae.guid)&&(!oe||oe.test(Ae.namespace))&&(!A||A===Ae.selector||A==="**"&&Ae.selector)&&(we.splice(j,1),Ae.selector&&we.delegateCount--,Be.remove&&Be.remove.call(p,Ae));z&&!we.length&&((!Be.teardown||Be.teardown.call(p,Dt,zt.handle)===!1)&&f.removeEvent(p,Xe,zt.handle),delete se[Xe])}f.isEmptyObject(se)&&Ce.remove(p,"handle events")}},dispatch:function(p){var T,O,A,B,j,z,oe=new Array(arguments.length),se=f.event.fix(p),pe=(Ce.get(this,"events")||Object.create(null))[se.type]||[],Ae=f.event.special[se.type]||{};for(oe[0]=se,T=1;T<arguments.length;T++)oe[T]=arguments[T];if(se.delegateTarget=this,!(Ae.preDispatch&&Ae.preDispatch.call(this,se)===!1)){for(z=f.event.handlers.call(this,se,pe),T=0;(B=z[T++])&&!se.isPropagationStopped();)for(se.currentTarget=B.elem,O=0;(j=B.handlers[O++])&&!se.isImmediatePropagationStopped();)(!se.rnamespace||j.namespace===!1||se.rnamespace.test(j.namespace))&&(se.handleObj=j,se.data=j.data,A=((f.event.special[j.origType]||{}).handle||j.handler).apply(B.elem,oe),A!==void 0&&(se.result=A)===!1&&(se.preventDefault(),se.stopPropagation()));return Ae.postDispatch&&Ae.postDispatch.call(this,se),se.result}},handlers:function(p,T){var O,A,B,j,z,oe=[],se=T.delegateCount,pe=p.target;if(se&&pe.nodeType&&!(p.type==="click"&&p.button>=1)){for(;pe!==this;pe=pe.parentNode||this)if(pe.nodeType===1&&!(p.type==="click"&&pe.disabled===!0)){for(j=[],z={},O=0;O<se;O++)A=T[O],B=A.selector+" ",z[B]===void 0&&(z[B]=A.needsContext?f(B,this).index(pe)>-1:f.find(B,this,null,[pe]).length),z[B]&&j.push(A);j.length&&oe.push({elem:pe,handlers:j})}}return pe=this,se<T.length&&oe.push({elem:pe,handlers:T.slice(se)}),oe},addProp:function(p,T){Object.defineProperty(f.Event.prototype,p,{enumerable:!0,configurable:!0,get:h(T)?function(){if(this.originalEvent)return T(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[p]},set:function(O){Object.defineProperty(this,p,{enumerable:!0,configurable:!0,writable:!0,value:O})}})},fix:function(p){return p[f.expando]?p:new f.Event(p)},special:{load:{noBubble:!0},click:{setup:function(p){var T=this||p;return Cr.test(T.type)&&T.click&&$(T,"input")&&Ys(T,"click",!0),!1},trigger:function(p){var T=this||p;return Cr.test(T.type)&&T.click&&$(T,"input")&&Ys(T,"click"),!0},_default:function(p){var T=p.target;return Cr.test(T.type)&&T.click&&$(T,"input")&&Ce.get(T,"click")||$(T,"a")}},beforeunload:{postDispatch:function(p){p.result!==void 0&&p.originalEvent&&(p.originalEvent.returnValue=p.result)}}}};function Ys(p,T,O){if(!O){Ce.get(p,T)===void 0&&f.event.add(p,T,$n);return}Ce.set(p,T,!1),f.event.add(p,T,{namespace:!1,handler:function(A){var B,j=Ce.get(this,T);if(A.isTrigger&1&&this[T]){if(j)(f.event.special[T]||{}).delegateType&&A.stopPropagation();else if(j=a.call(arguments),Ce.set(this,T,j),this[T](),B=Ce.get(this,T),Ce.set(this,T,!1),j!==B)return A.stopImmediatePropagation(),A.preventDefault(),B}else j&&(Ce.set(this,T,f.event.trigger(j[0],j.slice(1),this)),A.stopPropagation(),A.isImmediatePropagationStopped=$n)}})}f.removeEvent=function(p,T,O){p.removeEventListener&&p.removeEventListener(T,O)},f.Event=function(p,T){if(!(this instanceof f.Event))return new f.Event(p,T);p&&p.type?(this.originalEvent=p,this.type=p.type,this.isDefaultPrevented=p.defaultPrevented||p.defaultPrevented===void 0&&p.returnValue===!1?$n:is,this.target=p.target&&p.target.nodeType===3?p.target.parentNode:p.target,this.currentTarget=p.currentTarget,this.relatedTarget=p.relatedTarget):this.type=p,T&&f.extend(this,T),this.timeStamp=p&&p.timeStamp||Date.now(),this[f.expando]=!0},f.Event.prototype={constructor:f.Event,isDefaultPrevented:is,isPropagationStopped:is,isImmediatePropagationStopped:is,isSimulated:!1,preventDefault:function(){var p=this.originalEvent;this.isDefaultPrevented=$n,p&&!this.isSimulated&&p.preventDefault()},stopPropagation:function(){var p=this.originalEvent;this.isPropagationStopped=$n,p&&!this.isSimulated&&p.stopPropagation()},stopImmediatePropagation:function(){var p=this.originalEvent;this.isImmediatePropagationStopped=$n,p&&!this.isSimulated&&p.stopImmediatePropagation(),this.stopPropagation()}},f.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},f.event.addProp),f.each({focus:"focusin",blur:"focusout"},function(p,T){function O(A){if(y.documentMode){var B=Ce.get(this,"handle"),j=f.event.fix(A);j.type=A.type==="focusin"?"focus":"blur",j.isSimulated=!0,B(A),j.target===j.currentTarget&&B(j)}else f.event.simulate(T,A.target,f.event.fix(A))}f.event.special[p]={setup:function(){var A;if(Ys(this,p,!0),y.documentMode)A=Ce.get(this,T),A||this.addEventListener(T,O),Ce.set(this,T,(A||0)+1);else return!1},trigger:function(){return Ys(this,p),!0},teardown:function(){var A;if(y.documentMode)A=Ce.get(this,T)-1,A?Ce.set(this,T,A):(this.removeEventListener(T,O),Ce.remove(this,T));else return!1},_default:function(A){return Ce.get(A.target,p)},delegateType:T},f.event.special[T]={setup:function(){var A=this.ownerDocument||this.document||this,B=y.documentMode?this:A,j=Ce.get(B,T);j||(y.documentMode?this.addEventListener(T,O):A.addEventListener(p,O,!0)),Ce.set(B,T,(j||0)+1)},teardown:function(){var A=this.ownerDocument||this.document||this,B=y.documentMode?this:A,j=Ce.get(B,T)-1;j?Ce.set(B,T,j):(y.documentMode?this.removeEventListener(T,O):A.removeEventListener(p,O,!0),Ce.remove(B,T))}}}),f.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(p,T){f.event.special[p]={delegateType:T,bindType:T,handle:function(O){var A,B=this,j=O.relatedTarget,z=O.handleObj;return(!j||j!==B&&!f.contains(B,j))&&(O.type=z.origType,A=z.handler.apply(this,arguments),O.type=T),A}}}),f.fn.extend({on:function(p,T,O,A){return ks(this,p,T,O,A)},one:function(p,T,O,A){return ks(this,p,T,O,A,1)},off:function(p,T,O){var A,B;if(p&&p.preventDefault&&p.handleObj)return A=p.handleObj,f(p.delegateTarget).off(A.namespace?A.origType+"."+A.namespace:A.origType,A.selector,A.handler),this;if(typeof p=="object"){for(B in p)this.off(B,T,p[B]);return this}return(T===!1||typeof T=="function")&&(O=T,T=void 0),O===!1&&(O=is),this.each(function(){f.event.remove(this,p,O,T)})}});var jo=/<script|<style|<link/i,Hi=/checked\s*(?:[^=]|=\s*.checked.)/i,Oe=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function nt(p,T){return $(p,"table")&&$(T.nodeType!==11?T:T.firstChild,"tr")&&f(p).children("tbody")[0]||p}function Bt(p){return p.type=(p.getAttribute("type")!==null)+"/"+p.type,p}function Ir(p){return(p.type||"").slice(0,5)==="true/"?p.type=p.type.slice(5):p.removeAttribute("type"),p}function zr(p,T){var O,A,B,j,z,oe,se;if(T.nodeType===1){if(Ce.hasData(p)&&(j=Ce.get(p),se=j.events,se)){Ce.remove(T,"handle events");for(B in se)for(O=0,A=se[B].length;O<A;O++)f.event.add(T,B,se[B][O])}it.hasData(p)&&(z=it.access(p),oe=f.extend({},z),it.set(T,oe))}}function Js(p,T){var O=T.nodeName.toLowerCase();O==="input"&&Cr.test(p.type)?T.checked=p.checked:(O==="input"||O==="textarea")&&(T.defaultValue=p.defaultValue)}function Wr(p,T,O,A){T=o(T);var B,j,z,oe,se,pe,Ae=0,Be=p.length,we=Be-1,Xe=T[0],Dt=h(Xe);if(Dt||Be>1&&typeof Xe=="string"&&!g.checkClone&&Hi.test(Xe))return p.each(function(sr){var zt=p.eq(sr);Dt&&(T[0]=Xe.call(this,sr,zt.html())),Wr(zt,T,O,A)});if(Be&&(B=Ks(T,p[0].ownerDocument,!1,p,A),j=B.firstChild,B.childNodes.length===1&&(B=j),j||A)){for(z=f.map(nr(B,"script"),Bt),oe=z.length;Ae<Be;Ae++)se=B,Ae!==we&&(se=f.clone(se,!0,!0),oe&&f.merge(z,nr(se,"script"))),O.call(p[Ae],se,Ae);if(oe)for(pe=z[z.length-1].ownerDocument,f.map(z,Ir),Ae=0;Ae<oe;Ae++)se=z[Ae],Hr.test(se.type||"")&&!Ce.access(se,"globalEval")&&f.contains(pe,se)&&(se.src&&(se.type||"").toLowerCase()!=="module"?f._evalUrl&&!se.noModule&&f._evalUrl(se.src,{nonce:se.nonce||se.getAttribute("nonce")},pe):_(se.textContent.replace(Oe,""),se,pe))}return p}function Rn(p,T,O){for(var A,B=T?f.filter(T,p):p,j=0;(A=B[j])!=null;j++)!O&&A.nodeType===1&&f.cleanData(nr(A)),A.parentNode&&(O&&J(A)&&Xr(nr(A,"script")),A.parentNode.removeChild(A));return p}f.extend({htmlPrefilter:function(p){return p},clone:function(p,T,O){var A,B,j,z,oe=p.cloneNode(!0),se=J(p);if(!g.noCloneChecked&&(p.nodeType===1||p.nodeType===11)&&!f.isXMLDoc(p))for(z=nr(oe),j=nr(p),A=0,B=j.length;A<B;A++)Js(j[A],z[A]);if(T)if(O)for(j=j||nr(p),z=z||nr(oe),A=0,B=j.length;A<B;A++)zr(j[A],z[A]);else zr(p,oe);return z=nr(oe,"script"),z.length>0&&Xr(z,!se&&nr(p,"script")),oe},cleanData:function(p){for(var T,O,A,B=f.event.special,j=0;(O=p[j])!==void 0;j++)if(Ke(O)){if(T=O[Ce.expando]){if(T.events)for(A in T.events)B[A]?f.event.remove(O,A):f.removeEvent(O,A,T.handle);O[Ce.expando]=void 0}O[it.expando]&&(O[it.expando]=void 0)}}}),f.fn.extend({detach:function(p){return Rn(this,p,!0)},remove:function(p){return Rn(this,p)},text:function(p){return qe(this,function(T){return T===void 0?f.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=T)})},null,p,arguments.length)},append:function(){return Wr(this,arguments,function(p){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var T=nt(this,p);T.appendChild(p)}})},prepend:function(){return Wr(this,arguments,function(p){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var T=nt(this,p);T.insertBefore(p,T.firstChild)}})},before:function(){return Wr(this,arguments,function(p){this.parentNode&&this.parentNode.insertBefore(p,this)})},after:function(){return Wr(this,arguments,function(p){this.parentNode&&this.parentNode.insertBefore(p,this.nextSibling)})},empty:function(){for(var p,T=0;(p=this[T])!=null;T++)p.nodeType===1&&(f.cleanData(nr(p,!1)),p.textContent="");return this},clone:function(p,T){return p=p??!1,T=T??p,this.map(function(){return f.clone(this,p,T)})},html:function(p){return qe(this,function(T){var O=this[0]||{},A=0,B=this.length;if(T===void 0&&O.nodeType===1)return O.innerHTML;if(typeof T=="string"&&!jo.test(T)&&!Mt[(xr.exec(T)||["",""])[1].toLowerCase()]){T=f.htmlPrefilter(T);try{for(;A<B;A++)O=this[A]||{},O.nodeType===1&&(f.cleanData(nr(O,!1)),O.innerHTML=T);O=0}catch{}}O&&this.empty().append(T)},null,p,arguments.length)},replaceWith:function(){var p=[];return Wr(this,arguments,function(T){var O=this.parentNode;f.inArray(this,p)<0&&(f.cleanData(nr(this)),O&&O.replaceChild(T,this))},p)}}),f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(p,T){f.fn[p]=function(O){for(var A,B=[],j=f(O),z=j.length-1,oe=0;oe<=z;oe++)A=oe===z?this:this.clone(!0),f(j[oe])[T](A),i.apply(B,A.get());return this.pushStack(B)}});var Ln=new RegExp("^("+Tr+")(?!px)[a-z%]+$","i"),Uo=/^--/,qo=function(p){var T=p.ownerDocument.defaultView;return(!T||!T.opener)&&(T=t),T.getComputedStyle(p)},vk=function(p,T,O){var A,B,j={};for(B in T)j[B]=p.style[B],p.style[B]=T[B];A=O.call(p);for(B in T)p.style[B]=j[B];return A},MW=new RegExp(ce.join("|"),"i");(function(){function p(){if(pe){se.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",pe.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",fe.appendChild(se).appendChild(pe);var Ae=t.getComputedStyle(pe);O=Ae.top!=="1%",oe=T(Ae.marginLeft)===12,pe.style.right="60%",j=T(Ae.right)===36,A=T(Ae.width)===36,pe.style.position="absolute",B=T(pe.offsetWidth/3)===12,fe.removeChild(se),pe=null}}function T(Ae){return Math.round(parseFloat(Ae))}var O,A,B,j,z,oe,se=y.createElement("div"),pe=y.createElement("div");pe.style&&(pe.style.backgroundClip="content-box",pe.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle=pe.style.backgroundClip==="content-box",f.extend(g,{boxSizingReliable:function(){return p(),A},pixelBoxStyles:function(){return p(),j},pixelPosition:function(){return p(),O},reliableMarginLeft:function(){return p(),oe},scrollboxSize:function(){return p(),B},reliableTrDimensions:function(){var Ae,Be,we,Xe;return z==null&&(Ae=y.createElement("table"),Be=y.createElement("tr"),we=y.createElement("div"),Ae.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Be.style.cssText="box-sizing:content-box;border:1px solid",Be.style.height="1px",we.style.height="9px",we.style.display="block",fe.appendChild(Ae).appendChild(Be).appendChild(we),Xe=t.getComputedStyle(Be),z=parseInt(Xe.height,10)+parseInt(Xe.borderTopWidth,10)+parseInt(Xe.borderBottomWidth,10)===Be.offsetHeight,fe.removeChild(Ae)),z}}))})();function iu(p,T,O){var A,B,j,z,oe=Uo.test(T),se=p.style;return O=O||qo(p),O&&(z=O.getPropertyValue(T)||O[T],oe&&z&&(z=z.replace(N,"$1")||void 0),z===""&&!J(p)&&(z=f.style(p,T)),!g.pixelBoxStyles()&&Ln.test(z)&&MW.test(T)&&(A=se.width,B=se.minWidth,j=se.maxWidth,se.minWidth=se.maxWidth=se.width=z,z=O.width,se.width=A,se.minWidth=B,se.maxWidth=j)),z!==void 0?z+"":z}function yk(p,T){return{get:function(){if(p()){delete this.get;return}return(this.get=T).apply(this,arguments)}}}var bk=["Webkit","Moz","ms"],wk=y.createElement("div").style,Sk={};function DW(p){for(var T=p[0].toUpperCase()+p.slice(1),O=bk.length;O--;)if(p=bk[O]+T,p in wk)return p}function Yv(p){var T=f.cssProps[p]||Sk[p];return T||(p in wk?p:Sk[p]=DW(p)||p)}var NW=/^(none|table(?!-c[ea]).+)/,FW={position:"absolute",visibility:"hidden",display:"block"},_k={letterSpacing:"0",fontWeight:"400"};function Tk(p,T,O){var A=pr.exec(T);return A?Math.max(0,A[2]-(O||0))+(A[3]||"px"):T}function Jv(p,T,O,A,B,j){var z=T==="width"?1:0,oe=0,se=0,pe=0;if(O===(A?"border":"content"))return 0;for(;z<4;z+=2)O==="margin"&&(pe+=f.css(p,O+ce[z],!0,B)),A?(O==="content"&&(se-=f.css(p,"padding"+ce[z],!0,B)),O!=="margin"&&(se-=f.css(p,"border"+ce[z]+"Width",!0,B))):(se+=f.css(p,"padding"+ce[z],!0,B),O!=="padding"?se+=f.css(p,"border"+ce[z]+"Width",!0,B):oe+=f.css(p,"border"+ce[z]+"Width",!0,B));return!A&&j>=0&&(se+=Math.max(0,Math.ceil(p["offset"+T[0].toUpperCase()+T.slice(1)]-j-se-oe-.5))||0),se+pe}function Ck(p,T,O){var A=qo(p),B=!g.boxSizingReliable()||O,j=B&&f.css(p,"boxSizing",!1,A)==="border-box",z=j,oe=iu(p,T,A),se="offset"+T[0].toUpperCase()+T.slice(1);if(Ln.test(oe)){if(!O)return oe;oe="auto"}return(!g.boxSizingReliable()&&j||!g.reliableTrDimensions()&&$(p,"tr")||oe==="auto"||!parseFloat(oe)&&f.css(p,"display",!1,A)==="inline")&&p.getClientRects().length&&(j=f.css(p,"boxSizing",!1,A)==="border-box",z=se in p,z&&(oe=p[se])),oe=parseFloat(oe)||0,oe+Jv(p,T,O||(j?"border":"content"),z,A,oe)+"px"}f.extend({cssHooks:{opacity:{get:function(p,T){if(T){var O=iu(p,"opacity");return O===""?"1":O}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(p,T,O,A){if(!(!p||p.nodeType===3||p.nodeType===8||!p.style)){var B,j,z,oe=st(T),se=Uo.test(T),pe=p.style;if(se||(T=Yv(oe)),z=f.cssHooks[T]||f.cssHooks[oe],O!==void 0){if(j=typeof O,j==="string"&&(B=pr.exec(O))&&B[1]&&(O=Qe(p,T,B),j="number"),O==null||O!==O)return;j==="number"&&!se&&(O+=B&&B[3]||(f.cssNumber[oe]?"":"px")),!g.clearCloneStyle&&O===""&&T.indexOf("background")===0&&(pe[T]="inherit"),(!z||!("set"in z)||(O=z.set(p,O,A))!==void 0)&&(se?pe.setProperty(T,O):pe[T]=O)}else return z&&"get"in z&&(B=z.get(p,!1,A))!==void 0?B:pe[T]}},css:function(p,T,O,A){var B,j,z,oe=st(T),se=Uo.test(T);return se||(T=Yv(oe)),z=f.cssHooks[T]||f.cssHooks[oe],z&&"get"in z&&(B=z.get(p,!0,O)),B===void 0&&(B=iu(p,T,A)),B==="normal"&&T in _k&&(B=_k[T]),O===""||O?(j=parseFloat(B),O===!0||isFinite(j)?j||0:B):B}}),f.each(["height","width"],function(p,T){f.cssHooks[T]={get:function(O,A,B){if(A)return NW.test(f.css(O,"display"))&&(!O.getClientRects().length||!O.getBoundingClientRect().width)?vk(O,FW,function(){return Ck(O,T,B)}):Ck(O,T,B)},set:function(O,A,B){var j,z=qo(O),oe=!g.scrollboxSize()&&z.position==="absolute",se=oe||B,pe=se&&f.css(O,"boxSizing",!1,z)==="border-box",Ae=B?Jv(O,T,B,pe,z):0;return pe&&oe&&(Ae-=Math.ceil(O["offset"+T[0].toUpperCase()+T.slice(1)]-parseFloat(z[T])-Jv(O,T,"border",!1,z)-.5)),Ae&&(j=pr.exec(A))&&(j[3]||"px")!=="px"&&(O.style[T]=A,A=f.css(O,T)),Tk(O,A,Ae)}}}),f.cssHooks.marginLeft=yk(g.reliableMarginLeft,function(p,T){if(T)return(parseFloat(iu(p,"marginLeft"))||p.getBoundingClientRect().left-vk(p,{marginLeft:0},function(){return p.getBoundingClientRect().left}))+"px"}),f.each({margin:"",padding:"",border:"Width"},function(p,T){f.cssHooks[p+T]={expand:function(O){for(var A=0,B={},j=typeof O=="string"?O.split(" "):[O];A<4;A++)B[p+ce[A]+T]=j[A]||j[A-2]||j[0];return B}},p!=="margin"&&(f.cssHooks[p+T].set=Tk)}),f.fn.extend({css:function(p,T){return qe(this,function(O,A,B){var j,z,oe={},se=0;if(Array.isArray(A)){for(j=qo(O),z=A.length;se<z;se++)oe[A[se]]=f.css(O,A[se],!1,j);return oe}return B!==void 0?f.style(O,A,B):f.css(O,A)},p,T,arguments.length>1)}});function Mn(p,T,O,A,B){return new Mn.prototype.init(p,T,O,A,B)}f.Tween=Mn,Mn.prototype={constructor:Mn,init:function(p,T,O,A,B,j){this.elem=p,this.prop=O,this.easing=B||f.easing._default,this.options=T,this.start=this.now=this.cur(),this.end=A,this.unit=j||(f.cssNumber[O]?"":"px")},cur:function(){var p=Mn.propHooks[this.prop];return p&&p.get?p.get(this):Mn.propHooks._default.get(this)},run:function(p){var T,O=Mn.propHooks[this.prop];return this.options.duration?this.pos=T=f.easing[this.easing](p,this.options.duration*p,0,1,this.options.duration):this.pos=T=p,this.now=(this.end-this.start)*T+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),O&&O.set?O.set(this):Mn.propHooks._default.set(this),this}},Mn.prototype.init.prototype=Mn.prototype,Mn.propHooks={_default:{get:function(p){var T;return p.elem.nodeType!==1||p.elem[p.prop]!=null&&p.elem.style[p.prop]==null?p.elem[p.prop]:(T=f.css(p.elem,p.prop,""),!T||T==="auto"?0:T)},set:function(p){f.fx.step[p.prop]?f.fx.step[p.prop](p):p.elem.nodeType===1&&(f.cssHooks[p.prop]||p.elem.style[Yv(p.prop)]!=null)?f.style(p.elem,p.prop,p.now+p.unit):p.elem[p.prop]=p.now}}},Mn.propHooks.scrollTop=Mn.propHooks.scrollLeft={set:function(p){p.elem.nodeType&&p.elem.parentNode&&(p.elem[p.prop]=p.now)}},f.easing={linear:function(p){return p},swing:function(p){return .5-Math.cos(p*Math.PI)/2},_default:"swing"},f.fx=Mn.prototype.init,f.fx.step={};var zi,of,BW=/^(?:toggle|show|hide)$/,jW=/queueHooks$/;function Xv(){of&&(y.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(Xv):t.setTimeout(Xv,f.fx.interval),f.fx.tick())}function xk(){return t.setTimeout(function(){zi=void 0}),zi=Date.now()}function lf(p,T){var O,A=0,B={height:p};for(T=T?1:0;A<4;A+=2-T)O=ce[A],B["margin"+O]=B["padding"+O]=p;return T&&(B.opacity=B.width=p),B}function Ik(p,T,O){for(var A,B=(Os.tweeners[T]||[]).concat(Os.tweeners["*"]),j=0,z=B.length;j<z;j++)if(A=B[j].call(O,T,p))return A}function UW(p,T,O){var A,B,j,z,oe,se,pe,Ae,Be="width"in T||"height"in T,we=this,Xe={},Dt=p.style,sr=p.nodeType&&Se(p),zt=Ce.get(p,"fxshow");O.queue||(z=f._queueHooks(p,"fx"),z.unqueued==null&&(z.unqueued=0,oe=z.empty.fire,z.empty.fire=function(){z.unqueued||oe()}),z.unqueued++,we.always(function(){we.always(function(){z.unqueued--,f.queue(p,"fx").length||z.empty.fire()})}));for(A in T)if(B=T[A],BW.test(B)){if(delete T[A],j=j||B==="toggle",B===(sr?"hide":"show"))if(B==="show"&&zt&&zt[A]!==void 0)sr=!0;else continue;Xe[A]=zt&&zt[A]||f.style(p,A)}if(se=!f.isEmptyObject(T),!(!se&&f.isEmptyObject(Xe))){Be&&p.nodeType===1&&(O.overflow=[Dt.overflow,Dt.overflowX,Dt.overflowY],pe=zt&&zt.display,pe==null&&(pe=Ce.get(p,"display")),Ae=f.css(p,"display"),Ae==="none"&&(pe?Ae=pe:(hr([p],!0),pe=p.style.display||pe,Ae=f.css(p,"display"),hr([p]))),(Ae==="inline"||Ae==="inline-block"&&pe!=null)&&f.css(p,"float")==="none"&&(se||(we.done(function(){Dt.display=pe}),pe==null&&(Ae=Dt.display,pe=Ae==="none"?"":Ae)),Dt.display="inline-block")),O.overflow&&(Dt.overflow="hidden",we.always(function(){Dt.overflow=O.overflow[0],Dt.overflowX=O.overflow[1],Dt.overflowY=O.overflow[2]})),se=!1;for(A in Xe)se||(zt?"hidden"in zt&&(sr=zt.hidden):zt=Ce.access(p,"fxshow",{display:pe}),j&&(zt.hidden=!sr),sr&&hr([p],!0),we.done(function(){sr||hr([p]),Ce.remove(p,"fxshow");for(A in Xe)f.style(p,A,Xe[A])})),se=Ik(sr?zt[A]:0,A,we),A in zt||(zt[A]=se.start,sr&&(se.end=se.start,se.start=0))}}function qW(p,T){var O,A,B,j,z;for(O in p)if(A=st(O),B=T[A],j=p[O],Array.isArray(j)&&(B=j[1],j=p[O]=j[0]),O!==A&&(p[A]=j,delete p[O]),z=f.cssHooks[A],z&&"expand"in z){j=z.expand(j),delete p[A];for(O in j)O in p||(p[O]=j[O],T[O]=B)}else T[A]=B}function Os(p,T,O){var A,B,j=0,z=Os.prefilters.length,oe=f.Deferred().always(function(){delete se.elem}),se=function(){if(B)return!1;for(var Be=zi||xk(),we=Math.max(0,pe.startTime+pe.duration-Be),Xe=we/pe.duration||0,Dt=1-Xe,sr=0,zt=pe.tweens.length;sr<zt;sr++)pe.tweens[sr].run(Dt);return oe.notifyWith(p,[pe,Dt,we]),Dt<1&&zt?we:(zt||oe.notifyWith(p,[pe,1,0]),oe.resolveWith(p,[pe]),!1)},pe=oe.promise({elem:p,props:f.extend({},T),opts:f.extend(!0,{specialEasing:{},easing:f.easing._default},O),originalProperties:T,originalOptions:O,startTime:zi||xk(),duration:O.duration,tweens:[],createTween:function(Be,we){var Xe=f.Tween(p,pe.opts,Be,we,pe.opts.specialEasing[Be]||pe.opts.easing);return pe.tweens.push(Xe),Xe},stop:function(Be){var we=0,Xe=Be?pe.tweens.length:0;if(B)return this;for(B=!0;we<Xe;we++)pe.tweens[we].run(1);return Be?(oe.notifyWith(p,[pe,1,0]),oe.resolveWith(p,[pe,Be])):oe.rejectWith(p,[pe,Be]),this}}),Ae=pe.props;for(qW(Ae,pe.opts.specialEasing);j<z;j++)if(A=Os.prefilters[j].call(pe,p,Ae,pe.opts),A)return h(A.stop)&&(f._queueHooks(pe.elem,pe.opts.queue).stop=A.stop.bind(A)),A;return f.map(Ae,Ik,pe),h(pe.opts.start)&&pe.opts.start.call(p,pe),pe.progress(pe.opts.progress).done(pe.opts.done,pe.opts.complete).fail(pe.opts.fail).always(pe.opts.always),f.fx.timer(f.extend(se,{elem:p,anim:pe,queue:pe.opts.queue})),pe}f.Animation=f.extend(Os,{tweeners:{"*":[function(p,T){var O=this.createTween(p,T);return Qe(O.elem,p,pr.exec(T),O),O}]},tweener:function(p,T){h(p)?(T=p,p=["*"]):p=p.match(Me);for(var O,A=0,B=p.length;A<B;A++)O=p[A],Os.tweeners[O]=Os.tweeners[O]||[],Os.tweeners[O].unshift(T)},prefilters:[UW],prefilter:function(p,T){T?Os.prefilters.unshift(p):Os.prefilters.push(p)}}),f.speed=function(p,T,O){var A=p&&typeof p=="object"?f.extend({},p):{complete:O||!O&&T||h(p)&&p,duration:p,easing:O&&T||T&&!h(T)&&T};return f.fx.off?A.duration=0:typeof A.duration!="number"&&(A.duration in f.fx.speeds?A.duration=f.fx.speeds[A.duration]:A.duration=f.fx.speeds._default),(A.queue==null||A.queue===!0)&&(A.queue="fx"),A.old=A.complete,A.complete=function(){h(A.old)&&A.old.call(this),A.queue&&f.dequeue(this,A.queue)},A},f.fn.extend({fadeTo:function(p,T,O,A){return this.filter(Se).css("opacity",0).show().end().animate({opacity:T},p,O,A)},animate:function(p,T,O,A){var B=f.isEmptyObject(p),j=f.speed(T,O,A),z=function(){var oe=Os(this,f.extend({},p),j);(B||Ce.get(this,"finish"))&&oe.stop(!0)};return z.finish=z,B||j.queue===!1?this.each(z):this.queue(j.queue,z)},stop:function(p,T,O){var A=function(B){var j=B.stop;delete B.stop,j(O)};return typeof p!="string"&&(O=T,T=p,p=void 0),T&&this.queue(p||"fx",[]),this.each(function(){var B=!0,j=p!=null&&p+"queueHooks",z=f.timers,oe=Ce.get(this);if(j)oe[j]&&oe[j].stop&&A(oe[j]);else for(j in oe)oe[j]&&oe[j].stop&&jW.test(j)&&A(oe[j]);for(j=z.length;j--;)z[j].elem===this&&(p==null||z[j].queue===p)&&(z[j].anim.stop(O),B=!1,z.splice(j,1));(B||!O)&&f.dequeue(this,p)})},finish:function(p){return p!==!1&&(p=p||"fx"),this.each(function(){var T,O=Ce.get(this),A=O[p+"queue"],B=O[p+"queueHooks"],j=f.timers,z=A?A.length:0;for(O.finish=!0,f.queue(this,p,[]),B&&B.stop&&B.stop.call(this,!0),T=j.length;T--;)j[T].elem===this&&j[T].queue===p&&(j[T].anim.stop(!0),j.splice(T,1));for(T=0;T<z;T++)A[T]&&A[T].finish&&A[T].finish.call(this);delete O.finish})}}),f.each(["toggle","show","hide"],function(p,T){var O=f.fn[T];f.fn[T]=function(A,B,j){return A==null||typeof A=="boolean"?O.apply(this,arguments):this.animate(lf(T,!0),A,B,j)}}),f.each({slideDown:lf("show"),slideUp:lf("hide"),slideToggle:lf("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(p,T){f.fn[p]=function(O,A,B){return this.animate(T,O,A,B)}}),f.timers=[],f.fx.tick=function(){var p,T=0,O=f.timers;for(zi=Date.now();T<O.length;T++)p=O[T],!p()&&O[T]===p&&O.splice(T--,1);O.length||f.fx.stop(),zi=void 0},f.fx.timer=function(p){f.timers.push(p),f.fx.start()},f.fx.interval=13,f.fx.start=function(){of||(of=!0,Xv())},f.fx.stop=function(){of=null},f.fx.speeds={slow:600,fast:200,_default:400},f.fn.delay=function(p,T){return p=f.fx&&f.fx.speeds[p]||p,T=T||"fx",this.queue(T,function(O,A){var B=t.setTimeout(O,p);A.stop=function(){t.clearTimeout(B)}})},function(){var p=y.createElement("input"),T=y.createElement("select"),O=T.appendChild(y.createElement("option"));p.type="checkbox",g.checkOn=p.value!=="",g.optSelected=O.selected,p=y.createElement("input"),p.value="t",p.type="radio",g.radioValue=p.value==="t"}();var kk,lu=f.expr.attrHandle;f.fn.extend({attr:function(p,T){return qe(this,f.attr,p,T,arguments.length>1)},removeAttr:function(p){return this.each(function(){f.removeAttr(this,p)})}}),f.extend({attr:function(p,T,O){var A,B,j=p.nodeType;if(!(j===3||j===8||j===2)){if(typeof p.getAttribute>"u")return f.prop(p,T,O);if((j!==1||!f.isXMLDoc(p))&&(B=f.attrHooks[T.toLowerCase()]||(f.expr.match.bool.test(T)?kk:void 0)),O!==void 0){if(O===null){f.removeAttr(p,T);return}return B&&"set"in B&&(A=B.set(p,O,T))!==void 0?A:(p.setAttribute(T,O+""),O)}return B&&"get"in B&&(A=B.get(p,T))!==null?A:(A=f.find.attr(p,T),A??void 0)}},attrHooks:{type:{set:function(p,T){if(!g.radioValue&&T==="radio"&&$(p,"input")){var O=p.value;return p.setAttribute("type",T),O&&(p.value=O),T}}}},removeAttr:function(p,T){var O,A=0,B=T&&T.match(Me);if(B&&p.nodeType===1)for(;O=B[A++];)p.removeAttribute(O)}}),kk={set:function(p,T,O){return T===!1?f.removeAttr(p,O):p.setAttribute(O,O),O}},f.each(f.expr.match.bool.source.match(/\w+/g),function(p,T){var O=lu[T]||f.find.attr;lu[T]=function(A,B,j){var z,oe,se=B.toLowerCase();return j||(oe=lu[se],lu[se]=z,z=O(A,B,j)!=null?se:null,lu[se]=oe),z}});var VW=/^(?:input|select|textarea|button)$/i,HW=/^(?:a|area)$/i;f.fn.extend({prop:function(p,T){return qe(this,f.prop,p,T,arguments.length>1)},removeProp:function(p){return this.each(function(){delete this[f.propFix[p]||p]})}}),f.extend({prop:function(p,T,O){var A,B,j=p.nodeType;if(!(j===3||j===8||j===2))return(j!==1||!f.isXMLDoc(p))&&(T=f.propFix[T]||T,B=f.propHooks[T]),O!==void 0?B&&"set"in B&&(A=B.set(p,O,T))!==void 0?A:p[T]=O:B&&"get"in B&&(A=B.get(p,T))!==null?A:p[T]},propHooks:{tabIndex:{get:function(p){var T=f.find.attr(p,"tabindex");return T?parseInt(T,10):VW.test(p.nodeName)||HW.test(p.nodeName)&&p.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(f.propHooks.selected={get:function(p){var T=p.parentNode;return T&&T.parentNode&&T.parentNode.selectedIndex,null},set:function(p){var T=p.parentNode;T&&(T.selectedIndex,T.parentNode&&T.parentNode.selectedIndex)}}),f.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){f.propFix[this.toLowerCase()]=this});function Vo(p){var T=p.match(Me)||[];return T.join(" ")}function Ho(p){return p.getAttribute&&p.getAttribute("class")||""}function Qv(p){return Array.isArray(p)?p:typeof p=="string"?p.match(Me)||[]:[]}f.fn.extend({addClass:function(p){var T,O,A,B,j,z;return h(p)?this.each(function(oe){f(this).addClass(p.call(this,oe,Ho(this)))}):(T=Qv(p),T.length?this.each(function(){if(A=Ho(this),O=this.nodeType===1&&" "+Vo(A)+" ",O){for(j=0;j<T.length;j++)B=T[j],O.indexOf(" "+B+" ")<0&&(O+=B+" ");z=Vo(O),A!==z&&this.setAttribute("class",z)}}):this)},removeClass:function(p){var T,O,A,B,j,z;return h(p)?this.each(function(oe){f(this).removeClass(p.call(this,oe,Ho(this)))}):arguments.length?(T=Qv(p),T.length?this.each(function(){if(A=Ho(this),O=this.nodeType===1&&" "+Vo(A)+" ",O){for(j=0;j<T.length;j++)for(B=T[j];O.indexOf(" "+B+" ")>-1;)O=O.replace(" "+B+" "," ");z=Vo(O),A!==z&&this.setAttribute("class",z)}}):this):this.attr("class","")},toggleClass:function(p,T){var O,A,B,j,z=typeof p,oe=z==="string"||Array.isArray(p);return h(p)?this.each(function(se){f(this).toggleClass(p.call(this,se,Ho(this),T),T)}):typeof T=="boolean"&&oe?T?this.addClass(p):this.removeClass(p):(O=Qv(p),this.each(function(){if(oe)for(j=f(this),B=0;B<O.length;B++)A=O[B],j.hasClass(A)?j.removeClass(A):j.addClass(A);else(p===void 0||z==="boolean")&&(A=Ho(this),A&&Ce.set(this,"__className__",A),this.setAttribute&&this.setAttribute("class",A||p===!1?"":Ce.get(this,"__className__")||""))}))},hasClass:function(p){var T,O,A=0;for(T=" "+p+" ";O=this[A++];)if(O.nodeType===1&&(" "+Vo(Ho(O))+" ").indexOf(T)>-1)return!0;return!1}});var zW=/\r/g;f.fn.extend({val:function(p){var T,O,A,B=this[0];return arguments.length?(A=h(p),this.each(function(j){var z;this.nodeType===1&&(A?z=p.call(this,j,f(this).val()):z=p,z==null?z="":typeof z=="number"?z+="":Array.isArray(z)&&(z=f.map(z,function(oe){return oe==null?"":oe+""})),T=f.valHooks[this.type]||f.valHooks[this.nodeName.toLowerCase()],(!T||!("set"in T)||T.set(this,z,"value")===void 0)&&(this.value=z))})):B?(T=f.valHooks[B.type]||f.valHooks[B.nodeName.toLowerCase()],T&&"get"in T&&(O=T.get(B,"value"))!==void 0?O:(O=B.value,typeof O=="string"?O.replace(zW,""):O??"")):void 0}}),f.extend({valHooks:{option:{get:function(p){var T=f.find.attr(p,"value");return T??Vo(f.text(p))}},select:{get:function(p){var T,O,A,B=p.options,j=p.selectedIndex,z=p.type==="select-one",oe=z?null:[],se=z?j+1:B.length;for(j<0?A=se:A=z?j:0;A<se;A++)if(O=B[A],(O.selected||A===j)&&!O.disabled&&(!O.parentNode.disabled||!$(O.parentNode,"optgroup"))){if(T=f(O).val(),z)return T;oe.push(T)}return oe},set:function(p,T){for(var O,A,B=p.options,j=f.makeArray(T),z=B.length;z--;)A=B[z],(A.selected=f.inArray(f.valHooks.option.get(A),j)>-1)&&(O=!0);return O||(p.selectedIndex=-1),j}}}}),f.each(["radio","checkbox"],function(){f.valHooks[this]={set:function(p,T){if(Array.isArray(T))return p.checked=f.inArray(f(p).val(),T)>-1}},g.checkOn||(f.valHooks[this].get=function(p){return p.getAttribute("value")===null?"on":p.value})});var uu=t.location,Ok={guid:Date.now()},Zv=/\?/;f.parseXML=function(p){var T,O;if(!p||typeof p!="string")return null;try{T=new t.DOMParser().parseFromString(p,"text/xml")}catch{}return O=T&&T.getElementsByTagName("parsererror")[0],(!T||O)&&f.error("Invalid XML: "+(O?f.map(O.childNodes,function(A){return A.textContent}).join(`
`):p)),T};var Pk=/^(?:focusinfocus|focusoutblur)$/,Ak=function(p){p.stopPropagation()};f.extend(f.event,{trigger:function(p,T,O,A){var B,j,z,oe,se,pe,Ae,Be,we=[O||y],Xe=d.call(p,"type")?p.type:p,Dt=d.call(p,"namespace")?p.namespace.split("."):[];if(j=Be=z=O=O||y,!(O.nodeType===3||O.nodeType===8)&&!Pk.test(Xe+f.event.triggered)&&(Xe.indexOf(".")>-1&&(Dt=Xe.split("."),Xe=Dt.shift(),Dt.sort()),se=Xe.indexOf(":")<0&&"on"+Xe,p=p[f.expando]?p:new f.Event(Xe,typeof p=="object"&&p),p.isTrigger=A?2:3,p.namespace=Dt.join("."),p.rnamespace=p.namespace?new RegExp("(^|\\.)"+Dt.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,p.result=void 0,p.target||(p.target=O),T=T==null?[p]:f.makeArray(T,[p]),Ae=f.event.special[Xe]||{},!(!A&&Ae.trigger&&Ae.trigger.apply(O,T)===!1))){if(!A&&!Ae.noBubble&&!v(O)){for(oe=Ae.delegateType||Xe,Pk.test(oe+Xe)||(j=j.parentNode);j;j=j.parentNode)we.push(j),z=j;z===(O.ownerDocument||y)&&we.push(z.defaultView||z.parentWindow||t)}for(B=0;(j=we[B++])&&!p.isPropagationStopped();)Be=j,p.type=B>1?oe:Ae.bindType||Xe,pe=(Ce.get(j,"events")||Object.create(null))[p.type]&&Ce.get(j,"handle"),pe&&pe.apply(j,T),pe=se&&j[se],pe&&pe.apply&&Ke(j)&&(p.result=pe.apply(j,T),p.result===!1&&p.preventDefault());return p.type=Xe,!A&&!p.isDefaultPrevented()&&(!Ae._default||Ae._default.apply(we.pop(),T)===!1)&&Ke(O)&&se&&h(O[Xe])&&!v(O)&&(z=O[se],z&&(O[se]=null),f.event.triggered=Xe,p.isPropagationStopped()&&Be.addEventListener(Xe,Ak),O[Xe](),p.isPropagationStopped()&&Be.removeEventListener(Xe,Ak),f.event.triggered=void 0,z&&(O[se]=z)),p.result}},simulate:function(p,T,O){var A=f.extend(new f.Event,O,{type:p,isSimulated:!0});f.event.trigger(A,null,T)}}),f.fn.extend({trigger:function(p,T){return this.each(function(){f.event.trigger(p,T,this)})},triggerHandler:function(p,T){var O=this[0];if(O)return f.event.trigger(p,T,O,!0)}});var WW=/\[\]$/,Ek=/\r?\n/g,GW=/^(?:submit|button|image|reset|file)$/i,KW=/^(?:input|select|textarea|keygen)/i;function ey(p,T,O,A){var B;if(Array.isArray(T))f.each(T,function(j,z){O||WW.test(p)?A(p,z):ey(p+"["+(typeof z=="object"&&z!=null?j:"")+"]",z,O,A)});else if(!O&&S(T)==="object")for(B in T)ey(p+"["+B+"]",T[B],O,A);else A(p,T)}f.param=function(p,T){var O,A=[],B=function(j,z){var oe=h(z)?z():z;A[A.length]=encodeURIComponent(j)+"="+encodeURIComponent(oe??"")};if(p==null)return"";if(Array.isArray(p)||p.jquery&&!f.isPlainObject(p))f.each(p,function(){B(this.name,this.value)});else for(O in p)ey(O,p[O],T,B);return A.join("&")},f.fn.extend({serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var p=f.prop(this,"elements");return p?f.makeArray(p):this}).filter(function(){var p=this.type;return this.name&&!f(this).is(":disabled")&&KW.test(this.nodeName)&&!GW.test(p)&&(this.checked||!Cr.test(p))}).map(function(p,T){var O=f(this).val();return O==null?null:Array.isArray(O)?f.map(O,function(A){return{name:T.name,value:A.replace(Ek,`\r
`)}}):{name:T.name,value:O.replace(Ek,`\r
`)}}).get()}});var YW=/%20/g,JW=/#.*$/,XW=/([?&])_=[^&]*/,QW=/^(.*?):[ \t]*([^\r\n]*)$/mg,ZW=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,eG=/^(?:GET|HEAD)$/,tG=/^\/\//,$k={},ty={},Rk="*/".concat("*"),ry=y.createElement("a");ry.href=uu.href;function Lk(p){return function(T,O){typeof T!="string"&&(O=T,T="*");var A,B=0,j=T.toLowerCase().match(Me)||[];if(h(O))for(;A=j[B++];)A[0]==="+"?(A=A.slice(1)||"*",(p[A]=p[A]||[]).unshift(O)):(p[A]=p[A]||[]).push(O)}}function Mk(p,T,O,A){var B={},j=p===ty;function z(oe){var se;return B[oe]=!0,f.each(p[oe]||[],function(pe,Ae){var Be=Ae(T,O,A);if(typeof Be=="string"&&!j&&!B[Be])return T.dataTypes.unshift(Be),z(Be),!1;if(j)return!(se=Be)}),se}return z(T.dataTypes[0])||!B["*"]&&z("*")}function ny(p,T){var O,A,B=f.ajaxSettings.flatOptions||{};for(O in T)T[O]!==void 0&&((B[O]?p:A||(A={}))[O]=T[O]);return A&&f.extend(!0,p,A),p}function rG(p,T,O){for(var A,B,j,z,oe=p.contents,se=p.dataTypes;se[0]==="*";)se.shift(),A===void 0&&(A=p.mimeType||T.getResponseHeader("Content-Type"));if(A){for(B in oe)if(oe[B]&&oe[B].test(A)){se.unshift(B);break}}if(se[0]in O)j=se[0];else{for(B in O){if(!se[0]||p.converters[B+" "+se[0]]){j=B;break}z||(z=B)}j=j||z}if(j)return j!==se[0]&&se.unshift(j),O[j]}function nG(p,T,O,A){var B,j,z,oe,se,pe={},Ae=p.dataTypes.slice();if(Ae[1])for(z in p.converters)pe[z.toLowerCase()]=p.converters[z];for(j=Ae.shift();j;)if(p.responseFields[j]&&(O[p.responseFields[j]]=T),!se&&A&&p.dataFilter&&(T=p.dataFilter(T,p.dataType)),se=j,j=Ae.shift(),j){if(j==="*")j=se;else if(se!=="*"&&se!==j){if(z=pe[se+" "+j]||pe["* "+j],!z){for(B in pe)if(oe=B.split(" "),oe[1]===j&&(z=pe[se+" "+oe[0]]||pe["* "+oe[0]],z)){z===!0?z=pe[B]:pe[B]!==!0&&(j=oe[0],Ae.unshift(oe[1]));break}}if(z!==!0)if(z&&p.throws)T=z(T);else try{T=z(T)}catch(Be){return{state:"parsererror",error:z?Be:"No conversion from "+se+" to "+j}}}}return{state:"success",data:T}}f.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:uu.href,type:"GET",isLocal:ZW.test(uu.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Rk,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":f.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(p,T){return T?ny(ny(p,f.ajaxSettings),T):ny(f.ajaxSettings,p)},ajaxPrefilter:Lk($k),ajaxTransport:Lk(ty),ajax:function(p,T){typeof p=="object"&&(T=p,p=void 0),T=T||{};var O,A,B,j,z,oe,se,pe,Ae,Be,we=f.ajaxSetup({},T),Xe=we.context||we,Dt=we.context&&(Xe.nodeType||Xe.jquery)?f(Xe):f.event,sr=f.Deferred(),zt=f.Callbacks("once memory"),nn=we.statusCode||{},Gr={},Xs={},Qs="canceled",tr={readyState:0,getResponseHeader:function(or){var Dr;if(se){if(!j)for(j={};Dr=QW.exec(B);)j[Dr[1].toLowerCase()+" "]=(j[Dr[1].toLowerCase()+" "]||[]).concat(Dr[2]);Dr=j[or.toLowerCase()+" "]}return Dr==null?null:Dr.join(", ")},getAllResponseHeaders:function(){return se?B:null},setRequestHeader:function(or,Dr){return se==null&&(or=Xs[or.toLowerCase()]=Xs[or.toLowerCase()]||or,Gr[or]=Dr),this},overrideMimeType:function(or){return se==null&&(we.mimeType=or),this},statusCode:function(or){var Dr;if(or)if(se)tr.always(or[tr.status]);else for(Dr in or)nn[Dr]=[nn[Dr],or[Dr]];return this},abort:function(or){var Dr=or||Qs;return O&&O.abort(Dr),zo(0,Dr),this}};if(sr.promise(tr),we.url=((p||we.url||uu.href)+"").replace(tG,uu.protocol+"//"),we.type=T.method||T.type||we.method||we.type,we.dataTypes=(we.dataType||"*").toLowerCase().match(Me)||[""],we.crossDomain==null){oe=y.createElement("a");try{oe.href=we.url,oe.href=oe.href,we.crossDomain=ry.protocol+"//"+ry.host!=oe.protocol+"//"+oe.host}catch{we.crossDomain=!0}}if(we.data&&we.processData&&typeof we.data!="string"&&(we.data=f.param(we.data,we.traditional)),Mk($k,we,T,tr),se)return tr;pe=f.event&&we.global,pe&&f.active++===0&&f.event.trigger("ajaxStart"),we.type=we.type.toUpperCase(),we.hasContent=!eG.test(we.type),A=we.url.replace(JW,""),we.hasContent?we.data&&we.processData&&(we.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(we.data=we.data.replace(YW,"+")):(Be=we.url.slice(A.length),we.data&&(we.processData||typeof we.data=="string")&&(A+=(Zv.test(A)?"&":"?")+we.data,delete we.data),we.cache===!1&&(A=A.replace(XW,"$1"),Be=(Zv.test(A)?"&":"?")+"_="+Ok.guid+++Be),we.url=A+Be),we.ifModified&&(f.lastModified[A]&&tr.setRequestHeader("If-Modified-Since",f.lastModified[A]),f.etag[A]&&tr.setRequestHeader("If-None-Match",f.etag[A])),(we.data&&we.hasContent&&we.contentType!==!1||T.contentType)&&tr.setRequestHeader("Content-Type",we.contentType),tr.setRequestHeader("Accept",we.dataTypes[0]&&we.accepts[we.dataTypes[0]]?we.accepts[we.dataTypes[0]]+(we.dataTypes[0]!=="*"?", "+Rk+"; q=0.01":""):we.accepts["*"]);for(Ae in we.headers)tr.setRequestHeader(Ae,we.headers[Ae]);if(we.beforeSend&&(we.beforeSend.call(Xe,tr,we)===!1||se))return tr.abort();if(Qs="abort",zt.add(we.complete),tr.done(we.success),tr.fail(we.error),O=Mk(ty,we,T,tr),!O)zo(-1,"No Transport");else{if(tr.readyState=1,pe&&Dt.trigger("ajaxSend",[tr,we]),se)return tr;we.async&&we.timeout>0&&(z=t.setTimeout(function(){tr.abort("timeout")},we.timeout));try{se=!1,O.send(Gr,zo)}catch(or){if(se)throw or;zo(-1,or)}}function zo(or,Dr,du,ay){var Zs,fu,ea,Xa,Qa,ls=Dr;se||(se=!0,z&&t.clearTimeout(z),O=void 0,B=ay||"",tr.readyState=or>0?4:0,Zs=or>=200&&or<300||or===304,du&&(Xa=rG(we,tr,du)),!Zs&&f.inArray("script",we.dataTypes)>-1&&f.inArray("json",we.dataTypes)<0&&(we.converters["text script"]=function(){}),Xa=nG(we,Xa,tr,Zs),Zs?(we.ifModified&&(Qa=tr.getResponseHeader("Last-Modified"),Qa&&(f.lastModified[A]=Qa),Qa=tr.getResponseHeader("etag"),Qa&&(f.etag[A]=Qa)),or===204||we.type==="HEAD"?ls="nocontent":or===304?ls="notmodified":(ls=Xa.state,fu=Xa.data,ea=Xa.error,Zs=!ea)):(ea=ls,(or||!ls)&&(ls="error",or<0&&(or=0))),tr.status=or,tr.statusText=(Dr||ls)+"",Zs?sr.resolveWith(Xe,[fu,ls,tr]):sr.rejectWith(Xe,[tr,ls,ea]),tr.statusCode(nn),nn=void 0,pe&&Dt.trigger(Zs?"ajaxSuccess":"ajaxError",[tr,we,Zs?fu:ea]),zt.fireWith(Xe,[tr,ls]),pe&&(Dt.trigger("ajaxComplete",[tr,we]),--f.active||f.event.trigger("ajaxStop")))}return tr},getJSON:function(p,T,O){return f.get(p,T,O,"json")},getScript:function(p,T){return f.get(p,void 0,T,"script")}}),f.each(["get","post"],function(p,T){f[T]=function(O,A,B,j){return h(A)&&(j=j||B,B=A,A=void 0),f.ajax(f.extend({url:O,type:T,dataType:j,data:A,success:B},f.isPlainObject(O)&&O))}}),f.ajaxPrefilter(function(p){var T;for(T in p.headers)T.toLowerCase()==="content-type"&&(p.contentType=p.headers[T]||"")}),f._evalUrl=function(p,T,O){return f.ajax({url:p,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(A){f.globalEval(A,T,O)}})},f.fn.extend({wrapAll:function(p){var T;return this[0]&&(h(p)&&(p=p.call(this[0])),T=f(p,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&T.insertBefore(this[0]),T.map(function(){for(var O=this;O.firstElementChild;)O=O.firstElementChild;return O}).append(this)),this},wrapInner:function(p){return h(p)?this.each(function(T){f(this).wrapInner(p.call(this,T))}):this.each(function(){var T=f(this),O=T.contents();O.length?O.wrapAll(p):T.append(p)})},wrap:function(p){var T=h(p);return this.each(function(O){f(this).wrapAll(T?p.call(this,O):p)})},unwrap:function(p){return this.parent(p).not("body").each(function(){f(this).replaceWith(this.childNodes)}),this}}),f.expr.pseudos.hidden=function(p){return!f.expr.pseudos.visible(p)},f.expr.pseudos.visible=function(p){return!!(p.offsetWidth||p.offsetHeight||p.getClientRects().length)},f.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var sG={0:200,1223:204},cu=f.ajaxSettings.xhr();g.cors=!!cu&&"withCredentials"in cu,g.ajax=cu=!!cu,f.ajaxTransport(function(p){var T,O;if(g.cors||cu&&!p.crossDomain)return{send:function(A,B){var j,z=p.xhr();if(z.open(p.type,p.url,p.async,p.username,p.password),p.xhrFields)for(j in p.xhrFields)z[j]=p.xhrFields[j];p.mimeType&&z.overrideMimeType&&z.overrideMimeType(p.mimeType),!p.crossDomain&&!A["X-Requested-With"]&&(A["X-Requested-With"]="XMLHttpRequest");for(j in A)z.setRequestHeader(j,A[j]);T=function(oe){return function(){T&&(T=O=z.onload=z.onerror=z.onabort=z.ontimeout=z.onreadystatechange=null,oe==="abort"?z.abort():oe==="error"?typeof z.status!="number"?B(0,"error"):B(z.status,z.statusText):B(sG[z.status]||z.status,z.statusText,(z.responseType||"text")!=="text"||typeof z.responseText!="string"?{binary:z.response}:{text:z.responseText},z.getAllResponseHeaders()))}},z.onload=T(),O=z.onerror=z.ontimeout=T("error"),z.onabort!==void 0?z.onabort=O:z.onreadystatechange=function(){z.readyState===4&&t.setTimeout(function(){T&&O()})},T=T("abort");try{z.send(p.hasContent&&p.data||null)}catch(oe){if(T)throw oe}},abort:function(){T&&T()}}}),f.ajaxPrefilter(function(p){p.crossDomain&&(p.contents.script=!1)}),f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(p){return f.globalEval(p),p}}}),f.ajaxPrefilter("script",function(p){p.cache===void 0&&(p.cache=!1),p.crossDomain&&(p.type="GET")}),f.ajaxTransport("script",function(p){if(p.crossDomain||p.scriptAttrs){var T,O;return{send:function(A,B){T=f("<script>").attr(p.scriptAttrs||{}).prop({charset:p.scriptCharset,src:p.url}).on("load error",O=function(j){T.remove(),O=null,j&&B(j.type==="error"?404:200,j.type)}),y.head.appendChild(T[0])},abort:function(){O&&O()}}}});var Dk=[],sy=/(=)\?(?=&|$)|\?\?/;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var p=Dk.pop()||f.expando+"_"+Ok.guid++;return this[p]=!0,p}}),f.ajaxPrefilter("json jsonp",function(p,T,O){var A,B,j,z=p.jsonp!==!1&&(sy.test(p.url)?"url":typeof p.data=="string"&&(p.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&sy.test(p.data)&&"data");if(z||p.dataTypes[0]==="jsonp")return A=p.jsonpCallback=h(p.jsonpCallback)?p.jsonpCallback():p.jsonpCallback,z?p[z]=p[z].replace(sy,"$1"+A):p.jsonp!==!1&&(p.url+=(Zv.test(p.url)?"&":"?")+p.jsonp+"="+A),p.converters["script json"]=function(){return j||f.error(A+" was not called"),j[0]},p.dataTypes[0]="json",B=t[A],t[A]=function(){j=arguments},O.always(function(){B===void 0?f(t).removeProp(A):t[A]=B,p[A]&&(p.jsonpCallback=T.jsonpCallback,Dk.push(A)),j&&h(B)&&B(j[0]),j=B=void 0}),"script"}),g.createHTMLDocument=function(){var p=y.implementation.createHTMLDocument("").body;return p.innerHTML="<form></form><form></form>",p.childNodes.length===2}(),f.parseHTML=function(p,T,O){if(typeof p!="string")return[];typeof T=="boolean"&&(O=T,T=!1);var A,B,j;return T||(g.createHTMLDocument?(T=y.implementation.createHTMLDocument(""),A=T.createElement("base"),A.href=y.location.href,T.head.appendChild(A)):T=y),B=ae.exec(p),j=!O&&[],B?[T.createElement(B[1])]:(B=Ks([p],T,j),j&&j.length&&f(j).remove(),f.merge([],B.childNodes))},f.fn.load=function(p,T,O){var A,B,j,z=this,oe=p.indexOf(" ");return oe>-1&&(A=Vo(p.slice(oe)),p=p.slice(0,oe)),h(T)?(O=T,T=void 0):T&&typeof T=="object"&&(B="POST"),z.length>0&&f.ajax({url:p,type:B||"GET",dataType:"html",data:T}).done(function(se){j=arguments,z.html(A?f("<div>").append(f.parseHTML(se)).find(A):se)}).always(O&&function(se,pe){z.each(function(){O.apply(this,j||[se.responseText,pe,se])})}),this},f.expr.pseudos.animated=function(p){return f.grep(f.timers,function(T){return p===T.elem}).length},f.offset={setOffset:function(p,T,O){var A,B,j,z,oe,se,pe,Ae=f.css(p,"position"),Be=f(p),we={};Ae==="static"&&(p.style.position="relative"),oe=Be.offset(),j=f.css(p,"top"),se=f.css(p,"left"),pe=(Ae==="absolute"||Ae==="fixed")&&(j+se).indexOf("auto")>-1,pe?(A=Be.position(),z=A.top,B=A.left):(z=parseFloat(j)||0,B=parseFloat(se)||0),h(T)&&(T=T.call(p,O,f.extend({},oe))),T.top!=null&&(we.top=T.top-oe.top+z),T.left!=null&&(we.left=T.left-oe.left+B),"using"in T?T.using.call(p,we):Be.css(we)}},f.fn.extend({offset:function(p){if(arguments.length)return p===void 0?this:this.each(function(B){f.offset.setOffset(this,p,B)});var T,O,A=this[0];if(A)return A.getClientRects().length?(T=A.getBoundingClientRect(),O=A.ownerDocument.defaultView,{top:T.top+O.pageYOffset,left:T.left+O.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var p,T,O,A=this[0],B={top:0,left:0};if(f.css(A,"position")==="fixed")T=A.getBoundingClientRect();else{for(T=this.offset(),O=A.ownerDocument,p=A.offsetParent||O.documentElement;p&&(p===O.body||p===O.documentElement)&&f.css(p,"position")==="static";)p=p.parentNode;p&&p!==A&&p.nodeType===1&&(B=f(p).offset(),B.top+=f.css(p,"borderTopWidth",!0),B.left+=f.css(p,"borderLeftWidth",!0))}return{top:T.top-B.top-f.css(A,"marginTop",!0),left:T.left-B.left-f.css(A,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var p=this.offsetParent;p&&f.css(p,"position")==="static";)p=p.offsetParent;return p||fe})}}),f.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(p,T){var O=T==="pageYOffset";f.fn[p]=function(A){return qe(this,function(B,j,z){var oe;if(v(B)?oe=B:B.nodeType===9&&(oe=B.defaultView),z===void 0)return oe?oe[T]:B[j];oe?oe.scrollTo(O?oe.pageXOffset:z,O?z:oe.pageYOffset):B[j]=z},p,A,arguments.length)}}),f.each(["top","left"],function(p,T){f.cssHooks[T]=yk(g.pixelPosition,function(O,A){if(A)return A=iu(O,T),Ln.test(A)?f(O).position()[T]+"px":A})}),f.each({Height:"height",Width:"width"},function(p,T){f.each({padding:"inner"+p,content:T,"":"outer"+p},function(O,A){f.fn[A]=function(B,j){var z=arguments.length&&(O||typeof B!="boolean"),oe=O||(B===!0||j===!0?"margin":"border");return qe(this,function(se,pe,Ae){var Be;return v(se)?A.indexOf("outer")===0?se["inner"+p]:se.document.documentElement["client"+p]:se.nodeType===9?(Be=se.documentElement,Math.max(se.body["scroll"+p],Be["scroll"+p],se.body["offset"+p],Be["offset"+p],Be["client"+p])):Ae===void 0?f.css(se,pe,oe):f.style(se,pe,Ae,oe)},T,z?B:void 0,z)}})}),f.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(p,T){f.fn[T]=function(O){return this.on(T,O)}}),f.fn.extend({bind:function(p,T,O){return this.on(p,null,T,O)},unbind:function(p,T){return this.off(p,null,T)},delegate:function(p,T,O,A){return this.on(T,p,O,A)},undelegate:function(p,T,O){return arguments.length===1?this.off(p,"**"):this.off(T,p||"**",O)},hover:function(p,T){return this.on("mouseenter",p).on("mouseleave",T||p)}}),f.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(p,T){f.fn[T]=function(O,A){return arguments.length>0?this.on(T,null,O,A):this.trigger(T)}});var aG=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;f.proxy=function(p,T){var O,A,B;if(typeof T=="string"&&(O=p[T],T=p,p=O),!!h(p))return A=a.call(arguments,2),B=function(){return p.apply(T||this,A.concat(a.call(arguments)))},B.guid=p.guid=p.guid||f.guid++,B},f.holdReady=function(p){p?f.readyWait++:f.ready(!0)},f.isArray=Array.isArray,f.parseJSON=JSON.parse,f.nodeName=$,f.isFunction=h,f.isWindow=v,f.camelCase=st,f.type=S,f.now=Date.now,f.isNumeric=function(p){var T=f.type(p);return(T==="number"||T==="string")&&!isNaN(p-parseFloat(p))},f.trim=function(p){return p==null?"":(p+"").replace(aG,"$1")};var oG=t.jQuery,iG=t.$;return f.noConflict=function(p){return t.$===f&&(t.$=iG),p&&t.jQuery===f&&(t.jQuery=oG),f},typeof r>"u"&&(t.jQuery=t.$=f),f})}(Hu)),Hu.exports}var BL=FL();const k=pn(BL),jL=(e=location.href)=>/.+1688\.com\/offer\/\d+\.htm/.test(e),UL=(e=location.href)=>/cart\.1688\.com\/cart\.htm/.test(e),qL=(e=location.href)=>/order\.1688\.com\/order\/(smart_make_order|smart_commit_order)\.htm|1688\.com\/page\/placeOrder\.html/.test(e),VL=(e=location.href)=>/trade\.1688\.com\/order\/trade_flow\.htm|1688\.com\/page\/cashier\.html/.test(e),HL=(e=location.href)=>/air\.1688\.com\/app\/ctf-page\/(pay-result|payment-cashier-pc-air)\/(pay-result|cashier)\.htm/.test(e),zL=(e=location.href)=>/s\.1688\.com\/(selloffer\/offer_search\.htm|youyuan\/index\.htm\?tab=imageSearch)/.test(e),WL=e=>e.includes(`extId=${DL}`);function GL(e){if(!e)return{};const t=e.skuModel.skuInfoMap||{},r=e.skuModel.skuProps||[],s=(e.skuModel.skuPriceScale||"").split("-"),a=Math.max(...s),o={},i={};for(const l of r){const c=l.value;for(const u of c){const d=u.name;i[d]=u.imageUrl}}for(const l in t){const c=t[l],u=l.split("&gt;");for(const d of u)i[d]&&(c.imageUrl=i[d]);c.price||(c.price=a),o[c.specId]=c}return o}function KL(){if(k(".gyp-order-price-text").length>0)return YL();const e=k(".total-count").text().replace(/\D/g,""),t=k(".total-price").find(".value").text().replace(/[^0-9.]/g,""),r=k(".postage-value").text().replace(/[^0-9.]/g,"");return{totalCount:e,totalProductFee:t,postageFee:r}}function YL(){const e=k(".gyp-order-num-text").text().replace(/\D/g,""),t=k(".gyp-order-price-text").text().replace(/[^0-9.]/g,"");return{totalCount:e,totalProductFee:t,postageFee:""}}async function yw(e){const t=await Bs(e);return(t==null?void 0:t.value)||null}async function sh(){let e="";try{e=await yw({name:"__cn_logon_id__",url:"https://trade.1688.com/order/new_step_order_detail.htm"}),e&&(e=decodeURIComponent(e)),window.console.log("get1688UserLoginUsername success",e)}catch(t){window.console.error("get1688UserLoginUsername fail",t),e=""}return e}function ah(){return $r({url:"https://wuliu.1688.com/foundation/receive_address_manager.htm",method:"GET",dataType:"text"})}function bw(e,t=""){const r=e.consignee,n={appName:e.appInfo.appName,venderId:e.venderId,orderId:e.orderId,fullname:r.fullname,mobile:r.mobile,province:r.province,city:r.city,county:r.county,address:r.address,purchasePlatform:e.purchasePlatform,errorInfo:t};return Jt({url:"/order/purchase_order/save_address_match_error",method:"POST",data:n})}function ww(){let e=0,t,r;const n=k("#mod-detail-price").find(".d-content");n.length>0&&(n.text().includes("起批量")&&(t=k.trim(n.find(".amount").find("td:eq(1)").find(".value").text().replace(/(>)|(≥)/g,"")),r=t.split("-"),r.length>0&&r[0]&&(e=Ki(r[0],0))),n.find(".discount-container").length>0&&(t=k.trim(n.find(".amount").find(".value").text().replace(/(>)|(≥)/g,"")),r=t.split("-"),r.length>0&&r[0]&&(e=Ki(r[0],0))));let s=k(".price-container");if(s.length>0&&s.text().includes("起批")&&(t=k.trim(s.find(".price-begin").find(".value").text().replace(/(>)|(≥)/g,"")),r=t.split("-"),r.length>0&&r[0]&&(e=Ki(r[0],0))),s=k(".price-wrapper"),s.length||(s=k(".range-price")),s.length>0&&s.text().includes("起批")){let a=s.find(".unit-text");a.length||(a=s.find("p")),t=k.trim(s.find(".unit-text").text()),r=/\d+/.exec(t),r.length>0&&r[0]&&(e=Ki(r[0],0))}if(!e&&k(".mod-detail-info-minimum .obj-amount").length>0){const a=k(".mod-detail-info-minimum .obj-amount").text().trim();e=Number.parseInt(a)}return e&&e>0?e:0}function Sw(){const e=k(".address-info"),t=k.trim(e.find(".line-label-address").text()),r=k.trim(e.find(".person-icon").parent().text()),n=k.trim(e.find(".line-label-phone").parent().text());return`${r},${n},${t}`}function _w(){let e=k.trim(k(".due-total.text-stress:eq(0)").text());if(!e&&k(".commit-container .amount-container")){const t=k(".commit-container .amount-container"),r=t.find(".dollar").text()||"",n=t.find(".cent").text()||"";e=`${r}${n}`}return e.replace(",","")}function Tw(){return k.trim(k(".line-label-address .valid-error").text())||""}function Cw(){k(document).find(".checkout-operate").find(".make-order").length>0?k(document).find(".checkout-operate").find(".make-order")[0].click():k(document).find(".J_checkRelatePurchaseBtn")[0].click()}function xw(e){const t=oO();if(!t||t<119)return"";e.partitionKey={topLevelSite:"https://1688.com"},t>=130&&(e.partitionKey.hasCrossSiteAncestor=!1)}const JL=Object.freeze(Object.defineProperty({__proto__:null,add1688CookieDetailPartitionKey:xw,extIdValidator:WL,get1688FullAddress:Sw,get1688MinPurchaseNum:ww,get1688TotalPrice:_w,get1688UserLoginUsername:sh,get1688ValidErrorMsg:Tw,getCookieValue:yw,getCsrfToken:ah,getPriceInfo:KL,getSpecIdAndSkuInfoMap:GL,matchCartPage:UL,matchConfirmPage:qL,matchDetailPage:jL,matchPaySuccessPage:HL,matchSearchSameGoodsPage:zL,matchWaitPayPage:VL,saveAddressMatchError:bw,triggerSubmitOrderBtn:Cw},Symbol.toStringTag,{value:"Module"})),Rs="taobao";/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function oh(e){const t=Object.create(null);for(const r of e.split(","))t[r]=1;return r=>r in t}const lr={},ti=[],Nr=()=>{},XL=()=>!1,zu=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),ih=e=>e.startsWith("onUpdate:"),jr=Object.assign,lh=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},QL=Object.prototype.hasOwnProperty,Wt=(e,t)=>QL.call(e,t),Ue=Array.isArray,ri=e=>cl(e)==="[object Map]",Wu=e=>cl(e)==="[object Set]",Gu=e=>cl(e)==="[object Date]",et=e=>typeof e=="function",yt=e=>typeof e=="string",ps=e=>typeof e=="symbol",Lt=e=>e!==null&&typeof e=="object",Iw=e=>(Lt(e)||et(e))&&et(e.then)&&et(e.catch),kw=Object.prototype.toString,cl=e=>kw.call(e),ZL=e=>cl(e).slice(8,-1),uh=e=>cl(e)==="[object Object]",ch=e=>yt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,dl=oh(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ku=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},eM=/-(\w)/g,Cn=Ku(e=>e.replace(eM,(t,r)=>r?r.toUpperCase():"")),tM=/\B([A-Z])/g,ua=Ku(e=>e.replace(tM,"-$1").toLowerCase()),Yu=Ku(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ju=Ku(e=>e?`on${Yu(e)}`:""),xn=(e,t)=>!Object.is(e,t),Xu=(e,...t)=>{for(let r=0;r<e.length;r++)e[r](...t)},Ow=(e,t,r,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:r})},dh=e=>{const t=parseFloat(e);return isNaN(t)?e:t},rM=e=>{const t=yt(e)?Number(e):NaN;return isNaN(t)?e:t};let Pw;const Qu=()=>Pw||(Pw=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function jt(e){if(Ue(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],s=yt(n)?oM(n):jt(n);if(s)for(const a in s)t[a]=s[a]}return t}else if(yt(e)||Lt(e))return e}const nM=/;(?![^(]*\))/g,sM=/:([^]+)/,aM=/\/\*[^]*?\*\//g;function oM(e){const t={};return e.replace(aM,"").split(nM).forEach(r=>{if(r){const n=r.split(sM);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function Z(e){let t="";if(yt(e))t=e;else if(Ue(e))for(let r=0;r<e.length;r++){const n=Z(e[r]);n&&(t+=n+" ")}else if(Lt(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}function Aw(e){if(!e)return null;let{class:t,style:r}=e;return t&&!yt(t)&&(e.class=Z(t)),r&&(e.style=jt(r)),e}const iM=oh("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function Ew(e){return!!e||e===""}function lM(e,t){if(e.length!==t.length)return!1;let r=!0;for(let n=0;r&&n<e.length;n++)r=Zu(e[n],t[n]);return r}function Zu(e,t){if(e===t)return!0;let r=Gu(e),n=Gu(t);if(r||n)return r&&n?e.getTime()===t.getTime():!1;if(r=ps(e),n=ps(t),r||n)return e===t;if(r=Ue(e),n=Ue(t),r||n)return r&&n?lM(e,t):!1;if(r=Lt(e),n=Lt(t),r||n){if(!r||!n)return!1;const s=Object.keys(e).length,a=Object.keys(t).length;if(s!==a)return!1;for(const o in e){const i=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(i&&!l||!i&&l||!Zu(e[o],t[o]))return!1}}return String(e)===String(t)}function $w(e,t){return e.findIndex(r=>Zu(r,t))}const Rw=e=>!!(e&&e.__v_isRef===!0),ze=e=>yt(e)?e:e==null?"":Ue(e)||Lt(e)&&(e.toString===kw||!et(e.toString))?Rw(e)?ze(e.value):JSON.stringify(e,Lw,2):String(e),Lw=(e,t)=>Rw(t)?Lw(e,t.value):ri(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[n,s],a)=>(r[fh(n,a)+" =>"]=s,r),{})}:Wu(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>fh(r))}:ps(t)?fh(t):Lt(t)&&!Ue(t)&&!uh(t)?String(t):t,fh=(e,t="")=>{var r;return ps(e)?`Symbol(${(r=e.description)!=null?r:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let mn;class uM{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=mn,!t&&mn&&(this.index=(mn.scopes||(mn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].pause();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].resume();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].resume()}}run(t){if(this._active){const r=mn;try{return mn=this,t()}finally{mn=r}}}on(){mn=this}off(){mn=this.parent}stop(t){if(this._active){this._active=!1;let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(this.effects.length=0,r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function ph(){return mn}function hh(e,t=!1){mn&&mn.cleanups.push(e)}let br;const mh=new WeakSet;class Mw{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,mn&&mn.active&&mn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,mh.has(this)&&(mh.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Nw(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,qw(this),Fw(this);const t=br,r=hs;br=this,hs=!0;try{return this.fn()}finally{Bw(this),br=t,hs=r,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)bh(t);this.deps=this.depsTail=void 0,qw(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?mh.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){yh(this)&&this.run()}get dirty(){return yh(this)}}let Dw=0,fl,pl;function Nw(e,t=!1){if(e.flags|=8,t){e.next=pl,pl=e;return}e.next=fl,fl=e}function gh(){Dw++}function vh(){if(--Dw>0)return;if(pl){let t=pl;for(pl=void 0;t;){const r=t.next;t.next=void 0,t.flags&=-9,t=r}}let e;for(;fl;){let t=fl;for(fl=void 0;t;){const r=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=r}}if(e)throw e}function Fw(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Bw(e){let t,r=e.depsTail,n=r;for(;n;){const s=n.prevDep;n.version===-1?(n===r&&(r=s),bh(n),cM(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=s}e.deps=t,e.depsTail=r}function yh(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(jw(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function jw(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===hl))return;e.globalVersion=hl;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!yh(e)){e.flags&=-3;return}const r=br,n=hs;br=e,hs=!0;try{Fw(e);const s=e.fn(e._value);(t.version===0||xn(s,e._value))&&(e._value=s,t.version++)}catch(s){throw t.version++,s}finally{br=r,hs=n,Bw(e),e.flags&=-3}}function bh(e,t=!1){const{dep:r,prevSub:n,nextSub:s}=e;if(n&&(n.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=n,e.nextSub=void 0),r.subs===e&&(r.subs=n,!n&&r.computed)){r.computed.flags&=-5;for(let a=r.computed.deps;a;a=a.nextDep)bh(a,!0)}!t&&!--r.sc&&r.map&&r.map.delete(r.key)}function cM(e){const{prevDep:t,nextDep:r}=e;t&&(t.nextDep=r,e.prevDep=void 0),r&&(r.prevDep=t,e.nextDep=void 0)}let hs=!0;const Uw=[];function ca(){Uw.push(hs),hs=!1}function da(){const e=Uw.pop();hs=e===void 0?!0:e}function qw(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const r=br;br=void 0;try{t()}finally{br=r}}}let hl=0,dM=class{constructor(t,r){this.sub=t,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class ec{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!br||!hs||br===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==br)r=this.activeLink=new dM(br,this),br.deps?(r.prevDep=br.depsTail,br.depsTail.nextDep=r,br.depsTail=r):br.deps=br.depsTail=r,Vw(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const n=r.nextDep;n.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=n),r.prevDep=br.depsTail,r.nextDep=void 0,br.depsTail.nextDep=r,br.depsTail=r,br.deps===r&&(br.deps=n)}return r}trigger(t){this.version++,hl++,this.notify(t)}notify(t){gh();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{vh()}}}function Vw(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)Vw(n)}const r=e.dep.subs;r!==e&&(e.prevSub=r,r&&(r.nextSub=e)),e.dep.subs=e}}const tc=new WeakMap,co=Symbol(""),wh=Symbol(""),ml=Symbol("");function an(e,t,r){if(hs&&br){let n=tc.get(e);n||tc.set(e,n=new Map);let s=n.get(r);s||(n.set(r,s=new ec),s.map=n,s.key=r),s.track()}}function fa(e,t,r,n,s,a){const o=tc.get(e);if(!o){hl++;return}const i=l=>{l&&l.trigger()};if(gh(),t==="clear")o.forEach(i);else{const l=Ue(e),c=l&&ch(r);if(l&&r==="length"){const u=Number(n);o.forEach((d,m)=>{(m==="length"||m===ml||!ps(m)&&m>=u)&&i(d)})}else switch((r!==void 0||o.has(void 0))&&i(o.get(r)),c&&i(o.get(ml)),t){case"add":l?c&&i(o.get("length")):(i(o.get(co)),ri(e)&&i(o.get(wh)));break;case"delete":l||(i(o.get(co)),ri(e)&&i(o.get(wh)));break;case"set":ri(e)&&i(o.get(co));break}}vh()}function fM(e,t){const r=tc.get(e);return r&&r.get(t)}function ni(e){const t=Gt(e);return t===e?t:(an(t,"iterate",ml),Xn(e)?t:t.map(on))}function rc(e){return an(e=Gt(e),"iterate",ml),e}const pM={__proto__:null,[Symbol.iterator](){return Sh(this,Symbol.iterator,on)},concat(...e){return ni(this).concat(...e.map(t=>Ue(t)?ni(t):t))},entries(){return Sh(this,"entries",e=>(e[1]=on(e[1]),e))},every(e,t){return pa(this,"every",e,t,void 0,arguments)},filter(e,t){return pa(this,"filter",e,t,r=>r.map(on),arguments)},find(e,t){return pa(this,"find",e,t,on,arguments)},findIndex(e,t){return pa(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return pa(this,"findLast",e,t,on,arguments)},findLastIndex(e,t){return pa(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return pa(this,"forEach",e,t,void 0,arguments)},includes(...e){return _h(this,"includes",e)},indexOf(...e){return _h(this,"indexOf",e)},join(e){return ni(this).join(e)},lastIndexOf(...e){return _h(this,"lastIndexOf",e)},map(e,t){return pa(this,"map",e,t,void 0,arguments)},pop(){return gl(this,"pop")},push(...e){return gl(this,"push",e)},reduce(e,...t){return Hw(this,"reduce",e,t)},reduceRight(e,...t){return Hw(this,"reduceRight",e,t)},shift(){return gl(this,"shift")},some(e,t){return pa(this,"some",e,t,void 0,arguments)},splice(...e){return gl(this,"splice",e)},toReversed(){return ni(this).toReversed()},toSorted(e){return ni(this).toSorted(e)},toSpliced(...e){return ni(this).toSpliced(...e)},unshift(...e){return gl(this,"unshift",e)},values(){return Sh(this,"values",on)}};function Sh(e,t,r){const n=rc(e),s=n[t]();return n!==e&&!Xn(e)&&(s._next=s.next,s.next=()=>{const a=s._next();return a.value&&(a.value=r(a.value)),a}),s}const hM=Array.prototype;function pa(e,t,r,n,s,a){const o=rc(e),i=o!==e&&!Xn(e),l=o[t];if(l!==hM[t]){const d=l.apply(e,a);return i?on(d):d}let c=r;o!==e&&(i?c=function(d,m){return r.call(this,on(d),m,e)}:r.length>2&&(c=function(d,m){return r.call(this,d,m,e)}));const u=l.call(o,c,n);return i&&s?s(u):u}function Hw(e,t,r,n){const s=rc(e);let a=r;return s!==e&&(Xn(e)?r.length>3&&(a=function(o,i,l){return r.call(this,o,i,l,e)}):a=function(o,i,l){return r.call(this,o,on(i),l,e)}),s[t](a,...n)}function _h(e,t,r){const n=Gt(e);an(n,"iterate",ml);const s=n[t](...r);return(s===-1||s===!1)&&Ch(r[0])?(r[0]=Gt(r[0]),n[t](...r)):s}function gl(e,t,r=[]){ca(),gh();const n=Gt(e)[t].apply(e,r);return vh(),da(),n}const mM=oh("__proto__,__v_isRef,__isVue"),zw=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ps));function gM(e){ps(e)||(e=String(e));const t=Gt(this);return an(t,"has",e),t.hasOwnProperty(e)}class Ww{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,n){if(r==="__v_skip")return t.__v_skip;const s=this._isReadonly,a=this._isShallow;if(r==="__v_isReactive")return!s;if(r==="__v_isReadonly")return s;if(r==="__v_isShallow")return a;if(r==="__v_raw")return n===(s?a?Qw:Xw:a?Jw:Yw).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const o=Ue(t);if(!s){let l;if(o&&(l=pM[r]))return l;if(r==="hasOwnProperty")return gM}const i=Reflect.get(t,r,ar(t)?t:n);return(ps(r)?zw.has(r):mM(r))||(s||an(t,"get",r),a)?i:ar(i)?o&&ch(r)?i:i.value:Lt(i)?s?vl(i):Zr(i):i}}class Gw extends Ww{constructor(t=!1){super(!1,t)}set(t,r,n,s){let a=t[r];if(!this._isShallow){const l=fo(a);if(!Xn(n)&&!fo(n)&&(a=Gt(a),n=Gt(n)),!Ue(t)&&ar(a)&&!ar(n))return l?!1:(a.value=n,!0)}const o=Ue(t)&&ch(r)?Number(r)<t.length:Wt(t,r),i=Reflect.set(t,r,n,ar(t)?t:s);return t===Gt(s)&&(o?xn(n,a)&&fa(t,"set",r,n):fa(t,"add",r,n)),i}deleteProperty(t,r){const n=Wt(t,r);t[r];const s=Reflect.deleteProperty(t,r);return s&&n&&fa(t,"delete",r,void 0),s}has(t,r){const n=Reflect.has(t,r);return(!ps(r)||!zw.has(r))&&an(t,"has",r),n}ownKeys(t){return an(t,"iterate",Ue(t)?"length":co),Reflect.ownKeys(t)}}class Kw extends Ww{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const vM=new Gw,yM=new Kw,bM=new Gw(!0),wM=new Kw(!0),Th=e=>e,nc=e=>Reflect.getPrototypeOf(e);function SM(e,t,r){return function(...n){const s=this.__v_raw,a=Gt(s),o=ri(a),i=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=s[e](...n),u=r?Th:t?Ih:on;return!t&&an(a,"iterate",l?wh:co),{next(){const{value:d,done:m}=c.next();return m?{value:d,done:m}:{value:i?[u(d[0]),u(d[1])]:u(d),done:m}},[Symbol.iterator](){return this}}}}function sc(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function _M(e,t){const r={get(s){const a=this.__v_raw,o=Gt(a),i=Gt(s);e||(xn(s,i)&&an(o,"get",s),an(o,"get",i));const{has:l}=nc(o),c=t?Th:e?Ih:on;if(l.call(o,s))return c(a.get(s));if(l.call(o,i))return c(a.get(i));a!==o&&a.get(s)},get size(){const s=this.__v_raw;return!e&&an(Gt(s),"iterate",co),Reflect.get(s,"size",s)},has(s){const a=this.__v_raw,o=Gt(a),i=Gt(s);return e||(xn(s,i)&&an(o,"has",s),an(o,"has",i)),s===i?a.has(s):a.has(s)||a.has(i)},forEach(s,a){const o=this,i=o.__v_raw,l=Gt(i),c=t?Th:e?Ih:on;return!e&&an(l,"iterate",co),i.forEach((u,d)=>s.call(a,c(u),c(d),o))}};return jr(r,e?{add:sc("add"),set:sc("set"),delete:sc("delete"),clear:sc("clear")}:{add(s){!t&&!Xn(s)&&!fo(s)&&(s=Gt(s));const a=Gt(this);return nc(a).has.call(a,s)||(a.add(s),fa(a,"add",s,s)),this},set(s,a){!t&&!Xn(a)&&!fo(a)&&(a=Gt(a));const o=Gt(this),{has:i,get:l}=nc(o);let c=i.call(o,s);c||(s=Gt(s),c=i.call(o,s));const u=l.call(o,s);return o.set(s,a),c?xn(a,u)&&fa(o,"set",s,a):fa(o,"add",s,a),this},delete(s){const a=Gt(this),{has:o,get:i}=nc(a);let l=o.call(a,s);l||(s=Gt(s),l=o.call(a,s)),i&&i.call(a,s);const c=a.delete(s);return l&&fa(a,"delete",s,void 0),c},clear(){const s=Gt(this),a=s.size!==0,o=s.clear();return a&&fa(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{r[s]=SM(s,e,t)}),r}function ac(e,t){const r=_M(e,t);return(n,s,a)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?n:Reflect.get(Wt(r,s)&&s in n?r:n,s,a)}const TM={get:ac(!1,!1)},CM={get:ac(!1,!0)},xM={get:ac(!0,!1)},IM={get:ac(!0,!0)},Yw=new WeakMap,Jw=new WeakMap,Xw=new WeakMap,Qw=new WeakMap;function kM(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function OM(e){return e.__v_skip||!Object.isExtensible(e)?0:kM(ZL(e))}function Zr(e){return fo(e)?e:oc(e,!1,vM,TM,Yw)}function Zw(e){return oc(e,!1,bM,CM,Jw)}function vl(e){return oc(e,!0,yM,xM,Xw)}function xG(e){return oc(e,!0,wM,IM,Qw)}function oc(e,t,r,n,s){if(!Lt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=s.get(e);if(a)return a;const o=OM(e);if(o===0)return e;const i=new Proxy(e,o===2?n:r);return s.set(e,i),i}function si(e){return fo(e)?si(e.__v_raw):!!(e&&e.__v_isReactive)}function fo(e){return!!(e&&e.__v_isReadonly)}function Xn(e){return!!(e&&e.__v_isShallow)}function Ch(e){return e?!!e.__v_raw:!1}function Gt(e){const t=e&&e.__v_raw;return t?Gt(t):e}function xh(e){return!Wt(e,"__v_skip")&&Object.isExtensible(e)&&Ow(e,"__v_skip",!0),e}const on=e=>Lt(e)?Zr(e):e,Ih=e=>Lt(e)?vl(e):e;function ar(e){return e?e.__v_isRef===!0:!1}function ee(e){return e1(e,!1)}function In(e){return e1(e,!0)}function e1(e,t){return ar(e)?e:new PM(e,t)}class PM{constructor(t,r){this.dep=new ec,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?t:Gt(t),this._value=r?t:on(t),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(t){const r=this._rawValue,n=this.__v_isShallow||Xn(t)||fo(t);t=n?t:Gt(t),xn(t,r)&&(this._rawValue=t,this._value=n?t:on(t),this.dep.trigger())}}function w(e){return ar(e)?e.value:e}function kn(e){return et(e)?e():w(e)}const AM={get:(e,t,r)=>t==="__v_raw"?e:w(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const s=e[t];return ar(s)&&!ar(r)?(s.value=r,!0):Reflect.set(e,t,r,n)}};function t1(e){return si(e)?e:new Proxy(e,AM)}class EM{constructor(t){this.__v_isRef=!0,this._value=void 0;const r=this.dep=new ec,{get:n,set:s}=t(r.track.bind(r),r.trigger.bind(r));this._get=n,this._set=s}get value(){return this._value=this._get()}set value(t){this._set(t)}}function $M(e){return new EM(e)}function ha(e){const t=Ue(e)?new Array(e.length):{};for(const r in e)t[r]=r1(e,r);return t}class RM{constructor(t,r,n){this._object=t,this._key=r,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return fM(Gt(this._object),this._key)}}class LM{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Lr(e,t,r){return ar(e)?e:et(e)?new LM(e):Lt(e)&&arguments.length>1?r1(e,t,r):ee(e)}function r1(e,t,r){const n=e[t];return ar(n)?n:new RM(e,t,r)}class MM{constructor(t,r,n){this.fn=t,this.setter=r,this._value=void 0,this.dep=new ec(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=hl-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&br!==this)return Nw(this,!0),!0}get value(){const t=this.dep.track();return jw(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function DM(e,t,r=!1){let n,s;return et(e)?n=e:(n=e.get,s=e.set),new MM(n,s,r)}const ic={},lc=new WeakMap;let po;function NM(e,t=!1,r=po){if(r){let n=lc.get(r);n||lc.set(r,n=[]),n.push(e)}}function FM(e,t,r=lr){const{immediate:n,deep:s,once:a,scheduler:o,augmentJob:i,call:l}=r,c=S=>s?S:Xn(S)||s===!1||s===0?ma(S,1):ma(S);let u,d,m,b,g=!1,h=!1;if(ar(e)?(d=()=>e.value,g=Xn(e)):si(e)?(d=()=>c(e),g=!0):Ue(e)?(h=!0,g=e.some(S=>si(S)||Xn(S)),d=()=>e.map(S=>{if(ar(S))return S.value;if(si(S))return c(S);if(et(S))return l?l(S,2):S()})):et(e)?t?d=l?()=>l(e,2):e:d=()=>{if(m){ca();try{m()}finally{da()}}const S=po;po=u;try{return l?l(e,3,[b]):e(b)}finally{po=S}}:d=Nr,t&&s){const S=d,x=s===!0?1/0:s;d=()=>ma(S(),x)}const v=ph(),y=()=>{u.stop(),v&&v.active&&lh(v.effects,u)};if(a&&t){const S=t;t=(...x)=>{S(...x),y()}}let C=h?new Array(e.length).fill(ic):ic;const _=S=>{if(!(!(u.flags&1)||!u.dirty&&!S))if(t){const x=u.run();if(s||g||(h?x.some((I,f)=>xn(I,C[f])):xn(x,C))){m&&m();const I=po;po=u;try{const f=[x,C===ic?void 0:h&&C[0]===ic?[]:C,b];l?l(t,3,f):t(...f),C=x}finally{po=I}}}else u.run()};return i&&i(_),u=new Mw(d),u.scheduler=o?()=>o(_,!1):_,b=S=>NM(S,!1,u),m=u.onStop=()=>{const S=lc.get(u);if(S){if(l)l(S,4);else for(const x of S)x();lc.delete(u)}},t?n?_(!0):C=u.run():o?o(_.bind(null,!0),!0):u.run(),y.pause=u.pause.bind(u),y.resume=u.resume.bind(u),y.stop=y,y}function ma(e,t=1/0,r){if(t<=0||!Lt(e)||e.__v_skip||(r=r||new Set,r.has(e)))return e;if(r.add(e),t--,ar(e))ma(e.value,t,r);else if(Ue(e))for(let n=0;n<e.length;n++)ma(e[n],t,r);else if(Wu(e)||ri(e))e.forEach(n=>{ma(n,t,r)});else if(uh(e)){for(const n in e)ma(e[n],t,r);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&ma(e[n],t,r)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const yl=[];let kh=!1;function IG(e,...t){if(kh)return;kh=!0,ca();const r=yl.length?yl[yl.length-1].component:null,n=r&&r.appContext.config.warnHandler,s=BM();if(n)ai(n,r,11,[e+t.map(a=>{var o,i;return(i=(o=a.toString)==null?void 0:o.call(a))!=null?i:JSON.stringify(a)}).join(""),r&&r.proxy,s.map(({vnode:a})=>`at <${fS(r,a.type)}>`).join(`
`),s]);else{const a=[`[Vue warn]: ${e}`,...t];s.length&&a.push(`
`,...jM(s)),console.warn(...a)}da(),kh=!1}function BM(){let e=yl[yl.length-1];if(!e)return[];const t=[];for(;e;){const r=t[0];r&&r.vnode===e?r.recurseCount++:t.push({vnode:e,recurseCount:0});const n=e.component&&e.component.parent;e=n&&n.vnode}return t}function jM(e){const t=[];return e.forEach((r,n)=>{t.push(...n===0?[]:[`
`],...UM(r))}),t}function UM({vnode:e,recurseCount:t}){const r=t>0?`... (${t} recursive calls)`:"",n=e.component?e.component.parent==null:!1,s=` at <${fS(e.component,e.type,n)}`,a=">"+r;return e.props?[s,...qM(e.props),a]:[s+a]}function qM(e){const t=[],r=Object.keys(e);return r.slice(0,3).forEach(n=>{t.push(...n1(n,e[n]))}),r.length>3&&t.push(" ..."),t}function n1(e,t,r){return yt(t)?(t=JSON.stringify(t),r?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?r?t:[`${e}=${t}`]:ar(t)?(t=n1(e,Gt(t.value),!0),r?t:[`${e}=Ref<`,t,">"]):et(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=Gt(t),r?t:[`${e}=`,t])}function ai(e,t,r,n){try{return n?e(...n):e()}catch(s){uc(s,t,r)}}function ms(e,t,r,n){if(et(e)){const s=ai(e,t,r,n);return s&&Iw(s)&&s.catch(a=>{uc(a,t,r)}),s}if(Ue(e)){const s=[];for(let a=0;a<e.length;a++)s.push(ms(e[a],t,r,n));return s}}function uc(e,t,r,n=!0){const s=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||lr;if(t){let i=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${r}`;for(;i;){const u=i.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](e,l,c)===!1)return}i=i.parent}if(a){ca(),ai(a,null,10,[e,l,c]),da();return}}VM(e,r,s,n,o)}function VM(e,t,r,n=!0,s=!1){if(s)throw e;console.error(e)}const gn=[];let Ls=-1;const oi=[];let Da=null,ii=0;const s1=Promise.resolve();let cc=null;function xt(e){const t=cc||s1;return e?t.then(this?e.bind(this):e):t}function HM(e){let t=Ls+1,r=gn.length;for(;t<r;){const n=t+r>>>1,s=gn[n],a=bl(s);a<e||a===e&&s.flags&2?t=n+1:r=n}return t}function Oh(e){if(!(e.flags&1)){const t=bl(e),r=gn[gn.length-1];!r||!(e.flags&2)&&t>=bl(r)?gn.push(e):gn.splice(HM(t),0,e),e.flags|=1,a1()}}function a1(){cc||(cc=s1.then(l1))}function zM(e){Ue(e)?oi.push(...e):Da&&e.id===-1?Da.splice(ii+1,0,e):e.flags&1||(oi.push(e),e.flags|=1),a1()}function o1(e,t,r=Ls+1){for(;r<gn.length;r++){const n=gn[r];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;gn.splice(r,1),r--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function i1(e){if(oi.length){const t=[...new Set(oi)].sort((r,n)=>bl(r)-bl(n));if(oi.length=0,Da){Da.push(...t);return}for(Da=t,ii=0;ii<Da.length;ii++){const r=Da[ii];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}Da=null,ii=0}}const bl=e=>e.id==null?e.flags&2?-1:1/0:e.id;function l1(e){try{for(Ls=0;Ls<gn.length;Ls++){const t=gn[Ls];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),ai(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Ls<gn.length;Ls++){const t=gn[Ls];t&&(t.flags&=-2)}Ls=-1,gn.length=0,i1(),cc=null,(gn.length||oi.length)&&l1()}}let Kr=null,u1=null;function dc(e){const t=Kr;return Kr=e,u1=e&&e.type.__scopeId||null,t}function ie(e,t=Kr,r){if(!t||e._n)return e;const n=(...s)=>{n._d&&nS(-1);const a=dc(t);let o;try{o=e(...s)}finally{dc(a),n._d&&nS(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function Vt(e,t){if(Kr===null)return e;const r=kc(Kr),n=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[a,o,i,l=lr]=t[s];a&&(et(a)&&(a={mounted:a,updated:a}),a.deep&&ma(o),n.push({dir:a,instance:r,value:o,oldValue:void 0,arg:i,modifiers:l}))}return e}function ho(e,t,r,n){const s=e.dirs,a=t&&t.dirs;for(let o=0;o<s.length;o++){const i=s[o];a&&(i.oldValue=a[o].value);let l=i.dir[n];l&&(ca(),ms(l,r,8,[e.el,i,e,t]),da())}}const c1=Symbol("_vte"),d1=e=>e.__isTeleport,wl=e=>e&&(e.disabled||e.disabled===""),f1=e=>e&&(e.defer||e.defer===""),p1=e=>typeof SVGElement<"u"&&e instanceof SVGElement,h1=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Ph=(e,t)=>{const r=e&&e.to;return yt(r)?t?t(r):null:r},m1={name:"Teleport",__isTeleport:!0,process(e,t,r,n,s,a,o,i,l,c){const{mc:u,pc:d,pbc:m,o:{insert:b,querySelector:g,createText:h,createComment:v}}=c,y=wl(t.props);let{shapeFlag:C,children:_,dynamicChildren:S}=t;if(e==null){const x=t.el=h(""),I=t.anchor=h("");b(x,r,n),b(I,r,n);const f=($,q)=>{C&16&&(s&&s.isCE&&(s.ce._teleportTarget=$),u(_,$,q,s,a,o,i,l))},P=()=>{const $=t.target=Ph(t.props,g),q=v1($,t,h,b);$&&(o!=="svg"&&p1($)?o="svg":o!=="mathml"&&h1($)&&(o="mathml"),y||(f($,q),pc(t,!1)))};y&&(f(r,I),pc(t,!0)),f1(t.props)?yn(()=>{P(),t.el.__isMounted=!0},a):P()}else{if(f1(t.props)&&!e.el.__isMounted){yn(()=>{m1.process(e,t,r,n,s,a,o,i,l,c),delete e.el.__isMounted},a);return}t.el=e.el,t.targetStart=e.targetStart;const x=t.anchor=e.anchor,I=t.target=e.target,f=t.targetAnchor=e.targetAnchor,P=wl(e.props),$=P?r:I,q=P?x:f;if(o==="svg"||p1(I)?o="svg":(o==="mathml"||h1(I))&&(o="mathml"),S?(m(e.dynamicChildren,S,$,s,a,o,i),qh(e,t,!0)):l||d(e,t,$,q,s,a,o,i,!1),y)P?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):fc(t,r,x,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const E=t.target=Ph(t.props,g);E&&fc(t,E,null,c,0)}else P&&fc(t,I,f,c,1);pc(t,y)}},remove(e,t,r,{um:n,o:{remove:s}},a){const{shapeFlag:o,children:i,anchor:l,targetStart:c,targetAnchor:u,target:d,props:m}=e;if(d&&(s(c),s(u)),a&&s(l),o&16){const b=a||!wl(m);for(let g=0;g<i.length;g++){const h=i[g];n(h,t,r,b,!!h.dynamicChildren)}}},move:fc,hydrate:WM};function fc(e,t,r,{o:{insert:n},m:s},a=2){a===0&&n(e.targetAnchor,t,r);const{el:o,anchor:i,shapeFlag:l,children:c,props:u}=e,d=a===2;if(d&&n(o,t,r),(!d||wl(u))&&l&16)for(let m=0;m<c.length;m++)s(c[m],t,r,2);d&&n(i,t,r)}function WM(e,t,r,n,s,a,{o:{nextSibling:o,parentNode:i,querySelector:l,insert:c,createText:u}},d){const m=t.target=Ph(t.props,l);if(m){const b=wl(t.props),g=m._lpa||m.firstChild;if(t.shapeFlag&16)if(b)t.anchor=d(o(e),t,i(e),r,n,s,a),t.targetStart=g,t.targetAnchor=g&&o(g);else{t.anchor=o(e);let h=g;for(;h;){if(h&&h.nodeType===8){if(h.data==="teleport start anchor")t.targetStart=h;else if(h.data==="teleport anchor"){t.targetAnchor=h,m._lpa=t.targetAnchor&&o(t.targetAnchor);break}}h=o(h)}t.targetAnchor||v1(m,t,u,c),d(g&&o(g),t,m,r,n,s,a)}pc(t,b)}return t.anchor&&o(t.anchor)}const g1=m1;function pc(e,t){const r=e.ctx;if(r&&r.ut){let n,s;for(t?(n=e.el,s=e.anchor):(n=e.targetStart,s=e.targetAnchor);n&&n!==s;)n.nodeType===1&&n.setAttribute("data-v-owner",r.uid),n=n.nextSibling;r.ut()}}function v1(e,t,r,n){const s=t.targetStart=r(""),a=t.targetAnchor=r("");return s[c1]=a,e&&(n(s,e),n(a,e)),a}const Na=Symbol("_leaveCb"),hc=Symbol("_enterCb");function y1(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Kt(()=>{e.isMounted=!0}),Fr(()=>{e.isUnmounting=!0}),e}const Qn=[Function,Array],b1={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Qn,onEnter:Qn,onAfterEnter:Qn,onEnterCancelled:Qn,onBeforeLeave:Qn,onLeave:Qn,onAfterLeave:Qn,onLeaveCancelled:Qn,onBeforeAppear:Qn,onAppear:Qn,onAfterAppear:Qn,onAppearCancelled:Qn},w1=e=>{const t=e.subTree;return t.component?w1(t.component):t},GM={name:"BaseTransition",props:b1,setup(e,{slots:t}){const r=Ht(),n=y1();return()=>{const s=t.default&&Eh(t.default(),!0);if(!s||!s.length)return;const a=S1(s),o=Gt(e),{mode:i}=o;if(n.isLeaving)return Ah(a);const l=T1(a);if(!l)return Ah(a);let c=Sl(l,o,n,r,d=>c=d);l.type!==en&&mo(l,c);let u=r.subTree&&T1(r.subTree);if(u&&u.type!==en&&!yo(l,u)&&w1(r).type!==en){let d=Sl(u,o,n,r);if(mo(u,d),i==="out-in"&&l.type!==en)return n.isLeaving=!0,d.afterLeave=()=>{n.isLeaving=!1,r.job.flags&8||r.update(),delete d.afterLeave,u=void 0},Ah(a);i==="in-out"&&l.type!==en?d.delayLeave=(m,b,g)=>{const h=_1(n,u);h[String(u.key)]=u,m[Na]=()=>{b(),m[Na]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{g(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return a}}};function S1(e){let t=e[0];if(e.length>1){for(const r of e)if(r.type!==en){t=r;break}}return t}const KM=GM;function _1(e,t){const{leavingVNodes:r}=e;let n=r.get(t.type);return n||(n=Object.create(null),r.set(t.type,n)),n}function Sl(e,t,r,n,s){const{appear:a,mode:o,persisted:i=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:m,onLeave:b,onAfterLeave:g,onLeaveCancelled:h,onBeforeAppear:v,onAppear:y,onAfterAppear:C,onAppearCancelled:_}=t,S=String(e.key),x=_1(r,e),I=($,q)=>{$&&ms($,n,9,q)},f=($,q)=>{const E=q[1];I($,q),Ue($)?$.every(M=>M.length<=1)&&E():$.length<=1&&E()},P={mode:o,persisted:i,beforeEnter($){let q=l;if(!r.isMounted)if(a)q=v||l;else return;$[Na]&&$[Na](!0);const E=x[S];E&&yo(e,E)&&E.el[Na]&&E.el[Na](),I(q,[$])},enter($){let q=c,E=u,M=d;if(!r.isMounted)if(a)q=y||c,E=C||u,M=_||d;else return;let F=!1;const N=$[hc]=R=>{F||(F=!0,R?I(M,[$]):I(E,[$]),P.delayedLeave&&P.delayedLeave(),$[hc]=void 0)};q?f(q,[$,N]):N()},leave($,q){const E=String(e.key);if($[hc]&&$[hc](!0),r.isUnmounting)return q();I(m,[$]);let M=!1;const F=$[Na]=N=>{M||(M=!0,q(),N?I(h,[$]):I(g,[$]),$[Na]=void 0,x[E]===e&&delete x[E])};x[E]=e,b?f(b,[$,F]):F()},clone($){const q=Sl($,t,r,n,s);return s&&s(q),q}};return P}function Ah(e){if(vc(e))return e=ba(e),e.children=null,e}function T1(e){if(!vc(e))return d1(e.type)&&e.children?S1(e.children):e;const{shapeFlag:t,children:r}=e;if(r){if(t&16)return r[0];if(t&32&&et(r.default))return r.default()}}function mo(e,t){e.shapeFlag&6&&e.component?(e.transition=t,mo(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Eh(e,t=!1,r){let n=[],s=0;for(let a=0;a<e.length;a++){let o=e[a];const i=r==null?o.key:String(r)+String(o.key!=null?o.key:a);o.type===ht?(o.patchFlag&128&&s++,n=n.concat(Eh(o.children,t,i))):(t||o.type!==en)&&n.push(i!=null?ba(o,{key:i}):o)}if(s>1)for(let a=0;a<n.length;a++)n[a].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function xe(e,t){return et(e)?jr({name:e.name},t,{setup:e}):e}function C1(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function mc(e){const t=Ht(),r=In(null);if(t){const s=t.refs===lr?t.refs={}:t.refs;Object.defineProperty(s,e,{enumerable:!0,get:()=>r.value,set:a=>r.value=a})}return r}function gc(e,t,r,n,s=!1){if(Ue(e)){e.forEach((g,h)=>gc(g,t&&(Ue(t)?t[h]:t),r,n,s));return}if(li(n)&&!s){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&gc(e,t,r,n.component.subTree);return}const a=n.shapeFlag&4?kc(n.component):n.el,o=s?null:a,{i,r:l}=e,c=t&&t.r,u=i.refs===lr?i.refs={}:i.refs,d=i.setupState,m=Gt(d),b=d===lr?()=>!1:g=>Wt(m,g);if(c!=null&&c!==l&&(yt(c)?(u[c]=null,b(c)&&(d[c]=null)):ar(c)&&(c.value=null)),et(l))ai(l,i,12,[o,u]);else{const g=yt(l),h=ar(l);if(g||h){const v=()=>{if(e.f){const y=g?b(l)?d[l]:u[l]:l.value;s?Ue(y)&&lh(y,a):Ue(y)?y.includes(a)||y.push(a):g?(u[l]=[a],b(l)&&(d[l]=u[l])):(l.value=[a],e.k&&(u[e.k]=l.value))}else g?(u[l]=o,b(l)&&(d[l]=o)):h&&(l.value=o,e.k&&(u[e.k]=o))};o?(v.id=-1,yn(v,r)):v()}}}Qu().requestIdleCallback,Qu().cancelIdleCallback;const li=e=>!!e.type.__asyncLoader,vc=e=>e.type.__isKeepAlive;function x1(e,t){k1(e,"a",t)}function I1(e,t){k1(e,"da",t)}function k1(e,t,r=tn){const n=e.__wdc||(e.__wdc=()=>{let s=r;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(yc(t,n,r),r){let s=r.parent;for(;s&&s.parent;)vc(s.parent.vnode)&&YM(n,t,r,s),s=s.parent}}function YM(e,t,r,n){const s=yc(t,e,n,!0);go(()=>{lh(n[t],s)},r)}function yc(e,t,r=tn,n=!1){if(r){const s=r[e]||(r[e]=[]),a=t.__weh||(t.__weh=(...o)=>{ca();const i=Il(r),l=ms(t,r,e,o);return i(),da(),l});return n?s.unshift(a):s.push(a),a}}const ga=e=>(t,r=tn)=>{(!kl||e==="sp")&&yc(e,(...n)=>t(...n),r)},bc=ga("bm"),Kt=ga("m"),JM=ga("bu"),ui=ga("u"),Fr=ga("bum"),go=ga("um"),XM=ga("sp"),QM=ga("rtg"),ZM=ga("rtc");function e8(e,t=tn){yc("ec",e,t)}const $h="components",t8="directives";function _r(e,t){return Lh($h,e,!0,t)||e}const O1=Symbol.for("v-ndc");function vr(e){return yt(e)?Lh($h,e,!1)||e:e||O1}function Rh(e){return Lh(t8,e)}function Lh(e,t,r=!0,n=!1){const s=Kr||tn;if(s){const a=s.type;if(e===$h){const i=dS(a,!1);if(i&&(i===t||i===Cn(t)||i===Yu(Cn(t))))return a}const o=P1(s[e]||a[e],t)||P1(s.appContext[e],t);return!o&&n?a:o}}function P1(e,t){return e&&(e[t]||e[Cn(t)]||e[Yu(Cn(t))])}function Or(e,t,r,n){let s;const a=r,o=Ue(e);if(o||yt(e)){const i=o&&si(e);let l=!1;i&&(l=!Xn(e),e=rc(e)),s=new Array(e.length);for(let c=0,u=e.length;c<u;c++)s[c]=t(l?on(e[c]):e[c],c,void 0,a)}else if(typeof e=="number"){s=new Array(e);for(let i=0;i<e;i++)s[i]=t(i+1,i,void 0,a)}else if(Lt(e))if(e[Symbol.iterator])s=Array.from(e,(i,l)=>t(i,l,void 0,a));else{const i=Object.keys(e);s=new Array(i.length);for(let l=0,c=i.length;l<c;l++){const u=i[l];s[l]=t(e[u],u,l,a)}}else s=[];return s}function A1(e,t){for(let r=0;r<t.length;r++){const n=t[r];if(Ue(n))for(let s=0;s<n.length;s++)e[n[s].name]=n[s].fn;else n&&(e[n.name]=n.key?(...s)=>{const a=n.fn(...s);return a&&(a.key=n.key),a}:n.fn)}return e}function Ne(e,t,r={},n,s){if(Kr.ce||Kr.parent&&li(Kr.parent)&&Kr.parent.ce)return t!=="default"&&(r.name=t),K(),Le(ht,null,[le("slot",r,n&&n())],64);let a=e[t];a&&a._c&&(a._d=!1),K();const o=a&&E1(a(r)),i=r.key||o&&o.key,l=Le(ht,{key:(i&&!ps(i)?i:`_${t}`)+(!o&&n?"_fb":"")},o||(n?n():[]),o&&e._===1?64:-2);return!s&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),a&&a._c&&(a._d=!0),l}function E1(e){return e.some(t=>ya(t)?!(t.type===en||t.type===ht&&!E1(t.children)):!0)?e:null}const Mh=e=>e?iS(e)?kc(e):Mh(e.parent):null,_l=jr(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Mh(e.parent),$root:e=>Mh(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>M1(e),$forceUpdate:e=>e.f||(e.f=()=>{Oh(e.update)}),$nextTick:e=>e.n||(e.n=xt.bind(e.proxy)),$watch:e=>C8.bind(e)}),Dh=(e,t)=>e!==lr&&!e.__isScriptSetup&&Wt(e,t),r8={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:r,setupState:n,data:s,props:a,accessCache:o,type:i,appContext:l}=e;let c;if(t[0]!=="$"){const b=o[t];if(b!==void 0)switch(b){case 1:return n[t];case 2:return s[t];case 4:return r[t];case 3:return a[t]}else{if(Dh(n,t))return o[t]=1,n[t];if(s!==lr&&Wt(s,t))return o[t]=2,s[t];if((c=e.propsOptions[0])&&Wt(c,t))return o[t]=3,a[t];if(r!==lr&&Wt(r,t))return o[t]=4,r[t];Nh&&(o[t]=0)}}const u=_l[t];let d,m;if(u)return t==="$attrs"&&an(e.attrs,"get",""),u(e);if((d=i.__cssModules)&&(d=d[t]))return d;if(r!==lr&&Wt(r,t))return o[t]=4,r[t];if(m=l.config.globalProperties,Wt(m,t))return m[t]},set({_:e},t,r){const{data:n,setupState:s,ctx:a}=e;return Dh(s,t)?(s[t]=r,!0):n!==lr&&Wt(n,t)?(n[t]=r,!0):Wt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:s,propsOptions:a}},o){let i;return!!r[o]||e!==lr&&Wt(e,o)||Dh(t,o)||(i=a[0])&&Wt(i,o)||Wt(n,o)||Wt(_l,o)||Wt(s.config.globalProperties,o)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:Wt(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function gs(){return $1().slots}function wc(){return $1().attrs}function $1(){const e=Ht();return e.setupContext||(e.setupContext=cS(e))}function Sc(e){return Ue(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}function n8(e,t){return!e||!t?e||t:Ue(e)&&Ue(t)?e.concat(t):jr({},Sc(e),Sc(t))}let Nh=!0;function s8(e){const t=M1(e),r=e.proxy,n=e.ctx;Nh=!1,t.beforeCreate&&R1(t.beforeCreate,e,"bc");const{data:s,computed:a,methods:o,watch:i,provide:l,inject:c,created:u,beforeMount:d,mounted:m,beforeUpdate:b,updated:g,activated:h,deactivated:v,beforeDestroy:y,beforeUnmount:C,destroyed:_,unmounted:S,render:x,renderTracked:I,renderTriggered:f,errorCaptured:P,serverPrefetch:$,expose:q,inheritAttrs:E,components:M,directives:F,filters:N}=t;if(c&&a8(c,n,null),o)for(const U in o){const L=o[U];et(L)&&(n[U]=L.bind(r))}if(s){const U=s.call(r,r);Lt(U)&&(e.data=Zr(U))}if(Nh=!0,a)for(const U in a){const L=a[U],D=et(L)?L.bind(r,r):et(L.get)?L.get.bind(r,r):Nr,Y=!et(L)&&et(L.set)?L.set.bind(r):Nr,Q=W({get:D,set:Y});Object.defineProperty(n,U,{enumerable:!0,configurable:!0,get:()=>Q.value,set:ae=>Q.value=ae})}if(i)for(const U in i)L1(i[U],n,r,U);if(l){const U=et(l)?l.call(r):l;Reflect.ownKeys(U).forEach(L=>{Mr(L,U[L])})}u&&R1(u,e,"c");function H(U,L){Ue(L)?L.forEach(D=>U(D.bind(r))):L&&U(L.bind(r))}if(H(bc,d),H(Kt,m),H(JM,b),H(ui,g),H(x1,h),H(I1,v),H(e8,P),H(ZM,I),H(QM,f),H(Fr,C),H(go,S),H(XM,$),Ue(q))if(q.length){const U=e.exposed||(e.exposed={});q.forEach(L=>{Object.defineProperty(U,L,{get:()=>r[L],set:D=>r[L]=D})})}else e.exposed||(e.exposed={});x&&e.render===Nr&&(e.render=x),E!=null&&(e.inheritAttrs=E),M&&(e.components=M),F&&(e.directives=F),$&&C1(e)}function a8(e,t,r=Nr){Ue(e)&&(e=Fh(e));for(const n in e){const s=e[n];let a;Lt(s)?"default"in s?a=ft(s.from||n,s.default,!0):a=ft(s.from||n):a=ft(s),ar(a)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>a.value,set:o=>a.value=o}):t[n]=a}}function R1(e,t,r){ms(Ue(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,r)}function L1(e,t,r,n){let s=n.includes(".")?X1(r,n):()=>r[n];if(yt(e)){const a=t[e];et(a)&&tt(s,a)}else if(et(e))tt(s,e.bind(r));else if(Lt(e))if(Ue(e))e.forEach(a=>L1(a,t,r,n));else{const a=et(e.handler)?e.handler.bind(r):t[e.handler];et(a)&&tt(s,a,e)}}function M1(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:s,optionsCache:a,config:{optionMergeStrategies:o}}=e.appContext,i=a.get(t);let l;return i?l=i:!s.length&&!r&&!n?l=t:(l={},s.length&&s.forEach(c=>_c(l,c,o,!0)),_c(l,t,o)),Lt(t)&&a.set(t,l),l}function _c(e,t,r,n=!1){const{mixins:s,extends:a}=t;a&&_c(e,a,r,!0),s&&s.forEach(o=>_c(e,o,r,!0));for(const o in t)if(!(n&&o==="expose")){const i=o8[o]||r&&r[o];e[o]=i?i(e[o],t[o]):t[o]}return e}const o8={data:D1,props:N1,emits:N1,methods:Tl,computed:Tl,beforeCreate:vn,created:vn,beforeMount:vn,mounted:vn,beforeUpdate:vn,updated:vn,beforeDestroy:vn,beforeUnmount:vn,destroyed:vn,unmounted:vn,activated:vn,deactivated:vn,errorCaptured:vn,serverPrefetch:vn,components:Tl,directives:Tl,watch:l8,provide:D1,inject:i8};function D1(e,t){return t?e?function(){return jr(et(e)?e.call(this,this):e,et(t)?t.call(this,this):t)}:t:e}function i8(e,t){return Tl(Fh(e),Fh(t))}function Fh(e){if(Ue(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function vn(e,t){return e?[...new Set([].concat(e,t))]:t}function Tl(e,t){return e?jr(Object.create(null),e,t):t}function N1(e,t){return e?Ue(e)&&Ue(t)?[...new Set([...e,...t])]:jr(Object.create(null),Sc(e),Sc(t??{})):t}function l8(e,t){if(!e)return t;if(!t)return e;const r=jr(Object.create(null),e);for(const n in t)r[n]=vn(e[n],t[n]);return r}function F1(){return{app:null,config:{isNativeTag:XL,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let u8=0;function c8(e,t){return function(n,s=null){et(n)||(n=jr({},n)),s!=null&&!Lt(s)&&(s=null);const a=F1(),o=new WeakSet,i=[];let l=!1;const c=a.app={_uid:u8++,_component:n,_props:s,_container:null,_context:a,_instance:null,version:V8,get config(){return a.config},set config(u){},use(u,...d){return o.has(u)||(u&&et(u.install)?(o.add(u),u.install(c,...d)):et(u)&&(o.add(u),u(c,...d))),c},mixin(u){return a.mixins.includes(u)||a.mixins.push(u),c},component(u,d){return d?(a.components[u]=d,c):a.components[u]},directive(u,d){return d?(a.directives[u]=d,c):a.directives[u]},mount(u,d,m){if(!l){const b=c._ceVNode||le(n,s);return b.appContext=a,m===!0?m="svg":m===!1&&(m=void 0),e(b,u,m),l=!0,c._container=u,u.__vue_app__=c,kc(b.component)}},onUnmount(u){i.push(u)},unmount(){l&&(ms(i,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,d){return a.provides[u]=d,c},runWithContext(u){const d=ci;ci=c;try{return u()}finally{ci=d}}};return c}}let ci=null;function Mr(e,t){if(tn){let r=tn.provides;const n=tn.parent&&tn.parent.provides;n===r&&(r=tn.provides=Object.create(n)),r[e]=t}}function ft(e,t,r=!1){const n=tn||Kr;if(n||ci){const s=ci?ci._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return r&&et(t)?t.call(n&&n.proxy):t}}const B1={},j1=()=>Object.create(B1),U1=e=>Object.getPrototypeOf(e)===B1;function d8(e,t,r,n=!1){const s={},a=j1();e.propsDefaults=Object.create(null),q1(e,t,s,a);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);r?e.props=n?s:Zw(s):e.type.props?e.props=s:e.props=a,e.attrs=a}function f8(e,t,r,n){const{props:s,attrs:a,vnode:{patchFlag:o}}=e,i=Gt(s),[l]=e.propsOptions;let c=!1;if((n||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let d=0;d<u.length;d++){let m=u[d];if(Cc(e.emitsOptions,m))continue;const b=t[m];if(l)if(Wt(a,m))b!==a[m]&&(a[m]=b,c=!0);else{const g=Cn(m);s[g]=Bh(l,i,g,b,e,!1)}else b!==a[m]&&(a[m]=b,c=!0)}}}else{q1(e,t,s,a)&&(c=!0);let u;for(const d in i)(!t||!Wt(t,d)&&((u=ua(d))===d||!Wt(t,u)))&&(l?r&&(r[d]!==void 0||r[u]!==void 0)&&(s[d]=Bh(l,i,d,void 0,e,!0)):delete s[d]);if(a!==i)for(const d in a)(!t||!Wt(t,d))&&(delete a[d],c=!0)}c&&fa(e.attrs,"set","")}function q1(e,t,r,n){const[s,a]=e.propsOptions;let o=!1,i;if(t)for(let l in t){if(dl(l))continue;const c=t[l];let u;s&&Wt(s,u=Cn(l))?!a||!a.includes(u)?r[u]=c:(i||(i={}))[u]=c:Cc(e.emitsOptions,l)||(!(l in n)||c!==n[l])&&(n[l]=c,o=!0)}if(a){const l=Gt(r),c=i||lr;for(let u=0;u<a.length;u++){const d=a[u];r[d]=Bh(s,l,d,c[d],e,!Wt(c,d))}}return o}function Bh(e,t,r,n,s,a){const o=e[r];if(o!=null){const i=Wt(o,"default");if(i&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&et(l)){const{propsDefaults:c}=s;if(r in c)n=c[r];else{const u=Il(s);n=c[r]=l.call(null,t),u()}}else n=l;s.ce&&s.ce._setProp(r,n)}o[0]&&(a&&!i?n=!1:o[1]&&(n===""||n===ua(r))&&(n=!0))}return n}const p8=new WeakMap;function V1(e,t,r=!1){const n=r?p8:t.propsCache,s=n.get(e);if(s)return s;const a=e.props,o={},i=[];let l=!1;if(!et(e)){const u=d=>{l=!0;const[m,b]=V1(d,t,!0);jr(o,m),b&&i.push(...b)};!r&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!a&&!l)return Lt(e)&&n.set(e,ti),ti;if(Ue(a))for(let u=0;u<a.length;u++){const d=Cn(a[u]);H1(d)&&(o[d]=lr)}else if(a)for(const u in a){const d=Cn(u);if(H1(d)){const m=a[u],b=o[d]=Ue(m)||et(m)?{type:m}:jr({},m),g=b.type;let h=!1,v=!0;if(Ue(g))for(let y=0;y<g.length;++y){const C=g[y],_=et(C)&&C.name;if(_==="Boolean"){h=!0;break}else _==="String"&&(v=!1)}else h=et(g)&&g.name==="Boolean";b[0]=h,b[1]=v,(h||Wt(b,"default"))&&i.push(d)}}const c=[o,i];return Lt(e)&&n.set(e,c),c}function H1(e){return e[0]!=="$"&&!dl(e)}const z1=e=>e[0]==="_"||e==="$stable",jh=e=>Ue(e)?e.map(Ms):[Ms(e)],h8=(e,t,r)=>{if(t._n)return t;const n=ie((...s)=>jh(t(...s)),r);return n._c=!1,n},W1=(e,t,r)=>{const n=e._ctx;for(const s in e){if(z1(s))continue;const a=e[s];if(et(a))t[s]=h8(s,a,n);else if(a!=null){const o=jh(a);t[s]=()=>o}}},G1=(e,t)=>{const r=jh(t);e.slots.default=()=>r},K1=(e,t,r)=>{for(const n in t)(r||n!=="_")&&(e[n]=t[n])},m8=(e,t,r)=>{const n=e.slots=j1();if(e.vnode.shapeFlag&32){const s=t._;s?(K1(n,t,r),r&&Ow(n,"_",s,!0)):W1(t,n)}else t&&G1(e,t)},g8=(e,t,r)=>{const{vnode:n,slots:s}=e;let a=!0,o=lr;if(n.shapeFlag&32){const i=t._;i?r&&i===1?a=!1:K1(s,t,r):(a=!t.$stable,W1(t,s)),o=t}else t&&(G1(e,t),o={default:1});if(a)for(const i in s)!z1(i)&&o[i]==null&&delete s[i]},yn=E8;function v8(e){return y8(e)}function y8(e,t){const r=Qu();r.__VUE__=!0;const{insert:n,remove:s,patchProp:a,createElement:o,createText:i,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:m,setScopeId:b=Nr,insertStaticContent:g}=e,h=(X,re,ge,Re=null,_e=null,ke=null,qe=void 0,Pe=null,De=!!re.dynamicChildren)=>{if(X===re)return;X&&!yo(X,re)&&(Re=Ge(X),ae(X,_e,ke,!0),X=null),re.patchFlag===-2&&(De=!1,re.dynamicChildren=null);const{type:$e,ref:st,shapeFlag:Ke}=re;switch($e){case di:v(X,re,ge,Re);break;case en:y(X,re,ge,Re);break;case Vh:X==null&&C(re,ge,Re,qe);break;case ht:M(X,re,ge,Re,_e,ke,qe,Pe,De);break;default:Ke&1?x(X,re,ge,Re,_e,ke,qe,Pe,De):Ke&6?F(X,re,ge,Re,_e,ke,qe,Pe,De):(Ke&64||Ke&128)&&$e.process(X,re,ge,Re,_e,ke,qe,Pe,De,Me)}st!=null&&_e&&gc(st,X&&X.ref,ke,re||X,!re)},v=(X,re,ge,Re)=>{if(X==null)n(re.el=i(re.children),ge,Re);else{const _e=re.el=X.el;re.children!==X.children&&c(_e,re.children)}},y=(X,re,ge,Re)=>{X==null?n(re.el=l(re.children||""),ge,Re):re.el=X.el},C=(X,re,ge,Re)=>{[X.el,X.anchor]=g(X.children,re,ge,Re,X.el,X.anchor)},_=({el:X,anchor:re},ge,Re)=>{let _e;for(;X&&X!==re;)_e=m(X),n(X,ge,Re),X=_e;n(re,ge,Re)},S=({el:X,anchor:re})=>{let ge;for(;X&&X!==re;)ge=m(X),s(X),X=ge;s(re)},x=(X,re,ge,Re,_e,ke,qe,Pe,De)=>{re.type==="svg"?qe="svg":re.type==="math"&&(qe="mathml"),X==null?I(re,ge,Re,_e,ke,qe,Pe,De):$(X,re,_e,ke,qe,Pe,De)},I=(X,re,ge,Re,_e,ke,qe,Pe)=>{let De,$e;const{props:st,shapeFlag:Ke,transition:ye,dirs:Ce}=X;if(De=X.el=o(X.type,ke,st&&st.is,st),Ke&8?u(De,X.children):Ke&16&&P(X.children,De,null,Re,_e,Uh(X,ke),qe,Pe),Ce&&ho(X,null,Re,"created"),f(De,X,X.scopeId,qe,Re),st){for(const Et in st)Et!=="value"&&!dl(Et)&&a(De,Et,null,st[Et],ke,Re);"value"in st&&a(De,"value",null,st.value,ke),($e=st.onVnodeBeforeMount)&&Ds($e,Re,X)}Ce&&ho(X,null,Re,"beforeMount");const it=b8(_e,ye);it&&ye.beforeEnter(De),n(De,re,ge),(($e=st&&st.onVnodeMounted)||it||Ce)&&yn(()=>{$e&&Ds($e,Re,X),it&&ye.enter(De),Ce&&ho(X,null,Re,"mounted")},_e)},f=(X,re,ge,Re,_e)=>{if(ge&&b(X,ge),Re)for(let ke=0;ke<Re.length;ke++)b(X,Re[ke]);if(_e){let ke=_e.subTree;if(re===ke||rS(ke.type)&&(ke.ssContent===re||ke.ssFallback===re)){const qe=_e.vnode;f(X,qe,qe.scopeId,qe.slotScopeIds,_e.parent)}}},P=(X,re,ge,Re,_e,ke,qe,Pe,De=0)=>{for(let $e=De;$e<X.length;$e++){const st=X[$e]=Pe?Fa(X[$e]):Ms(X[$e]);h(null,st,re,ge,Re,_e,ke,qe,Pe)}},$=(X,re,ge,Re,_e,ke,qe)=>{const Pe=re.el=X.el;let{patchFlag:De,dynamicChildren:$e,dirs:st}=re;De|=X.patchFlag&16;const Ke=X.props||lr,ye=re.props||lr;let Ce;if(ge&&vo(ge,!1),(Ce=ye.onVnodeBeforeUpdate)&&Ds(Ce,ge,re,X),st&&ho(re,X,ge,"beforeUpdate"),ge&&vo(ge,!0),(Ke.innerHTML&&ye.innerHTML==null||Ke.textContent&&ye.textContent==null)&&u(Pe,""),$e?q(X.dynamicChildren,$e,Pe,ge,Re,Uh(re,_e),ke):qe||L(X,re,Pe,null,ge,Re,Uh(re,_e),ke,!1),De>0){if(De&16)E(Pe,Ke,ye,ge,_e);else if(De&2&&Ke.class!==ye.class&&a(Pe,"class",null,ye.class,_e),De&4&&a(Pe,"style",Ke.style,ye.style,_e),De&8){const it=re.dynamicProps;for(let Et=0;Et<it.length;Et++){const bt=it[Et],fr=Ke[bt],At=ye[bt];(At!==fr||bt==="value")&&a(Pe,bt,fr,At,_e,ge)}}De&1&&X.children!==re.children&&u(Pe,re.children)}else!qe&&$e==null&&E(Pe,Ke,ye,ge,_e);((Ce=ye.onVnodeUpdated)||st)&&yn(()=>{Ce&&Ds(Ce,ge,re,X),st&&ho(re,X,ge,"updated")},Re)},q=(X,re,ge,Re,_e,ke,qe)=>{for(let Pe=0;Pe<re.length;Pe++){const De=X[Pe],$e=re[Pe],st=De.el&&(De.type===ht||!yo(De,$e)||De.shapeFlag&70)?d(De.el):ge;h(De,$e,st,null,Re,_e,ke,qe,!0)}},E=(X,re,ge,Re,_e)=>{if(re!==ge){if(re!==lr)for(const ke in re)!dl(ke)&&!(ke in ge)&&a(X,ke,re[ke],null,_e,Re);for(const ke in ge){if(dl(ke))continue;const qe=ge[ke],Pe=re[ke];qe!==Pe&&ke!=="value"&&a(X,ke,Pe,qe,_e,Re)}"value"in ge&&a(X,"value",re.value,ge.value,_e)}},M=(X,re,ge,Re,_e,ke,qe,Pe,De)=>{const $e=re.el=X?X.el:i(""),st=re.anchor=X?X.anchor:i("");let{patchFlag:Ke,dynamicChildren:ye,slotScopeIds:Ce}=re;Ce&&(Pe=Pe?Pe.concat(Ce):Ce),X==null?(n($e,ge,Re),n(st,ge,Re),P(re.children||[],ge,st,_e,ke,qe,Pe,De)):Ke>0&&Ke&64&&ye&&X.dynamicChildren?(q(X.dynamicChildren,ye,ge,_e,ke,qe,Pe),(re.key!=null||_e&&re===_e.subTree)&&qh(X,re,!0)):L(X,re,ge,st,_e,ke,qe,Pe,De)},F=(X,re,ge,Re,_e,ke,qe,Pe,De)=>{re.slotScopeIds=Pe,X==null?re.shapeFlag&512?_e.ctx.activate(re,ge,Re,qe,De):N(re,ge,Re,_e,ke,qe,De):R(X,re,De)},N=(X,re,ge,Re,_e,ke,qe)=>{const Pe=X.component=D8(X,Re,_e);if(vc(X)&&(Pe.ctx.renderer=Me),N8(Pe,!1,qe),Pe.asyncDep){if(_e&&_e.registerDep(Pe,H,qe),!X.el){const De=Pe.subTree=le(en);y(null,De,re,ge)}}else H(Pe,X,re,ge,_e,ke,qe)},R=(X,re,ge)=>{const Re=re.component=X.component;if(P8(X,re,ge))if(Re.asyncDep&&!Re.asyncResolved){U(Re,re,ge);return}else Re.next=re,Re.update();else re.el=X.el,Re.vnode=re},H=(X,re,ge,Re,_e,ke,qe)=>{const Pe=()=>{if(X.isMounted){let{next:Ke,bu:ye,u:Ce,parent:it,vnode:Et}=X;{const pr=Y1(X);if(pr){Ke&&(Ke.el=Et.el,U(X,Ke,qe)),pr.asyncDep.then(()=>{X.isUnmounted||Pe()});return}}let bt=Ke,fr;vo(X,!1),Ke?(Ke.el=Et.el,U(X,Ke,qe)):Ke=Et,ye&&Xu(ye),(fr=Ke.props&&Ke.props.onVnodeBeforeUpdate)&&Ds(fr,it,Ke,Et),vo(X,!0);const At=eS(X),Tr=X.subTree;X.subTree=At,h(Tr,At,d(Tr.el),Ge(Tr),X,_e,ke),Ke.el=At.el,bt===null&&A8(X,At.el),Ce&&yn(Ce,_e),(fr=Ke.props&&Ke.props.onVnodeUpdated)&&yn(()=>Ds(fr,it,Ke,Et),_e)}else{let Ke;const{el:ye,props:Ce}=re,{bm:it,m:Et,parent:bt,root:fr,type:At}=X,Tr=li(re);vo(X,!1),it&&Xu(it),!Tr&&(Ke=Ce&&Ce.onVnodeBeforeMount)&&Ds(Ke,bt,re),vo(X,!0);{fr.ce&&fr.ce._injectChildStyle(At);const pr=X.subTree=eS(X);h(null,pr,ge,Re,X,_e,ke),re.el=pr.el}if(Et&&yn(Et,_e),!Tr&&(Ke=Ce&&Ce.onVnodeMounted)){const pr=re;yn(()=>Ds(Ke,bt,pr),_e)}(re.shapeFlag&256||bt&&li(bt.vnode)&&bt.vnode.shapeFlag&256)&&X.a&&yn(X.a,_e),X.isMounted=!0,re=ge=Re=null}};X.scope.on();const De=X.effect=new Mw(Pe);X.scope.off();const $e=X.update=De.run.bind(De),st=X.job=De.runIfDirty.bind(De);st.i=X,st.id=X.uid,De.scheduler=()=>Oh(st),vo(X,!0),$e()},U=(X,re,ge)=>{re.component=X;const Re=X.vnode.props;X.vnode=re,X.next=null,f8(X,re.props,Re,ge),g8(X,re.children,ge),ca(),o1(X),da()},L=(X,re,ge,Re,_e,ke,qe,Pe,De=!1)=>{const $e=X&&X.children,st=X?X.shapeFlag:0,Ke=re.children,{patchFlag:ye,shapeFlag:Ce}=re;if(ye>0){if(ye&128){Y($e,Ke,ge,Re,_e,ke,qe,Pe,De);return}else if(ye&256){D($e,Ke,ge,Re,_e,ke,qe,Pe,De);return}}Ce&8?(st&16&&We($e,_e,ke),Ke!==$e&&u(ge,Ke)):st&16?Ce&16?Y($e,Ke,ge,Re,_e,ke,qe,Pe,De):We($e,_e,ke,!0):(st&8&&u(ge,""),Ce&16&&P(Ke,ge,Re,_e,ke,qe,Pe,De))},D=(X,re,ge,Re,_e,ke,qe,Pe,De)=>{X=X||ti,re=re||ti;const $e=X.length,st=re.length,Ke=Math.min($e,st);let ye;for(ye=0;ye<Ke;ye++){const Ce=re[ye]=De?Fa(re[ye]):Ms(re[ye]);h(X[ye],Ce,ge,null,_e,ke,qe,Pe,De)}$e>st?We(X,_e,ke,!0,!1,Ke):P(re,ge,Re,_e,ke,qe,Pe,De,Ke)},Y=(X,re,ge,Re,_e,ke,qe,Pe,De)=>{let $e=0;const st=re.length;let Ke=X.length-1,ye=st-1;for(;$e<=Ke&&$e<=ye;){const Ce=X[$e],it=re[$e]=De?Fa(re[$e]):Ms(re[$e]);if(yo(Ce,it))h(Ce,it,ge,null,_e,ke,qe,Pe,De);else break;$e++}for(;$e<=Ke&&$e<=ye;){const Ce=X[Ke],it=re[ye]=De?Fa(re[ye]):Ms(re[ye]);if(yo(Ce,it))h(Ce,it,ge,null,_e,ke,qe,Pe,De);else break;Ke--,ye--}if($e>Ke){if($e<=ye){const Ce=ye+1,it=Ce<st?re[Ce].el:Re;for(;$e<=ye;)h(null,re[$e]=De?Fa(re[$e]):Ms(re[$e]),ge,it,_e,ke,qe,Pe,De),$e++}}else if($e>ye)for(;$e<=Ke;)ae(X[$e],_e,ke,!0),$e++;else{const Ce=$e,it=$e,Et=new Map;for($e=it;$e<=ye;$e++){const J=re[$e]=De?Fa(re[$e]):Ms(re[$e]);J.key!=null&&Et.set(J.key,$e)}let bt,fr=0;const At=ye-it+1;let Tr=!1,pr=0;const ce=new Array(At);for($e=0;$e<At;$e++)ce[$e]=0;for($e=Ce;$e<=Ke;$e++){const J=X[$e];if(fr>=At){ae(J,_e,ke,!0);continue}let V;if(J.key!=null)V=Et.get(J.key);else for(bt=it;bt<=ye;bt++)if(ce[bt-it]===0&&yo(J,re[bt])){V=bt;break}V===void 0?ae(J,_e,ke,!0):(ce[V-it]=$e+1,V>=pr?pr=V:Tr=!0,h(J,re[V],ge,null,_e,ke,qe,Pe,De),fr++)}const fe=Tr?w8(ce):ti;for(bt=fe.length-1,$e=At-1;$e>=0;$e--){const J=it+$e,V=re[J],Se=J+1<st?re[J+1].el:Re;ce[$e]===0?h(null,V,ge,Se,_e,ke,qe,Pe,De):Tr&&(bt<0||$e!==fe[bt]?Q(V,ge,Se,2):bt--)}}},Q=(X,re,ge,Re,_e=null)=>{const{el:ke,type:qe,transition:Pe,children:De,shapeFlag:$e}=X;if($e&6){Q(X.component.subTree,re,ge,Re);return}if($e&128){X.suspense.move(re,ge,Re);return}if($e&64){qe.move(X,re,ge,Me);return}if(qe===ht){n(ke,re,ge);for(let Ke=0;Ke<De.length;Ke++)Q(De[Ke],re,ge,Re);n(X.anchor,re,ge);return}if(qe===Vh){_(X,re,ge);return}if(Re!==2&&$e&1&&Pe)if(Re===0)Pe.beforeEnter(ke),n(ke,re,ge),yn(()=>Pe.enter(ke),_e);else{const{leave:Ke,delayLeave:ye,afterLeave:Ce}=Pe,it=()=>n(ke,re,ge),Et=()=>{Ke(ke,()=>{it(),Ce&&Ce()})};ye?ye(ke,it,Et):Et()}else n(ke,re,ge)},ae=(X,re,ge,Re=!1,_e=!1)=>{const{type:ke,props:qe,ref:Pe,children:De,dynamicChildren:$e,shapeFlag:st,patchFlag:Ke,dirs:ye,cacheIndex:Ce}=X;if(Ke===-2&&(_e=!1),Pe!=null&&gc(Pe,null,ge,X,!0),Ce!=null&&(re.renderCache[Ce]=void 0),st&256){re.ctx.deactivate(X);return}const it=st&1&&ye,Et=!li(X);let bt;if(Et&&(bt=qe&&qe.onVnodeBeforeUnmount)&&Ds(bt,re,X),st&6)ve(X.component,ge,Re);else{if(st&128){X.suspense.unmount(ge,Re);return}it&&ho(X,null,re,"beforeUnmount"),st&64?X.type.remove(X,re,ge,Me,Re):$e&&!$e.hasOnce&&(ke!==ht||Ke>0&&Ke&64)?We($e,re,ge,!1,!0):(ke===ht&&Ke&384||!_e&&st&16)&&We(De,re,ge),Re&&ne(X)}(Et&&(bt=qe&&qe.onVnodeUnmounted)||it)&&yn(()=>{bt&&Ds(bt,re,X),it&&ho(X,null,re,"unmounted")},ge)},ne=X=>{const{type:re,el:ge,anchor:Re,transition:_e}=X;if(re===ht){he(ge,Re);return}if(re===Vh){S(X);return}const ke=()=>{s(ge),_e&&!_e.persisted&&_e.afterLeave&&_e.afterLeave()};if(X.shapeFlag&1&&_e&&!_e.persisted){const{leave:qe,delayLeave:Pe}=_e,De=()=>qe(ge,ke);Pe?Pe(X.el,ke,De):De()}else ke()},he=(X,re)=>{let ge;for(;X!==re;)ge=m(X),s(X),X=ge;s(re)},ve=(X,re,ge)=>{const{bum:Re,scope:_e,job:ke,subTree:qe,um:Pe,m:De,a:$e}=X;J1(De),J1($e),Re&&Xu(Re),_e.stop(),ke&&(ke.flags|=8,ae(qe,X,re,ge)),Pe&&yn(Pe,re),yn(()=>{X.isUnmounted=!0},re),re&&re.pendingBranch&&!re.isUnmounted&&X.asyncDep&&!X.asyncResolved&&X.suspenseId===re.pendingId&&(re.deps--,re.deps===0&&re.resolve())},We=(X,re,ge,Re=!1,_e=!1,ke=0)=>{for(let qe=ke;qe<X.length;qe++)ae(X[qe],re,ge,Re,_e)},Ge=X=>{if(X.shapeFlag&6)return Ge(X.component.subTree);if(X.shapeFlag&128)return X.suspense.next();const re=m(X.anchor||X.el),ge=re&&re[c1];return ge?m(ge):re};let Te=!1;const He=(X,re,ge)=>{X==null?re._vnode&&ae(re._vnode,null,null,!0):h(re._vnode||null,X,re,null,null,null,ge),re._vnode=X,Te||(Te=!0,o1(),i1(),Te=!1)},Me={p:h,um:ae,m:Q,r:ne,mt:N,mc:P,pc:L,pbc:q,n:Ge,o:e};return{render:He,hydrate:void 0,createApp:c8(He)}}function Uh({type:e,props:t},r){return r==="svg"&&e==="foreignObject"||r==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function vo({effect:e,job:t},r){r?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function b8(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function qh(e,t,r=!1){const n=e.children,s=t.children;if(Ue(n)&&Ue(s))for(let a=0;a<n.length;a++){const o=n[a];let i=s[a];i.shapeFlag&1&&!i.dynamicChildren&&((i.patchFlag<=0||i.patchFlag===32)&&(i=s[a]=Fa(s[a]),i.el=o.el),!r&&i.patchFlag!==-2&&qh(o,i)),i.type===di&&(i.el=o.el)}}function w8(e){const t=e.slice(),r=[0];let n,s,a,o,i;const l=e.length;for(n=0;n<l;n++){const c=e[n];if(c!==0){if(s=r[r.length-1],e[s]<c){t[n]=s,r.push(n);continue}for(a=0,o=r.length-1;a<o;)i=a+o>>1,e[r[i]]<c?a=i+1:o=i;c<e[r[a]]&&(a>0&&(t[n]=r[a-1]),r[a]=n)}}for(a=r.length,o=r[a-1];a-- >0;)r[a]=o,o=t[o];return r}function Y1(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Y1(t)}function J1(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const S8=Symbol.for("v-scx"),_8=()=>ft(S8);function va(e,t){return Tc(e,null,t)}function T8(e,t){return Tc(e,null,{flush:"sync"})}function tt(e,t,r){return Tc(e,t,r)}function Tc(e,t,r=lr){const{immediate:n,deep:s,flush:a,once:o}=r,i=jr({},r),l=t&&n||!t&&a!=="post";let c;if(kl){if(a==="sync"){const b=_8();c=b.__watcherHandles||(b.__watcherHandles=[])}else if(!l){const b=()=>{};return b.stop=Nr,b.resume=Nr,b.pause=Nr,b}}const u=tn;i.call=(b,g,h)=>ms(b,u,g,h);let d=!1;a==="post"?i.scheduler=b=>{yn(b,u&&u.suspense)}:a!=="sync"&&(d=!0,i.scheduler=(b,g)=>{g?b():Oh(b)}),i.augmentJob=b=>{t&&(b.flags|=4),d&&(b.flags|=2,u&&(b.id=u.uid,b.i=u))};const m=FM(e,t,i);return kl&&(c?c.push(m):l&&m()),m}function C8(e,t,r){const n=this.proxy,s=yt(e)?e.includes(".")?X1(n,e):()=>n[e]:e.bind(n,n);let a;et(t)?a=t:(a=t.handler,r=t);const o=Il(this),i=Tc(s,a.bind(n),r);return o(),i}function X1(e,t){const r=t.split(".");return()=>{let n=e;for(let s=0;s<r.length&&n;s++)n=n[r[s]];return n}}function x8(e,t,r=lr){const n=Ht(),s=Cn(t),a=ua(t),o=Q1(e,s),i=$M((l,c)=>{let u,d=lr,m;return T8(()=>{const b=e[s];xn(u,b)&&(u=b,c())}),{get(){return l(),r.get?r.get(u):u},set(b){const g=r.set?r.set(b):b;if(!xn(g,u)&&!(d!==lr&&xn(b,d)))return;const h=n.vnode.props;h&&(t in h||s in h||a in h)&&(`onUpdate:${t}`in h||`onUpdate:${s}`in h||`onUpdate:${a}`in h)||(u=b,c()),n.emit(`update:${t}`,g),xn(b,g)&&xn(b,d)&&!xn(g,m)&&c(),d=b,m=g}}});return i[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?o||lr:i,done:!1}:{done:!0}}}},i}const Q1=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Cn(t)}Modifiers`]||e[`${ua(t)}Modifiers`];function I8(e,t,...r){if(e.isUnmounted)return;const n=e.vnode.props||lr;let s=r;const a=t.startsWith("update:"),o=a&&Q1(n,t.slice(7));o&&(o.trim&&(s=r.map(u=>yt(u)?u.trim():u)),o.number&&(s=r.map(dh)));let i,l=n[i=Ju(t)]||n[i=Ju(Cn(t))];!l&&a&&(l=n[i=Ju(ua(t))]),l&&ms(l,e,6,s);const c=n[i+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[i])return;e.emitted[i]=!0,ms(c,e,6,s)}}function Z1(e,t,r=!1){const n=t.emitsCache,s=n.get(e);if(s!==void 0)return s;const a=e.emits;let o={},i=!1;if(!et(e)){const l=c=>{const u=Z1(c,t,!0);u&&(i=!0,jr(o,u))};!r&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!a&&!i?(Lt(e)&&n.set(e,null),null):(Ue(a)?a.forEach(l=>o[l]=null):jr(o,a),Lt(e)&&n.set(e,o),o)}function Cc(e,t){return!e||!zu(t)?!1:(t=t.slice(2).replace(/Once$/,""),Wt(e,t[0].toLowerCase()+t.slice(1))||Wt(e,ua(t))||Wt(e,t))}function kG(){}function eS(e){const{type:t,vnode:r,proxy:n,withProxy:s,propsOptions:[a],slots:o,attrs:i,emit:l,render:c,renderCache:u,props:d,data:m,setupState:b,ctx:g,inheritAttrs:h}=e,v=dc(e);let y,C;try{if(r.shapeFlag&4){const S=s||n,x=S;y=Ms(c.call(x,S,u,d,b,m,g)),C=i}else{const S=t;y=Ms(S.length>1?S(d,{attrs:i,slots:o,emit:l}):S(d,null)),C=t.props?i:k8(i)}}catch(S){Cl.length=0,uc(S,e,1),y=le(en)}let _=y;if(C&&h!==!1){const S=Object.keys(C),{shapeFlag:x}=_;S.length&&x&7&&(a&&S.some(ih)&&(C=O8(C,a)),_=ba(_,C,!1,!0))}return r.dirs&&(_=ba(_,null,!1,!0),_.dirs=_.dirs?_.dirs.concat(r.dirs):r.dirs),r.transition&&mo(_,r.transition),y=_,dc(v),y}const k8=e=>{let t;for(const r in e)(r==="class"||r==="style"||zu(r))&&((t||(t={}))[r]=e[r]);return t},O8=(e,t)=>{const r={};for(const n in e)(!ih(n)||!(n.slice(9)in t))&&(r[n]=e[n]);return r};function P8(e,t,r){const{props:n,children:s,component:a}=e,{props:o,children:i,patchFlag:l}=t,c=a.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?tS(n,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let d=0;d<u.length;d++){const m=u[d];if(o[m]!==n[m]&&!Cc(c,m))return!0}}}else return(s||i)&&(!i||!i.$stable)?!0:n===o?!1:n?o?tS(n,o,c):!0:!!o;return!1}function tS(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let s=0;s<n.length;s++){const a=n[s];if(t[a]!==e[a]&&!Cc(r,a))return!0}return!1}function A8({vnode:e,parent:t},r){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=r,t=t.parent;else break}}const rS=e=>e.__isSuspense;function E8(e,t){t&&t.pendingBranch?Ue(e)?t.effects.push(...e):t.effects.push(e):zM(e)}const ht=Symbol.for("v-fgt"),di=Symbol.for("v-txt"),en=Symbol.for("v-cmt"),Vh=Symbol.for("v-stc"),Cl=[];let Bn=null;function K(e=!1){Cl.push(Bn=e?null:[])}function $8(){Cl.pop(),Bn=Cl[Cl.length-1]||null}let xl=1;function nS(e,t=!1){xl+=e,e<0&&Bn&&t&&(Bn.hasOnce=!0)}function sS(e){return e.dynamicChildren=xl>0?Bn||ti:null,$8(),xl>0&&Bn&&Bn.push(e),e}function ue(e,t,r,n,s,a){return sS(G(e,t,r,n,s,a,!0))}function Le(e,t,r,n,s){return sS(le(e,t,r,n,s,!0))}function ya(e){return e?e.__v_isVNode===!0:!1}function yo(e,t){return e.type===t.type&&e.key===t.key}const aS=({key:e})=>e??null,xc=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?yt(e)||ar(e)||et(e)?{i:Kr,r:e,k:t,f:!!r}:e:null);function G(e,t=null,r=null,n=0,s=null,a=e===ht?0:1,o=!1,i=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&aS(t),ref:t&&xc(t),scopeId:u1,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:n,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Kr};return i?(zh(l,r),a&128&&e.normalize(l)):r&&(l.shapeFlag|=yt(r)?8:16),xl>0&&!o&&Bn&&(l.patchFlag>0||a&6)&&l.patchFlag!==32&&Bn.push(l),l}const le=R8;function R8(e,t=null,r=null,n=0,s=null,a=!1){if((!e||e===O1)&&(e=en),ya(e)){const i=ba(e,t,!0);return r&&zh(i,r),xl>0&&!a&&Bn&&(i.shapeFlag&6?Bn[Bn.indexOf(e)]=i:Bn.push(i)),i.patchFlag=-2,i}if(q8(e)&&(e=e.__vccOpts),t){t=Hh(t);let{class:i,style:l}=t;i&&!yt(i)&&(t.class=Z(i)),Lt(l)&&(Ch(l)&&!Ue(l)&&(l=jr({},l)),t.style=jt(l))}const o=yt(e)?1:rS(e)?128:d1(e)?64:Lt(e)?4:et(e)?2:0;return G(e,t,r,n,s,o,a,!0)}function Hh(e){return e?Ch(e)||U1(e)?jr({},e):e:null}function ba(e,t,r=!1,n=!1){const{props:s,ref:a,patchFlag:o,children:i,transition:l}=e,c=t?ln(s||{},t):s,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&aS(c),ref:t&&t.ref?r&&a?Ue(a)?a.concat(xc(t)):[a,xc(t)]:xc(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ht?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ba(e.ssContent),ssFallback:e.ssFallback&&ba(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&n&&mo(u,l.clone(u)),u}function ot(e=" ",t=0){return le(di,null,e,t)}function Ee(e="",t=!1){return t?(K(),Le(en,null,e)):le(en,null,e)}function Ms(e){return e==null||typeof e=="boolean"?le(en):Ue(e)?le(ht,null,e.slice()):ya(e)?Fa(e):le(di,null,String(e))}function Fa(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ba(e)}function zh(e,t){let r=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(Ue(t))r=16;else if(typeof t=="object")if(n&65){const s=t.default;s&&(s._c&&(s._d=!1),zh(e,s()),s._c&&(s._d=!0));return}else{r=32;const s=t._;!s&&!U1(t)?t._ctx=Kr:s===3&&Kr&&(Kr.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else et(t)?(t={default:t,_ctx:Kr},r=32):(t=String(t),n&64?(r=16,t=[ot(t)]):r=8);e.children=t,e.shapeFlag|=r}function ln(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const s in n)if(s==="class")t.class!==n.class&&(t.class=Z([t.class,n.class]));else if(s==="style")t.style=jt([t.style,n.style]);else if(zu(s)){const a=t[s],o=n[s];o&&a!==o&&!(Ue(a)&&a.includes(o))&&(t[s]=a?[].concat(a,o):o)}else s!==""&&(t[s]=n[s])}return t}function Ds(e,t,r,n=null){ms(e,t,7,[r,n])}const L8=F1();let M8=0;function D8(e,t,r){const n=e.type,s=(t?t.appContext:e.appContext)||L8,a={uid:M8++,vnode:e,type:n,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new uM(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:V1(n,s),emitsOptions:Z1(n,s),emit:null,emitted:null,propsDefaults:lr,inheritAttrs:n.inheritAttrs,ctx:lr,data:lr,props:lr,attrs:lr,slots:lr,refs:lr,setupState:lr,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=I8.bind(null,a),e.ce&&e.ce(a),a}let tn=null;const Ht=()=>tn||Kr;let Ic,Wh;{const e=Qu(),t=(r,n)=>{let s;return(s=e[r])||(s=e[r]=[]),s.push(n),a=>{s.length>1?s.forEach(o=>o(a)):s[0](a)}};Ic=t("__VUE_INSTANCE_SETTERS__",r=>tn=r),Wh=t("__VUE_SSR_SETTERS__",r=>kl=r)}const Il=e=>{const t=tn;return Ic(e),e.scope.on(),()=>{e.scope.off(),Ic(t)}},oS=()=>{tn&&tn.scope.off(),Ic(null)};function iS(e){return e.vnode.shapeFlag&4}let kl=!1;function N8(e,t=!1,r=!1){t&&Wh(t);const{props:n,children:s}=e.vnode,a=iS(e);d8(e,n,a,t),m8(e,s,r);const o=a?F8(e,t):void 0;return t&&Wh(!1),o}function F8(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,r8);const{setup:n}=r;if(n){ca();const s=e.setupContext=n.length>1?cS(e):null,a=Il(e),o=ai(n,e,0,[e.props,s]),i=Iw(o);if(da(),a(),(i||e.sp)&&!li(e)&&C1(e),i){if(o.then(oS,oS),t)return o.then(l=>{lS(e,l)}).catch(l=>{uc(l,e,0)});e.asyncDep=o}else lS(e,o)}else uS(e)}function lS(e,t,r){et(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Lt(t)&&(e.setupState=t1(t)),uS(e)}function uS(e,t,r){const n=e.type;e.render||(e.render=n.render||Nr);{const s=Il(e);ca();try{s8(e)}finally{da(),s()}}}const B8={get(e,t){return an(e,"get",""),e[t]}};function cS(e){const t=r=>{e.exposed=r||{}};return{attrs:new Proxy(e.attrs,B8),slots:e.slots,emit:e.emit,expose:t}}function kc(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(t1(xh(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in _l)return _l[r](e)},has(t,r){return r in t||r in _l}})):e.proxy}const j8=/(?:^|[-_])(\w)/g,U8=e=>e.replace(j8,t=>t.toUpperCase()).replace(/[-_]/g,"");function dS(e,t=!0){return et(e)?e.displayName||e.name:e.name||t&&e.__name}function fS(e,t,r=!1){let n=dS(t);if(!n&&t.__file){const s=t.__file.match(/([^/\\]+)\.\w+$/);s&&(n=s[1])}if(!n&&e&&e.parent){const s=a=>{for(const o in a)if(a[o]===t)return o};n=s(e.components||e.parent.type.components)||s(e.appContext.components)}return n?U8(n):r?"App":"Anonymous"}function q8(e){return et(e)&&"__vccOpts"in e}const W=(e,t)=>DM(e,t,kl);function kt(e,t,r){const n=arguments.length;return n===2?Lt(t)&&!Ue(t)?ya(t)?le(e,null,[t]):le(e,t):le(e,null,t):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&ya(r)&&(r=[r]),le(e,t,r))}const V8="3.5.13",H8=Nr;/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Gh;const pS=typeof window<"u"&&window.trustedTypes;if(pS)try{Gh=pS.createPolicy("vue",{createHTML:e=>e})}catch{}const hS=Gh?e=>Gh.createHTML(e):e=>e,z8="http://www.w3.org/2000/svg",W8="http://www.w3.org/1998/Math/MathML",wa=typeof document<"u"?document:null,mS=wa&&wa.createElement("template"),G8={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const s=t==="svg"?wa.createElementNS(z8,e):t==="mathml"?wa.createElementNS(W8,e):r?wa.createElement(e,{is:r}):wa.createElement(e);return e==="select"&&n&&n.multiple!=null&&s.setAttribute("multiple",n.multiple),s},createText:e=>wa.createTextNode(e),createComment:e=>wa.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>wa.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,n,s,a){const o=r?r.previousSibling:t.lastChild;if(s&&(s===a||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),r),!(s===a||!(s=s.nextSibling)););else{mS.innerHTML=hS(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const i=mS.content;if(n==="svg"||n==="mathml"){const l=i.firstChild;for(;l.firstChild;)i.appendChild(l.firstChild);i.removeChild(l)}t.insertBefore(i,r)}return[o?o.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},Ba="transition",Ol="animation",fi=Symbol("_vtc"),gS={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},vS=jr({},b1,gS),vs=(e=>(e.displayName="Transition",e.props=vS,e))((e,{slots:t})=>kt(KM,bS(e),t)),bo=(e,t=[])=>{Ue(e)?e.forEach(r=>r(...t)):e&&e(...t)},yS=e=>e?Ue(e)?e.some(t=>t.length>1):e.length>1:!1;function bS(e){const t={};for(const M in e)M in gS||(t[M]=e[M]);if(e.css===!1)return t;const{name:r="v",type:n,duration:s,enterFromClass:a=`${r}-enter-from`,enterActiveClass:o=`${r}-enter-active`,enterToClass:i=`${r}-enter-to`,appearFromClass:l=a,appearActiveClass:c=o,appearToClass:u=i,leaveFromClass:d=`${r}-leave-from`,leaveActiveClass:m=`${r}-leave-active`,leaveToClass:b=`${r}-leave-to`}=e,g=K8(s),h=g&&g[0],v=g&&g[1],{onBeforeEnter:y,onEnter:C,onEnterCancelled:_,onLeave:S,onLeaveCancelled:x,onBeforeAppear:I=y,onAppear:f=C,onAppearCancelled:P=_}=t,$=(M,F,N,R)=>{M._enterCancelled=R,ja(M,F?u:i),ja(M,F?c:o),N&&N()},q=(M,F)=>{M._isLeaving=!1,ja(M,d),ja(M,b),ja(M,m),F&&F()},E=M=>(F,N)=>{const R=M?f:C,H=()=>$(F,M,N);bo(R,[F,H]),wS(()=>{ja(F,M?l:a),Ns(F,M?u:i),yS(R)||SS(F,n,h,H)})};return jr(t,{onBeforeEnter(M){bo(y,[M]),Ns(M,a),Ns(M,o)},onBeforeAppear(M){bo(I,[M]),Ns(M,l),Ns(M,c)},onEnter:E(!1),onAppear:E(!0),onLeave(M,F){M._isLeaving=!0;const N=()=>q(M,F);Ns(M,d),M._enterCancelled?(Ns(M,m),Yh()):(Yh(),Ns(M,m)),wS(()=>{M._isLeaving&&(ja(M,d),Ns(M,b),yS(S)||SS(M,n,v,N))}),bo(S,[M,N])},onEnterCancelled(M){$(M,!1,void 0,!0),bo(_,[M])},onAppearCancelled(M){$(M,!0,void 0,!0),bo(P,[M])},onLeaveCancelled(M){q(M),bo(x,[M])}})}function K8(e){if(e==null)return null;if(Lt(e))return[Kh(e.enter),Kh(e.leave)];{const t=Kh(e);return[t,t]}}function Kh(e){return rM(e)}function Ns(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.add(r)),(e[fi]||(e[fi]=new Set)).add(t)}function ja(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const r=e[fi];r&&(r.delete(t),r.size||(e[fi]=void 0))}function wS(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Y8=0;function SS(e,t,r,n){const s=e._endId=++Y8,a=()=>{s===e._endId&&n()};if(r!=null)return setTimeout(a,r);const{type:o,timeout:i,propCount:l}=_S(e,t);if(!o)return n();const c=o+"end";let u=0;const d=()=>{e.removeEventListener(c,m),a()},m=b=>{b.target===e&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},i+1),e.addEventListener(c,m)}function _S(e,t){const r=window.getComputedStyle(e),n=g=>(r[g]||"").split(", "),s=n(`${Ba}Delay`),a=n(`${Ba}Duration`),o=TS(s,a),i=n(`${Ol}Delay`),l=n(`${Ol}Duration`),c=TS(i,l);let u=null,d=0,m=0;t===Ba?o>0&&(u=Ba,d=o,m=a.length):t===Ol?c>0&&(u=Ol,d=c,m=l.length):(d=Math.max(o,c),u=d>0?o>c?Ba:Ol:null,m=u?u===Ba?a.length:l.length:0);const b=u===Ba&&/\b(transform|all)(,|$)/.test(n(`${Ba}Property`).toString());return{type:u,timeout:d,propCount:m,hasTransform:b}}function TS(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((r,n)=>CS(r)+CS(e[n])))}function CS(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Yh(){return document.body.offsetHeight}function J8(e,t,r){const n=e[fi];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const Oc=Symbol("_vod"),xS=Symbol("_vsh"),Pr={beforeMount(e,{value:t},{transition:r}){e[Oc]=e.style.display==="none"?"":e.style.display,r&&t?r.beforeEnter(e):Pl(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:n}){!t!=!r&&(n?t?(n.beforeEnter(e),Pl(e,!0),n.enter(e)):n.leave(e,()=>{Pl(e,!1)}):Pl(e,t))},beforeUnmount(e,{value:t}){Pl(e,t)}};function Pl(e,t){e.style.display=t?e[Oc]:"none",e[xS]=!t}const X8=Symbol(""),Q8=/(^|;)\s*display\s*:/;function Z8(e,t,r){const n=e.style,s=yt(r);let a=!1;if(r&&!s){if(t)if(yt(t))for(const o of t.split(";")){const i=o.slice(0,o.indexOf(":")).trim();r[i]==null&&Pc(n,i,"")}else for(const o in t)r[o]==null&&Pc(n,o,"");for(const o in r)o==="display"&&(a=!0),Pc(n,o,r[o])}else if(s){if(t!==r){const o=n[X8];o&&(r+=";"+o),n.cssText=r,a=Q8.test(r)}}else t&&e.removeAttribute("style");Oc in e&&(e[Oc]=a?n.display:"",e[xS]&&(n.display="none"))}const IS=/\s*!important$/;function Pc(e,t,r){if(Ue(r))r.forEach(n=>Pc(e,t,n));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const n=eD(e,t);IS.test(r)?e.setProperty(ua(n),r.replace(IS,""),"important"):e[n]=r}}const kS=["Webkit","Moz","ms"],Jh={};function eD(e,t){const r=Jh[t];if(r)return r;let n=Cn(t);if(n!=="filter"&&n in e)return Jh[t]=n;n=Yu(n);for(let s=0;s<kS.length;s++){const a=kS[s]+n;if(a in e)return Jh[t]=a}return t}const OS="http://www.w3.org/1999/xlink";function PS(e,t,r,n,s,a=iM(t)){n&&t.startsWith("xlink:")?r==null?e.removeAttributeNS(OS,t.slice(6,t.length)):e.setAttributeNS(OS,t,r):r==null||a&&!Ew(r)?e.removeAttribute(t):e.setAttribute(t,a?"":ps(r)?String(r):r)}function AS(e,t,r,n,s){if(t==="innerHTML"||t==="textContent"){r!=null&&(e[t]=t==="innerHTML"?hS(r):r);return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const i=a==="OPTION"?e.getAttribute("value")||"":e.value,l=r==null?e.type==="checkbox"?"on":"":String(r);(i!==l||!("_value"in e))&&(e.value=l),r==null&&e.removeAttribute(t),e._value=r;return}let o=!1;if(r===""||r==null){const i=typeof e[t];i==="boolean"?r=Ew(r):r==null&&i==="string"?(r="",o=!0):i==="number"&&(r=0,o=!0)}try{e[t]=r}catch{}o&&e.removeAttribute(s||t)}function wo(e,t,r,n){e.addEventListener(t,r,n)}function tD(e,t,r,n){e.removeEventListener(t,r,n)}const ES=Symbol("_vei");function rD(e,t,r,n,s=null){const a=e[ES]||(e[ES]={}),o=a[t];if(n&&o)o.value=n;else{const[i,l]=nD(t);if(n){const c=a[t]=oD(n,s);wo(e,i,c,l)}else o&&(tD(e,i,o,l),a[t]=void 0)}}const $S=/(?:Once|Passive|Capture)$/;function nD(e){let t;if($S.test(e)){t={};let n;for(;n=e.match($S);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ua(e.slice(2)),t]}let Xh=0;const sD=Promise.resolve(),aD=()=>Xh||(sD.then(()=>Xh=0),Xh=Date.now());function oD(e,t){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;ms(iD(n,r.value),t,5,[n])};return r.value=e,r.attached=aD(),r}function iD(e,t){if(Ue(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(n=>s=>!s._stopped&&n&&n(s))}else return t}const RS=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,lD=(e,t,r,n,s,a)=>{const o=s==="svg";t==="class"?J8(e,n,o):t==="style"?Z8(e,r,n):zu(t)?ih(t)||rD(e,t,r,n,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):uD(e,t,n,o))?(AS(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&PS(e,t,n,o,a,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!yt(n))?AS(e,Cn(t),n,a,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),PS(e,t,n,o))};function uD(e,t,r,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&RS(t)&&et(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return RS(t)&&yt(r)?!1:t in e}const LS=new WeakMap,MS=new WeakMap,Ac=Symbol("_moveCb"),DS=Symbol("_enterCb"),cD=(e=>(delete e.props.mode,e))({name:"TransitionGroup",props:jr({},vS,{tag:String,moveClass:String}),setup(e,{slots:t}){const r=Ht(),n=y1();let s,a;return ui(()=>{if(!s.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!hD(s[0].el,r.vnode.el,o))return;s.forEach(dD),s.forEach(fD);const i=s.filter(pD);Yh(),i.forEach(l=>{const c=l.el,u=c.style;Ns(c,o),u.transform=u.webkitTransform=u.transitionDuration="";const d=c[Ac]=m=>{m&&m.target!==c||(!m||/transform$/.test(m.propertyName))&&(c.removeEventListener("transitionend",d),c[Ac]=null,ja(c,o))};c.addEventListener("transitionend",d)})}),()=>{const o=Gt(e),i=bS(o);let l=o.tag||ht;if(s=[],a)for(let c=0;c<a.length;c++){const u=a[c];u.el&&u.el instanceof Element&&(s.push(u),mo(u,Sl(u,i,n,r)),LS.set(u,u.el.getBoundingClientRect()))}a=t.default?Eh(t.default()):[];for(let c=0;c<a.length;c++){const u=a[c];u.key!=null&&mo(u,Sl(u,i,n,r))}return le(l,null,a)}}});function dD(e){const t=e.el;t[Ac]&&t[Ac](),t[DS]&&t[DS]()}function fD(e){MS.set(e,e.el.getBoundingClientRect())}function pD(e){const t=LS.get(e),r=MS.get(e),n=t.left-r.left,s=t.top-r.top;if(n||s){const a=e.el.style;return a.transform=a.webkitTransform=`translate(${n}px,${s}px)`,a.transitionDuration="0s",e}}function hD(e,t,r){const n=e.cloneNode(),s=e[fi];s&&s.forEach(i=>{i.split(/\s+/).forEach(l=>l&&n.classList.remove(l))}),r.split(/\s+/).forEach(i=>i&&n.classList.add(i)),n.style.display="none";const a=t.nodeType===1?t:t.parentNode;a.appendChild(n);const{hasTransform:o}=_S(n);return a.removeChild(n),o}const Ec=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ue(t)?r=>Xu(t,r):t};function mD(e){e.target.composing=!0}function NS(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const pi=Symbol("_assign"),gD={created(e,{modifiers:{lazy:t,trim:r,number:n}},s){e[pi]=Ec(s);const a=n||s.props&&s.props.type==="number";wo(e,t?"change":"input",o=>{if(o.target.composing)return;let i=e.value;r&&(i=i.trim()),a&&(i=dh(i)),e[pi](i)}),r&&wo(e,"change",()=>{e.value=e.value.trim()}),t||(wo(e,"compositionstart",mD),wo(e,"compositionend",NS),wo(e,"change",NS))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:r,modifiers:{lazy:n,trim:s,number:a}},o){if(e[pi]=Ec(o),e.composing)return;const i=(a||e.type==="number")&&!/^0\d/.test(e.value)?dh(e.value):e.value,l=t??"";i!==l&&(document.activeElement===e&&e.type!=="range"&&(n&&t===r||s&&e.value.trim()===l)||(e.value=l))}},$c={deep:!0,created(e,t,r){e[pi]=Ec(r),wo(e,"change",()=>{const n=e._modelValue,s=vD(e),a=e.checked,o=e[pi];if(Ue(n)){const i=$w(n,s),l=i!==-1;if(a&&!l)o(n.concat(s));else if(!a&&l){const c=[...n];c.splice(i,1),o(c)}}else if(Wu(n)){const i=new Set(n);a?i.add(s):i.delete(s),o(i)}else o(BS(e,a))})},mounted:FS,beforeUpdate(e,t,r){e[pi]=Ec(r),FS(e,t,r)}};function FS(e,{value:t,oldValue:r},n){e._modelValue=t;let s;if(Ue(t))s=$w(t,n.props.value)>-1;else if(Wu(t))s=t.has(n.props.value);else{if(t===r)return;s=Zu(t,BS(e,!0))}e.checked!==s&&(e.checked=s)}function vD(e){return"_value"in e?e._value:e.value}function BS(e,t){const r=t?"_trueValue":"_falseValue";return r in e?e[r]:t}const yD=["ctrl","shift","alt","meta"],bD={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>yD.some(r=>e[`${r}Key`]&&!t.includes(r))},$t=(e,t)=>{const r=e._withMods||(e._withMods={}),n=t.join(".");return r[n]||(r[n]=(s,...a)=>{for(let o=0;o<t.length;o++){const i=bD[t[o]];if(i&&i(s,t))return}return e(s,...a)})},wD={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},qr=(e,t)=>{const r=e._withKeys||(e._withKeys={}),n=t.join(".");return r[n]||(r[n]=s=>{if(!("key"in s))return;const a=ua(s.key);if(t.some(o=>o===a||wD[o]===a))return e(s)})},SD=jr({patchProp:lD},G8);let jS;function US(){return jS||(jS=v8(SD))}const hi=(...e)=>{US().render(...e)},Fs=(...e)=>{const t=US().createApp(...e),{mount:r}=t;return t.mount=n=>{const s=TD(n);if(!s)return;const a=t._component;!et(a)&&!a.render&&!a.template&&(a.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=r(s,!1,_D(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t};function _D(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function TD(e){return yt(e)?document.querySelector(e):e}var Qh={},Zh={},Rc={},em={exports:{}},qS;function CD(){return qS||(qS=1,function(e){e.exports=t,t.defunct=function(r){throw new Error("Unexpected character at index "+(this.index-1)+": "+r)};function t(r){typeof r!="function"&&(r=t.defunct);var n=[],s=[],a=0;this.state=0,this.index=0,this.input="",this.addRule=function(i,l,c){var u=i.global;if(!u){var d="g";i.multiline&&(d+="m"),i.ignoreCase&&(d+="i"),i=new RegExp(i.source,d)}return Object.prototype.toString.call(c)!=="[object Array]"&&(c=[0]),s.push({pattern:i,global:u,action:l,start:c}),this},this.setInput=function(i){return a=0,this.state=0,this.index=0,n.length=0,this.input=i,this},this.lex=function(){if(n.length)return n.shift();for(this.reject=!0;this.index<=this.input.length;){for(var i=o.call(this).splice(a),l=this.index;i.length&&this.reject;){var c=i.shift(),u=c.result,d=c.length;this.index+=d,this.reject=!1,a++;var m=c.action.apply(this,u);if(this.reject)this.index=u.index;else if(typeof m<"u")switch(Object.prototype.toString.call(m)){case"[object Array]":n=m.slice(1),m=m[0];default:return d&&(a=0),m}}var b=this.input;if(l<b.length)if(this.reject){a=0;var m=r.call(this,b.charAt(this.index++));if(typeof m<"u")return Object.prototype.toString.call(m)==="[object Array]"?(n=m.slice(1),m[0]):m}else this.index!==l&&(a=0),this.reject=!0;else if(i.length)this.reject=!0;else break}};function o(){for(var i=[],l=0,c=this.state,u=this.index,d=this.input,m=0,b=s.length;m<b;m++){var g=s[m],h=g.start,v=h.length;if(!v||h.indexOf(c)>=0||c%2&&v===1&&!h[0]){var y=g.pattern;y.lastIndex=u;var C=y.exec(d);if(C&&C.index===u){var _=i.push({result:C,action:g.action,length:C[0].length});for(g.global&&(l=_);--_>l;){var S=_-1;if(i[_].length>i[S].length){var x=i[_];i[_]=i[S],i[S]=x}}}}}return i}}}(em)),em.exports}var Lc={exports:{}},VS={};/*! http://mths.be/fromcodepoint v0.2.1 by @mathias */var HS;function xD(){return HS||(HS=1,String.fromCodePoint||function(){var e=function(){try{var s={},a=Object.defineProperty,o=a(s,s,s)&&a}catch{}return o}(),t=String.fromCharCode,r=Math.floor,n=function(s){var a=16384,o=[],i,l,c=-1,u=arguments.length;if(!u)return"";for(var d="";++c<u;){var m=Number(arguments[c]);if(!isFinite(m)||m<0||m>1114111||r(m)!=m)throw RangeError("Invalid code point: "+m);m<=65535?o.push(m):(m-=65536,i=(m>>10)+55296,l=m%1024+56320,o.push(i,l)),(c+1==u||o.length>a)&&(d+=t.apply(null,o),o.length=0)}return d};e?e(String,"fromCodePoint",{value:n,configurable:!0,writable:!0}):String.fromCodePoint=n}()),VS}var zS;function ID(){return zS||(zS=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,xD();var r=/\\(u\{([0-9A-Fa-f]+)\}|u([0-9A-Fa-f]{4})|x([0-9A-Fa-f]{2})|([1-7][0-7]{0,2}|[0-7]{2,3})|(['"tbrnfv0\\]))|\\U([0-9A-Fa-f]{8})/g,n={0:"\0",b:"\b",f:"\f",n:`
`,r:"\r",t:"	",v:"\v","'":"'",'"':'"',"\\":"\\"},s=function(l){return String.fromCodePoint(parseInt(l,16))},a=function(l){return String.fromCodePoint(parseInt(l,8))},o=function(l){return l.replace(r,function(c,u,d,m,b,g,h,v){return d!==void 0?s(d):m!==void 0?s(m):b!==void 0?s(b):g!==void 0?a(g):v!==void 0?s(v):n[h]})};t.default=o,e.exports=t.default}(Lc,Lc.exports)),Lc.exports}var tm={};/*! https://mths.be/utf8js v3.0.0 by @mathias */var WS;function kD(){return WS||(WS=1,function(e){(function(t){var r=String.fromCharCode;function n(h){for(var v=[],y=0,C=h.length,_,S;y<C;)_=h.charCodeAt(y++),_>=55296&&_<=56319&&y<C?(S=h.charCodeAt(y++),(S&64512)==56320?v.push(((_&1023)<<10)+(S&1023)+65536):(v.push(_),y--)):v.push(_);return v}function s(h){for(var v=h.length,y=-1,C,_="";++y<v;)C=h[y],C>65535&&(C-=65536,_+=r(C>>>10&1023|55296),C=56320|C&1023),_+=r(C);return _}function a(h){if(h>=55296&&h<=57343)throw Error("Lone surrogate U+"+h.toString(16).toUpperCase()+" is not a scalar value")}function o(h,v){return r(h>>v&63|128)}function i(h){if((h&4294967168)==0)return r(h);var v="";return(h&4294965248)==0?v=r(h>>6&31|192):(h&4294901760)==0?(a(h),v=r(h>>12&15|224),v+=o(h,6)):(h&4292870144)==0&&(v=r(h>>18&7|240),v+=o(h,12),v+=o(h,6)),v+=r(h&63|128),v}function l(h){for(var v=n(h),y=v.length,C=-1,_,S="";++C<y;)_=v[C],S+=i(_);return S}function c(){if(b>=m)throw Error("Invalid byte index");var h=d[b]&255;if(b++,(h&192)==128)return h&63;throw Error("Invalid continuation byte")}function u(){var h,v,y,C,_;if(b>m)throw Error("Invalid byte index");if(b==m)return!1;if(h=d[b]&255,b++,(h&128)==0)return h;if((h&224)==192){if(v=c(),_=(h&31)<<6|v,_>=128)return _;throw Error("Invalid continuation byte")}if((h&240)==224){if(v=c(),y=c(),_=(h&15)<<12|v<<6|y,_>=2048)return a(_),_;throw Error("Invalid continuation byte")}if((h&248)==240&&(v=c(),y=c(),C=c(),_=(h&7)<<18|v<<12|y<<6|C,_>=65536&&_<=1114111))return _;throw Error("Invalid UTF-8 detected")}var d,m,b;function g(h){d=n(h),m=d.length,b=0;for(var v=[],y;(y=u())!==!1;)v.push(y);return s(v)}t.version="3.0.0",t.encode=l,t.decode=g})(e)}(tm)),tm}var GS;function OD(){if(GS)return Rc;GS=1;const e=CD(),t=ID();kD();const r=6,n=7,s=11,a=12,o=13,i=14,b=[[/\s*:\s*/,-1],[/\s*,\s*/,-2],[/\s*{\s*/,-3],[/\s*}\s*/,o],[/\s*\[\s*/,-4],[/\s*\]\s*/,a],[/\s*\.\s*/,-5]];function g(C){return C=C.replace(/\\\//,"/"),t(C)}function h(C){let _=new e,S=0,x=0;return _.addRule(/"((?:\\.|[^"])*?)($|")/,(I,f)=>(S+=I.length,{type:s,value:g(f),row:x,col:S,single:!1})),_.addRule(/'((?:\\.|[^'])*?)($|'|(",?[ \t]*\n))/,(I,f)=>(S+=I.length,{type:s,value:g(f),row:x,col:S,single:!0})),_.addRule(/[\-0-9]*\.[0-9]*([eE][\+\-]?)?[0-9]*(?:\s*)/,I=>(S+=I.length,{type:r,value:parseFloat(I),row:x,col:S})),_.addRule(/\-?[0-9]+([eE][\+\-]?)[0-9]*(?:\s*)/,I=>(S+=I.length,{type:r,value:parseFloat(I),row:x,col:S})),_.addRule(/\-?[0-9]+(?:\s*)/,I=>(S+=I.length,{type:n,value:parseInt(I),row:x,col:S})),b.forEach(I=>{_.addRule(I[0],f=>(S+=f.length,{type:I[1],value:f,row:x,col:S}))}),_.addRule(/\s/,I=>{I==`
`?(S=0,x++):S+=I.length}),_.addRule(/\S[ \t]*/,I=>(S+=I.length,{type:i,value:I,row:x,col:S})),_.setInput(C),_}Rc.lexString=v;function v(C,_){let S=h(C),x="";for(;x=S.lex();)_(x)}Rc.getAllTokens=y;function y(C){let _=[];return v(C,function(x){_.push(x)}),_}return Rc}var KS;function PD(){if(KS)return Zh;KS=1;let e=OD();const t=0,r=1,n=2,s=3,a=4,o=5,i=6,l=7,c=8,u=9,d=10,m=11,b=12,g=13,h=14,v=15,y=-1,C=-2,_=-3,S=-4;function x(E){E.peek==null&&Object.defineProperty(E,"peek",{enumerable:!1,value:function(){return this[this.length-1]}}),E.last==null&&Object.defineProperty(E,"last",{enumerable:!1,value:function(M){return this[this.length-(1+M)]}})}function I(E,M){return E&&E.hasOwnProperty("type")&&E.type==M}function f(E){}Zh.parse=P;function P(E,M){let F=[],N=[];x(F),x(N);let R=function(H){N.push(H)};e.lexString(E,R),N[0].type==S&&N.last(0).type!=b&&N.push({type:b,value:"]",row:-1,col:-1}),N[0].type==_&&N.last(0).type!=g&&N.push({type:g,value:"}",row:-1,col:-1});for(let H=0;H<N.length;H++)for(""+N[H].type,F.push(N[H]);$(F););return F.length==1&&F[0].type==r&&(F=[{type:d,value:F[0].value}]),q(F[0],M)}function $(E){let M=E.pop();switch(M.type){case c:if(M.value.trim()=="true")return E.push({type:s,value:"true"}),!0;if(M.value.trim()=="false")return E.push({type:s,value:"false"}),!0;if(M.value.trim()=="null")return E.push({type:v,value:null}),!0;break;case h:return I(E.peek(),c)?(E.peek().value+=M.value,!0):(E.push({type:c,value:M.value}),!0);case l:return I(M,l)&&I(E.peek(),c)?(E.peek().value+=M.value,!0):(M.type=v,E.push(M),!0);case m:return M.type=v,M.value=M.value,E.push(M),!0;case s:return M.type=v,M.value=="true"?M.value=!0:M.value=!1,E.push(M),!0;case i:return M.type=v,E.push(M),!0;case v:if(I(E.peek(),C))return M.type=o,E.pop(),E.push(M),!0;if(I(E.peek(),y))return M.type=a,E.pop(),E.push(M),!0;if(I(E.peek(),c)&&I(E.last(1),v)){let F=E.pop();return E.peek().value+='"'+F.value+'"',E.peek().value+=M.value,!0}if(I(E.peek(),c)&&I(E.last(1),n)){let F=E.pop(),N=E.peek().value.pop();return N+='"'+F.value+'"',N+=M.value,E.peek().value.push(N),!0}if(I(E.peek(),c)&&I(E.last(1),r)){let F=E.pop(),N=E.peek().value.pop();const R=M.single?"'":'"';return N.value+=R+F.value+R,N.value+=M.value,E.peek().value.push(N),!0}if(I(E.peek(),c)){let F=E.pop().value;return M.value=F+M.value,E.push(M),!0}break;case u:if(I(M,u)&&I(E.peek(),C))return M.type=o,E.pop(),E.push(M),!0;if(I(E.peek(),y))return M.type=a,E.pop(),E.push(M),!0;break;case d:if(I(E.peek(),C)){let F={type:o,value:M};return E.pop(),E.push(F),!0}if(I(E.peek(),y)){let F={type:a,value:M};return E.pop(),E.push(F),!0}if(I(E.peek(),c)){let F=E.pop();return E.push({type:t,key:F.value.trim(),value:M}),!0}break;case o:return I(E.peek(),n)?(E.peek().value.push(M.value),!0):(E.push({type:n,value:[M.value]}),!0);case n:if(I(E.peek(),v)||I(E.peek(),u))return M.value.unshift(E.peek().value),E.pop(),E.push(M),!0;if(I(E.peek(),d))return M.value.unshift(E.peek()),E.pop(),E.push(M),!0;if(I(E.peek(),c)&&(E.last(1),C)){let F=E.pop();for(E.push({type:v,value:F.value}),""+F.value;$(E););return E.push(M),!0}if(I(E.peek(),n))return E.peek().value.push(M.value[0]),!0;break;case a:if(I(E.peek(),c)||I(E.peek(),v)||I(E.peek(),n)){let F=E.pop();return E.push({type:t,key:F.value,value:M.value}),!0}throw new Error("Got a :value that can't be handled at line "+M.row+":"+M.col);case t:return I(E.last(0),C)&&I(E.last(1),r)?(E.last(1).value.push(M),E.pop(),!0):(E.push({type:r,value:[M]}),!0);case r:if(I(E.peek(),r))return M.value.forEach(function(F){E.peek().value.push(F)}),!0;break;case b:if(I(E.peek(),n)&&I(E.last(1),S)){let F=E.pop();return E.pop(),E.push({type:u,value:F.value}),!0}if(I(E.peek(),u)&&I(E.last(1),S)){let F=E.pop();return E.pop(),E.push({type:u,value:[F.value]}),!0}if(I(E.peek(),S))return E.pop(),E.push({type:u,value:[]}),!0;if(I(E.peek(),v)&&I(E.last(1),S)){let F=E.pop().value;return E.pop(),E.push({type:u,value:[F]}),!0}if(I(E.peek(),d)&&I(E.last(1),S)){let F=E.pop();return E.pop(),E.push({type:u,value:[F]}),!0}if(I(E.peek(),c)&&I(E.last(1),C)){let F=E.pop();for(E.push({type:v,value:F.value}),""+F.value;$(E););return E.push({type:b}),!0}if(I(E.peek(),C)&&(I(E.last(1),c)||I(E.last(1),d)||I(E.last(1),v))){for(E.pop(),E.push({type:b,value:"]"}),""+JSON.stringify(E);$(E););return!0}if(I(E.peek(),c)&&I(E.last(1),S)){let F=E.pop();return E.pop(),E.push({type:u,value:[F.value]}),!0}if(I(E.peek(),C)&&I(E.last(1),n)){for(E.pop(),E.push({type:b}),""+JSON.stringify(E);$(E););return!0}break;case g:if(I(E.peek(),r)&&I(E.last(1),_)){let F=E.pop();return E.pop(),E.push({type:d,value:F.value}),!0}if(I(E.peek(),_))return E.pop(),E.push({type:d,value:null}),!0;if(I(E.peek(),c)&&I(E.last(1),y)){let F=E.pop();for(E.push({type:v,value:F.value}),""+F.value;$(E););return E.push({type:g}),!0}if(I(E.peek(),y)){for(E.push({type:v,value:null});$(E););return E.push({type:g}),!0}if(I(E.peek(),C))return E.pop(),E.push({type:g}),!0;throw new Error("Found } that I can't handle at line "+M.row+":"+M.col);case C:if(I(E.peek(),C))return!0;if(I(E.peek(),c)){const F=E.pop();for(E.push({type:v,value:F.value});$(E););return E.push(M),!0}if(I(E.peek(),y)){for(E.push({type:v,value:null});$(E););return E.push(M),!0}}return E.push(M),!1}function q(E,M){if(["boolean","number","string"].indexOf(typeof E)!=-1)return E;if(E===null)return null;if(Array.isArray(E)){let N=[];for(;E.length>0;)N.unshift(q(E.pop()));return N}if(I(E,d)){let N={};return E.value===null?{}:(E.value.forEach(function(R){const H=R.key,U=q(R.value);M&&H in N?N[H]={value:N[H],next:U}:N[H]=U}),N)}return I(E,u)?q(E.value):E.value}return Zh}var YS;function AD(){if(YS)return Qh;YS=1;let e=PD();Qh.parse=t;function t(r,n){let s=!0,a=!1;n&&("fallback"in n&&n[s]===!1&&(s=!1),a="duplicateKeys"in n&&n.duplicateKeys===!0);try{return e.parse(r,a)}catch(o){if(s===!1)throw o;try{let i=JSON.parse(r);return console.warn("dirty-json got valid JSON that failed with the custom parser. We're returning the valid JSON, but please file a bug report here: https://github.com/RyanMarcus/dirty-json/issues  -- the JSON that caused the failure was: "+r),i}catch{throw o}}}return Qh}var ED=AD();const Al=pn(ED);/*! js-cookie v3.0.5 | MIT */function Mc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}var $D={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function rm(e,t){function r(s,a,o){if(!(typeof document>"u")){o=Mc({},t,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),s=encodeURIComponent(s).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var l in o)o[l]&&(i+="; "+l,o[l]!==!0&&(i+="="+o[l].split(";")[0]));return document.cookie=s+"="+e.write(a,s)+i}}function n(s){if(!(typeof document>"u"||arguments.length&&!s)){for(var a=document.cookie?document.cookie.split("; "):[],o={},i=0;i<a.length;i++){var l=a[i].split("="),c=l.slice(1).join("=");try{var u=decodeURIComponent(l[0]);if(o[u]=e.read(c,u),s===u)break}catch{}}return s?o[s]:o}}return Object.create({set:r,get:n,remove:function(s,a){r(s,"",Mc({},a,{expires:-1}))},withAttributes:function(s){return rm(this.converter,Mc({},this.attributes,s))},withConverter:function(s){return rm(Mc({},this.converter,s),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var RD=rm($D,{path:"/"});const LD=(e,t,r)=>{function n(S,x){return S<<x|S>>>32-x}function s(S,x){const I=2147483648&S,f=2147483648&x,P=(1073741823&S)+(1073741823&x);return(S&=1073741824)&(x&=1073741824)?2147483648^P^I^f:S|x?1073741824&P?3221225472^P^I^f:1073741824^P^I^f:P^I^f}function a(S,x,I,f,P,$,q){return S=s(S,s(s(x&I|~x&f,P),q)),s(n(S,$),x)}function o(S,x,I,f,P,$,q){return S=s(S,s(s(x&f|I&~f,P),q)),s(n(S,$),x)}function i(S,x,I,f,P,$,q){return S=s(S,s(s(x^I^f,P),q)),s(n(S,$),x)}function l(S,x,I,f,P,$,q){return S=s(S,s(s(I^(x|~f),P),q)),s(n(S,$),x)}function c(S){for(var x="",I="",f=0;f<=3;f++)x+=(I=`0${(S>>>8*f&255).toString(16)}`).substr(I.length-2,2);return x}for(var u,d,m,b,g=function(S){for(var x,I=S.length,f=16*(((f=I+8)-f%64)/64+1),P=Array.from({length:f-1}),$=0,q=0;q<I;)$=q%4*8,P[x=(q-q%4)/4]=P[x]|S.charCodeAt(q)<<$,q++;return P[x=(q-q%4)/4]=P[x]|128<<($=q%4*8),P[f-2]=I<<3,P[f-1]=I>>>29,P}(function(S){S=S.replace(/\r\n/g,`
`);for(var x="",I=0;I<S.length;I++){const f=S.charCodeAt(I);f<128?x+=String.fromCharCode(f):(f>127&&f<2048?x+=String.fromCharCode(f>>6|192):x=(x+=String.fromCharCode(f>>12|224))+String.fromCharCode(f>>6&63|128),x+=String.fromCharCode(63&f|128))}return x}(`${e}&${t}&12574478&${r}`)),h=1732584193,v=4023233417,y=2562383102,C=271733878,_=0;_<g.length;_+=16)h=a(u=h,d=v,m=y,b=C,g[_+0],7,3614090360),C=a(C,h,v,y,g[_+1],12,3905402710),y=a(y,C,h,v,g[_+2],17,606105819),v=a(v,y,C,h,g[_+3],22,3250441966),h=a(h,v,y,C,g[_+4],7,4118548399),C=a(C,h,v,y,g[_+5],12,1200080426),y=a(y,C,h,v,g[_+6],17,2821735955),v=a(v,y,C,h,g[_+7],22,4249261313),h=a(h,v,y,C,g[_+8],7,1770035416),C=a(C,h,v,y,g[_+9],12,2336552879),y=a(y,C,h,v,g[_+10],17,4294925233),v=a(v,y,C,h,g[_+11],22,2304563134),h=a(h,v,y,C,g[_+12],7,1804603682),C=a(C,h,v,y,g[_+13],12,4254626195),y=a(y,C,h,v,g[_+14],17,2792965006),h=o(h,v=a(v,y,C,h,g[_+15],22,1236535329),y,C,g[_+1],5,4129170786),C=o(C,h,v,y,g[_+6],9,3225465664),y=o(y,C,h,v,g[_+11],14,643717713),v=o(v,y,C,h,g[_+0],20,3921069994),h=o(h,v,y,C,g[_+5],5,3593408605),C=o(C,h,v,y,g[_+10],9,38016083),y=o(y,C,h,v,g[_+15],14,3634488961),v=o(v,y,C,h,g[_+4],20,3889429448),h=o(h,v,y,C,g[_+9],5,568446438),C=o(C,h,v,y,g[_+14],9,3275163606),y=o(y,C,h,v,g[_+3],14,4107603335),v=o(v,y,C,h,g[_+8],20,1163531501),h=o(h,v,y,C,g[_+13],5,2850285829),C=o(C,h,v,y,g[_+2],9,4243563512),y=o(y,C,h,v,g[_+7],14,1735328473),h=i(h,v=o(v,y,C,h,g[_+12],20,2368359562),y,C,g[_+5],4,4294588738),C=i(C,h,v,y,g[_+8],11,2272392833),y=i(y,C,h,v,g[_+11],16,1839030562),v=i(v,y,C,h,g[_+14],23,4259657740),h=i(h,v,y,C,g[_+1],4,2763975236),C=i(C,h,v,y,g[_+4],11,1272893353),y=i(y,C,h,v,g[_+7],16,4139469664),v=i(v,y,C,h,g[_+10],23,3200236656),h=i(h,v,y,C,g[_+13],4,681279174),C=i(C,h,v,y,g[_+0],11,3936430074),y=i(y,C,h,v,g[_+3],16,3572445317),v=i(v,y,C,h,g[_+6],23,76029189),h=i(h,v,y,C,g[_+9],4,3654602809),C=i(C,h,v,y,g[_+12],11,3873151461),y=i(y,C,h,v,g[_+15],16,530742520),h=l(h,v=i(v,y,C,h,g[_+2],23,3299628645),y,C,g[_+0],6,4096336452),C=l(C,h,v,y,g[_+7],10,1126891415),y=l(y,C,h,v,g[_+14],15,2878612391),v=l(v,y,C,h,g[_+5],21,4237533241),h=l(h,v,y,C,g[_+12],6,1700485571),C=l(C,h,v,y,g[_+3],10,2399980690),y=l(y,C,h,v,g[_+10],15,4293915773),v=l(v,y,C,h,g[_+1],21,2240044497),h=l(h,v,y,C,g[_+8],6,1873313359),C=l(C,h,v,y,g[_+15],10,4264355552),y=l(y,C,h,v,g[_+6],15,2734768916),v=l(v,y,C,h,g[_+13],21,1309151649),h=l(h,v,y,C,g[_+4],6,4149444226),C=l(C,h,v,y,g[_+11],10,3174756917),y=l(y,C,h,v,g[_+2],15,718787259),v=l(v,y,C,h,g[_+9],21,3951481745),h=s(h,u),v=s(v,d),y=s(y,m),C=s(C,b);return(c(h)+c(v)+c(y)+c(C)).toLowerCase()};function El({now:e,dataStr:t,cookie:r=null}){const n=r||RD.get("_m_h5_tk");return LD(n.split("_")[0],e,t)}function Dc(){return k("#addressCard").length>0}function nm(){return location.hostname.includes(".m.taobao.com")||location.hostname.includes(".m.tmall.com")}function MD(){const e=k("#realPayPC_1"),t=k.trim(e.find(".confirmAddr-addr-user").find(".confirmAddr-addr-bd").text()).replace(/\s+/,","),r=k.trim(e.find(".confirmAddr-addr").find(".confirmAddr-addr-bd").text());let n=[t,r];if(Dc()&&!r&&k("div[class*=listItemSelect]").length>0){n=[];const s=k("div[class*=listItemSelect]"),a=s.find("div[class*=addressDetail--]").text(),i=s.find("div[class*=addressName--]").text().split(" ");n.push(i[0]?i[0]:""),n.push(i[1]?i[1]:""),n.push(i[2]?i[2]:""),n.push(i[3]?i[3]:""),n.push(k.trim(a)),n.push(k.trim(s.find("div[class*=userInfo--] div").text())),n.push(k.trim(s.find("div[class*=userInfo--] span").text()))}return n.join(",")}function DD(){nm()?k('#submitBlock_1 [view-name="TextView"]').each((e,t)=>{k(t).text().includes("提交订单")&&k(t).trigger("click")}):Dc()?k(document).find(".J_checkRelatePurchaseBtn")[0].click():k(document).find(".go-btn")[0].click()}function ND(){let e="0";return nm()?e=k('#submitBlock_1 [view-name="TradePriceView"]').text().replace("￥",""):Dc()?e=k.trim(k("#submitOrder .trade-price-container").text().replace("￥","")):k("#realPayPC_1").length>0?e=k.trim(k("#realPayPC_1").find(".realpay--price").text()):e=k.trim(k(".order-realPay .realPay-price").text()),(+(e||0)).toFixed(2)}function FD(){const e=[];return location.hostname.includes(".m.taobao.com")?(k(".dialog-container .sku-info li.sel").each((t,r)=>{const n=k.trim(k(r).text());n&&e.push(n)}),e):k('div[class^="skuWrapper--"]').length>0?(k('div[class^="skuWrapper--"] div[class*="isSelected--"]').each((t,r)=>{let n=k.trim(k(r).find("span").text());n=n.replace("）",")"),n=n.replace("（","("),n=n.replace("【","["),n=n.replace("】","]"),n=n.replace("，",","),n=n.replace("；",";"),n&&e.push(n)}),e):(k("#J_isku").find(".J_TSaleProp li").each((r,n)=>{const s=k(n);if(s.hasClass("tb-selected")){let a=s.find(".J_appendColorName").text();a||(a=k.trim(s.find("span").text())),e.push(a)}}),e)}function BD(){const e=[];if(nm()){let t="";k('[data-spm^="itemInfo_"] span').each((n,s)=>{(k(s).text().includes("颜色")||k(s).text().includes("尺码"))&&(t=k(s).text())}),t=t.replace(/；/g,";"),t=t.replace(/：/g,":");const r=t.split(";");for(const n in r){const a=r[n].trim().split(":");a.length===2&&e.push(k.trim(a[1]))}return e}else if(Dc()){let t=/window\.mtopParams =\s*(\{.*\});?/.exec(k("head").html());if(!t||(t=JSON.parse(t[1]),qt(t)))return e;if(t&&(t!=null&&t.buyNowOldParams)){const r=JSON.parse(t.buyNowOldParams);if(r.paramMap&&r.paramMap.skuInfo){const s=r.paramMap.skuInfo.split(";");for(const a in s){const i=s[a].trim().split(":");i.length===2&&e.push(k.trim(i[1]))}}}return e}else return k(document).find(".order-itemInfo").find(".info-sku").find(".bd").each((r,n)=>{e.push(k.trim(k(n).text()).replace(/&mdash;&mdash;/,"——"))}),e}function JS(e){const t=/biz_order_id=(\d+)/,r=e.match(t),n=r!=null&&r[1]?String(r[1]).replace(/\D/g,""):"";return window.console.log("getTaobaoBizOrderIdFromUrl biz_order_id: ",n),n}class jD{_getSessionData({key:t}){const r=sessionStorage.getItem(t);return["true","false"].includes(r)?r==="true":r}_setSessionData({key:t,value:r}){sessionStorage.setItem(t,r)}_buildVerifyKey(t,r){return`${t}${r?`_${r}`:""}`}_saveTaobaoRequestLog(t){return Jt({url:"/order/purchase_order/save_taobao_request_log",method:"POST",data:t})}_buildVerifyReason({msg:t,detailPageUrl:r,purchaseOrderBuyer:n}){let s=t||"";return r&&(s+=`，<a href="${aO(r)}" class="J_openPurchasePlatformWindow" dt-purchase-account="${n}" dt-purchase-platform="taobao" target="_blank">点此去滑动</a>`),s}async _getTaobaoBuyerNick(){const r=await Bs({url:"https://buyertrade.taobao.com/trade/itemlist/list_bought_items.htm",name:"_nk_"}).then(n=>n==null?void 0:n.value);return Promise.resolve(r)}async getTaoBaoPurchaseOrderInfo({purchaseOrderSn:t,forceDetail:r=!1,purchaseOrderBuyer:n=""}){const s=await Bs({name:"x5sec",url:"https://buyertrade.taobao.com/"}).then(o=>o==null?void 0:o.value),a=this._getSessionData({key:"taobaoX5sec"});return s&&s!==a&&(this._setSessionData({key:"taobaoX5sec",value:s}),this._setSessionData({key:this._buildVerifyKey("taobaoAsyncBoughtNeedVerify",n),value:!1}),this._setSessionData({key:this._buildVerifyKey("taobaoTradeOrderDetailNeedVerify",n),value:!1})),await this._handleGetTaoBaoPurchaseOrderInfo({purchaseOrderSn:t,purchaseOrderBuyer:n,forceDetail:r})}async _handleGetTaoBaoPurchaseOrderInfo({purchaseOrderSn:t,purchaseOrderBuyer:r,forceDetail:n}){const s=this._getSessionData({key:this._buildVerifyKey("taobaoAsyncBoughtNeedVerify",r)}),a=this._getSessionData({key:this._buildVerifyKey("taobaoTradeOrderDetailNeedVerify",r)});let o={},i=[];n?i=["orderDetail"]:(!s&&i.push("asyncBought"),!a&&i.push("orderDetail"),i.length||i.push(Math.random()>.5?"orderDetail":"asyncBought"));for(const c of i)if(o=await this._getPurchaseOrderInfoByApiType(t,r,c),o.apiType=c,je.isSuccess(o)||!(o.reason||"").toString().includes("滑块"))return o;const l=await this._getPurchaseOrderInfoByApiType(t,r,"mobileOrderDetail");return je.isSuccess(l)?(l.apiType="mobileOrderDetail",l):o}async _getPurchaseOrderInfoByApiType(t,r,n){let s={};switch(n){case"orderDetail":s=await this._getPurchaseOrderInfoByTaobaoOrderDetail({purchaseOrderSn:t,purchaseOrderBuyer:r}),je.isFail(s)&&s.reason.includes("滑块")?this._setSessionData({key:this._buildVerifyKey("taobaoTradeOrderDetailNeedVerify",r),value:!0}):this._setSessionData({key:this._buildVerifyKey("taobaoTradeOrderDetailNeedVerify",r),value:!1});break;case"asyncBought":s=await this._getPurchaseOrderInfoByAsyncBought({purchaseOrderSn:t,purchaseOrderBuyer:r}),je.isFail(s)&&s.reason.includes("滑块")?this._setSessionData({key:this._buildVerifyKey("taobaoAsyncBoughtNeedVerify",r),value:!0}):this._setSessionData({key:this._buildVerifyKey("taobaoAsyncBoughtNeedVerify",r),value:!1});break;case"mobileOrderDetail":s=await this._getPurchaseOrderInfoByMobileOrderDetail({purchaseOrderSn:t});break}return s}async _getPurchaseOrderInfoByTaobaoOrderDetail({purchaseOrderSn:t,purchaseOrderBuyer:r=""}){const n=await this._getTaobaoBuyerNick();if(!n)return je.failResult("未登录");const s=await this._getTaobaoOrderInfoByTaobaoOrderDetail({purchaseOrderSn:t,purchaseOrderBuyer:r});if(je.isFail(s))return s;const a=s.orderInfo,o=a.mainOrder.payInfo.actualFee.value,i=this._parseTaobaoOrderStartTime(a),l=a.mainOrder.subOrders[0].quantity,c=(o/l).toFixed(2),u=a.mainOrder.subOrders[0].itemInfo.auctionUrl,d=this._parseTaobaoConsigneeInfo(a.deliveryInfo),m=this._parseTaobaoItemSkuInfo(a.mainOrder.subOrders),b={purchaseOrderSeller:a.mainOrder.seller.nick,purchaseOrderPayment:o.toString().replace(/(¥|￥|,)+/g,""),purchaseOrderBuyer:unescape(decodeURI(n).replace(/\\/g,"%")),purchaseNum:l,purchasePrice:c,purchaseUrl:u,purchaseOrderFullname:d.fullname,purchaseOrderMobile:d.mobile,purchaseOrderFullAddress:d.fullAddress,purchaseOrderStartTime:i,purchaseOrderStatus:"wait_send",purchaseOrderSku:m};a.mainOrder.statusInfo.text.includes("待付款")||a.mainOrder.statusInfo.text.includes("宝贝已拍下")?b.purchaseOrderStatus="wait_pay":a.mainOrder.statusInfo.text.includes("已发货")?b.purchaseOrderStatus="has_send":a.mainOrder.statusInfo.text.includes("交易已成功")?b.purchaseOrderStatus="finished":a.mainOrder.statusInfo.text.includes("交易关闭")?b.purchaseOrderStatus="cancel":a.mainOrder.statusInfo.text.includes("退款中")&&(b.purchaseOrderStatus="refund"),a.orderBar&&k.each(a.orderBar.nodes,(C,_)=>{_.text==="卖家发货"&&!qt(_.date)&&(b.purchaseOrderSendTime=_.date)});let g="",h="";if(a.deliveryInfo.logisticsName!=="—"&&(g=a.deliveryInfo.logisticsName),a.deliveryInfo.logisticsNum!=="—"&&(h=a.deliveryInfo.logisticsNum),!g&&k.inArray(b.purchaseOrderStatus,["has_send","finished"])>-1){const C=await this._getTaobaoOrderLogisticsName(t,a.mainOrder.seller.id);je.isSuccess(C)&&C.logisticsName&&C.logisticsName!=="—"&&(g=C.logisticsName)}const v=a.deliveryInfo.asyncLogisticsUrl;if(g==="无需物流")b.logisticsIsAccept=1;else if(v){const C=await this._getTaobaoLogisticsTrace(v);if(C.detailList){const _=C.detailList;_[0].cpName&&_[0].cpName!=="—"&&(g=_[0].cpName),_[0].mailNo&&_[0].mailNo!=="—"&&(h=_[0].mailNo);let S=0;_[0].detail&&k.each(_[0].detail,(x,I)=>{if(yf(I.desc,I.action))return S=1,!1}),b.logisticsIsAccept=S}}g&&(b.purchaseOrderLogisticsName=g),h&&(b.purchaseOrderWaybillCode=h);let y=b.purchaseOrderStatus==="refund";if(b.purchaseOrderStatus==="cancel")try{y=a.operationsGuide[0].lines[0].content[0].value.includes("退款")}catch(C){window.console.log("check has refund error",C)}if(y){const C=await this._getTaobaoOrderRefundMoney({purchaseOrderSn:t});b.purchaseOrderRefundMoney=C.refundMoney||0}return je.successResult({purchaseOrderInfo:b})}async _getPurchaseOrderInfoByAsyncBought({purchaseOrderSn:t,purchaseOrderBuyer:r=""}){const n=await this._getTaobaoBuyerNick();if(!n)return je.failResult("未登录");const s=await this._getTaobaoOrderInfoByAsyncBought({purchaseOrderSn:t,purchaseOrderBuyer:r});if(je.isFail(s))return s;const a=s.orderInfo,o=a.payInfo.actualFee,i=a.orderInfo.createTime,l=a.subOrders[0].quantity,c=(o/l).toFixed(2),u=a.subOrders[0].itemInfo.snapUrl,d=a.subOrders[0].itemInfo.title,m={purchaseOrderSeller:a.seller.nick,purchaseOrderPayment:o.toString().replace(/(¥|￥|,)+/g,""),purchaseOrderBuyer:n,purchaseNum:l,purchasePrice:c,purchaseUrl:u,purchaseOrderStartTime:i,purchaseOrderStatus:"wait_send",purchaseOrderItemTitle:d};if(a.statusInfo.text.includes("待付款")||a.statusInfo.text.includes("宝贝已拍下")||a.statusInfo.text.includes("商品已拍下")?m.purchaseOrderStatus="wait_pay":a.extra&&a.extra.tradeStatus==="WAIT_BUYER_CONFIRM_GOODS"||a.statusInfo.text.includes("已发货")||a.statusInfo.text.includes("已签收")?m.purchaseOrderStatus="has_send":a.statusInfo.text.includes("交易成功")?m.purchaseOrderStatus="finished":a.statusInfo.text.includes("交易关闭")?m.purchaseOrderStatus="cancel":a.statusInfo.text.includes("退款中")&&(m.purchaseOrderStatus="refund"),!["wait_pay","wait_send","cancel"].includes(m.purchaseOrderStatus)){const h=(await this._getLogisticsInfoByTransitStep({purchaseOrderSn:t})).logisticsInfo||{};qt(h)||(m.purchaseOrderLogisticsName=h.logisticsName,m.purchaseOrderWaybillCode=h.waybillCode,m.logisticsIsAccept=h.logisticsIsAccept,h.sendTime&&(m.purchaseOrderSendTime=h.sendTime))}let b=m.purchaseOrderStatus==="refund";if(m.purchaseOrderStatus==="cancel")try{k.each(a.subOrders,(g,h)=>{if(k.each(h.operations,(v,y)=>{if(y.text==="查看退款")return b=!0,!1}),b)return!1})}catch(g){window.console.log("check has refund error",g)}if(b){const g=await this._getTaobaoOrderRefundMoney({purchaseOrderSn:t});m.purchaseOrderRefundMoney=g.refundMoney||0}return je.successResult({purchaseOrderInfo:m})}async _getPurchaseOrderInfoByMobileOrderDetail({purchaseOrderSn:t}){try{const r=await this._getTaobaoBuyerNick();if(!r)return je.failResult("未登录");let n=await this._getMobileOrderDetail({purchaseOrderSn:t});if(je.isFail(n)&&n.reason.toString().includes("令牌为空")){const l=this._getMobileOrderCookies();l&&(l._m_h5_tk||l.cookie2)&&(n=await this._getMobileOrderDetail({purchaseOrderSn:t}))}if(je.isFail(n))return n;const s=n.orderDataTypeMap,a=s.status&&(s.status.text||""),o=(s.address&&(s.address.mobilephone||"")).split("-");s.item=s.item||{},s.paydetail=s.paydetail||{},s.orderinfo=s.orderinfo||{},s.seller=s.seller||{};const i={purchaseNum:s.item.quantity,purchaseOrderBuyer:r,purchaseOrderFullAddress:s.address&&s.address.address,purchaseOrderFullname:s.address&&s.address.name,purchaseOrderMobile:o[o.length-1],purchaseOrderPayment:(s.paydetail.actualFee&&(s.paydetail.actualFee.value||"")).replace("￥","").trim(),purchaseOrderSeller:s.seller.nick,purchaseOrderSendTime:s.orderinfo.consignTime&&s.orderinfo.consignTime.value,purchaseOrderStartTime:s.orderinfo.createTime&&s.orderinfo.createTime.value,purchaseOrderStatus:"",purchaseOrderLogisticsName:"",purchaseOrderWaybillCode:"",logisticsIsAccept:"",purchasePrice:(s.item.priceInfo&&(s.item.priceInfo.promotion||"")).replace("￥","").trim(),purchaseUrl:`//trade.taobao.com/trade/detail/tradeSnap.htm?trade_id=${t}`};if(a.includes("等待买家付款")?i.purchaseOrderStatus="wait_pay":a.includes("买家已付款")?i.purchaseOrderStatus="wait_send":a.includes("已发货")?i.purchaseOrderStatus="has_send":a.includes("交易成功")?i.purchaseOrderStatus="finished":a.includes("交易关闭")&&(i.purchaseOrderStatus="cancel"),JSON.stringify(s.suborderop&&(s.suborderop.extra||{})).includes("退款中")&&(i.purchaseOrderStatus="refund"),!["wait_pay","wait_send","cancel"].includes(i.purchaseOrderStatus)){const c=(await this._getLogisticsInfoByTransitStep({purchaseOrderSn:t})).logisticsInfo||{};qt(c)||(i.purchaseOrderLogisticsName=c.logisticsName,i.purchaseOrderWaybillCode=c.waybillCode,i.logisticsIsAccept=c.logisticsIsAccept,c.sendTime&&(i.purchaseOrderSendTime=c.sendTime))}return je.successResult({purchaseOrderInfo:i})}catch(r){return je.failResult(`获取订单异常:${r==null?void 0:r.message}`)}}async _getTaobaoOrderInfoByTaobaoOrderDetail({purchaseOrderSn:t,purchaseOrderBuyer:r=""}){const n=`https://trade.taobao.com/trade/detail/trade_order_detail.htm?route_to=tm1&biz_order_id=${t}`;let s="";try{if(!await this._getTaobaoBuyerNick())return je.failResult("未登录");if(s=await $r({url:n,dataType:"text"}),!s)return this._saveTaobaoRequestLog({appHost:window.location.host,url:n,responseText:s,responseType:"fail"}),je.failResult("获取淘宝订单详情失败");if(s.includes("查询的物流详情不属于当前用户"))return this._saveTaobaoRequestLog({appHost:window.location.host,url:n,responseText:s,responseType:"not_login"}),je.failResult("未登录");if(s.includes("你无权查看此交易!"))return this._saveTaobaoRequestLog({appHost:window.location.host,url:n,responseText:s,responseType:"not_login"}),je.failResult("未登录");if(s.includes("霸下通用 web 页面-验证码"))return this._saveTaobaoRequestLog({appHost:window.location.host,url:n,responseText:s,responseType:"verify"}),je.failResult(this._buildVerifyReason({msg:"出现淘宝滑块",detailPageUrl:n,purchaseOrderBuyer:r}));if(s.includes("交易详情-Tmall.com")||s.includes("交易详情-天猫超市")||s.includes("The requested resource resides temporarily under a different URI"))return this._saveTaobaoRequestLog({appHost:window.location.host,url:n,responseText:s,responseType:"transfer_tmall"}),je.failResult("该订单平台是天猫");const o=this._parseTaobaoOrderInfo({purchaseOrderSn:t,responseText:s,purchaseOrderBuyer:r});return je.isFail(o)?o.reason.includes("滑块")?this._saveTaobaoRequestLog({appHost:window.location.host,url:n,responseText:s,responseType:"verify"}):this._saveTaobaoRequestLog({appHost:window.location.host,url:n,responseText:s,responseType:"fail"}):this._saveTaobaoRequestLog({appHost:window.location.host,url:n,responseText:s,responseType:"success"}),o}catch(a){return this._saveTaobaoRequestLog({appHost:window.location.host,url:n,responseText:s,responseType:"fail"}),window.console.log(a),je.failResult("解析淘宝订单信息失败")}}_parseTaobaoOrderInfo({purchaseOrderSn:t,responseText:r,purchaseOrderBuyer:n}){let s=null;const a=`https://trade.taobao.com/trade/detail/trade_order_detail.htm?route_to=tm1&biz_order_id=${t}`;try{const o=/JSON\.parse\('(.+)'\)/.exec(r);o&&o[0]&&(s=Al.parse(decodeURIComponent(o[1].replace(/\\"/g,'"'))))}catch(o){window.console.log("parseTaobaoOrderInfo error",o)}try{if(s==null){let o=!1;return Sy(r,"taobao")&&(o=!0),o?je.failResult(this._buildVerifyReason({msg:"出现淘宝滑块",detailPageUrl:a,purchaseOrderBuyer:n})):je.failResult("解析淘宝订单信息失败")}}catch(o){return window.console.log("判断出现滑块",o),je.failResult(this._buildVerifyReason({msg:"判断出现滑块",detailPageUrl:a,purchaseOrderBuyer:n}))}return je.successResult({orderInfo:s})}async _getTaobaoOrderRefundMoney({purchaseOrderSn:t}){var s,a;const r=`https://refund2.taobao.com/dispute/detail.htm?bizOrderId=${t}&disputeType=1`,n=await $r({url:r,dataType:"text"});try{const o=/var\s*disputeData\s*=\s*(.+)\s*;/.exec(n);if(!o||!o[1])return this._saveTaobaoRequestLog({appHost:window.location.host,url:r,header:null,responseText:n,responseType:"match_fail"}),je.failResult("解析淘宝退款信息失败");const i=Al.parse(k.trim(o[1]));let l=[],c=0;for(const u in i.data){const d=i.data[u];if(!(!d.fields||!d.fields.title||d.fields.title!=="退款金额")){l=d.fields.valueOptions;break}}if(l)for(const u in l){const d=((a=(s=l[u])==null?void 0:s.text)==null?void 0:a.replace("￥","")).toNumber(2);c+=d}return this._saveTaobaoRequestLog({appHost:window.location.host,url:r,header:null,responseText:n,responseType:"success"}),je.successResult({refundMoney:c})}catch(o){return this._saveTaobaoRequestLog({appHost:window.location.host,url:r,header:null,responseText:n,responseType:"fail",errorMsg:o}),je.failResult("解析淘宝退款信息失败")}}async _getTaobaoLogisticsTrace(t){t.indexOf("/")===0&&(t=`https:${t}`);const r=await jc({url:t}),n={"set-cookie":_y(r),"content-type":"application/x-www-form-urlencoded;charset=UTF-8","User-Agent":Ty()},s=await $r({url:t,headers:n});try{const a=JSON.parse(s);return a?(this._saveTaobaoRequestLog({appHost:window.location.host,url:t,header:n,responseText:s,responseType:"success"}),a.success?je.successResult({detailList:a.detailList}):je.failResult(a.debugDesc||a.resultDesc)):(this._saveTaobaoRequestLog({appHost:window.location.host,url:t,header:n,responseText:s,responseType:"fail"}),je.failResult("获取物流数据失败"))}catch(a){return this._saveTaobaoRequestLog({appHost:window.location.host,url:t,header:n,responseText:s,responseType:"fail",errorMsg:a}),je.failResult("解析物流轨迹失败")}}_parseTaobaoOrderStartTime(t){let r="";return t.mainOrder&&k.each(t.mainOrder.orderInfo.lines,(n,s)=>{if(s.content&&k.each(s.content,(a,o)=>{if(!o.value||!o.value.name)return!0;if(o.value.name==="创建时间:")return r=o.value.value,!1}),r)return!1}),r}_parseTaobaoConsigneeInfo(t){let r=t.address||"";t.newAddress&&(r=t.newAddress);const n=/(.+?)，(\d+-)?([\d*]+)，(.+)，(\d*)/.exec(r)||[];return{fullname:n[1],mobile:n[3],fullAddress:n[4]}}_parseTaobaoItemSkuInfo(t){if(!t||t.length===0)return"";const r=[];for(const n in t){const s=t[n].itemInfo,a=[];s&&s.skuText&&k.each(s.skuText,(o,i)=>{k.each(i.content,(l,c)=>{if(!c.value||!c.value.name)return!0;a.push(c.value.value)})}),r.push(a.join("-"))}return r.join(";")}async _getTaobaoOrderLogisticsName(t,r){const n=`https://wuliu.taobao.com/user/order_detail_new.htm?trade_id=${t}&seller_id=${r}`,s=await _n({url:n,xhrFields:{withCredentials:!0,responseType:"text"}});try{if(!s||s.includes("抱歉，亲的网络貌似出问题了"))return this._saveTaobaoRequestLog({appHost:window.location.host,url:n,header:null,responseText:s,responseType:"fail"}),je.failResult("抱歉，亲的网络貌似出问题了");let a={};if(s.includes("无需物流"))this._saveTaobaoRequestLog({appHost:window.location.host,url:n,header:null,responseText:s,responseType:"success"}),a=je.successResult({logisticsName:"无需物流"});else{const o=/var\s+cpName\s+=\s+"([^"]+)"/.exec(s);!o||o.length<2?(this._saveTaobaoRequestLog({appHost:window.location.host,url:n,header:null,responseText:s,responseType:"match_fail"}),a=je.failResult("匹配淘宝订单发货物流公司失败")):(this._saveTaobaoRequestLog({appHost:window.location.host,url:n,header:null,responseText:s,responseType:"success"}),a=je.successResult({logisticsName:o[1]}))}return a}catch(a){return this._saveTaobaoRequestLog({appHost:window.location.host,url:n,header:null,responseText:s,responseType:"fail",errorMsg:a}),je.failResult("解析物流信息失败")}}async _getTaobaoOrderInfoByAsyncBought(t,r=""){var o;const n="https://buyertrade.taobao.com/trade/itemlist/asyncBought.htm?action=itemlist/BoughtQueryAction&event_submit_do_query=1&_input_charset=utf8",s={headers:{}};let a="";try{if(!await this._getTaobaoBuyerNick())return je.failResult("未登录");const l=await jc({url:"https://buyertrade.taobao.com/trade/itemlist/list_bought_items.htm"}),c={"set-cookie":_y(l),"content-type":"application/x-www-form-urlencoded;charset=UTF-8","User-Agent":Ty()};if(s.headers=c,a=await _n({url:n,headers:c,method:"POST",data:{buyerNick:"",dateBegin:0,dateEnd:0,itemTitle:t,lastStartRow:"",logisticsService:"",options:0,orderStatus:"",pageNum:1,pageSize:15,queryBizType:"",queryOrder:"desc",rateStatus:"",refund:"",sellerNick:"",auctionTitle:t,prePageNo:1},xhrFields:{withCredentials:!0,responseType:"json"}}),!a)return this._saveTaobaoRequestLog({appHost:window.location.host,url:n,header:s.headers,responseText:a,responseType:"fail"}),je.failResult("获取淘宝订单列表失败");if(a.includes("<html"))return this._saveTaobaoRequestLog({appHost:window.location.host,url:n,header:s.headers,responseText:a,responseType:"not_login"}),je.failResult("未登录");const u=JSON.parse(a);if(u.url){this._saveTaobaoRequestLog({appHost:window.location.host,url:n,header:s.headers,responseText:a,responseType:"verify"});const d=je.failResult(this._buildVerifyReason({msg:"判断出现滑块",detailPageUrl:u.url,purchaseOrderBuyer:r}));return d.url=u.url,d}return!u||!u.mainOrders?(this._saveTaobaoRequestLog({appHost:window.location.host,url:n,header:s.headers,responseText:a,responseType:"fail"}),je.failResult("获取淘宝订单信息失败")):qt(u.mainOrders)?(this._saveTaobaoRequestLog({appHost:window.location.host,url:n,header:s.headers,responseText:a,responseType:"not_login"}),je.failResult("未登录")):(this._saveTaobaoRequestLog({appHost:window.location.host,url:n,header:s.headers,responseText:a,responseType:"success"}),((o=u.mainOrders[0])==null?void 0:o.id)!==t?je.failResult("获取淘宝订单信息失败"):je.successResult({orderInfo:u.mainOrders[0]}))}catch(i){return this._saveTaobaoRequestLog({appHost:window.location.host,url:n,header:s.headers,responseText:a,responseType:"fail",errorMsg:i}),je.failResult("解析淘宝订单信息失败")}}async _getLogisticsInfoByTransitStep({purchaseOrderSn:t}){try{if(!await this._getTaobaoBuyerNick())return je.failResult("未登录");const n=`https://buyertrade.taobao.com/trade/json/transit_step.do?bizOrderId=${t}`,a=await $r({url:n,headers:{"content-type":"application/x-www-form-urlencoded;charset=UTF-8","User-Agent":"Mozilla/5.0 (Windows NT 6.1; Win64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.2171.95 Safari/537.36"},method:"POST",dataType:"text"});if(a.includes("<html"))return je.failResult("未登录");if(!a)return je.successResult({logisticsInfo:{}});const o=Al.parse(a);if(!o)return je.failResult("获取淘宝物流信息失败");const i={};if(o.isSuccess!=="false"){const l=o.expressName||"";let c=0;(l.includes("无需物流")||yf(a))&&(c=1);let u="";const d=o.address?o.address.length:0;for(let m=d-1;m>=0;m--){const b=o.address[m];if(b.place.includes("等待揽收")){u=b.time;break}}i.logisticsName=l,i.waybillCode=o.expressId||"",i.logisticsIsAccept=c,i.sendTime=u,c===0&&u&&Date.now()-Date.parse(u)>288e5&&(i.orderMaybeCancel=!0)}else i.orderMaybeCancel=!0;return je.successResult({logisticsInfo:i})}catch(r){return window.console.log("getLogisticsInfoByTransitStep error",r),je.failResult("解析淘宝物流信息失败")}}async _getMobileOrderDetail({purchaseOrderSn:t}){const r="https://h5api.m.taobao.com/h5/mtop.order.querydetail/4.0/",n={"content-type":"application/x-www-form-urlencoded;charset=UTF-8","User-Agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1"};let s="";try{const a=this._getMobileOrderCookies(),o=new Date().getTime(),i={bizOrderId:`${t}`,archive:"false",spm:"a212db.index.dt_2.i0",appVersion:"1.0",appName:"tborder"},l=JSON.stringify(i),c=El({now:o,dataStr:l,cookie:a._m_h5_tk});s=await _n({url:r,method:"GET",params:{jsv:"2.6.1",appKey:"12574478",t:o,sign:c,api:"mtop.order.querydetail",v:"4.0",ttid:"2018@taobao_h5_7.9.1",isSec:0,ecode:1,AntiFlood:!0,AntiCreep:!0,LoginRequest:!0,needLogin:!0,H5Request:!0,type:"jsonp",dataType:"jsonp",callback:"mtopjsonp1",data:l},xhrFields:{withCredentials:!0,responseType:"text"}});const d=/mtopjsonp1\(([^']+)\)/.exec(s);if(!d||d.length<2)return this._saveTaobaoRequestLog({appHost:window.location.host,url:r,header:n,responseText:s,responseType:"match_fail"}),je.failResult("匹配淘宝订单发货物流公司失败");const m=JSON.parse(d[1])||{};m.data=m.data||{},m.data.data=m.data.data||{},m.data.data.meta=m.data.data.meta||{},m.data.data.group=m.data.data.group||[];const b=JSON.stringify(m.ret);if(b.includes("Session过期"))return this._saveTaobaoRequestLog({appHost:window.location.host,url:r,header:n,responseText:s,responseType:"fail"}),je.failResult("未登录");if(!b.includes("SUCCESS::调用成功"))return this._saveTaobaoRequestLog({appHost:window.location.host,url:r,header:n,responseText:s,responseType:"fail"}),je.failResult(`请求接口失败: ${b}`);if(JSON.stringify(m.data.data.meta.page&&(m.data.data.meta.page.fields||{})).includes("tmall"))return this._saveTaobaoRequestLog({appHost:window.location.host,url:r,header:n,responseText:s,responseType:"transfer_tmall"}),je.failResult("该订单平台是天猫");const g=m.data.data.group[0]&&m.data.data.group[0][t];if(!g)return this._saveTaobaoRequestLog({appHost:window.location.host,url:r,header:n,responseText:s,responseType:"match_fail"}),je.failResult("淘宝订单不存在");const h={};return g.forEach(v=>{v.cellData.forEach(y=>{if(y.tag==="item"&&!y.fields.quantity)return!0;h[y.tag]=y.fields})}),this._saveTaobaoRequestLog({appHost:window.location.host,url:r,header:n,responseText:s,responseType:"success"}),je.successResult({orderDataTypeMap:h})}catch(a){return this._saveTaobaoRequestLog({appHost:window.location.host,url:r,header:n,responseText:s,responseType:"fail",errorMsg:a}),je.failResult("请求接口异常")}}async _getMobileOrderCookies(){const t="https://member1.taobao.com/member/fresh/deliver_address.htm";return Promise.all([Bs({url:t,name:"_m_h5_tk"}).then(r=>r==null?void 0:r.value),Bs({url:t,name:"cookie2"}).then(r=>r==null?void 0:r.value)]).then(([r,n])=>({_m_h5_tk:r,cookie2:n}))}async getTMallPurchaseOrderInfo({purchaseOrderSn:t,forceDetail:r=!1,purchaseOrderBuyer:n=""}){const s=this._getSessionData({key:this._buildVerifyKey("taobaoAsyncBoughtNeedVerify",n)}),a=this._getSessionData({key:this._buildVerifyKey("tmallOrderDetailNeedVerify",n)});let o={};return!r&&(!s||a)?(o=await this._getPurchaseOrderInfoByAsyncBought({purchaseOrderSn:t,purchaseOrderBuyer:n}),je.isFail(o)&&o.reason.includes("滑块")?this._setSessionData({key:this._buildVerifyKey("taobaoAsyncBoughtNeedVerify",n),value:!0}):this._setSessionData({key:this._buildVerifyKey("taobaoAsyncBoughtNeedVerify",n),value:!1}),je.isFail(o)&&(o.reason.includes("滑块")||o.reason==="请求失败")&&(this._setSessionData({key:this._buildVerifyKey("taobaoAsyncBoughtNeedVerify",n),value:!0}),a||(o=await this._getPurchaseOrderInfoByTmallOrderDetail({purchaseOrderSn:t,purchaseOrderBuyer:n})))):(o=await this._getPurchaseOrderInfoByTmallOrderDetail({purchaseOrderSn:t,purchaseOrderBuyer:n}),je.isFail(o)&&o.reason.includes("滑块")?this._setSessionData({key:this._buildVerifyKey("tmallOrderDetailNeedVerify",n),value:!0}):this._setSessionData({key:this._buildVerifyKey("tmallOrderDetailNeedVerify",n),value:!1}),je.isFail(o)&&o.reason.includes("滑块")&&(this._setSessionData({key:this._buildVerifyKey("tmallOrderDetailNeedVerify",n),value:!0}),!r&&!s&&(o=await this._getPurchaseOrderInfoByAsyncBought({purchaseOrderSn:t,purchaseOrderBuyer:n})))),o}async _getPurchaseOrderInfoByTmallOrderDetail({purchaseOrderSn:t,purchaseOrderBuyer:r=""}){const n=await this._getTaobaoBuyerNick();if(!n)return je.failResult("未登录");try{const s=await this._getTmallOrderInfoByTmallOrderDetail({purchaseOrderSn:t,purchaseOrderBuyer:r});if(je.isFail(s))return s;const a=s.orderInfo,o=this._parseTmallOrderPayment(a),i=this._parseTmallOrderBasicInfo(a),l=a.orders.list[0].status[0].subOrders[0].quantity,c=(+o/l).toFixed(2),u=a.orders.list[0].status[0].subOrders[0].itemInfo.itemUrl,d=a.basic.lists[0].content[0].text,m=/(.+?),(\d+-)?(\d+),(.+),(\d*)/.exec(d)||{},b=a.orders.list[0].status[0].subOrders[0].itemInfo.title,g={purchaseOrderSeller:i.sellerName,purchaseOrderPayment:o,purchaseOrderBuyer:unescape(decodeURI(n).replace(/\\/g,"%")),purchaseNum:l,purchasePrice:c,purchaseUrl:u,purchaseOrderFullname:m[1],purchaseOrderMobile:m[3],purchaseOrderFullAddress:m[4],purchaseOrderStartTime:i.startTime,purchaseOrderStatus:"wait_send",purchaseOrderItemTitle:b};i.sendTime&&(g.purchaseOrderSendTime=i.sendTime),a.overStatus.status.content[0].text.includes("待付款")||a.overStatus.status.content[0].text.includes("宝贝已拍下")||a.overStatus.status.content[0].text.includes("商品已拍下")?g.purchaseOrderStatus="wait_pay":a.overStatus.status.content[0].text.includes("等待买家确认")?g.purchaseOrderStatus="has_send":a.overStatus.status.content[0].text.includes("交易成功")?g.purchaseOrderStatus="finished":a.overStatus.status.content[0].text.includes("交易关闭")?g.purchaseOrderStatus="cancel":a.overStatus.status.content[0].text.includes("退款中")&&(g.purchaseOrderStatus="refund");let h="",v="",y="";if(a.overStatus&&a.overStatus.prompt){const _=this._parseTmallOrderLogisticsInfo({logisticsInfo:a.overStatus.prompt,isPrompt:!0});h=_.traceUrl,v=_.logisticsName,y=_.waybillCode}if(a.orders&&a.orders.list&&qt(v)&&qt(y)){const _=this._parseTmallOrderLogisticsInfo({logisticsInfo:a.orders.list,isPrompt:!1});h=_.traceUrl,v=_.logisticsName,y=_.waybillCode}if(qt(v)||(g.purchaseOrderLogisticsName=v),qt(y)||(g.purchaseOrderWaybillCode=y),!v&&k.inArray(g.purchaseOrderStatus,["has_send","finished"])>-1){const S=(await this._getLogisticsInfoByTransitStep({purchaseOrderSn:t})).logisticsInfo||{};qt(S)||(g.purchaseOrderLogisticsName=S.logisticsName,g.purchaseOrderWaybillCode=S.waybillCode,g.logisticsIsAccept=S.logisticsIsAccept,!g.purchaseOrderSendTime&&S.sendTime&&(g.purchaseOrderSendTime=S.sendTime))}else if(h){const _=await this._getTaobaoLogisticsTrace(h);if(_.detailList){const S=_.detailList;S[0].cpName&&S[0].cpName!=="—"&&(g.purchaseOrderLogisticsName=S[0].cpName),S[0].mailNo&&S[0].mailNo!=="—"&&(g.purchaseOrderWaybillCode=S[0].mailNo);let x=0;S[0].detail&&k.each(S[0].detail,(I,f)=>{if(yf(f.desc,f.action))return x=1,!1}),g.logisticsIsAccept=x}}let C=g.purchaseOrderStatus==="refund";if(g.purchaseOrderStatus==="cancel")try{C=a.overStatus.prompt[0].content[0].text.includes("退款")}catch(_){window.console.log("check has refund error",_)}if(C){const _=await this._getTaobaoOrderRefundMoney({purchaseOrderSn:t});g.purchaseOrderRefundMoney=_.refundMoney||0}return window.console.log("finish get purchase order info by tmall order detail",g),je.successResult({purchaseOrderInfo:g})}catch(s){return window.console.log("get purchase order info by tmall order detail error",s),je.failResult("获取天猫订单信息失败~")}}async _getTmallOrderInfoByTmallOrderDetail({purchaseOrderSn:t,purchaseOrderBuyer:r=""}){const n=`https://trade.tmall.com/detail/orderDetail.htm?route_to=tm1&bizOrderId=${t}`;try{if(!await this._getTaobaoBuyerNick())return je.failResult("未登录");const a=await $r({url:n,dataType:"text"});if(!a)return this._saveTaobaoRequestLog({appHost:window.location.host,url:n,header:null,responseText:a,responseType:"fail"}),je.failResult("获取天猫订单详情失败");if(a.includes("查询的物流详情不属于当前用户"))return this._saveTaobaoRequestLog({appHost:window.location.host,url:n,header:null,responseText:a,responseType:"not_login"}),je.failResult("未登录");if(a.includes("你无权查看此交易!"))return this._saveTaobaoRequestLog({appHost:window.location.host,url:n,header:null,responseText:a,responseType:"not_login"}),je.failResult("未登录");if(a.includes("霸下通用 web 页面-验证码"))return this._saveTaobaoRequestLog({appHost:window.location.host,url:n,header:null,responseText:a,responseType:"verify"}),je.failResult(this._buildVerifyReason({msg:"出现淘宝滑块",detailPageUrl:n,purchaseOrderBuyer:r}));const o=this._parseTmallOrderInfo({purchaseOrderSn:t,detailHtml:a,purchaseOrderBuyer:r});return je.isFail(o)?o.reason.includes("滑块")?this._saveTaobaoRequestLog({appHost:window.location.host,url:n,header:null,responseText:a,responseType:"verify"}):this._saveTaobaoRequestLog({appHost:window.location.host,url:n,header:null,responseText:a,responseType:"fail"}):this._saveTaobaoRequestLog({appHost:window.location.host,url:n,header:null,responseText:a,responseType:"success"}),o}catch(s){return window.console.error(s),je.failResult("解析天猫订单信息失败")}}_parseTmallOrderPayment(t){let r=0;return t.amount.count&&k.each(t.amount.count,(n,s)=>{s&&k.each(s,(a,o)=>{o&&k.each(o.content,(i,l)=>{if(!so(l,"data")||!so(l.data,"money")||so(l.data,"titleLink")&&k.inArray(l.data.titleLink.text,["实付款","订单总价","需付款"])>-1)return!0;so(l,"data")&&so(l.data,"money")&&(r+=+l.data.money.text.replace("￥",""))})})}),r.toFixed(2)}_parseTmallOrderBasicInfo(t){const r={startTime:"",sendTime:"",sellerName:""};return t.basic.lists&&k.each(t.basic.lists,(n,s)=>{s.content&&k.each(s.content,(a,o)=>{if(o.type==="more"&&o.moreList&&k.each(o.moreList,(i,l)=>{l.key==="成交时间"&&(r.startTime=l.content[0].text),l.key==="发货时间"&&(r.sendTime=l.content[0].text)}),s.key==="商家"&&o.type==="html"){const i=k(`<div>${o.text}</div>`);i.find(".short-dd-nick").length>0&&(r.sellerName=i.find(".short-dd-nick").attr("title"))}})}),r}_parseTmallOrderLogisticsInfo({logisticsInfo:t,isPrompt:r=!1}){let n="",s="",a="";function o(i){i.content&&k.each(i.content,(l,c)=>{c.type==="logistic"&&(c.companyName!=="—"&&(s=c.companyName),c.mailNo!=="—"&&(a=c.mailNo),n=c.url)})}return t&&k.each(t,(i,l)=>{if(l.key==="物流"&&r)return o(l),!1;if(!r&&typeof l.logistic<"u")return o(l.logistic),!1}),{traceUrl:n,logisticsName:s,waybillCode:a}}_parseTmallOrderInfo({purchaseOrderSn:t,detailHtml:r,purchaseOrderBuyer:n}){let s=null;const a=`https://trade.tmall.com/detail/orderDetail.htm?route_to=tm1&bizOrderId=${t}`;try{const o=/detailData\s*=\s*(.+?)\s*<\/script/.exec(r);o&&o[1]&&(s=Al.parse(o[1]))}catch(o){window.console.log("parseTmallOrderInfo error",o)}try{if(s==null){let o=!1;return Sy(r,"tmall")&&(o=!0),o?je.failResult(this._buildVerifyReason({msg:"出现天猫滑块",detailPageUrl:a,purchaseOrderBuyer:n})):je.failResult("解析天猫订单信息失败")}}catch(o){return window.console.log("判断出现滑块",o),je.failResult(this._buildVerifyReason({msg:"判断出现滑块",detailPageUrl:a,purchaseOrderBuyer:n}))}return je.successResult({orderInfo:s})}}const Ua="tmall";function UD(){const e=[];return location.hostname.includes(".m.tmall.com")?(k(".sku-wrap .sku-list-wrap .items .checked").each((t,r)=>{const n=k.trim(k(r).text());n&&e.push(n)}),e):(k("#J_DetailMeta").length>0?k("#J_DetailMeta").find(".tb-sku").find(".J_TSaleProp li").each((r,n)=>{const s=k(n);if(s.hasClass("tb-selected")){const a=k.trim(s.find("span").text());e.push(a)}}):k('div[class^="skuWrapper--"]').length>0&&k('div[class^="skuWrapper--"] div[class*="isSelected--"]').each((t,r)=>{const n=k.trim(k(r).find("span").text());e.push(n)}),e.reverse())}const Nc="yangkeduo",XS=e=>window.location.href.includes(`${e}/duo_coupon_landing.html`)||window.location.href.includes(`${e}/duo_cms_mall.html`);function mi(){let e=location.hostname;if(document.URL&&document.URL.includes("purchase_webview?purchaseUrl=")){let t=document.URL.split("purchase_webview?purchaseUrl=")[1].split("/")[2];t===null&&(t=decodeURI(document.URL).split("purchase_webview?purchaseUrl=")[1].split("%2F")[2]),e=t}return e}function Fc(e,t){const r=`https://${e}/`;return Promise.all([Bs({url:r,name:"pdd_user_id"}).then(n=>n==null?void 0:n.value),Bs({url:r,name:"PDDAccessToken"}).then(n=>n==null?void 0:n.value)]).then(([n,s])=>{const a={pddUserId:"",pddAccessToken:""};if(n&&s)a.pddUserId=n,a.pddAccessToken=s;else if(t!=null&&t.isRedirectLoginPage){const o=window.location.href.toLowerCase();window.location.href=`https://${e}/login.html?from=${encodeURIComponent(o)}`}return a})}async function qD({pddUserId:e,domain:t,force:r=!1}){const n={nickname:"",userPin:""};try{if(!e||!t)throw new Error("参数错误");const s=await Ze.getItem("local:pddUserIdAndUserInfoMap")||{};if(!r&&s&&s[e])return s[e];for(let a=0;a<3;a++){const o=await $r({url:`https://mobile.${t}.com/personal_profile.html`,method:"GET",dataType:"text"});if(!o)throw new Error("请求异常");if(o.includes(`window.location.href="https://mobile.${t}.com/personal_profile.html`))continue;const i=/"nickname":"(.+?)",/.exec(o);if(!i||i.length<2)throw new Error("匹配失败");n.nickname=i[1];const l=/"_1tiLwH6D">(.+?)<\/div>/.exec(o);l&&l.length>1&&(n.userPin=l[1]);break}n.nickname!==""&&(s[e]=n,Ze.setItem("local:pddUserIdAndUserInfoMap",s))}catch(s){window.console.error("getPddNickname error",s)}return n}async function sm({locationUrl:e,pddUserId:t,pddAccessToken:r}){try{const n=await $r({url:`https://${e}/proxy/api/addresses?pdduid=${t}`,method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8",AccessToken:r}});return n?(window.console.log("获取地址列表成功"),n):(window.console.log("获取地址列表失败"),[])}catch(n){return window.console.log("获取地址列表异常",n),[]}}function VD(e){return window.console.log("checkNeedDelPddAddress",e.pddAddressAddType),e.pddAddressAddType==="addNew"}async function HD({purchaseOrderInfo:e,host:t,pddUserId:r,pddAccessToken:n}){if(!VD(e))return window.console.log("skip deletePddAddress [CommonTool.checkNeedDelPddAddress]"),!1;const s=e.selAddressId;if(!s)return!1;try{const a=await $r({url:`https://${t}/proxy/api/api/origenes/address/delete/${s}?pdduid=${r}`,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8",AccessToken:n}});window.console.log("删除地址结果",a)}catch(a){window.console.log("删除地址异常",a)}}function QS(e,t=""){const r=e.consignee,n={appName:e.appInfo.appName,venderId:e.venderId,orderId:e.orderId,fullname:r.fullname,mobile:r.mobile,province:r.province,city:r.city,county:r.county,address:r.address,purchasePlatform:e.purchasePlatform,errorInfo:t};return Jt({url:"/order/purchase_order/save_address_match_error",method:"POST",data:n})}async function zD({host:e,pddAccessToken:t}){var n;let r=[];try{const s=await $r({url:`https://${e}/orders.html`,method:"GET",dataType:"text",headers:{AccessToken:t},params:{type:"1",comment_tab:"1",combine_orders:"1",main_orders:"1",refer_page_name:"personal"}}),a=/window.rawData=(\{[^;]+\})/.exec(s),o=JSON.parse((a==null?void 0:a[1])||"")||{};qt(o)||(r=((n=o.ordersStore)==null?void 0:n.orders)||[])}catch(s){window.console.log("获取订单列表失败",s),r=[]}return r}async function am(e){const{purchaseOrderInfo:t,handleBuildFillRemarkText:r}=e;try{if(!t||t.purchasePlatform!=="yangkeduo"||!t.purchaseOrderSn)throw new Error("采购单数据错误或者不是采购pdd订单");if(t.notAllowUpdatePddBuyerMemo)throw new Error(`当前采购单状态notAllowUpdatePddBuyerMemo[${t.notAllowUpdatePddBuyerMemo}]不可更新备注`);const n=t.purchaseOrderStatus||"";if(["cancel","finished","refund","has_send"].includes(n))throw new Error(`当前采购单状态[${n}]不可更新备注`);let s;if(t.purchaseItem)s=r(t,"，");else{const l=JSON.parse(JSON.stringify(t));if(l.purchaseOrderItems){const c=[];k.each(l.purchaseOrderItems,(u,d)=>{c.push(d.skuSubName||"")}),l.purchaseItem={skuSubName:c.join(" ")}}s=r(l,"，")}if(!s)throw new Error("构建买家备注为空");const a=t.purchaseOrderSn,o=mi(),i=await Fc(o);if(!i||!i.pddUserId||!i.pddAccessToken)throw new Error("未登录拼多多");return await $r({url:`https://mobile.yangkeduo.com/proxy/api/api/debye/update_order_buyer_memo?pdduid=${i.pddUserId}`,method:"POST",headers:{"Content-Type":"application/json;charset=UTF-8",AccessToken:i.pddAccessToken},body:JSON.stringify({order_sn:a,buyer_memo:s})}).catch(l=>{throw window.console.log("拼多多修改备注接口返回修改失败：",l),new Error("拼多多修改备注接口返回修改失败")}),je.successResult({})}catch(n){window.console.log("修改拼多多备注异常：",n);const s=Ra(n)?n:"修改拼多多备注异常";return je.failResult(s)}}function WD(){k(document).find(".oc-safe-pay-statement").nextAll().each((t,r)=>{k(r).find("div[data-active]").each((n,s)=>{if(k.trim(k(s).text()).includes("提交订单"))return k(s).trigger("click"),!1})})}function GD(){const e=k(document).find(".oc-safe-pay-statement").parent(),t=/实付款:(￥|¥)(0\.\d?[1-9]|(?!0)\d{1,6}(?:\.\d?[1-9])?)/.exec(e.text());let r=0;return t&&t[2]&&(r=Ki(t[2])),r}const{sendMessage:KD,onMessage:YD}=$a(),JD=e=>YD("collectProgress",e),om=e=>(...t)=>KD(e,...t),XD=om("createAutoCollect"),QD=om("validatorAutoCollect"),ZD=om("updateAutoCollectResult"),{sendMessage:e6,onMessage:EG}=$a(),im=e=>(...t)=>e6(e,...t),Bs=im("getCookie"),Bc=im("removeCookie"),jc=im("getAllCookies"),{sendMessage:t6,onMessage:$G}=$a(),r6=(e,...t)=>t6(e,...t),{sendMessage:n6,onMessage:RG}=$a(),lm=e=>(...t)=>n6(e,...t),ZS=lm("setCrawlTabId"),e_=lm("crawlShop"),t_=lm("getCrawlInfo"),{sendMessage:r_,onMessage:LG}=$a(),s6=(e=>(...t)=>r_(e,...t))("fix1688MtopApiCookieToken"),a6=e=>r_("notifyPurchaseSuccess",e),{sendMessage:n_,onMessage:DG}=$a(),Jt=async(...e)=>{try{return await n_("plwFetch",...e)}catch(t){if(t.name==="NonError")try{return Promise.reject(JSON.parse(t.message))}catch{throw t}throw t}},$r=async(...e)=>{try{return await n_("commonFetch",...e)}catch(t){if(t.name==="NonError")try{return Promise.reject(JSON.parse(t.message))}catch{throw t}throw t}},{sendMessage:o6,onMessage:NG}=$a(),um=e=>(...t)=>o6(e,...t),So=um("createTab"),i6=um("removeTab"),rr=um("senderTabInfo"),l6=async e=>Jt({url:"/open/fetch/pfti",method:"POST",data:e}),u6=async()=>Jt({url:"https://erp.91miaoshou.com/api/open/niu/check_login",method:"POST"}),c6=e=>Jt({url:"https://erp.91miaoshou.com/api/open/niu/push_collect_box",method:"POST",data:e}),d6=()=>Jt({url:"https://erp.91miaoshou.com/api/open/niu/getCollectBoxSetting",method:"GET"}),f6=e=>Jt({url:"/open/common/format_item_urls",method:"POST",data:e}),p6=e=>Jt({url:"/open/common/get_ts_const",method:"GET",params:e}),h6=Fu(e=>Jt({url:"https://erp.91miaoshou.com/api/common/overall/getAgreementUrl",method:"GET",params:e})),m6=Fu(e=>Jt({url:"https://erp.91miaoshou.com/api/auth/reseller_account/searchResellerAccountList",method:"POST",data:e})),g6=e=>Jt({url:"/order/purchase_order/save_taobao_request_log",method:"POST",data:e}),v6=(e,t={})=>Jt({url:"/open/common/url_gbk_encode",method:"POST",data:e,...t}),y6=e=>Jt({url:"/order/purchase_order/save_address_match_error",method:"POST",data:e}),b6=e=>Jt({url:"/open/common/getImgBase64Code",method:"GET",params:e}),w6=e=>Jt({url:"/order/purchase_order/get_tb_area_ids",method:"GET",params:e}),S6=e=>Jt({url:"https://erp.91miaoshou.com/api/open/niu/check_item_has_fetch",method:"POST",data:e}),_6=()=>Jt({url:"https://erp.91miaoshou.com/api/auth/account/get_account_info",method:"GET"}),s_=e=>Jt({url:"https://erp.91miaoshou.com/api/platform/pddkj/stat/crawl/save_user_operation_log",method:"POST",data:e}),T6=Jp("/open/common/download_item_urls"),C6=Jp("/open/common/getImg"),x6=e=>Jt({url:"https://erp.91miaoshou.com/api/open/plugin/updateActiveClientVersion",method:"GET",params:e}),I6=e=>Jt({url:"/open/plugin_client/initPluginClient",method:"POST",data:e}),k6=e=>Jt({url:"/open/plugin/getPluginConfig",method:"GET",params:e}),cm="earth",O6="local:copyItemUrls",a_="local:pluginConfigV2",o_="local:collectPanelDisabled",P6="local:collectPanelPosition",A6="local:collectStockConfirm",i_="local:lastPromptVersion",l_="local:pluginInstallConfig",E6="local:crawlPluginCollapse",$6="local:collectStockAndPriceConfirm";let Uc;const u_=async()=>{if(Uc)return Uc;try{return Uc=await fetch(chrome.runtime.getURL("env.json")).then(e=>e.json()),Uc}catch{}return{}},gi=Fu(async()=>{const e=await Ze.getItem(a_);if(e&&Date.now()<e.expired)return e.config;const{releaseChannel:t}=await u_(),{manifest_version:r,version:n}=As.runtime.getManifest();let s=e==null?void 0:e.config.clientId;s||(s=(await I6({tag:cm,manifestVersion:"v3",version:n})).clientId);const a=await k6({tag:cm,manifestVersion:r,clientId:s,releaseChannel:t}),{result:o,...i}=a,l={...i,clientId:s};return Ze.setItem(a_,{config:l,expired:Date.now()+1e3*60*5}),l});var dm,c_;function R6(){if(c_)return dm;c_=1;var e=/^[a-z](?:[\.0-9_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*-(?:[\x2D\.0-9_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/,t=function(r){return e.test(r)};return dm=t,dm}var L6=R6();const M6=pn(L6);var D6=(e,t,r)=>new Promise((n,s)=>{var a=l=>{try{i(r.next(l))}catch(c){s(c)}},o=l=>{try{i(r.throw(l))}catch(c){s(c)}},i=l=>l.done?n(l.value):Promise.resolve(l.value).then(a,o);i((r=r.apply(e,t)).next())});function N6(e){return D6(this,null,function*(){const{name:t,mode:r="closed",css:n,isolateEvents:s=!1}=e;if(!M6(t))throw Error(`"${t}" is not a valid custom element name. It must be two words and kebab-case, with a few exceptions. See spec for more details: https://html.spec.whatwg.org/multipage/custom-elements.html#valid-custom-element-name`);const a=document.createElement(t),o=a.attachShadow({mode:r}),i=document.createElement("html"),l=document.createElement("body"),c=document.createElement("head");if(n){const u=document.createElement("style");"url"in n?u.textContent=yield fetch(n.url).then(d=>d.text()):u.textContent=n.textContent,c.appendChild(u)}return i.appendChild(c),i.appendChild(l),o.appendChild(i),s&&(Array.isArray(s)?s:["keydown","keyup","keypress"]).forEach(d=>{l.addEventListener(d,m=>m.stopPropagation())}),{parentElement:a,shadow:o,isolatedElement:l}})}const F6=Symbol("null");let B6=0;class j6 extends Map{constructor(){super(),this._objectHashes=new WeakMap,this._symbolHashes=new Map,this._publicKeys=new Map;const[t]=arguments;if(t!=null){if(typeof t[Symbol.iterator]!="function")throw new TypeError(typeof t+" is not iterable (cannot read property Symbol(Symbol.iterator))");for(const[r,n]of t)this.set(r,n)}}_getPublicKeys(t,r=!1){if(!Array.isArray(t))throw new TypeError("The keys parameter must be an array");const n=this._getPrivateKey(t,r);let s;return n&&this._publicKeys.has(n)?s=this._publicKeys.get(n):r&&(s=[...t],this._publicKeys.set(n,s)),{privateKey:n,publicKey:s}}_getPrivateKey(t,r=!1){const n=[];for(let s of t){s===null&&(s=F6);const a=typeof s=="object"||typeof s=="function"?"_objectHashes":typeof s=="symbol"?"_symbolHashes":!1;if(!a)n.push(s);else if(this[a].has(s))n.push(this[a].get(s));else if(r){const o=`@@mkm-ref-${B6++}@@`;this[a].set(s,o),n.push(o)}else return!1}return JSON.stringify(n)}set(t,r){const{publicKey:n}=this._getPublicKeys(t,!0);return super.set(n,r)}get(t){const{publicKey:r}=this._getPublicKeys(t);return super.get(r)}has(t){const{publicKey:r}=this._getPublicKeys(t);return super.has(r)}delete(t){const{publicKey:r,privateKey:n}=this._getPublicKeys(t);return!!(r&&super.delete(r)&&this._publicKeys.delete(n))}clear(){super.clear(),this._symbolHashes.clear(),this._publicKeys.clear()}get[Symbol.toStringTag](){return"ManyKeysMap"}get size(){return super.size}}function fm(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t!==null&&t!==Object.prototype&&Object.getPrototypeOf(t)!==null||Symbol.iterator in e?!1:Symbol.toStringTag in e?Object.prototype.toString.call(e)==="[object Module]":!0}function pm(e,t,r=".",n){if(!fm(t))return pm(e,{},r,n);const s=Object.assign({},t);for(const a in e){if(a==="__proto__"||a==="constructor")continue;const o=e[a];o!=null&&(n&&n(s,a,o,r)||(Array.isArray(o)&&Array.isArray(s[a])?s[a]=[...o,...s[a]]:fm(o)&&fm(s[a])?s[a]=pm(o,s[a],(r?`${r}.`:"")+a.toString(),n):s[a]=o))}return s}function U6(e){return(...t)=>t.reduce((r,n)=>pm(r,n,"",e),{})}const q6=U6(),d_=e=>e!==null?{isDetected:!0,result:e}:{isDetected:!1},V6=e=>e===null?{isDetected:!0,result:null}:{isDetected:!1},H6=()=>({target:globalThis.document,unifyProcess:!0,detector:d_,observeConfigs:{childList:!0,subtree:!0,attributes:!0},signal:void 0,customMatcher:void 0}),z6=(e,t)=>q6(e,t),hm=new j6;function W6(e){const{defaultOptions:t}=e;return(r,n)=>{const{target:s,unifyProcess:a,observeConfigs:o,detector:i,signal:l,customMatcher:c}=z6(n,t),u=[r,s,a,o,i,l,c],d=hm.get(u);if(a&&d)return d;const m=new Promise(async(b,g)=>{if(l!=null&&l.aborted)return g(l.reason);const h=new MutationObserver(async y=>{for(const C of y){if(l!=null&&l.aborted){h.disconnect();break}const _=await f_({selector:r,target:s,detector:i,customMatcher:c});if(_.isDetected){h.disconnect(),b(_.result);break}}});l==null||l.addEventListener("abort",()=>(h.disconnect(),g(l.reason)),{once:!0});const v=await f_({selector:r,target:s,detector:i,customMatcher:c});if(v.isDetected)return b(v.result);h.observe(s,o)}).finally(()=>{hm.delete(u)});return hm.set(u,m),m}}async function f_({target:e,selector:t,detector:r,customMatcher:n}){const s=n?n(t):e.querySelector(t);return await r(s)}const G6=W6({defaultOptions:H6()});function qc(e,...t){}const p_={debug:(...e)=>qc(console.debug,...e),log:(...e)=>qc(console.log,...e),warn:(...e)=>qc(console.warn,...e),error:(...e)=>qc(console.error,...e)};function h_(e,t,r){var n,s;r.position!=="inline"&&(r.zIndex!=null&&(e.style.zIndex=String(r.zIndex)),e.style.overflow="visible",e.style.position="relative",e.style.width="0",e.style.height="0",e.style.display="block",t&&(r.position==="overlay"?(t.style.position="absolute",(n=r.alignment)!=null&&n.startsWith("bottom-")?t.style.bottom="0":t.style.top="0",(s=r.alignment)!=null&&s.endsWith("-right")?t.style.right="0":t.style.left="0"):(t.style.position="fixed",t.style.top="0",t.style.bottom="0",t.style.left="0",t.style.right="0")))}function mm(e){if(e.anchor==null)return document.body;let t=typeof e.anchor=="function"?e.anchor():e.anchor;return typeof t=="string"?t.startsWith("/")?document.evaluate(t,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue??void 0:document.querySelector(t)??void 0:t??void 0}function m_(e,t){var n,s;const r=mm(t);if(r==null)throw Error("Failed to mount content script UI: could not find anchor element");switch(t.append){case void 0:case"last":r.append(e);break;case"first":r.prepend(e);break;case"replace":r.replaceWith(e);break;case"after":(n=r.parentElement)==null||n.insertBefore(e,r.nextElementSibling);break;case"before":(s=r.parentElement)==null||s.insertBefore(e,r);break;default:t.append(r,e);break}}function g_(e,t){let r;const n=()=>{r==null||r.stopAutoMount(),r=void 0},s=()=>{e.mount()},a=e.remove;return{mount:s,remove:()=>{n(),e.remove()},autoMount:l=>{r&&p_.warn("autoMount is already set."),r=K6({mount:s,unmount:a,stopAutoMount:n},{...t,...l})}}}function K6(e,t){const r=new AbortController,n="explicit_stop_auto_mount",s=()=>{var i;r.abort(n),(i=t.onStop)==null||i.call(t)};let a=typeof t.anchor=="function"?t.anchor():t.anchor;if(a instanceof Element)throw Error("autoMount and Element anchor option cannot be combined. Avoid passing `Element` directly or `() => Element` to the anchor.");async function o(i){let l=!!mm(t);for(l&&e.mount();!r.signal.aborted;)try{l=!!await G6(i??"body",{customMatcher:()=>mm(t)??null,detector:l?V6:d_,signal:r.signal}),l?e.mount():(e.unmount(),t.once&&e.stopAutoMount())}catch(c){if(r.signal.aborted&&r.signal.reason===n)break;throw c}}return o(a),{stopAutoMount:s}}function Y6(e){let t=e,r="";const n=/(\s*@property[\s\S]*?{[\s\S]*?})/gm;let s;for(;(s=n.exec(e))!==null;)r+=s[1],t=t.replace(s[1],"");return{documentCss:r.trim(),shadowCss:t.trim()}}async function gm(e,t){var b;const r=Math.random().toString(36).substring(2,15),n=[];if(t.inheritStyles||n.push("/* WXT Shadow Root Reset */ body{all:initial;}"),t.css&&n.push(t.css),((b=e.options)==null?void 0:b.cssInjectionMode)==="ui"){const g=await J6();n.push(g.replaceAll(":root",":host"))}const{shadowCss:s,documentCss:a}=Y6(n.join(`
`).trim()),{isolatedElement:o,parentElement:i,shadow:l}=await N6({name:t.name,css:{textContent:s},mode:t.mode??"open",isolateEvents:t.isolateEvents});i.setAttribute("data-wxt-shadow-root","");let c;const u=()=>{if(m_(i,t),h_(i,l.querySelector("html"),t),a&&!document.querySelector(`style[wxt-shadow-root-document-styles="${r}"]`)){const g=document.createElement("style");g.textContent=a,g.setAttribute("wxt-shadow-root-document-styles",r),(document.head??document.body).append(g)}c=t.onMount(o,l,i)},d=()=>{var h;(h=t.onRemove)==null||h.call(t,c),i.remove();const g=document.querySelector(`style[wxt-shadow-root-document-styles="${r}"]`);for(g==null||g.remove();o.lastChild;)o.removeChild(o.lastChild);c=void 0},m=g_({mount:u,remove:d},t);return e.onInvalidated(d),{shadow:l,shadowHost:i,uiContainer:o,...m,get mounted(){return c}}}async function J6(){const e=As.runtime.getURL("/content-scripts/platform-base-utils.css");try{return await(await fetch(e)).text()}catch(t){return p_.warn(`Failed to load styles @ ${e}. Did you forget to import the stylesheet in your entrypoint?`,t),""}}const v_=Symbol(),$l="el",X6="is-",_o=(e,t,r,n,s)=>{let a=`${e}-${t}`;return r&&(a+=`-${r}`),n&&(a+=`__${n}`),s&&(a+=`--${s}`),a},y_=Symbol("namespaceContextKey"),vm=e=>{const t=e||(Ht()?ft(y_,ee($l)):ee($l));return W(()=>w(t)||$l)},ct=(e,t)=>{const r=vm(t);return{namespace:r,b:(h="")=>_o(r.value,e,h,"",""),e:h=>h?_o(r.value,e,"",h,""):"",m:h=>h?_o(r.value,e,"","",h):"",be:(h,v)=>h&&v?_o(r.value,e,h,v,""):"",em:(h,v)=>h&&v?_o(r.value,e,"",h,v):"",bm:(h,v)=>h&&v?_o(r.value,e,h,"",v):"",bem:(h,v,y)=>h&&v&&y?_o(r.value,e,h,v,y):"",is:(h,...v)=>{const y=v.length>=1?v[0]:!0;return h&&y?`${X6}${h}`:""},cssVar:h=>{const v={};for(const y in h)h[y]&&(v[`--${r.value}-${y}`]=h[y]);return v},cssVarName:h=>`--${r.value}-${h}`,cssVarBlock:h=>{const v={};for(const y in h)h[y]&&(v[`--${r.value}-${e}-${y}`]=h[y]);return v},cssVarBlockName:h=>`--${r.value}-${e}-${h}`}},Rr=e=>e===void 0,Yr=e=>typeof e=="boolean",Zt=e=>typeof e=="number",b_=e=>!e&&e!==0||Ue(e)&&e.length===0||Lt(e)&&!Object.keys(e).length,Zn=e=>typeof Element>"u"?!1:e instanceof Element,To=e=>$s(e),Q6=e=>yt(e)?!Number.isNaN(Number(e)):!1;var Z6=Object.defineProperty,e3=Object.defineProperties,t3=Object.getOwnPropertyDescriptors,w_=Object.getOwnPropertySymbols,r3=Object.prototype.hasOwnProperty,n3=Object.prototype.propertyIsEnumerable,S_=(e,t,r)=>t in e?Z6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,s3=(e,t)=>{for(var r in t||(t={}))r3.call(t,r)&&S_(e,r,t[r]);if(w_)for(var r of w_(t))n3.call(t,r)&&S_(e,r,t[r]);return e},a3=(e,t)=>e3(e,t3(t));function o3(e,t){var r;const n=In();return va(()=>{n.value=e()},a3(s3({},t),{flush:(r=void 0)!=null?r:"sync"})),vl(n)}var __;const ur=typeof window<"u",i3=e=>typeof e=="string",Vc=()=>{},ym=ur&&((__=window==null?void 0:window.navigator)==null?void 0:__.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Rl(e){return typeof e=="function"?e():w(e)}function l3(e,t){function r(...n){return new Promise((s,a)=>{Promise.resolve(e(()=>t.apply(this,n),{fn:t,thisArg:this,args:n})).then(s).catch(a)})}return r}function u3(e,t={}){let r,n,s=Vc;const a=i=>{clearTimeout(i),s(),s=Vc};return i=>{const l=Rl(e),c=Rl(t.maxWait);return r&&a(r),l<=0||c!==void 0&&c<=0?(n&&(a(n),n=null),Promise.resolve(i())):new Promise((u,d)=>{s=t.rejectOnCancel?d:u,c&&!n&&(n=setTimeout(()=>{r&&a(r),n=null,u(i())},c)),r=setTimeout(()=>{n&&a(n),n=null,u(i())},l)})}}function c3(e){return e}function Ll(e){return ph()?(hh(e),!0):!1}function d3(e,t=200,r={}){return l3(u3(t,r),e)}function f3(e,t=200,r={}){const n=ee(e.value),s=d3(()=>{n.value=e.value},t,r);return tt(e,()=>s()),n}function p3(e,t=!0){Ht()?Kt(e):t?e():xt(e)}function bm(e,t,r={}){const{immediate:n=!0}=r,s=ee(!1);let a=null;function o(){a&&(clearTimeout(a),a=null)}function i(){s.value=!1,o()}function l(...c){o(),s.value=!0,a=setTimeout(()=>{s.value=!1,a=null,e(...c)},Rl(t))}return n&&(s.value=!0,ur&&l()),Ll(i),{isPending:vl(s),start:l,stop:i}}function js(e){var t;const r=Rl(e);return(t=r==null?void 0:r.$el)!=null?t:r}const Hc=ur?window:void 0;function es(...e){let t,r,n,s;if(i3(e[0])||Array.isArray(e[0])?([r,n,s]=e,t=Hc):[t,r,n,s]=e,!t)return Vc;Array.isArray(r)||(r=[r]),Array.isArray(n)||(n=[n]);const a=[],o=()=>{a.forEach(u=>u()),a.length=0},i=(u,d,m,b)=>(u.addEventListener(d,m,b),()=>u.removeEventListener(d,m,b)),l=tt(()=>[js(t),Rl(s)],([u,d])=>{o(),u&&a.push(...r.flatMap(m=>n.map(b=>i(u,m,b,d))))},{immediate:!0,flush:"post"}),c=()=>{l(),o()};return Ll(c),c}let T_=!1;function C_(e,t,r={}){const{window:n=Hc,ignore:s=[],capture:a=!0,detectIframe:o=!1}=r;if(!n)return;ym&&!T_&&(T_=!0,Array.from(n.document.body.children).forEach(m=>m.addEventListener("click",Vc)));let i=!0;const l=m=>s.some(b=>{if(typeof b=="string")return Array.from(n.document.querySelectorAll(b)).some(g=>g===m.target||m.composedPath().includes(g));{const g=js(b);return g&&(m.target===g||m.composedPath().includes(g))}}),u=[es(n,"click",m=>{const b=js(e);if(!(!b||b===m.target||m.composedPath().includes(b))){if(m.detail===0&&(i=!l(m)),!i){i=!0;return}t(m)}},{passive:!0,capture:a}),es(n,"pointerdown",m=>{const b=js(e);b&&(i=!m.composedPath().includes(b)&&!l(m))},{passive:!0}),o&&es(n,"blur",m=>{var b;const g=js(e);((b=n.document.activeElement)==null?void 0:b.tagName)==="IFRAME"&&!(g!=null&&g.contains(n.document.activeElement))&&t(m)})].filter(Boolean);return()=>u.forEach(m=>m())}function x_(e,t=!1){const r=ee(),n=()=>r.value=!!e();return n(),p3(n,t),r}const I_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},k_="__vueuse_ssr_handlers__";I_[k_]=I_[k_]||{};var O_=Object.getOwnPropertySymbols,h3=Object.prototype.hasOwnProperty,m3=Object.prototype.propertyIsEnumerable,g3=(e,t)=>{var r={};for(var n in e)h3.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&O_)for(var n of O_(e))t.indexOf(n)<0&&m3.call(e,n)&&(r[n]=e[n]);return r};function jn(e,t,r={}){const n=r,{window:s=Hc}=n,a=g3(n,["window"]);let o;const i=x_(()=>s&&"ResizeObserver"in s),l=()=>{o&&(o.disconnect(),o=void 0)},c=tt(()=>js(e),d=>{l(),i.value&&s&&d&&(o=new ResizeObserver(t),o.observe(d,a))},{immediate:!0,flush:"post"}),u=()=>{l(),c()};return Ll(u),{isSupported:i,stop:u}}var P_=Object.getOwnPropertySymbols,v3=Object.prototype.hasOwnProperty,y3=Object.prototype.propertyIsEnumerable,b3=(e,t)=>{var r={};for(var n in e)v3.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&P_)for(var n of P_(e))t.indexOf(n)<0&&y3.call(e,n)&&(r[n]=e[n]);return r};function w3(e,t,r={}){const n=r,{window:s=Hc}=n,a=b3(n,["window"]);let o;const i=x_(()=>s&&"MutationObserver"in s),l=()=>{o&&(o.disconnect(),o=void 0)},c=tt(()=>js(e),d=>{l(),i.value&&s&&d&&(o=new MutationObserver(t),o.observe(d,a))},{immediate:!0}),u=()=>{l(),c()};return Ll(u),{isSupported:i,stop:u}}var A_;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(A_||(A_={}));var S3=Object.defineProperty,E_=Object.getOwnPropertySymbols,_3=Object.prototype.hasOwnProperty,T3=Object.prototype.propertyIsEnumerable,$_=(e,t,r)=>t in e?S3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,C3=(e,t)=>{for(var r in t||(t={}))_3.call(t,r)&&$_(e,r,t[r]);if(E_)for(var r of E_(t))T3.call(t,r)&&$_(e,r,t[r]);return e};C3({linear:c3},{easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]});class x3 extends Error{constructor(t){super(t),this.name="ElementPlusError"}}function Ml(e,t){throw new x3(`[${e}] ${t}`)}function BG(e,t){}const R_={current:0},L_=ee(0),M_=2e3,D_=Symbol("elZIndexContextKey"),N_=Symbol("zIndexContextKey"),wm=e=>{const t=Ht()?ft(D_,R_):R_,r=e||(Ht()?ft(N_,void 0):void 0),n=W(()=>{const o=w(r);return Zt(o)?o:M_}),s=W(()=>n.value+L_.value),a=()=>(t.current++,L_.value=t.current,s.value);return!ur&&ft(D_),{initialZIndex:n,currentZIndex:s,nextZIndex:a}};var I3={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color.",alphaLabel:"pick alpha value"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},mention:{loading:"Loading"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const k3=e=>(t,r)=>O3(t,r,w(e)),O3=(e,t,r)=>sn(r,e,e).replace(/\{(\w+)\}/g,(n,s)=>{var a;return`${(a=t==null?void 0:t[s])!=null?a:`{${s}}`}`}),P3=e=>{const t=W(()=>w(e).name),r=ar(e)?e:ee(e);return{lang:t,locale:r,t:k3(e)}},F_=Symbol("localeContextKey"),Ur=e=>{const t=e||ft(F_,ee());return P3(W(()=>t.value||I3))},B_="__epPropKey",Je=e=>e,A3=e=>Lt(e)&&!!e[B_],zc=(e,t)=>{if(!Lt(e)||A3(e))return e;const{values:r,required:n,default:s,type:a,validator:o}=e,l={type:a,required:!!n,validator:r||o?c=>{let u=!1,d=[];if(r&&(d=Array.from(r),Wt(e,"default")&&d.push(s),u||(u=d.includes(c))),o&&(u||(u=o(c))),!u&&d.length>0){const m=[...new Set(d)].map(b=>JSON.stringify(b)).join(", ");H8(`Invalid prop: validation failed${t?` for prop "${t}"`:""}. Expected one of [${m}], got value ${JSON.stringify(c)}.`)}return u}:void 0,[B_]:!0};return Wt(e,"default")&&(l.default=s),l},vt=e=>Nu(Object.entries(e).map(([t,r])=>[t,zc(r,t)])),Dl=["","default","small","large"],Sa=zc({type:String,values:Dl,required:!1}),j_=Symbol("size"),E3=()=>{const e=ft(j_,{});return W(()=>w(e.size)||"")},U_=Symbol("emptyValuesContextKey"),$3=["",void 0,null],R3=void 0,Sm=vt({emptyValues:Array,valueOnClear:{type:[String,Number,Boolean,Function],default:void 0,validator:e=>et(e)?!e():!e}}),q_=(e,t)=>{const r=Ht()?ft(U_,ee({})):ee({}),n=W(()=>e.emptyValues||r.value.emptyValues||$3),s=W(()=>et(e.valueOnClear)?e.valueOnClear():e.valueOnClear!==void 0?e.valueOnClear:et(r.value.valueOnClear)?r.value.valueOnClear():r.value.valueOnClear!==void 0?r.value.valueOnClear:t!==void 0?t:R3),a=o=>n.value.includes(o);return n.value.includes(s.value),{emptyValues:n,valueOnClear:s,isEmptyValue:a}},_m=e=>Object.keys(e),Wc=(e,t,r)=>({get value(){return sn(e,t,r)},set value(n){IR(e,t,n)}}),Gc=ee();function Kc(e,t=void 0){const r=Ht()?ft(v_,Gc):Gc;return e?W(()=>{var n,s;return(s=(n=r.value)==null?void 0:n[e])!=null?s:t}):r}function Tm(e,t){const r=Kc(),n=ct(e,W(()=>{var i;return((i=r.value)==null?void 0:i.namespace)||$l})),s=Ur(W(()=>{var i;return(i=r.value)==null?void 0:i.locale})),a=wm(W(()=>{var i;return((i=r.value)==null?void 0:i.zIndex)||M_})),o=W(()=>{var i;return w(t)||((i=r.value)==null?void 0:i.size)||""});return V_(W(()=>w(r)||{})),{ns:n,locale:s,zIndex:a,size:o}}const V_=(e,t,r=!1)=>{var n;const s=!!Ht(),a=s?Kc():void 0,o=(n=void 0)!=null?n:s?Mr:void 0;if(!o)return;const i=W(()=>{const l=w(e);return a!=null&&a.value?L3(a.value,l):l});return o(v_,i),o(F_,W(()=>i.value.locale)),o(y_,W(()=>i.value.namespace)),o(N_,W(()=>i.value.zIndex)),o(j_,{size:W(()=>i.value.size||"")}),o(U_,W(()=>({emptyValues:i.value.emptyValues,valueOnClear:i.value.valueOnClear}))),(r||!Gc.value)&&(Gc.value=i.value),i},L3=(e,t)=>{const r=[...new Set([..._m(e),..._m(t)])],n={};for(const s of r)n[s]=t[s]!==void 0?t[s]:e[s];return n},Br="update:modelValue",Yc="change",Jc="input";var wt=(e,t)=>{const r=e.__vccOpts||e;for(const[n,s]of t)r[n]=s;return r};const M3=e=>ur?window.requestAnimationFrame(e):setTimeout(e,16),H_=(e="")=>e.split(" ").filter(t=>!!t.trim()),ys=(e,t)=>{if(!e||!t)return!1;if(t.includes(" "))throw new Error("className should not contain space.");return e.classList.contains(t)},Co=(e,t)=>{!e||!t.trim()||e.classList.add(...H_(t))},Us=(e,t)=>{!e||!t.trim()||e.classList.remove(...H_(t))},xo=(e,t)=>{var r;if(!ur||!e||!t)return"";let n=Cn(t);n==="float"&&(n="cssFloat");try{const s=e.style[n];if(s)return s;const a=(r=document.defaultView)==null?void 0:r.getComputedStyle(e,"");return a?a[n]:""}catch{return e.style[n]}};function Un(e,t="px"){if(!e)return"";if(Zt(e)||Q6(e))return`${e}${t}`;if(yt(e))return e}let Xc;const D3=e=>{var t;if(!ur)return 0;if(Xc!==void 0)return Xc;const r=document.createElement("div");r.className=`${e}-scrollbar__wrap`,r.style.visibility="hidden",r.style.width="100px",r.style.position="absolute",r.style.top="-9999px",document.body.appendChild(r);const n=r.offsetWidth;r.style.overflow="scroll";const s=document.createElement("div");s.style.width="100%",r.appendChild(s);const a=s.offsetWidth;return(t=r.parentNode)==null||t.removeChild(r),Xc=n-a,Xc};function N3(e,t){if(!ur)return;if(!t){e.scrollTop=0;return}const r=[];let n=t.offsetParent;for(;n!==null&&e!==n&&e.contains(n);)r.push(n),n=n.offsetParent;const s=t.offsetTop+r.reduce((l,c)=>l+c.offsetTop,0),a=s+t.offsetHeight,o=e.scrollTop,i=o+e.clientHeight;s<o?e.scrollTop=s:a>i&&(e.scrollTop=a-e.clientHeight)}const Ar=(e,t)=>{if(e.install=r=>{for(const n of[e,...Object.values(t??{})])r.component(n.name,n)},t)for(const[r,n]of Object.entries(t))e[r]=n;return e},F3=(e,t)=>(e.install=r=>{e._context=r._context,r.config.globalProperties[t]=e},e),B3=(e,t)=>(e.install=r=>{r.directive(t,e)},e),Io=e=>(e.install=Nr,e),j3=vt({size:{type:Je([Number,String])},color:{type:String}}),U3=xe({...xe({name:"ElIcon",inheritAttrs:!1}),props:j3,setup(e){const t=e,r=ct("icon"),n=W(()=>{const{size:s,color:a}=t;return!s&&!a?{}:{fontSize:Rr(s)?void 0:Un(s),"--color":a}});return(s,a)=>(K(),ue("i",ln({class:w(r).b(),style:w(n)},s.$attrs),[Ne(s.$slots,"default")],16))}});var q3=wt(U3,[["__file","icon.vue"]]);const Ot=Ar(q3);/*! Element Plus Icons Vue v2.3.1 */var V3=xe({name:"ArrowDown",__name:"arrow-down",setup(e){return(t,r)=>(K(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[G("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"})]))}}),Qc=V3,H3=xe({name:"ArrowLeft",__name:"arrow-left",setup(e){return(t,r)=>(K(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[G("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"})]))}}),Cm=H3,z3=xe({name:"ArrowRight",__name:"arrow-right",setup(e){return(t,r)=>(K(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[G("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"})]))}}),vi=z3,W3=xe({name:"ArrowUp",__name:"arrow-up",setup(e){return(t,r)=>(K(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[G("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0"})]))}}),xm=W3,G3=xe({name:"Calendar",__name:"calendar",setup(e){return(t,r)=>(K(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[G("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64"})]))}}),K3=G3,Y3=xe({name:"Check",__name:"check",setup(e){return(t,r)=>(K(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[G("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"})]))}}),J3=Y3,X3=xe({name:"CircleCheck",__name:"circle-check",setup(e){return(t,r)=>(K(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[G("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),G("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"})]))}}),z_=X3,Q3=xe({name:"CircleCloseFilled",__name:"circle-close-filled",setup(e){return(t,r)=>(K(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[G("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}}),W_=Q3,Z3=xe({name:"CircleClose",__name:"circle-close",setup(e){return(t,r)=>(K(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[G("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),G("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),Nl=Z3,eN=xe({name:"Clock",__name:"clock",setup(e){return(t,r)=>(K(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[G("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),G("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32"}),G("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32"})]))}}),tN=eN,rN=xe({name:"Close",__name:"close",setup(e){return(t,r)=>(K(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[G("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),yi=rN,nN=xe({name:"DArrowLeft",__name:"d-arrow-left",setup(e){return(t,r)=>(K(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[G("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"})]))}}),ko=nN,sN=xe({name:"DArrowRight",__name:"d-arrow-right",setup(e){return(t,r)=>(K(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[G("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688m-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"})]))}}),Oo=sN,aN=xe({name:"Hide",__name:"hide",setup(e){return(t,r)=>(K(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[G("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"}),G("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"})]))}}),oN=aN,iN=xe({name:"InfoFilled",__name:"info-filled",setup(e){return(t,r)=>(K(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[G("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}}),G_=iN,lN=xe({name:"Loading",__name:"loading",setup(e){return(t,r)=>(K(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[G("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"})]))}}),Fl=lN,uN=xe({name:"Minus",__name:"minus",setup(e){return(t,r)=>(K(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[G("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64"})]))}}),cN=uN,dN=xe({name:"Plus",__name:"plus",setup(e){return(t,r)=>(K(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[G("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"})]))}}),fN=dN,pN=xe({name:"Search",__name:"search",setup(e){return(t,r)=>(K(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[G("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704"})]))}}),hN=pN,mN=xe({name:"SuccessFilled",__name:"success-filled",setup(e){return(t,r)=>(K(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[G("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),K_=mN,gN=xe({name:"View",__name:"view",setup(e){return(t,r)=>(K(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[G("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}}),vN=gN,yN=xe({name:"WarningFilled",__name:"warning-filled",setup(e){return(t,r)=>(K(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[G("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}}),Im=yN;const qs=Je([String,Object,Function]),bN={Close:yi},km={Close:yi,SuccessFilled:K_,InfoFilled:G_,WarningFilled:Im,CircleCloseFilled:W_},bi={success:K_,warning:Im,error:W_,info:G_},Y_={validating:Fl,success:z_,error:Nl},wN=["light","dark"],SN=vt({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:_m(bi),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:wN,default:"light"}}),_N=xe({...xe({name:"ElAlert"}),props:SN,emits:{close:e=>e instanceof MouseEvent},setup(e,{emit:t}){const r=e,{Close:n}=km,s=gs(),a=ct("alert"),o=ee(!0),i=W(()=>bi[r.type]),l=W(()=>!!(r.description||s.default)),c=u=>{o.value=!1,t("close",u)};return(u,d)=>(K(),Le(vs,{name:w(a).b("fade"),persisted:""},{default:ie(()=>[Vt(G("div",{class:Z([w(a).b(),w(a).m(u.type),w(a).is("center",u.center),w(a).is(u.effect)]),role:"alert"},[u.showIcon&&w(i)?(K(),Le(w(Ot),{key:0,class:Z([w(a).e("icon"),{[w(a).is("big")]:w(l)}])},{default:ie(()=>[(K(),Le(vr(w(i))))]),_:1},8,["class"])):Ee("v-if",!0),G("div",{class:Z(w(a).e("content"))},[u.title||u.$slots.title?(K(),ue("span",{key:0,class:Z([w(a).e("title"),{"with-description":w(l)}])},[Ne(u.$slots,"title",{},()=>[ot(ze(u.title),1)])],2)):Ee("v-if",!0),w(l)?(K(),ue("p",{key:1,class:Z(w(a).e("description"))},[Ne(u.$slots,"default",{},()=>[ot(ze(u.description),1)])],2)):Ee("v-if",!0),u.closable?(K(),ue(ht,{key:2},[u.closeText?(K(),ue("div",{key:0,class:Z([w(a).e("close-btn"),w(a).is("customed")]),onClick:c},ze(u.closeText),3)):(K(),Le(w(Ot),{key:1,class:Z(w(a).e("close-btn")),onClick:c},{default:ie(()=>[le(w(n))]),_:1},8,["class"]))],64)):Ee("v-if",!0)],2)],2),[[Pr,o.value]])]),_:3},8,["name"]))}});var TN=wt(_N,[["__file","alert.vue"]]);const CN=Ar(TN),J_=()=>ur&&/firefox/i.test(window.navigator.userAgent);let bs;const xN=`
  height:0 !important;
  visibility:hidden !important;
  ${J_()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,IN=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function kN(e){const t=window.getComputedStyle(e),r=t.getPropertyValue("box-sizing"),n=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),s=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:IN.map(o=>`${o}:${t.getPropertyValue(o)}`).join(";"),paddingSize:n,borderSize:s,boxSizing:r}}function X_(e,t=1,r){var n;bs||(bs=document.createElement("textarea"),document.body.appendChild(bs));const{paddingSize:s,borderSize:a,boxSizing:o,contextStyle:i}=kN(e);bs.setAttribute("style",`${i};${xN}`),bs.value=e.value||e.placeholder||"";let l=bs.scrollHeight;const c={};o==="border-box"?l=l+a:o==="content-box"&&(l=l-s),bs.value="";const u=bs.scrollHeight-s;if(Zt(t)){let d=u*t;o==="border-box"&&(d=d+s+a),l=Math.max(d,l),c.minHeight=`${d}px`}if(Zt(r)){let d=u*r;o==="border-box"&&(d=d+s+a),l=Math.min(d,l)}return c.height=`${l}px`,(n=bs.parentNode)==null||n.removeChild(bs),bs=void 0,c}const Q_=e=>e,ON=vt({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),_a=e=>oo(ON,e),PN=vt({id:{type:String,default:void 0},size:Sa,disabled:Boolean,modelValue:{type:Je([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:Je([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:qs},prefixIcon:{type:qs},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:Je([Object,Array,String]),default:()=>Q_({})},autofocus:Boolean,rows:{type:Number,default:2},..._a(["ariaLabel"])}),AN={[Br]:e=>yt(e),input:e=>yt(e),change:e=>yt(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},EN=["class","style"],$N=/^on[A-Z]/,Z_=(e={})=>{const{excludeListeners:t=!1,excludeKeys:r}=e,n=W(()=>((r==null?void 0:r.value)||[]).concat(EN)),s=Ht();return W(s?()=>{var a;return Nu(Object.entries((a=s.proxy)==null?void 0:a.$attrs).filter(([o])=>!n.value.includes(o)&&!(t&&$N.test(o))))}:()=>({}))},wi=Symbol("formContextKey"),Po=Symbol("formItemContextKey"),eT={prefix:Math.floor(Math.random()*1e4),current:0},RN=Symbol("elIdInjection"),tT=()=>Ht()?ft(RN,eT):eT,Vs=e=>{const t=tT(),r=vm();return o3(()=>w(e)||`${r.value}-id-${t.prefix}-${t.current++}`)},qa=()=>{const e=ft(wi,void 0),t=ft(Po,void 0);return{form:e,formItem:t}},Zc=(e,{formItemContext:t,disableIdGeneration:r,disableIdManagement:n})=>{r||(r=ee(!1)),n||(n=ee(!1));const s=ee();let a;const o=W(()=>{var i;return!!(!(e.label||e.ariaLabel)&&t&&t.inputIds&&((i=t.inputIds)==null?void 0:i.length)<=1)});return Kt(()=>{a=tt([Lr(e,"id"),r],([i,l])=>{const c=i??(l?void 0:Vs().value);c!==s.value&&(t!=null&&t.removeInputId&&(s.value&&t.removeInputId(s.value),!(n!=null&&n.value)&&!l&&c&&t.addInputId(c)),s.value=c)},{immediate:!0})}),go(()=>{a&&a(),t!=null&&t.removeInputId&&s.value&&t.removeInputId(s.value)}),{isLabeledByFormItem:o,inputId:s}},rT=e=>{const t=Ht();return W(()=>{var r,n;return(n=(r=t==null?void 0:t.proxy)==null?void 0:r.$props)==null?void 0:n[e]})},ws=(e,t={})=>{const r=ee(void 0),n=t.prop?r:rT("size"),s=t.global?r:E3(),a=t.form?{size:void 0}:ft(wi,void 0),o=t.formItem?{size:void 0}:ft(Po,void 0);return W(()=>n.value||w(e)||(o==null?void 0:o.size)||(a==null?void 0:a.size)||s.value||"")},Bl=e=>{const t=rT("disabled"),r=ft(wi,void 0);return W(()=>t.value||w(e)||(r==null?void 0:r.disabled)||!1)};function ed(e,{beforeFocus:t,afterFocus:r,beforeBlur:n,afterBlur:s}={}){const a=Ht(),{emit:o}=a,i=In(),l=ee(!1),c=m=>{et(t)&&t(m)||l.value||(l.value=!0,o("focus",m),r==null||r())},u=m=>{var b;et(n)&&n(m)||m.relatedTarget&&((b=i.value)!=null&&b.contains(m.relatedTarget))||(l.value=!1,o("blur",m),s==null||s())},d=()=>{var m,b;(m=i.value)!=null&&m.contains(document.activeElement)&&i.value!==document.activeElement||(b=e.value)==null||b.focus()};return tt(i,m=>{m&&m.setAttribute("tabindex","-1")}),es(i,"focus",c,!0),es(i,"blur",u,!0),es(i,"click",d,!0),{isFocused:l,wrapperRef:i,handleFocus:c,handleBlur:u}}const LN=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e);function nT({afterComposition:e,emit:t}){const r=ee(!1),n=i=>{t==null||t("compositionstart",i),r.value=!0},s=i=>{var l;t==null||t("compositionupdate",i);const c=(l=i.target)==null?void 0:l.value,u=c[c.length-1]||"";r.value=!LN(u)},a=i=>{t==null||t("compositionend",i),r.value&&(r.value=!1,xt(()=>e(i)))};return{isComposing:r,handleComposition:i=>{i.type==="compositionend"?a(i):s(i)},handleCompositionStart:n,handleCompositionUpdate:s,handleCompositionEnd:a}}function MN(e){let t;function r(){if(e.value==null)return;const{selectionStart:s,selectionEnd:a,value:o}=e.value;if(s==null||a==null)return;const i=o.slice(0,Math.max(0,s)),l=o.slice(Math.max(0,a));t={selectionStart:s,selectionEnd:a,value:o,beforeTxt:i,afterTxt:l}}function n(){if(e.value==null||t==null)return;const{value:s}=e.value,{beforeTxt:a,afterTxt:o,selectionStart:i}=t;if(a==null||o==null||i==null)return;let l=s.length;if(s.endsWith(o))l=s.length-o.length;else if(s.startsWith(a))l=a.length;else{const c=a[i-1],u=s.indexOf(c,i-1);u!==-1&&(l=u+1)}e.value.setSelectionRange(l,l)}return[r,n]}const DN=xe({...xe({name:"ElInput",inheritAttrs:!1}),props:PN,emits:AN,setup(e,{expose:t,emit:r}){const n=e,s=wc(),a=Z_(),o=gs(),i=W(()=>[n.type==="textarea"?h.b():g.b(),g.m(m.value),g.is("disabled",b.value),g.is("exceed",ae.value),{[g.b("group")]:o.prepend||o.append,[g.m("prefix")]:o.prefix||n.prefixIcon,[g.m("suffix")]:o.suffix||n.suffixIcon||n.clearable||n.showPassword,[g.bm("suffix","password-clear")]:L.value&&D.value,[g.b("hidden")]:n.type==="hidden"},s.class]),l=W(()=>[g.e("wrapper"),g.is("focus",P.value)]),{form:c,formItem:u}=qa(),{inputId:d}=Zc(n,{formItemContext:u}),m=ws(),b=Bl(),g=ct("input"),h=ct("textarea"),v=In(),y=In(),C=ee(!1),_=ee(!1),S=ee(),x=In(n.inputStyle),I=W(()=>v.value||y.value),{wrapperRef:f,isFocused:P,handleFocus:$,handleBlur:q}=ed(I,{beforeFocus(){return b.value},afterBlur(){var ye;n.validateEvent&&((ye=u==null?void 0:u.validate)==null||ye.call(u,"blur").catch(Ce=>void 0))}}),E=W(()=>{var ye;return(ye=c==null?void 0:c.statusIcon)!=null?ye:!1}),M=W(()=>(u==null?void 0:u.validateState)||""),F=W(()=>M.value&&Y_[M.value]),N=W(()=>_.value?vN:oN),R=W(()=>[s.style]),H=W(()=>[n.inputStyle,x.value,{resize:n.resize}]),U=W(()=>$s(n.modelValue)?"":String(n.modelValue)),L=W(()=>n.clearable&&!b.value&&!n.readonly&&!!U.value&&(P.value||C.value)),D=W(()=>n.showPassword&&!b.value&&!!U.value&&(!!U.value||P.value)),Y=W(()=>n.showWordLimit&&!!n.maxlength&&(n.type==="text"||n.type==="textarea")&&!b.value&&!n.readonly&&!n.showPassword),Q=W(()=>U.value.length),ae=W(()=>!!Y.value&&Q.value>Number(n.maxlength)),ne=W(()=>!!o.suffix||!!n.suffixIcon||L.value||n.showPassword||Y.value||!!M.value&&E.value),[he,ve]=MN(v);jn(y,ye=>{if(Te(),!Y.value||n.resize!=="both")return;const Ce=ye[0],{width:it}=Ce.contentRect;S.value={right:`calc(100% - ${it+15+6}px)`}});const We=()=>{const{type:ye,autosize:Ce}=n;if(!(!ur||ye!=="textarea"||!y.value))if(Ce){const it=Lt(Ce)?Ce.minRows:void 0,Et=Lt(Ce)?Ce.maxRows:void 0,bt=X_(y.value,it,Et);x.value={overflowY:"hidden",...bt},xt(()=>{y.value.offsetHeight,x.value=bt})}else x.value={minHeight:X_(y.value).minHeight}},Te=(ye=>{let Ce=!1;return()=>{var it;if(Ce||!n.autosize)return;((it=y.value)==null?void 0:it.offsetParent)===null||(ye(),Ce=!0)}})(We),He=()=>{const ye=I.value,Ce=n.formatter?n.formatter(U.value):U.value;!ye||ye.value===Ce||(ye.value=Ce)},Me=async ye=>{he();let{value:Ce}=ye.target;if(n.formatter&&(Ce=n.parser?n.parser(Ce):Ce),!X.value){if(Ce===U.value){He();return}r(Br,Ce),r("input",Ce),await xt(),He(),ve()}},rt=ye=>{r("change",ye.target.value)},{isComposing:X,handleCompositionStart:re,handleCompositionUpdate:ge,handleCompositionEnd:Re}=nT({emit:r,afterComposition:Me}),_e=()=>{he(),_.value=!_.value,setTimeout(ve)},ke=()=>{var ye;return(ye=I.value)==null?void 0:ye.focus()},qe=()=>{var ye;return(ye=I.value)==null?void 0:ye.blur()},Pe=ye=>{C.value=!1,r("mouseleave",ye)},De=ye=>{C.value=!0,r("mouseenter",ye)},$e=ye=>{r("keydown",ye)},st=()=>{var ye;(ye=I.value)==null||ye.select()},Ke=()=>{r(Br,""),r("change",""),r("clear"),r("input","")};return tt(()=>n.modelValue,()=>{var ye;xt(()=>We()),n.validateEvent&&((ye=u==null?void 0:u.validate)==null||ye.call(u,"change").catch(Ce=>void 0))}),tt(U,()=>He()),tt(()=>n.type,async()=>{await xt(),He(),We()}),Kt(()=>{!n.formatter&&n.parser,He(),xt(We)}),t({input:v,textarea:y,ref:I,textareaStyle:H,autosize:Lr(n,"autosize"),isComposing:X,focus:ke,blur:qe,select:st,clear:Ke,resizeTextarea:We}),(ye,Ce)=>(K(),ue("div",{class:Z([w(i),{[w(g).bm("group","append")]:ye.$slots.append,[w(g).bm("group","prepend")]:ye.$slots.prepend}]),style:jt(w(R)),onMouseenter:De,onMouseleave:Pe},[Ee(" input "),ye.type!=="textarea"?(K(),ue(ht,{key:0},[Ee(" prepend slot "),ye.$slots.prepend?(K(),ue("div",{key:0,class:Z(w(g).be("group","prepend"))},[Ne(ye.$slots,"prepend")],2)):Ee("v-if",!0),G("div",{ref_key:"wrapperRef",ref:f,class:Z(w(l))},[Ee(" prefix slot "),ye.$slots.prefix||ye.prefixIcon?(K(),ue("span",{key:0,class:Z(w(g).e("prefix"))},[G("span",{class:Z(w(g).e("prefix-inner"))},[Ne(ye.$slots,"prefix"),ye.prefixIcon?(K(),Le(w(Ot),{key:0,class:Z(w(g).e("icon"))},{default:ie(()=>[(K(),Le(vr(ye.prefixIcon)))]),_:1},8,["class"])):Ee("v-if",!0)],2)],2)):Ee("v-if",!0),G("input",ln({id:w(d),ref_key:"input",ref:v,class:w(g).e("inner")},w(a),{minlength:ye.minlength,maxlength:ye.maxlength,type:ye.showPassword?_.value?"text":"password":ye.type,disabled:w(b),readonly:ye.readonly,autocomplete:ye.autocomplete,tabindex:ye.tabindex,"aria-label":ye.ariaLabel,placeholder:ye.placeholder,style:ye.inputStyle,form:ye.form,autofocus:ye.autofocus,role:ye.containerRole,onCompositionstart:w(re),onCompositionupdate:w(ge),onCompositionend:w(Re),onInput:Me,onChange:rt,onKeydown:$e}),null,16,["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","onCompositionstart","onCompositionupdate","onCompositionend"]),Ee(" suffix slot "),w(ne)?(K(),ue("span",{key:1,class:Z(w(g).e("suffix"))},[G("span",{class:Z(w(g).e("suffix-inner"))},[!w(L)||!w(D)||!w(Y)?(K(),ue(ht,{key:0},[Ne(ye.$slots,"suffix"),ye.suffixIcon?(K(),Le(w(Ot),{key:0,class:Z(w(g).e("icon"))},{default:ie(()=>[(K(),Le(vr(ye.suffixIcon)))]),_:1},8,["class"])):Ee("v-if",!0)],64)):Ee("v-if",!0),w(L)?(K(),Le(w(Ot),{key:1,class:Z([w(g).e("icon"),w(g).e("clear")]),onMousedown:$t(w(Nr),["prevent"]),onClick:Ke},{default:ie(()=>[le(w(Nl))]),_:1},8,["class","onMousedown"])):Ee("v-if",!0),w(D)?(K(),Le(w(Ot),{key:2,class:Z([w(g).e("icon"),w(g).e("password")]),onClick:_e},{default:ie(()=>[(K(),Le(vr(w(N))))]),_:1},8,["class"])):Ee("v-if",!0),w(Y)?(K(),ue("span",{key:3,class:Z(w(g).e("count"))},[G("span",{class:Z(w(g).e("count-inner"))},ze(w(Q))+" / "+ze(ye.maxlength),3)],2)):Ee("v-if",!0),w(M)&&w(F)&&w(E)?(K(),Le(w(Ot),{key:4,class:Z([w(g).e("icon"),w(g).e("validateIcon"),w(g).is("loading",w(M)==="validating")])},{default:ie(()=>[(K(),Le(vr(w(F))))]),_:1},8,["class"])):Ee("v-if",!0)],2)],2)):Ee("v-if",!0)],2),Ee(" append slot "),ye.$slots.append?(K(),ue("div",{key:1,class:Z(w(g).be("group","append"))},[Ne(ye.$slots,"append")],2)):Ee("v-if",!0)],64)):(K(),ue(ht,{key:1},[Ee(" textarea "),G("textarea",ln({id:w(d),ref_key:"textarea",ref:y,class:[w(h).e("inner"),w(g).is("focus",w(P))]},w(a),{minlength:ye.minlength,maxlength:ye.maxlength,tabindex:ye.tabindex,disabled:w(b),readonly:ye.readonly,autocomplete:ye.autocomplete,style:w(H),"aria-label":ye.ariaLabel,placeholder:ye.placeholder,form:ye.form,autofocus:ye.autofocus,rows:ye.rows,role:ye.containerRole,onCompositionstart:w(re),onCompositionupdate:w(ge),onCompositionend:w(Re),onInput:Me,onFocus:w($),onBlur:w(q),onChange:rt,onKeydown:$e}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),w(Y)?(K(),ue("span",{key:0,style:jt(S.value),class:Z(w(g).e("count"))},ze(w(Q))+" / "+ze(ye.maxlength),7)):Ee("v-if",!0)],64))],38))}});var NN=wt(DN,[["__file","input.vue"]]);const Ta=Ar(NN),Si=4,FN={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},BN=({move:e,size:t,bar:r})=>({[r.size]:t,transform:`translate${r.axis}(${e}%)`}),Om=Symbol("scrollbarContextKey"),jN=vt({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),UN="Thumb";var sT=wt(xe({__name:"thumb",props:jN,setup(e){const t=e,r=ft(Om),n=ct("scrollbar");r||Ml(UN,"can not inject scrollbar context");const s=ee(),a=ee(),o=ee({}),i=ee(!1);let l=!1,c=!1,u=ur?document.onselectstart:null;const d=W(()=>FN[t.vertical?"vertical":"horizontal"]),m=W(()=>BN({size:t.size,move:t.move,bar:d.value})),b=W(()=>s.value[d.value.offset]**2/r.wrapElement[d.value.scrollSize]/t.ratio/a.value[d.value.offset]),g=I=>{var f;if(I.stopPropagation(),I.ctrlKey||[1,2].includes(I.button))return;(f=window.getSelection())==null||f.removeAllRanges(),v(I);const P=I.currentTarget;P&&(o.value[d.value.axis]=P[d.value.offset]-(I[d.value.client]-P.getBoundingClientRect()[d.value.direction]))},h=I=>{if(!a.value||!s.value||!r.wrapElement)return;const f=Math.abs(I.target.getBoundingClientRect()[d.value.direction]-I[d.value.client]),P=a.value[d.value.offset]/2,$=(f-P)*100*b.value/s.value[d.value.offset];r.wrapElement[d.value.scroll]=$*r.wrapElement[d.value.scrollSize]/100},v=I=>{I.stopImmediatePropagation(),l=!0,document.addEventListener("mousemove",y),document.addEventListener("mouseup",C),u=document.onselectstart,document.onselectstart=()=>!1},y=I=>{if(!s.value||!a.value||l===!1)return;const f=o.value[d.value.axis];if(!f)return;const P=(s.value.getBoundingClientRect()[d.value.direction]-I[d.value.client])*-1,$=a.value[d.value.offset]-f,q=(P-$)*100*b.value/s.value[d.value.offset];r.wrapElement[d.value.scroll]=q*r.wrapElement[d.value.scrollSize]/100},C=()=>{l=!1,o.value[d.value.axis]=0,document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",C),x(),c&&(i.value=!1)},_=()=>{c=!1,i.value=!!t.size},S=()=>{c=!0,i.value=l};Fr(()=>{x(),document.removeEventListener("mouseup",C)});const x=()=>{document.onselectstart!==u&&(document.onselectstart=u)};return es(Lr(r,"scrollbarElement"),"mousemove",_),es(Lr(r,"scrollbarElement"),"mouseleave",S),(I,f)=>(K(),Le(vs,{name:w(n).b("fade"),persisted:""},{default:ie(()=>[Vt(G("div",{ref_key:"instance",ref:s,class:Z([w(n).e("bar"),w(n).is(w(d).key)]),onMousedown:h},[G("div",{ref_key:"thumb",ref:a,class:Z(w(n).e("thumb")),style:jt(w(m)),onMousedown:g},null,38)],34),[[Pr,I.always||i.value]])]),_:1},8,["name"]))}}),[["__file","thumb.vue"]]);const qN=vt({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}});var VN=wt(xe({__name:"bar",props:qN,setup(e,{expose:t}){const r=e,n=ft(Om),s=ee(0),a=ee(0),o=ee(""),i=ee(""),l=ee(1),c=ee(1);return t({handleScroll:m=>{if(m){const b=m.offsetHeight-Si,g=m.offsetWidth-Si;a.value=m.scrollTop*100/b*l.value,s.value=m.scrollLeft*100/g*c.value}},update:()=>{const m=n==null?void 0:n.wrapElement;if(!m)return;const b=m.offsetHeight-Si,g=m.offsetWidth-Si,h=b**2/m.scrollHeight,v=g**2/m.scrollWidth,y=Math.max(h,r.minSize),C=Math.max(v,r.minSize);l.value=h/(b-h)/(y/(b-y)),c.value=v/(g-v)/(C/(g-C)),i.value=y+Si<b?`${y}px`:"",o.value=C+Si<g?`${C}px`:""}}),(m,b)=>(K(),ue(ht,null,[le(sT,{move:s.value,ratio:c.value,size:o.value,always:m.always},null,8,["move","ratio","size","always"]),le(sT,{move:a.value,ratio:l.value,size:i.value,vertical:"",always:m.always},null,8,["move","ratio","size","always"])],64))}}),[["__file","bar.vue"]]);const HN=vt({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:Je([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String,..._a(["ariaLabel","ariaOrientation"])}),zN=xe({...xe({name:"ElScrollbar"}),props:HN,emits:{scroll:({scrollTop:e,scrollLeft:t})=>[e,t].every(Zt)},setup(e,{expose:t,emit:r}){const n=e,s=ct("scrollbar");let a,o,i=0,l=0;const c=ee(),u=ee(),d=ee(),m=ee(),b=W(()=>{const x={};return n.height&&(x.height=Un(n.height)),n.maxHeight&&(x.maxHeight=Un(n.maxHeight)),[n.wrapStyle,x]}),g=W(()=>[n.wrapClass,s.e("wrap"),{[s.em("wrap","hidden-default")]:!n.native}]),h=W(()=>[s.e("view"),n.viewClass]),v=()=>{var x;u.value&&((x=m.value)==null||x.handleScroll(u.value),i=u.value.scrollTop,l=u.value.scrollLeft,r("scroll",{scrollTop:u.value.scrollTop,scrollLeft:u.value.scrollLeft}))};function y(x,I){Lt(x)?u.value.scrollTo(x):Zt(x)&&Zt(I)&&u.value.scrollTo(x,I)}const C=x=>{Zt(x)&&(u.value.scrollTop=x)},_=x=>{Zt(x)&&(u.value.scrollLeft=x)},S=()=>{var x;(x=m.value)==null||x.update()};return tt(()=>n.noresize,x=>{x?(a==null||a(),o==null||o()):({stop:a}=jn(d,S),o=es("resize",S))},{immediate:!0}),tt(()=>[n.maxHeight,n.height],()=>{n.native||xt(()=>{var x;S(),u.value&&((x=m.value)==null||x.handleScroll(u.value))})}),Mr(Om,Zr({scrollbarElement:c,wrapElement:u})),x1(()=>{u.value&&(u.value.scrollTop=i,u.value.scrollLeft=l)}),Kt(()=>{n.native||xt(()=>{S()})}),ui(()=>S()),t({wrapRef:u,update:S,scrollTo:y,setScrollTop:C,setScrollLeft:_,handleScroll:v}),(x,I)=>(K(),ue("div",{ref_key:"scrollbarRef",ref:c,class:Z(w(s).b())},[G("div",{ref_key:"wrapRef",ref:u,class:Z(w(g)),style:jt(w(b)),tabindex:x.tabindex,onScroll:v},[(K(),Le(vr(x.tag),{id:x.id,ref_key:"resizeRef",ref:d,class:Z(w(h)),style:jt(x.viewStyle),role:x.role,"aria-label":x.ariaLabel,"aria-orientation":x.ariaOrientation},{default:ie(()=>[Ne(x.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,["tabindex"]),x.native?Ee("v-if",!0):(K(),Le(VN,{key:0,ref_key:"barRef",ref:m,always:x.always,"min-size":x.minSize},null,8,["always","min-size"]))],2))}});var WN=wt(zN,[["__file","scrollbar.vue"]]);const td=Ar(WN),Pm=Symbol("popper"),aT=Symbol("popperContent"),oT=vt({role:{type:String,values:["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],default:"tooltip"}}),GN=xe({...xe({name:"ElPopper",inheritAttrs:!1}),props:oT,setup(e,{expose:t}){const r=e,n=ee(),s=ee(),a=ee(),o=ee(),i=W(()=>r.role),l={triggerRef:n,popperInstanceRef:s,contentRef:a,referenceRef:o,role:i};return t(l),Mr(Pm,l),(c,u)=>Ne(c.$slots,"default")}});var KN=wt(GN,[["__file","popper.vue"]]);const iT=vt({arrowOffset:{type:Number,default:5}}),YN=xe({...xe({name:"ElPopperArrow",inheritAttrs:!1}),props:iT,setup(e,{expose:t}){const r=e,n=ct("popper"),{arrowOffset:s,arrowRef:a,arrowStyle:o}=ft(aT,void 0);return tt(()=>r.arrowOffset,i=>{s.value=i}),Fr(()=>{a.value=void 0}),t({arrowRef:a}),(i,l)=>(K(),ue("span",{ref_key:"arrowRef",ref:a,class:Z(w(n).e("arrow")),style:jt(w(o)),"data-popper-arrow":""},null,6))}});var JN=wt(YN,[["__file","arrow.vue"]]);const lT=vt({virtualRef:{type:Je(Object)},virtualTriggering:Boolean,onMouseenter:{type:Je(Function)},onMouseleave:{type:Je(Function)},onClick:{type:Je(Function)},onKeydown:{type:Je(Function)},onFocus:{type:Je(Function)},onBlur:{type:Je(Function)},onContextmenu:{type:Je(Function)},id:String,open:Boolean}),uT=Symbol("elForwardRef"),XN=e=>{Mr(uT,{setForwardRef:r=>{e.value=r}})},QN=e=>({mounted(t){e(t)},updated(t){e(t)},unmounted(){e(null)}}),ZN='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',e4=e=>getComputedStyle(e).position==="fixed"?!1:e.offsetParent!==null,cT=e=>Array.from(e.querySelectorAll(ZN)).filter(t=>rd(t)&&e4(t)),rd=e=>{if(e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null)return!0;if(e.tabIndex<0||e.hasAttribute("disabled")||e.getAttribute("aria-disabled")==="true")return!1;switch(e.nodeName){case"A":return!!e.href&&e.rel!=="ignore";case"INPUT":return!(e.type==="hidden"||e.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},t4=xe({name:"ElOnlyChild",setup(e,{slots:t,attrs:r}){var n;const s=ft(uT),a=QN((n=s==null?void 0:s.setForwardRef)!=null?n:Nr);return()=>{var o;const i=(o=t.default)==null?void 0:o.call(t,r);if(!i||i.length>1)return null;const l=dT(i);return l?Vt(ba(l,r),[[a]]):null}}});function dT(e){if(!e)return null;const t=e;for(const r of t){if(Lt(r))switch(r.type){case en:continue;case di:case"svg":return fT(r);case ht:return dT(r.children);default:return r}return fT(r)}return null}function fT(e){const t=ct("only-child");return le("span",{class:t.e("content")},[e])}const r4=xe({...xe({name:"ElPopperTrigger",inheritAttrs:!1}),props:lT,setup(e,{expose:t}){const r=e,{role:n,triggerRef:s}=ft(Pm,void 0);XN(s);const a=W(()=>i.value?r.id:void 0),o=W(()=>{if(n&&n.value==="tooltip")return r.open&&r.id?r.id:void 0}),i=W(()=>{if(n&&n.value!=="tooltip")return n.value}),l=W(()=>i.value?`${r.open}`:void 0);let c;const u=["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"];return Kt(()=>{tt(()=>r.virtualRef,d=>{d&&(s.value=js(d))},{immediate:!0}),tt(s,(d,m)=>{c==null||c(),c=void 0,Zn(d)&&(u.forEach(b=>{var g;const h=r[b];h&&(d.addEventListener(b.slice(2).toLowerCase(),h),(g=m==null?void 0:m.removeEventListener)==null||g.call(m,b.slice(2).toLowerCase(),h))}),rd(d)&&(c=tt([a,o,i,l],b=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((g,h)=>{$s(b[h])?d.removeAttribute(g):d.setAttribute(g,b[h])})},{immediate:!0}))),Zn(m)&&rd(m)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(b=>m.removeAttribute(b))},{immediate:!0})}),Fr(()=>{if(c==null||c(),c=void 0,s.value&&Zn(s.value)){const d=s.value;u.forEach(m=>{const b=r[m];b&&d.removeEventListener(m.slice(2).toLowerCase(),b)}),s.value=void 0}}),t({triggerRef:s}),(d,m)=>d.virtualTriggering?Ee("v-if",!0):(K(),Le(w(t4),ln({key:0},d.$attrs,{"aria-controls":w(a),"aria-describedby":w(o),"aria-expanded":w(l),"aria-haspopup":w(i)}),{default:ie(()=>[Ne(d.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var n4=wt(r4,[["__file","trigger.vue"]]);const Am="focus-trap.focus-after-trapped",Em="focus-trap.focus-after-released",s4="focus-trap.focusout-prevented",pT={cancelable:!0,bubbles:!1},a4={cancelable:!0,bubbles:!1},hT="focusAfterTrapped",mT="focusAfterReleased",gT=Symbol("elFocusTrap"),$m=ee(),nd=ee(0),Rm=ee(0);let sd=0;const vT=e=>{const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0||n===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t},yT=(e,t)=>{for(const r of e)if(!o4(r,t))return r},o4=(e,t)=>{if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1},i4=e=>{const t=vT(e),r=yT(t,e),n=yT(t.reverse(),e);return[r,n]},l4=e=>e instanceof HTMLInputElement&&"select"in e,Ca=(e,t)=>{if(e&&e.focus){const r=document.activeElement;let n=!1;Zn(e)&&!rd(e)&&!e.getAttribute("tabindex")&&(e.setAttribute("tabindex","-1"),n=!0),e.focus({preventScroll:!0}),Rm.value=window.performance.now(),e!==r&&l4(e)&&t&&e.select(),Zn(e)&&n&&e.removeAttribute("tabindex")}};function bT(e,t){const r=[...e],n=e.indexOf(t);return n!==-1&&r.splice(n,1),r}const u4=()=>{let e=[];return{push:n=>{const s=e[0];s&&n!==s&&s.pause(),e=bT(e,n),e.unshift(n)},remove:n=>{var s,a;e=bT(e,n),(a=(s=e[0])==null?void 0:s.resume)==null||a.call(s)}}},c4=(e,t=!1)=>{const r=document.activeElement;for(const n of e)if(Ca(n,t),document.activeElement!==r)return},wT=u4(),d4=()=>nd.value>Rm.value,ad=()=>{$m.value="pointer",nd.value=window.performance.now()},ST=()=>{$m.value="keyboard",nd.value=window.performance.now()},f4=()=>(Kt(()=>{sd===0&&(document.addEventListener("mousedown",ad),document.addEventListener("touchstart",ad),document.addEventListener("keydown",ST)),sd++}),Fr(()=>{sd--,sd<=0&&(document.removeEventListener("mousedown",ad),document.removeEventListener("touchstart",ad),document.removeEventListener("keydown",ST))}),{focusReason:$m,lastUserFocusTimestamp:nd,lastAutomatedFocusTimestamp:Rm}),od=e=>new CustomEvent(s4,{...a4,detail:e}),cr={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"};let _i=[];const _T=e=>{e.code===cr.esc&&_i.forEach(t=>t(e))},p4=e=>{Kt(()=>{_i.length===0&&document.addEventListener("keydown",_T),ur&&_i.push(e)}),Fr(()=>{_i=_i.filter(t=>t!==e),_i.length===0&&ur&&document.removeEventListener("keydown",_T)})},h4=xe({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[hT,mT,"focusin","focusout","focusout-prevented","release-requested"],setup(e,{emit:t}){const r=ee();let n,s;const{focusReason:a}=f4();p4(g=>{e.trapped&&!o.paused&&t("release-requested",g)});const o={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},i=g=>{if(!e.loop&&!e.trapped||o.paused)return;const{code:h,altKey:v,ctrlKey:y,metaKey:C,currentTarget:_,shiftKey:S}=g,{loop:x}=e,I=h===cr.tab&&!v&&!y&&!C,f=document.activeElement;if(I&&f){const P=_,[$,q]=i4(P);if($&&q){if(!S&&f===q){const M=od({focusReason:a.value});t("focusout-prevented",M),M.defaultPrevented||(g.preventDefault(),x&&Ca($,!0))}else if(S&&[$,P].includes(f)){const M=od({focusReason:a.value});t("focusout-prevented",M),M.defaultPrevented||(g.preventDefault(),x&&Ca(q,!0))}}else if(f===P){const M=od({focusReason:a.value});t("focusout-prevented",M),M.defaultPrevented||g.preventDefault()}}};Mr(gT,{focusTrapRef:r,onKeydown:i}),tt(()=>e.focusTrapEl,g=>{g&&(r.value=g)},{immediate:!0}),tt([r],([g],[h])=>{g&&(g.addEventListener("keydown",i),g.addEventListener("focusin",u),g.addEventListener("focusout",d)),h&&(h.removeEventListener("keydown",i),h.removeEventListener("focusin",u),h.removeEventListener("focusout",d))});const l=g=>{t(hT,g)},c=g=>t(mT,g),u=g=>{const h=w(r);if(!h)return;const v=g.target,y=g.relatedTarget,C=v&&h.contains(v);e.trapped||y&&h.contains(y)||(n=y),C&&t("focusin",g),!o.paused&&e.trapped&&(C?s=v:Ca(s,!0))},d=g=>{const h=w(r);if(!(o.paused||!h))if(e.trapped){const v=g.relatedTarget;!$s(v)&&!h.contains(v)&&setTimeout(()=>{if(!o.paused&&e.trapped){const y=od({focusReason:a.value});t("focusout-prevented",y),y.defaultPrevented||Ca(s,!0)}},0)}else{const v=g.target;v&&h.contains(v)||t("focusout",g)}};async function m(){await xt();const g=w(r);if(g){wT.push(o);const h=g.contains(document.activeElement)?n:document.activeElement;if(n=h,!g.contains(h)){const y=new Event(Am,pT);g.addEventListener(Am,l),g.dispatchEvent(y),y.defaultPrevented||xt(()=>{let C=e.focusStartEl;yt(C)||(Ca(C),document.activeElement!==C&&(C="first")),C==="first"&&c4(vT(g),!0),(document.activeElement===h||C==="container")&&Ca(g)})}}}function b(){const g=w(r);if(g){g.removeEventListener(Am,l);const h=new CustomEvent(Em,{...pT,detail:{focusReason:a.value}});g.addEventListener(Em,c),g.dispatchEvent(h),!h.defaultPrevented&&(a.value=="keyboard"||!d4()||g.contains(document.activeElement))&&Ca(n??document.body),g.removeEventListener(Em,c),wT.remove(o)}}return Kt(()=>{e.trapped&&m(),tt(()=>e.trapped,g=>{g?m():b()})}),Fr(()=>{e.trapped&&b(),r.value&&(r.value.removeEventListener("keydown",i),r.value.removeEventListener("focusin",u),r.value.removeEventListener("focusout",d),r.value=void 0)}),{onKeydown:i}}});function m4(e,t,r,n,s,a){return Ne(e.$slots,"default",{handleKeydown:e.onKeydown})}var id=wt(h4,[["render",m4],["__file","focus-trap.vue"]]),On="top",ts="bottom",rs="right",Pn="left",Lm="auto",jl=[On,ts,rs,Pn],Ti="start",Ul="end",g4="clippingParents",TT="viewport",ql="popper",v4="reference",CT=jl.reduce(function(e,t){return e.concat([t+"-"+Ti,t+"-"+Ul])},[]),Vl=[].concat(jl,[Lm]).reduce(function(e,t){return e.concat([t,t+"-"+Ti,t+"-"+Ul])},[]),y4="beforeRead",b4="read",w4="afterRead",S4="beforeMain",_4="main",T4="afterMain",C4="beforeWrite",x4="write",I4="afterWrite",k4=[y4,b4,w4,S4,_4,T4,C4,x4,I4];function Hs(e){return e?(e.nodeName||"").toLowerCase():null}function Ss(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Ci(e){var t=Ss(e).Element;return e instanceof t||e instanceof Element}function ns(e){var t=Ss(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Mm(e){if(typeof ShadowRoot>"u")return!1;var t=Ss(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function O4(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var n=t.styles[r]||{},s=t.attributes[r]||{},a=t.elements[r];!ns(a)||!Hs(a)||(Object.assign(a.style,n),Object.keys(s).forEach(function(o){var i=s[o];i===!1?a.removeAttribute(o):a.setAttribute(o,i===!0?"":i)}))})}function P4(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(n){var s=t.elements[n],a=t.attributes[n]||{},o=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:r[n]),i=o.reduce(function(l,c){return l[c]="",l},{});!ns(s)||!Hs(s)||(Object.assign(s.style,i),Object.keys(a).forEach(function(l){s.removeAttribute(l)}))})}}var xT={name:"applyStyles",enabled:!0,phase:"write",fn:O4,effect:P4,requires:["computeStyles"]};function zs(e){return e.split("-")[0]}var Ao=Math.max,ld=Math.min,xi=Math.round;function Ii(e,t){t===void 0&&(t=!1);var r=e.getBoundingClientRect(),n=1,s=1;if(ns(e)&&t){var a=e.offsetHeight,o=e.offsetWidth;o>0&&(n=xi(r.width)/o||1),a>0&&(s=xi(r.height)/a||1)}return{width:r.width/n,height:r.height/s,top:r.top/s,right:r.right/n,bottom:r.bottom/s,left:r.left/n,x:r.left/n,y:r.top/s}}function Dm(e){var t=Ii(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function IT(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&Mm(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function xa(e){return Ss(e).getComputedStyle(e)}function A4(e){return["table","td","th"].indexOf(Hs(e))>=0}function Va(e){return((Ci(e)?e.ownerDocument:e.document)||window.document).documentElement}function ud(e){return Hs(e)==="html"?e:e.assignedSlot||e.parentNode||(Mm(e)?e.host:null)||Va(e)}function kT(e){return!ns(e)||xa(e).position==="fixed"?null:e.offsetParent}function E4(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,r=navigator.userAgent.indexOf("Trident")!==-1;if(r&&ns(e)){var n=xa(e);if(n.position==="fixed")return null}var s=ud(e);for(Mm(s)&&(s=s.host);ns(s)&&["html","body"].indexOf(Hs(s))<0;){var a=xa(s);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||t&&a.willChange==="filter"||t&&a.filter&&a.filter!=="none")return s;s=s.parentNode}return null}function Hl(e){for(var t=Ss(e),r=kT(e);r&&A4(r)&&xa(r).position==="static";)r=kT(r);return r&&(Hs(r)==="html"||Hs(r)==="body"&&xa(r).position==="static")?t:r||E4(e)||t}function Nm(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function zl(e,t,r){return Ao(e,ld(t,r))}function $4(e,t,r){var n=zl(e,t,r);return n>r?r:n}function OT(){return{top:0,right:0,bottom:0,left:0}}function PT(e){return Object.assign({},OT(),e)}function AT(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var R4=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,PT(typeof e!="number"?e:AT(e,jl))};function L4(e){var t,r=e.state,n=e.name,s=e.options,a=r.elements.arrow,o=r.modifiersData.popperOffsets,i=zs(r.placement),l=Nm(i),c=[Pn,rs].indexOf(i)>=0,u=c?"height":"width";if(!(!a||!o)){var d=R4(s.padding,r),m=Dm(a),b=l==="y"?On:Pn,g=l==="y"?ts:rs,h=r.rects.reference[u]+r.rects.reference[l]-o[l]-r.rects.popper[u],v=o[l]-r.rects.reference[l],y=Hl(a),C=y?l==="y"?y.clientHeight||0:y.clientWidth||0:0,_=h/2-v/2,S=d[b],x=C-m[u]-d[g],I=C/2-m[u]/2+_,f=zl(S,I,x),P=l;r.modifiersData[n]=(t={},t[P]=f,t.centerOffset=f-I,t)}}function M4(e){var t=e.state,r=e.options,n=r.element,s=n===void 0?"[data-popper-arrow]":n;s!=null&&(typeof s=="string"&&(s=t.elements.popper.querySelector(s),!s)||!IT(t.elements.popper,s)||(t.elements.arrow=s))}var D4={name:"arrow",enabled:!0,phase:"main",fn:L4,effect:M4,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ki(e){return e.split("-")[1]}var N4={top:"auto",right:"auto",bottom:"auto",left:"auto"};function F4(e){var t=e.x,r=e.y,n=window,s=n.devicePixelRatio||1;return{x:xi(t*s)/s||0,y:xi(r*s)/s||0}}function ET(e){var t,r=e.popper,n=e.popperRect,s=e.placement,a=e.variation,o=e.offsets,i=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,m=o.x,b=m===void 0?0:m,g=o.y,h=g===void 0?0:g,v=typeof u=="function"?u({x:b,y:h}):{x:b,y:h};b=v.x,h=v.y;var y=o.hasOwnProperty("x"),C=o.hasOwnProperty("y"),_=Pn,S=On,x=window;if(c){var I=Hl(r),f="clientHeight",P="clientWidth";if(I===Ss(r)&&(I=Va(r),xa(I).position!=="static"&&i==="absolute"&&(f="scrollHeight",P="scrollWidth")),I=I,s===On||(s===Pn||s===rs)&&a===Ul){S=ts;var $=d&&I===x&&x.visualViewport?x.visualViewport.height:I[f];h-=$-n.height,h*=l?1:-1}if(s===Pn||(s===On||s===ts)&&a===Ul){_=rs;var q=d&&I===x&&x.visualViewport?x.visualViewport.width:I[P];b-=q-n.width,b*=l?1:-1}}var E=Object.assign({position:i},c&&N4),M=u===!0?F4({x:b,y:h}):{x:b,y:h};if(b=M.x,h=M.y,l){var F;return Object.assign({},E,(F={},F[S]=C?"0":"",F[_]=y?"0":"",F.transform=(x.devicePixelRatio||1)<=1?"translate("+b+"px, "+h+"px)":"translate3d("+b+"px, "+h+"px, 0)",F))}return Object.assign({},E,(t={},t[S]=C?h+"px":"",t[_]=y?b+"px":"",t.transform="",t))}function B4(e){var t=e.state,r=e.options,n=r.gpuAcceleration,s=n===void 0?!0:n,a=r.adaptive,o=a===void 0?!0:a,i=r.roundOffsets,l=i===void 0?!0:i,c={placement:zs(t.placement),variation:ki(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,ET(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,ET(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var $T={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:B4,data:{}},cd={passive:!0};function j4(e){var t=e.state,r=e.instance,n=e.options,s=n.scroll,a=s===void 0?!0:s,o=n.resize,i=o===void 0?!0:o,l=Ss(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&c.forEach(function(u){u.addEventListener("scroll",r.update,cd)}),i&&l.addEventListener("resize",r.update,cd),function(){a&&c.forEach(function(u){u.removeEventListener("scroll",r.update,cd)}),i&&l.removeEventListener("resize",r.update,cd)}}var RT={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:j4,data:{}},U4={left:"right",right:"left",bottom:"top",top:"bottom"};function dd(e){return e.replace(/left|right|bottom|top/g,function(t){return U4[t]})}var q4={start:"end",end:"start"};function LT(e){return e.replace(/start|end/g,function(t){return q4[t]})}function Fm(e){var t=Ss(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function Bm(e){return Ii(Va(e)).left+Fm(e).scrollLeft}function V4(e){var t=Ss(e),r=Va(e),n=t.visualViewport,s=r.clientWidth,a=r.clientHeight,o=0,i=0;return n&&(s=n.width,a=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=n.offsetLeft,i=n.offsetTop)),{width:s,height:a,x:o+Bm(e),y:i}}function H4(e){var t,r=Va(e),n=Fm(e),s=(t=e.ownerDocument)==null?void 0:t.body,a=Ao(r.scrollWidth,r.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=Ao(r.scrollHeight,r.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),i=-n.scrollLeft+Bm(e),l=-n.scrollTop;return xa(s||r).direction==="rtl"&&(i+=Ao(r.clientWidth,s?s.clientWidth:0)-a),{width:a,height:o,x:i,y:l}}function jm(e){var t=xa(e),r=t.overflow,n=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+s+n)}function MT(e){return["html","body","#document"].indexOf(Hs(e))>=0?e.ownerDocument.body:ns(e)&&jm(e)?e:MT(ud(e))}function Wl(e,t){var r;t===void 0&&(t=[]);var n=MT(e),s=n===((r=e.ownerDocument)==null?void 0:r.body),a=Ss(n),o=s?[a].concat(a.visualViewport||[],jm(n)?n:[]):n,i=t.concat(o);return s?i:i.concat(Wl(ud(o)))}function Um(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function z4(e){var t=Ii(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function DT(e,t){return t===TT?Um(V4(e)):Ci(t)?z4(t):Um(H4(Va(e)))}function W4(e){var t=Wl(ud(e)),r=["absolute","fixed"].indexOf(xa(e).position)>=0,n=r&&ns(e)?Hl(e):e;return Ci(n)?t.filter(function(s){return Ci(s)&&IT(s,n)&&Hs(s)!=="body"}):[]}function G4(e,t,r){var n=t==="clippingParents"?W4(e):[].concat(t),s=[].concat(n,[r]),a=s[0],o=s.reduce(function(i,l){var c=DT(e,l);return i.top=Ao(c.top,i.top),i.right=ld(c.right,i.right),i.bottom=ld(c.bottom,i.bottom),i.left=Ao(c.left,i.left),i},DT(e,a));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function NT(e){var t=e.reference,r=e.element,n=e.placement,s=n?zs(n):null,a=n?ki(n):null,o=t.x+t.width/2-r.width/2,i=t.y+t.height/2-r.height/2,l;switch(s){case On:l={x:o,y:t.y-r.height};break;case ts:l={x:o,y:t.y+t.height};break;case rs:l={x:t.x+t.width,y:i};break;case Pn:l={x:t.x-r.width,y:i};break;default:l={x:t.x,y:t.y}}var c=s?Nm(s):null;if(c!=null){var u=c==="y"?"height":"width";switch(a){case Ti:l[c]=l[c]-(t[u]/2-r[u]/2);break;case Ul:l[c]=l[c]+(t[u]/2-r[u]/2);break}}return l}function Gl(e,t){t===void 0&&(t={});var r=t,n=r.placement,s=n===void 0?e.placement:n,a=r.boundary,o=a===void 0?g4:a,i=r.rootBoundary,l=i===void 0?TT:i,c=r.elementContext,u=c===void 0?ql:c,d=r.altBoundary,m=d===void 0?!1:d,b=r.padding,g=b===void 0?0:b,h=PT(typeof g!="number"?g:AT(g,jl)),v=u===ql?v4:ql,y=e.rects.popper,C=e.elements[m?v:u],_=G4(Ci(C)?C:C.contextElement||Va(e.elements.popper),o,l),S=Ii(e.elements.reference),x=NT({reference:S,element:y,placement:s}),I=Um(Object.assign({},y,x)),f=u===ql?I:S,P={top:_.top-f.top+h.top,bottom:f.bottom-_.bottom+h.bottom,left:_.left-f.left+h.left,right:f.right-_.right+h.right},$=e.modifiersData.offset;if(u===ql&&$){var q=$[s];Object.keys(P).forEach(function(E){var M=[rs,ts].indexOf(E)>=0?1:-1,F=[On,ts].indexOf(E)>=0?"y":"x";P[E]+=q[F]*M})}return P}function K4(e,t){t===void 0&&(t={});var r=t,n=r.placement,s=r.boundary,a=r.rootBoundary,o=r.padding,i=r.flipVariations,l=r.allowedAutoPlacements,c=l===void 0?Vl:l,u=ki(n),d=u?i?CT:CT.filter(function(g){return ki(g)===u}):jl,m=d.filter(function(g){return c.indexOf(g)>=0});m.length===0&&(m=d);var b=m.reduce(function(g,h){return g[h]=Gl(e,{placement:h,boundary:s,rootBoundary:a,padding:o})[zs(h)],g},{});return Object.keys(b).sort(function(g,h){return b[g]-b[h]})}function Y4(e){if(zs(e)===Lm)return[];var t=dd(e);return[LT(e),t,LT(t)]}function J4(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var s=r.mainAxis,a=s===void 0?!0:s,o=r.altAxis,i=o===void 0?!0:o,l=r.fallbackPlacements,c=r.padding,u=r.boundary,d=r.rootBoundary,m=r.altBoundary,b=r.flipVariations,g=b===void 0?!0:b,h=r.allowedAutoPlacements,v=t.options.placement,y=zs(v),C=y===v,_=l||(C||!g?[dd(v)]:Y4(v)),S=[v].concat(_).reduce(function(he,ve){return he.concat(zs(ve)===Lm?K4(t,{placement:ve,boundary:u,rootBoundary:d,padding:c,flipVariations:g,allowedAutoPlacements:h}):ve)},[]),x=t.rects.reference,I=t.rects.popper,f=new Map,P=!0,$=S[0],q=0;q<S.length;q++){var E=S[q],M=zs(E),F=ki(E)===Ti,N=[On,ts].indexOf(M)>=0,R=N?"width":"height",H=Gl(t,{placement:E,boundary:u,rootBoundary:d,altBoundary:m,padding:c}),U=N?F?rs:Pn:F?ts:On;x[R]>I[R]&&(U=dd(U));var L=dd(U),D=[];if(a&&D.push(H[M]<=0),i&&D.push(H[U]<=0,H[L]<=0),D.every(function(he){return he})){$=E,P=!1;break}f.set(E,D)}if(P)for(var Y=g?3:1,Q=function(he){var ve=S.find(function(We){var Ge=f.get(We);if(Ge)return Ge.slice(0,he).every(function(Te){return Te})});if(ve)return $=ve,"break"},ae=Y;ae>0;ae--){var ne=Q(ae);if(ne==="break")break}t.placement!==$&&(t.modifiersData[n]._skip=!0,t.placement=$,t.reset=!0)}}var X4={name:"flip",enabled:!0,phase:"main",fn:J4,requiresIfExists:["offset"],data:{_skip:!1}};function FT(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function BT(e){return[On,rs,ts,Pn].some(function(t){return e[t]>=0})}function Q4(e){var t=e.state,r=e.name,n=t.rects.reference,s=t.rects.popper,a=t.modifiersData.preventOverflow,o=Gl(t,{elementContext:"reference"}),i=Gl(t,{altBoundary:!0}),l=FT(o,n),c=FT(i,s,a),u=BT(l),d=BT(c);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}var Z4={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Q4};function e5(e,t,r){var n=zs(e),s=[Pn,On].indexOf(n)>=0?-1:1,a=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,o=a[0],i=a[1];return o=o||0,i=(i||0)*s,[Pn,rs].indexOf(n)>=0?{x:i,y:o}:{x:o,y:i}}function t5(e){var t=e.state,r=e.options,n=e.name,s=r.offset,a=s===void 0?[0,0]:s,o=Vl.reduce(function(u,d){return u[d]=e5(d,t.rects,a),u},{}),i=o[t.placement],l=i.x,c=i.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[n]=o}var r5={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:t5};function n5(e){var t=e.state,r=e.name;t.modifiersData[r]=NT({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}var jT={name:"popperOffsets",enabled:!0,phase:"read",fn:n5,data:{}};function s5(e){return e==="x"?"y":"x"}function a5(e){var t=e.state,r=e.options,n=e.name,s=r.mainAxis,a=s===void 0?!0:s,o=r.altAxis,i=o===void 0?!1:o,l=r.boundary,c=r.rootBoundary,u=r.altBoundary,d=r.padding,m=r.tether,b=m===void 0?!0:m,g=r.tetherOffset,h=g===void 0?0:g,v=Gl(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),y=zs(t.placement),C=ki(t.placement),_=!C,S=Nm(y),x=s5(S),I=t.modifiersData.popperOffsets,f=t.rects.reference,P=t.rects.popper,$=typeof h=="function"?h(Object.assign({},t.rects,{placement:t.placement})):h,q=typeof $=="number"?{mainAxis:$,altAxis:$}:Object.assign({mainAxis:0,altAxis:0},$),E=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,M={x:0,y:0};if(I){if(a){var F,N=S==="y"?On:Pn,R=S==="y"?ts:rs,H=S==="y"?"height":"width",U=I[S],L=U+v[N],D=U-v[R],Y=b?-P[H]/2:0,Q=C===Ti?f[H]:P[H],ae=C===Ti?-P[H]:-f[H],ne=t.elements.arrow,he=b&&ne?Dm(ne):{width:0,height:0},ve=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:OT(),We=ve[N],Ge=ve[R],Te=zl(0,f[H],he[H]),He=_?f[H]/2-Y-Te-We-q.mainAxis:Q-Te-We-q.mainAxis,Me=_?-f[H]/2+Y+Te+Ge+q.mainAxis:ae+Te+Ge+q.mainAxis,rt=t.elements.arrow&&Hl(t.elements.arrow),X=rt?S==="y"?rt.clientTop||0:rt.clientLeft||0:0,re=(F=E==null?void 0:E[S])!=null?F:0,ge=U+He-re-X,Re=U+Me-re,_e=zl(b?ld(L,ge):L,U,b?Ao(D,Re):D);I[S]=_e,M[S]=_e-U}if(i){var ke,qe=S==="x"?On:Pn,Pe=S==="x"?ts:rs,De=I[x],$e=x==="y"?"height":"width",st=De+v[qe],Ke=De-v[Pe],ye=[On,Pn].indexOf(y)!==-1,Ce=(ke=E==null?void 0:E[x])!=null?ke:0,it=ye?st:De-f[$e]-P[$e]-Ce+q.altAxis,Et=ye?De+f[$e]+P[$e]-Ce-q.altAxis:Ke,bt=b&&ye?$4(it,De,Et):zl(b?it:st,De,b?Et:Ke);I[x]=bt,M[x]=bt-De}t.modifiersData[n]=M}}var o5={name:"preventOverflow",enabled:!0,phase:"main",fn:a5,requiresIfExists:["offset"]};function i5(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function l5(e){return e===Ss(e)||!ns(e)?Fm(e):i5(e)}function u5(e){var t=e.getBoundingClientRect(),r=xi(t.width)/e.offsetWidth||1,n=xi(t.height)/e.offsetHeight||1;return r!==1||n!==1}function c5(e,t,r){r===void 0&&(r=!1);var n=ns(t),s=ns(t)&&u5(t),a=Va(t),o=Ii(e,s),i={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&((Hs(t)!=="body"||jm(a))&&(i=l5(t)),ns(t)?(l=Ii(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):a&&(l.x=Bm(a))),{x:o.left+i.scrollLeft-l.x,y:o.top+i.scrollTop-l.y,width:o.width,height:o.height}}function d5(e){var t=new Map,r=new Set,n=[];e.forEach(function(a){t.set(a.name,a)});function s(a){r.add(a.name);var o=[].concat(a.requires||[],a.requiresIfExists||[]);o.forEach(function(i){if(!r.has(i)){var l=t.get(i);l&&s(l)}}),n.push(a)}return e.forEach(function(a){r.has(a.name)||s(a)}),n}function f5(e){var t=d5(e);return k4.reduce(function(r,n){return r.concat(t.filter(function(s){return s.phase===n}))},[])}function p5(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function h5(e){var t=e.reduce(function(r,n){var s=r[n.name];return r[n.name]=s?Object.assign({},s,n,{options:Object.assign({},s.options,n.options),data:Object.assign({},s.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var UT={placement:"bottom",modifiers:[],strategy:"absolute"};function qT(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function qm(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,s=t.defaultOptions,a=s===void 0?UT:s;return function(o,i,l){l===void 0&&(l=a);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},UT,a),modifiersData:{},elements:{reference:o,popper:i},attributes:{},styles:{}},u=[],d=!1,m={state:c,setOptions:function(h){var v=typeof h=="function"?h(c.options):h;g(),c.options=Object.assign({},a,c.options,v),c.scrollParents={reference:Ci(o)?Wl(o):o.contextElement?Wl(o.contextElement):[],popper:Wl(i)};var y=f5(h5([].concat(n,c.options.modifiers)));return c.orderedModifiers=y.filter(function(C){return C.enabled}),b(),m.update()},forceUpdate:function(){if(!d){var h=c.elements,v=h.reference,y=h.popper;if(qT(v,y)){c.rects={reference:c5(v,Hl(y),c.options.strategy==="fixed"),popper:Dm(y)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(P){return c.modifiersData[P.name]=Object.assign({},P.data)});for(var C=0;C<c.orderedModifiers.length;C++){if(c.reset===!0){c.reset=!1,C=-1;continue}var _=c.orderedModifiers[C],S=_.fn,x=_.options,I=x===void 0?{}:x,f=_.name;typeof S=="function"&&(c=S({state:c,options:I,name:f,instance:m})||c)}}}},update:p5(function(){return new Promise(function(h){m.forceUpdate(),h(c)})}),destroy:function(){g(),d=!0}};if(!qT(o,i))return m;m.setOptions(l).then(function(h){!d&&l.onFirstUpdate&&l.onFirstUpdate(h)});function b(){c.orderedModifiers.forEach(function(h){var v=h.name,y=h.options,C=y===void 0?{}:y,_=h.effect;if(typeof _=="function"){var S=_({state:c,name:v,instance:m,options:C}),x=function(){};u.push(S||x)}})}function g(){u.forEach(function(h){return h()}),u=[]}return m}}qm();var m5=[RT,jT,$T,xT];qm({defaultModifiers:m5});var g5=[RT,jT,$T,xT,r5,X4,o5,D4,Z4],v5=qm({defaultModifiers:g5});const y5=["fixed","absolute"],b5=vt({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:Je(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:Vl,default:"bottom"},popperOptions:{type:Je(Object),default:()=>({})},strategy:{type:String,values:y5,default:"absolute"}}),VT=vt({...b5,id:String,style:{type:Je([String,Array,Object])},className:{type:Je([String,Array,Object])},effect:{type:Je(String),default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:Je([String,Array,Object])},popperStyle:{type:Je([String,Array,Object])},referenceEl:{type:Je(Object)},triggerTargetEl:{type:Je(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},virtualTriggering:Boolean,zIndex:Number,..._a(["ariaLabel"])}),w5={mouseenter:e=>e instanceof MouseEvent,mouseleave:e=>e instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},S5=(e,t)=>{const r=ee(!1),n=ee();return{focusStartRef:n,trapped:r,onFocusAfterReleased:c=>{var u;((u=c.detail)==null?void 0:u.focusReason)!=="pointer"&&(n.value="first",t("blur"))},onFocusAfterTrapped:()=>{t("focus")},onFocusInTrap:c=>{e.visible&&!r.value&&(c.target&&(n.value=c.target),r.value=!0)},onFocusoutPrevented:c=>{e.trapping||(c.detail.focusReason==="pointer"&&c.preventDefault(),r.value=!1)},onReleaseRequested:()=>{r.value=!1,t("close")}}},_5=(e,t=[])=>{const{placement:r,strategy:n,popperOptions:s}=e,a={placement:r,strategy:n,...s,modifiers:[...C5(e),...t]};return x5(a,s==null?void 0:s.modifiers),a},T5=e=>{if(ur)return js(e)};function C5(e){const{offset:t,gpuAcceleration:r,fallbackPlacements:n}=e;return[{name:"offset",options:{offset:[0,t??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:n}},{name:"computeStyles",options:{gpuAcceleration:r}}]}function x5(e,t){t&&(e.modifiers=[...e.modifiers,...t??[]])}const I5=(e,t,r={})=>{const n={name:"updateState",enabled:!0,phase:"write",fn:({state:l})=>{const c=k5(l);Object.assign(o.value,c)},requires:["computeStyles"]},s=W(()=>{const{onFirstUpdate:l,placement:c,strategy:u,modifiers:d}=w(r);return{onFirstUpdate:l,placement:c||"bottom",strategy:u||"absolute",modifiers:[...d||[],n,{name:"applyStyles",enabled:!1}]}}),a=In(),o=ee({styles:{popper:{position:w(s).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),i=()=>{a.value&&(a.value.destroy(),a.value=void 0)};return tt(s,l=>{const c=w(a);c&&c.setOptions(l)},{deep:!0}),tt([e,t],([l,c])=>{i(),!(!l||!c)&&(a.value=v5(l,c,w(s)))}),Fr(()=>{i()}),{state:W(()=>{var l;return{...((l=w(a))==null?void 0:l.state)||{}}}),styles:W(()=>w(o).styles),attributes:W(()=>w(o).attributes),update:()=>{var l;return(l=w(a))==null?void 0:l.update()},forceUpdate:()=>{var l;return(l=w(a))==null?void 0:l.forceUpdate()},instanceRef:W(()=>w(a))}};function k5(e){const t=Object.keys(e.elements),r=Nu(t.map(s=>[s,e.styles[s]||{}])),n=Nu(t.map(s=>[s,e.attributes[s]]));return{styles:r,attributes:n}}const O5=0,P5=e=>{const{popperInstanceRef:t,contentRef:r,triggerRef:n,role:s}=ft(Pm,void 0),a=ee(),o=ee(),i=W(()=>({name:"eventListeners",enabled:!!e.visible})),l=W(()=>{var y;const C=w(a),_=(y=w(o))!=null?y:O5;return{name:"arrow",enabled:!zb(C),options:{element:C,padding:_}}}),c=W(()=>({onFirstUpdate:()=>{g()},..._5(e,[w(l),w(i)])})),u=W(()=>T5(e.referenceEl)||w(n)),{attributes:d,state:m,styles:b,update:g,forceUpdate:h,instanceRef:v}=I5(u,r,c);return tt(v,y=>t.value=y),Kt(()=>{tt(()=>{var y;return(y=w(u))==null?void 0:y.getBoundingClientRect()},()=>{g()})}),{attributes:d,arrowRef:a,contentRef:r,instanceRef:v,state:m,styles:b,role:s,forceUpdate:h,update:g}},A5=(e,{attributes:t,styles:r,role:n})=>{const{nextZIndex:s}=wm(),a=ct("popper"),o=W(()=>w(t).popper),i=ee(Zt(e.zIndex)?e.zIndex:s()),l=W(()=>[a.b(),a.is("pure",e.pure),a.is(e.effect),e.popperClass]),c=W(()=>[{zIndex:w(i)},w(r).popper,e.popperStyle||{}]),u=W(()=>n.value==="dialog"?"false":void 0),d=W(()=>w(r).arrow||{});return{ariaModal:u,arrowStyle:d,contentAttrs:o,contentClass:l,contentStyle:c,contentZIndex:i,updateZIndex:()=>{i.value=Zt(e.zIndex)?e.zIndex:s()}}},E5=xe({...xe({name:"ElPopperContent"}),props:VT,emits:w5,setup(e,{expose:t,emit:r}){const n=e,{focusStartRef:s,trapped:a,onFocusAfterReleased:o,onFocusAfterTrapped:i,onFocusInTrap:l,onFocusoutPrevented:c,onReleaseRequested:u}=S5(n,r),{attributes:d,arrowRef:m,contentRef:b,styles:g,instanceRef:h,role:v,update:y}=P5(n),{ariaModal:C,arrowStyle:_,contentAttrs:S,contentClass:x,contentStyle:I,updateZIndex:f}=A5(n,{styles:g,attributes:d,role:v}),P=ft(Po,void 0),$=ee();Mr(aT,{arrowStyle:_,arrowRef:m,arrowOffset:$}),P&&Mr(Po,{...P,addInputId:Nr,removeInputId:Nr});let q;const E=(F=!0)=>{y(),F&&f()},M=()=>{E(!1),n.visible&&n.focusOnShow?a.value=!0:n.visible===!1&&(a.value=!1)};return Kt(()=>{tt(()=>n.triggerTargetEl,(F,N)=>{q==null||q(),q=void 0;const R=w(F||b.value),H=w(N||b.value);Zn(R)&&(q=tt([v,()=>n.ariaLabel,C,()=>n.id],U=>{["role","aria-label","aria-modal","id"].forEach((L,D)=>{$s(U[D])?R.removeAttribute(L):R.setAttribute(L,U[D])})},{immediate:!0})),H!==R&&Zn(H)&&["role","aria-label","aria-modal","id"].forEach(U=>{H.removeAttribute(U)})},{immediate:!0}),tt(()=>n.visible,M,{immediate:!0})}),Fr(()=>{q==null||q(),q=void 0}),t({popperContentRef:b,popperInstanceRef:h,updatePopper:E,contentStyle:I}),(F,N)=>(K(),ue("div",ln({ref_key:"contentRef",ref:b},w(S),{style:w(I),class:w(x),tabindex:"-1",onMouseenter:R=>F.$emit("mouseenter",R),onMouseleave:R=>F.$emit("mouseleave",R)}),[le(w(id),{trapped:w(a),"trap-on-focus-in":!0,"focus-trap-el":w(b),"focus-start-el":w(s),onFocusAfterTrapped:w(i),onFocusAfterReleased:w(o),onFocusin:w(l),onFocusoutPrevented:w(c),onReleaseRequested:w(u)},{default:ie(()=>[Ne(F.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16,["onMouseenter","onMouseleave"]))}});var $5=wt(E5,[["__file","content.vue"]]);const R5=Ar(KN),fd=Symbol("elTooltip");function HT(){let e;const t=(n,s)=>{r(),e=window.setTimeout(n,s)},r=()=>window.clearTimeout(e);return Ll(()=>r()),{registerTimeout:t,cancelTimeout:r}}const L5=vt({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),M5=({showAfter:e,hideAfter:t,autoClose:r,open:n,close:s})=>{const{registerTimeout:a}=HT(),{registerTimeout:o,cancelTimeout:i}=HT();return{onOpen:u=>{a(()=>{n(u);const d=w(r);Zt(d)&&d>0&&o(()=>{s(u)},d)},w(e))},onClose:u=>{i(),a(()=>{s(u)},w(t))}}},qn=vt({...L5,...VT,appendTo:{type:Je([String,Object])},content:{type:String,default:""},rawContent:Boolean,persistent:Boolean,visible:{type:Je(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean,..._a(["ariaLabel"])}),Kl=vt({...lT,disabled:Boolean,trigger:{type:Je([String,Array]),default:"hover"},triggerKeys:{type:Je(Array),default:()=>[cr.enter,cr.numpadEnter,cr.space]}}),D5=zc({type:Je(Boolean),default:null}),N5=zc({type:Je(Function)}),F5=e=>{const t=`update:${e}`,r=`onUpdate:${e}`,n=[t],s={[e]:D5,[r]:N5};return{useModelToggle:({indicator:o,toggleReason:i,shouldHideWhenRouteChanges:l,shouldProceed:c,onShow:u,onHide:d})=>{const m=Ht(),{emit:b}=m,g=m.props,h=W(()=>et(g[r])),v=W(()=>g[e]===null),y=f=>{o.value!==!0&&(o.value=!0,i&&(i.value=f),et(u)&&u(f))},C=f=>{o.value!==!1&&(o.value=!1,i&&(i.value=f),et(d)&&d(f))},_=f=>{if(g.disabled===!0||et(c)&&!c())return;const P=h.value&&ur;P&&b(t,!0),(v.value||!P)&&y(f)},S=f=>{if(g.disabled===!0||!ur)return;const P=h.value&&ur;P&&b(t,!1),(v.value||!P)&&C(f)},x=f=>{Yr(f)&&(g.disabled&&f?h.value&&b(t,!1):o.value!==f&&(f?y():C()))},I=()=>{o.value?S():_()};return tt(()=>g[e],x),l&&m.appContext.config.globalProperties.$route!==void 0&&tt(()=>({...m.proxy.$route}),()=>{l.value&&o.value&&S()}),Kt(()=>{x(g[e])}),{hide:S,show:_,toggle:I,hasUpdateHandler:h}},useModelToggleProps:s,useModelToggleEmits:n}},{useModelToggleProps:B5,useModelToggleEmits:j5,useModelToggle:U5}=F5("visible"),q5=vt({...oT,...B5,...qn,...Kl,...iT,showArrow:{type:Boolean,default:!0}}),V5=[...j5,"before-show","before-hide","show","hide","open","close"],H5=(e,t)=>Ue(e)?e.includes(t):e===t,Oi=(e,t,r)=>n=>{H5(w(e),t)&&r(n)},Ia=(e,t,{checkForDefaultPrevented:r=!0}={})=>s=>{const a=e==null?void 0:e(s);if(r===!1||!a)return t==null?void 0:t(s)},z5=xe({...xe({name:"ElTooltipTrigger"}),props:Kl,setup(e,{expose:t}){const r=e,n=ct("tooltip"),{controlled:s,id:a,open:o,onOpen:i,onClose:l,onToggle:c}=ft(fd,void 0),u=ee(null),d=()=>{if(w(s)||r.disabled)return!0},m=Lr(r,"trigger"),b=Ia(d,Oi(m,"hover",i)),g=Ia(d,Oi(m,"hover",l)),h=Ia(d,Oi(m,"click",S=>{S.button===0&&c(S)})),v=Ia(d,Oi(m,"focus",i)),y=Ia(d,Oi(m,"focus",l)),C=Ia(d,Oi(m,"contextmenu",S=>{S.preventDefault(),c(S)})),_=Ia(d,S=>{const{code:x}=S;r.triggerKeys.includes(x)&&(S.preventDefault(),c(S))});return t({triggerRef:u}),(S,x)=>(K(),Le(w(n4),{id:w(a),"virtual-ref":S.virtualRef,open:w(o),"virtual-triggering":S.virtualTriggering,class:Z(w(n).e("trigger")),onBlur:w(y),onClick:w(h),onContextmenu:w(C),onFocus:w(v),onMouseenter:w(b),onMouseleave:w(g),onKeydown:w(_)},{default:ie(()=>[Ne(S.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var W5=wt(z5,[["__file","trigger.vue"]]);const G5=vt({to:{type:Je([String,Object]),required:!0},disabled:Boolean});var K5=wt(xe({__name:"teleport",props:G5,setup(e){return(t,r)=>t.disabled?Ne(t.$slots,"default",{key:0}):(K(),Le(g1,{key:1,to:t.to},[Ne(t.$slots,"default")],8,["to"]))}}),[["__file","teleport.vue"]]);const Vm=Ar(K5),zT=()=>{const e=vm(),t=tT(),r=W(()=>`${e.value}-popper-container-${t.prefix}`),n=W(()=>`#${r.value}`);return{id:r,selector:n}},Y5=e=>{const t=document.createElement("div");return t.id=e,document.body.appendChild(t),t},J5=()=>{const{id:e,selector:t}=zT();return bc(()=>{ur&&(document.body.querySelector(t.value)||Y5(e.value))}),{id:e,selector:t}},X5=xe({...xe({name:"ElTooltipContent",inheritAttrs:!1}),props:qn,setup(e,{expose:t}){const r=e,{selector:n}=zT(),s=ct("tooltip"),a=ee();let o;const{controlled:i,id:l,open:c,trigger:u,onClose:d,onOpen:m,onShow:b,onHide:g,onBeforeShow:h,onBeforeHide:v}=ft(fd,void 0),y=W(()=>r.transition||`${s.namespace.value}-fade-in-linear`),C=W(()=>r.persistent);Fr(()=>{o==null||o()});const _=W(()=>w(C)?!0:w(c)),S=W(()=>r.disabled?!1:w(c)),x=W(()=>r.appendTo||n.value),I=W(()=>{var U;return(U=r.style)!=null?U:{}}),f=ee(!0),P=()=>{g(),H()&&Ca(document.body),f.value=!0},$=()=>{if(w(i))return!0},q=Ia($,()=>{r.enterable&&w(u)==="hover"&&m()}),E=Ia($,()=>{w(u)==="hover"&&d()}),M=()=>{var U,L;(L=(U=a.value)==null?void 0:U.updatePopper)==null||L.call(U),h==null||h()},F=()=>{v==null||v()},N=()=>{b(),o=C_(W(()=>{var U;return(U=a.value)==null?void 0:U.popperContentRef}),()=>{if(w(i))return;w(u)!=="hover"&&d()})},R=()=>{r.virtualTriggering||d()},H=U=>{var L;const D=(L=a.value)==null?void 0:L.popperContentRef,Y=(U==null?void 0:U.relatedTarget)||document.activeElement;return D==null?void 0:D.contains(Y)};return tt(()=>w(c),U=>{U?f.value=!1:o==null||o()},{flush:"post"}),tt(()=>r.content,()=>{var U,L;(L=(U=a.value)==null?void 0:U.updatePopper)==null||L.call(U)}),t({contentRef:a,isFocusInsideContent:H}),(U,L)=>(K(),Le(w(Vm),{disabled:!U.teleported,to:w(x)},{default:ie(()=>[le(vs,{name:w(y),onAfterLeave:P,onBeforeEnter:M,onAfterEnter:N,onBeforeLeave:F},{default:ie(()=>[w(_)?Vt((K(),Le(w($5),ln({key:0,id:w(l),ref_key:"contentRef",ref:a},U.$attrs,{"aria-label":U.ariaLabel,"aria-hidden":f.value,"boundaries-padding":U.boundariesPadding,"fallback-placements":U.fallbackPlacements,"gpu-acceleration":U.gpuAcceleration,offset:U.offset,placement:U.placement,"popper-options":U.popperOptions,strategy:U.strategy,effect:U.effect,enterable:U.enterable,pure:U.pure,"popper-class":U.popperClass,"popper-style":[U.popperStyle,w(I)],"reference-el":U.referenceEl,"trigger-target-el":U.triggerTargetEl,visible:w(S),"z-index":U.zIndex,onMouseenter:w(q),onMouseleave:w(E),onBlur:R,onClose:w(d)}),{default:ie(()=>[Ne(U.$slots,"default")]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[Pr,w(S)]]):Ee("v-if",!0)]),_:3},8,["name"])]),_:3},8,["disabled","to"]))}});var Q5=wt(X5,[["__file","content.vue"]]);const Z5=xe({...xe({name:"ElTooltip"}),props:q5,emits:V5,setup(e,{expose:t,emit:r}){const n=e;J5();const s=Vs(),a=ee(),o=ee(),i=()=>{var y;const C=w(a);C&&((y=C.popperInstanceRef)==null||y.update())},l=ee(!1),c=ee(),{show:u,hide:d,hasUpdateHandler:m}=U5({indicator:l,toggleReason:c}),{onOpen:b,onClose:g}=M5({showAfter:Lr(n,"showAfter"),hideAfter:Lr(n,"hideAfter"),autoClose:Lr(n,"autoClose"),open:u,close:d}),h=W(()=>Yr(n.visible)&&!m.value);Mr(fd,{controlled:h,id:s,open:vl(l),trigger:Lr(n,"trigger"),onOpen:y=>{b(y)},onClose:y=>{g(y)},onToggle:y=>{w(l)?g(y):b(y)},onShow:()=>{r("show",c.value)},onHide:()=>{r("hide",c.value)},onBeforeShow:()=>{r("before-show",c.value)},onBeforeHide:()=>{r("before-hide",c.value)},updatePopper:i}),tt(()=>n.disabled,y=>{y&&l.value&&(l.value=!1)});const v=y=>{var C;return(C=o.value)==null?void 0:C.isFocusInsideContent(y)};return I1(()=>l.value&&d()),t({popperRef:a,contentRef:o,isFocusInsideContent:v,updatePopper:i,onOpen:b,onClose:g,hide:d}),(y,C)=>(K(),Le(w(R5),{ref_key:"popperRef",ref:a,role:y.role},{default:ie(()=>[le(W5,{disabled:y.disabled,trigger:y.trigger,"trigger-keys":y.triggerKeys,"virtual-ref":y.virtualRef,"virtual-triggering":y.virtualTriggering},{default:ie(()=>[y.$slots.default?Ne(y.$slots,"default",{key:0}):Ee("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),le(Q5,{ref_key:"contentRef",ref:o,"aria-label":y.ariaLabel,"boundaries-padding":y.boundariesPadding,content:y.content,disabled:y.disabled,effect:y.effect,enterable:y.enterable,"fallback-placements":y.fallbackPlacements,"hide-after":y.hideAfter,"gpu-acceleration":y.gpuAcceleration,offset:y.offset,persistent:y.persistent,"popper-class":y.popperClass,"popper-style":y.popperStyle,placement:y.placement,"popper-options":y.popperOptions,pure:y.pure,"raw-content":y.rawContent,"reference-el":y.referenceEl,"trigger-target-el":y.triggerTargetEl,"show-after":y.showAfter,strategy:y.strategy,teleported:y.teleported,transition:y.transition,"virtual-triggering":y.virtualTriggering,"z-index":y.zIndex,"append-to":y.appendTo},{default:ie(()=>[Ne(y.$slots,"content",{},()=>[y.rawContent?(K(),ue("span",{key:0,innerHTML:y.content},null,8,["innerHTML"])):(K(),ue("span",{key:1},ze(y.content),1))]),y.showArrow?(K(),Le(w(JN),{key:0,"arrow-offset":y.arrowOffset},null,8,["arrow-offset"])):Ee("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var eF=wt(Z5,[["__file","tooltip.vue"]]);const Eo=Ar(eF),tF=vt({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,badgeStyle:{type:Je([String,Object,Array])},offset:{type:Je(Array),default:[0,0]},badgeClass:{type:String}}),rF=xe({...xe({name:"ElBadge"}),props:tF,setup(e,{expose:t}){const r=e,n=ct("badge"),s=W(()=>r.isDot?"":Zt(r.value)&&Zt(r.max)?r.max<r.value?`${r.max}+`:`${r.value}`:`${r.value}`),a=W(()=>{var o,i,l,c,u;return[{backgroundColor:r.color,marginRight:Un(-((i=(o=r.offset)==null?void 0:o[0])!=null?i:0)),marginTop:Un((c=(l=r.offset)==null?void 0:l[1])!=null?c:0)},(u=r.badgeStyle)!=null?u:{}]});return t({content:s}),(o,i)=>(K(),ue("div",{class:Z(w(n).b())},[Ne(o.$slots,"default"),le(vs,{name:`${w(n).namespace.value}-zoom-in-center`,persisted:""},{default:ie(()=>[Vt(G("sup",{class:Z([w(n).e("content"),w(n).em("content",o.type),w(n).is("fixed",!!o.$slots.default),w(n).is("dot",o.isDot),w(n).is("hide-zero",!o.showZero&&r.value===0),o.badgeClass]),style:jt(w(a))},[Ne(o.$slots,"content",{value:w(s)},()=>[ot(ze(w(s)),1)])],6),[[Pr,!o.hidden&&(w(s)||o.isDot||o.$slots.content)]])]),_:3},8,["name"])],2))}});var nF=wt(rF,[["__file","badge.vue"]]);const sF=Ar(nF),WT=Symbol("buttonGroupContextKey"),Pi=({from:e,replacement:t,scope:r,version:n,ref:s,type:a="API"},o)=>{tt(()=>w(o),i=>{},{immediate:!0})},aF=(e,t)=>{Pi({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},W(()=>e.type==="text"));const r=ft(WT,void 0),n=Kc("button"),{form:s}=qa(),a=ws(W(()=>r==null?void 0:r.size)),o=Bl(),i=ee(),l=gs(),c=W(()=>e.type||(r==null?void 0:r.type)||""),u=W(()=>{var g,h,v;return(v=(h=e.autoInsertSpace)!=null?h:(g=n.value)==null?void 0:g.autoInsertSpace)!=null?v:!1}),d=W(()=>e.tag==="button"?{ariaDisabled:o.value||e.loading,disabled:o.value||e.loading,autofocus:e.autofocus,type:e.nativeType}:{}),m=W(()=>{var g;const h=(g=l.default)==null?void 0:g.call(l);if(u.value&&(h==null?void 0:h.length)===1){const v=h[0];if((v==null?void 0:v.type)===di){const y=v.children;return new RegExp("^\\p{Unified_Ideograph}{2}$","u").test(y.trim())}}return!1});return{_disabled:o,_size:a,_type:c,_ref:i,_props:d,shouldAddSpace:m,handleClick:g=>{if(o.value||e.loading){g.stopPropagation();return}e.nativeType==="reset"&&(s==null||s.resetFields()),t("click",g)}}},Hm=vt({size:Sa,disabled:Boolean,type:{type:String,values:["default","primary","success","warning","info","danger","text",""],default:""},icon:{type:qs},nativeType:{type:String,values:["button","submit","reset"],default:"button"},loading:Boolean,loadingIcon:{type:qs,default:()=>Fl},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:Je([String,Object]),default:"button"}}),oF={click:e=>e instanceof MouseEvent};function rn(e,t){iF(e)&&(e="100%");var r=lF(e);return e=t===360?e:Math.min(t,Math.max(0,parseFloat(e))),r&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:(t===360?e=(e<0?e%t+t:e%t)/parseFloat(String(t)):e=e%t/parseFloat(String(t)),e)}function pd(e){return Math.min(1,Math.max(0,e))}function iF(e){return typeof e=="string"&&e.indexOf(".")!==-1&&parseFloat(e)===1}function lF(e){return typeof e=="string"&&e.indexOf("%")!==-1}function GT(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function hd(e){return e<=1?"".concat(Number(e)*100,"%"):e}function $o(e){return e.length===1?"0"+e:String(e)}function uF(e,t,r){return{r:rn(e,255)*255,g:rn(t,255)*255,b:rn(r,255)*255}}function KT(e,t,r){e=rn(e,255),t=rn(t,255),r=rn(r,255);var n=Math.max(e,t,r),s=Math.min(e,t,r),a=0,o=0,i=(n+s)/2;if(n===s)o=0,a=0;else{var l=n-s;switch(o=i>.5?l/(2-n-s):l/(n+s),n){case e:a=(t-r)/l+(t<r?6:0);break;case t:a=(r-e)/l+2;break;case r:a=(e-t)/l+4;break}a/=6}return{h:a,s:o,l:i}}function zm(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<.16666666666666666?e+(t-e)*(6*r):r<.5?t:r<.6666666666666666?e+(t-e)*(.6666666666666666-r)*6:e}function cF(e,t,r){var n,s,a;if(e=rn(e,360),t=rn(t,100),r=rn(r,100),t===0)s=r,a=r,n=r;else{var o=r<.5?r*(1+t):r+t-r*t,i=2*r-o;n=zm(i,o,e+.3333333333333333),s=zm(i,o,e),a=zm(i,o,e-.3333333333333333)}return{r:n*255,g:s*255,b:a*255}}function YT(e,t,r){e=rn(e,255),t=rn(t,255),r=rn(r,255);var n=Math.max(e,t,r),s=Math.min(e,t,r),a=0,o=n,i=n-s,l=n===0?0:i/n;if(n===s)a=0;else{switch(n){case e:a=(t-r)/i+(t<r?6:0);break;case t:a=(r-e)/i+2;break;case r:a=(e-t)/i+4;break}a/=6}return{h:a,s:l,v:o}}function dF(e,t,r){e=rn(e,360)*6,t=rn(t,100),r=rn(r,100);var n=Math.floor(e),s=e-n,a=r*(1-t),o=r*(1-s*t),i=r*(1-(1-s)*t),l=n%6,c=[r,o,a,a,i,r][l],u=[i,r,r,o,a,a][l],d=[a,a,i,r,r,o][l];return{r:c*255,g:u*255,b:d*255}}function JT(e,t,r,n){var s=[$o(Math.round(e).toString(16)),$o(Math.round(t).toString(16)),$o(Math.round(r).toString(16))];return n&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function fF(e,t,r,n,s){var a=[$o(Math.round(e).toString(16)),$o(Math.round(t).toString(16)),$o(Math.round(r).toString(16)),$o(pF(n))];return s&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))&&a[3].startsWith(a[3].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function pF(e){return Math.round(parseFloat(e)*255).toString(16)}function XT(e){return Vn(e)/255}function Vn(e){return parseInt(e,16)}function hF(e){return{r:e>>16,g:(e&65280)>>8,b:e&255}}var Wm={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function mF(e){var t={r:0,g:0,b:0},r=1,n=null,s=null,a=null,o=!1,i=!1;return typeof e=="string"&&(e=yF(e)),typeof e=="object"&&(ka(e.r)&&ka(e.g)&&ka(e.b)?(t=uF(e.r,e.g,e.b),o=!0,i=String(e.r).substr(-1)==="%"?"prgb":"rgb"):ka(e.h)&&ka(e.s)&&ka(e.v)?(n=hd(e.s),s=hd(e.v),t=dF(e.h,n,s),o=!0,i="hsv"):ka(e.h)&&ka(e.s)&&ka(e.l)&&(n=hd(e.s),a=hd(e.l),t=cF(e.h,n,a),o=!0,i="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(r=e.a)),r=GT(r),{ok:o,format:e.format||i,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:r}}var gF="[-\\+]?\\d+%?",vF="[-\\+]?\\d*\\.\\d+%?",Ha="(?:".concat(vF,")|(?:").concat(gF,")"),Gm="[\\s|\\(]+(".concat(Ha,")[,|\\s]+(").concat(Ha,")[,|\\s]+(").concat(Ha,")\\s*\\)?"),Km="[\\s|\\(]+(".concat(Ha,")[,|\\s]+(").concat(Ha,")[,|\\s]+(").concat(Ha,")[,|\\s]+(").concat(Ha,")\\s*\\)?"),_s={CSS_UNIT:new RegExp(Ha),rgb:new RegExp("rgb"+Gm),rgba:new RegExp("rgba"+Km),hsl:new RegExp("hsl"+Gm),hsla:new RegExp("hsla"+Km),hsv:new RegExp("hsv"+Gm),hsva:new RegExp("hsva"+Km),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function yF(e){if(e=e.trim().toLowerCase(),e.length===0)return!1;var t=!1;if(Wm[e])e=Wm[e],t=!0;else if(e==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r=_s.rgb.exec(e);return r?{r:r[1],g:r[2],b:r[3]}:(r=_s.rgba.exec(e),r?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=_s.hsl.exec(e),r?{h:r[1],s:r[2],l:r[3]}:(r=_s.hsla.exec(e),r?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=_s.hsv.exec(e),r?{h:r[1],s:r[2],v:r[3]}:(r=_s.hsva.exec(e),r?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=_s.hex8.exec(e),r?{r:Vn(r[1]),g:Vn(r[2]),b:Vn(r[3]),a:XT(r[4]),format:t?"name":"hex8"}:(r=_s.hex6.exec(e),r?{r:Vn(r[1]),g:Vn(r[2]),b:Vn(r[3]),format:t?"name":"hex"}:(r=_s.hex4.exec(e),r?{r:Vn(r[1]+r[1]),g:Vn(r[2]+r[2]),b:Vn(r[3]+r[3]),a:XT(r[4]+r[4]),format:t?"name":"hex8"}:(r=_s.hex3.exec(e),r?{r:Vn(r[1]+r[1]),g:Vn(r[2]+r[2]),b:Vn(r[3]+r[3]),format:t?"name":"hex"}:!1)))))))))}function ka(e){return!!_s.CSS_UNIT.exec(String(e))}var bF=function(){function e(t,r){t===void 0&&(t=""),r===void 0&&(r={});var n;if(t instanceof e)return t;typeof t=="number"&&(t=hF(t)),this.originalInput=t;var s=mF(t);this.originalInput=t,this.r=s.r,this.g=s.g,this.b=s.b,this.a=s.a,this.roundA=Math.round(100*this.a)/100,this.format=(n=r.format)!==null&&n!==void 0?n:s.format,this.gradientType=r.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=s.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},e.prototype.getLuminance=function(){var t=this.toRgb(),r,n,s,a=t.r/255,o=t.g/255,i=t.b/255;return a<=.03928?r=a/12.92:r=Math.pow((a+.055)/1.055,2.4),o<=.03928?n=o/12.92:n=Math.pow((o+.055)/1.055,2.4),i<=.03928?s=i/12.92:s=Math.pow((i+.055)/1.055,2.4),.2126*r+.7152*n+.0722*s},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(t){return this.a=GT(t),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){var t=this.toHsl().s;return t===0},e.prototype.toHsv=function(){var t=YT(this.r,this.g,this.b);return{h:t.h*360,s:t.s,v:t.v,a:this.a}},e.prototype.toHsvString=function(){var t=YT(this.r,this.g,this.b),r=Math.round(t.h*360),n=Math.round(t.s*100),s=Math.round(t.v*100);return this.a===1?"hsv(".concat(r,", ").concat(n,"%, ").concat(s,"%)"):"hsva(".concat(r,", ").concat(n,"%, ").concat(s,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var t=KT(this.r,this.g,this.b);return{h:t.h*360,s:t.s,l:t.l,a:this.a}},e.prototype.toHslString=function(){var t=KT(this.r,this.g,this.b),r=Math.round(t.h*360),n=Math.round(t.s*100),s=Math.round(t.l*100);return this.a===1?"hsl(".concat(r,", ").concat(n,"%, ").concat(s,"%)"):"hsla(".concat(r,", ").concat(n,"%, ").concat(s,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(t){return t===void 0&&(t=!1),JT(this.r,this.g,this.b,t)},e.prototype.toHexString=function(t){return t===void 0&&(t=!1),"#"+this.toHex(t)},e.prototype.toHex8=function(t){return t===void 0&&(t=!1),fF(this.r,this.g,this.b,this.a,t)},e.prototype.toHex8String=function(t){return t===void 0&&(t=!1),"#"+this.toHex8(t)},e.prototype.toHexShortString=function(t){return t===void 0&&(t=!1),this.a===1?this.toHexString(t):this.toHex8String(t)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var t=Math.round(this.r),r=Math.round(this.g),n=Math.round(this.b);return this.a===1?"rgb(".concat(t,", ").concat(r,", ").concat(n,")"):"rgba(".concat(t,", ").concat(r,", ").concat(n,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var t=function(r){return"".concat(Math.round(rn(r,255)*100),"%")};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var t=function(r){return Math.round(rn(r,255)*100)};return this.a===1?"rgb(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%)"):"rgba(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var t="#"+JT(this.r,this.g,this.b,!1),r=0,n=Object.entries(Wm);r<n.length;r++){var s=n[r],a=s[0],o=s[1];if(t===o)return a}return!1},e.prototype.toString=function(t){var r=!!t;t=t??this.format;var n=!1,s=this.a<1&&this.a>=0,a=!r&&s&&(t.startsWith("hex")||t==="name");return a?t==="name"&&this.a===0?this.toName():this.toRgbString():(t==="rgb"&&(n=this.toRgbString()),t==="prgb"&&(n=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(n=this.toHexString()),t==="hex3"&&(n=this.toHexString(!0)),t==="hex4"&&(n=this.toHex8String(!0)),t==="hex8"&&(n=this.toHex8String()),t==="name"&&(n=this.toName()),t==="hsl"&&(n=this.toHslString()),t==="hsv"&&(n=this.toHsvString()),n||this.toHexString())},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){t===void 0&&(t=10);var r=this.toHsl();return r.l+=t/100,r.l=pd(r.l),new e(r)},e.prototype.brighten=function(t){t===void 0&&(t=10);var r=this.toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(t/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(t/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(t/100)))),new e(r)},e.prototype.darken=function(t){t===void 0&&(t=10);var r=this.toHsl();return r.l-=t/100,r.l=pd(r.l),new e(r)},e.prototype.tint=function(t){return t===void 0&&(t=10),this.mix("white",t)},e.prototype.shade=function(t){return t===void 0&&(t=10),this.mix("black",t)},e.prototype.desaturate=function(t){t===void 0&&(t=10);var r=this.toHsl();return r.s-=t/100,r.s=pd(r.s),new e(r)},e.prototype.saturate=function(t){t===void 0&&(t=10);var r=this.toHsl();return r.s+=t/100,r.s=pd(r.s),new e(r)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var r=this.toHsl(),n=(r.h+t)%360;return r.h=n<0?360+n:n,new e(r)},e.prototype.mix=function(t,r){r===void 0&&(r=50);var n=this.toRgb(),s=new e(t).toRgb(),a=r/100,o={r:(s.r-n.r)*a+n.r,g:(s.g-n.g)*a+n.g,b:(s.b-n.b)*a+n.b,a:(s.a-n.a)*a+n.a};return new e(o)},e.prototype.analogous=function(t,r){t===void 0&&(t=6),r===void 0&&(r=30);var n=this.toHsl(),s=360/r,a=[this];for(n.h=(n.h-(s*t>>1)+720)%360;--t;)n.h=(n.h+s)%360,a.push(new e(n));return a},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){t===void 0&&(t=6);for(var r=this.toHsv(),n=r.h,s=r.s,a=r.v,o=[],i=1/t;t--;)o.push(new e({h:n,s,v:a})),a=(a+i)%1;return o},e.prototype.splitcomplement=function(){var t=this.toHsl(),r=t.h;return[this,new e({h:(r+72)%360,s:t.s,l:t.l}),new e({h:(r+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var r=this.toRgb(),n=new e(t).toRgb(),s=r.a+n.a*(1-r.a);return new e({r:(r.r*r.a+n.r*n.a*(1-r.a))/s,g:(r.g*r.a+n.g*n.a*(1-r.a))/s,b:(r.b*r.a+n.b*n.a*(1-r.a))/s,a:s})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var r=this.toHsl(),n=r.h,s=[this],a=360/t,o=1;o<t;o++)s.push(new e({h:(n+o*a)%360,s:r.s,l:r.l}));return s},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();function za(e,t=20){return e.mix("#141414",t).toString()}function wF(e){const t=Bl(),r=ct("button");return W(()=>{let n={},s=e.color;if(s){const a=s.match(/var\((.*?)\)/);a&&(s=window.getComputedStyle(window.document.documentElement).getPropertyValue(a[1]));const o=new bF(s),i=e.dark?o.tint(20).toString():za(o,20);if(e.plain)n=r.cssVarBlock({"bg-color":e.dark?za(o,90):o.tint(90).toString(),"text-color":s,"border-color":e.dark?za(o,50):o.tint(50).toString(),"hover-text-color":`var(${r.cssVarName("color-white")})`,"hover-bg-color":s,"hover-border-color":s,"active-bg-color":i,"active-text-color":`var(${r.cssVarName("color-white")})`,"active-border-color":i}),t.value&&(n[r.cssVarBlockName("disabled-bg-color")]=e.dark?za(o,90):o.tint(90).toString(),n[r.cssVarBlockName("disabled-text-color")]=e.dark?za(o,50):o.tint(50).toString(),n[r.cssVarBlockName("disabled-border-color")]=e.dark?za(o,80):o.tint(80).toString());else{const l=e.dark?za(o,30):o.tint(30).toString(),c=o.isDark()?`var(${r.cssVarName("color-white")})`:`var(${r.cssVarName("color-black")})`;if(n=r.cssVarBlock({"bg-color":s,"text-color":c,"border-color":s,"hover-bg-color":l,"hover-text-color":c,"hover-border-color":l,"active-bg-color":i,"active-border-color":i}),t.value){const u=e.dark?za(o,50):o.tint(50).toString();n[r.cssVarBlockName("disabled-bg-color")]=u,n[r.cssVarBlockName("disabled-text-color")]=e.dark?"rgba(255, 255, 255, 0.5)":`var(${r.cssVarName("color-white")})`,n[r.cssVarBlockName("disabled-border-color")]=u}}}return n})}const SF=xe({...xe({name:"ElButton"}),props:Hm,emits:oF,setup(e,{expose:t,emit:r}){const n=e,s=wF(n),a=ct("button"),{_ref:o,_size:i,_type:l,_disabled:c,_props:u,shouldAddSpace:d,handleClick:m}=aF(n,r),b=W(()=>[a.b(),a.m(l.value),a.m(i.value),a.is("disabled",c.value),a.is("loading",n.loading),a.is("plain",n.plain),a.is("round",n.round),a.is("circle",n.circle),a.is("text",n.text),a.is("link",n.link),a.is("has-bg",n.bg)]);return t({ref:o,size:i,type:l,disabled:c,shouldAddSpace:d}),(g,h)=>(K(),Le(vr(g.tag),ln({ref_key:"_ref",ref:o},w(u),{class:w(b),style:w(s),onClick:w(m)}),{default:ie(()=>[g.loading?(K(),ue(ht,{key:0},[g.$slots.loading?Ne(g.$slots,"loading",{key:0}):(K(),Le(w(Ot),{key:1,class:Z(w(a).is("loading"))},{default:ie(()=>[(K(),Le(vr(g.loadingIcon)))]),_:1},8,["class"]))],64)):g.icon||g.$slots.icon?(K(),Le(w(Ot),{key:1},{default:ie(()=>[g.icon?(K(),Le(vr(g.icon),{key:0})):Ne(g.$slots,"icon",{key:1})]),_:3})):Ee("v-if",!0),g.$slots.default?(K(),ue("span",{key:2,class:Z({[w(a).em("text","expand")]:w(d)})},[Ne(g.$slots,"default")],2)):Ee("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var _F=wt(SF,[["__file","button.vue"]]);const TF={size:Hm.size,type:Hm.type},CF=xe({...xe({name:"ElButtonGroup"}),props:TF,setup(e){const t=e;Mr(WT,Zr({size:Lr(t,"size"),type:Lr(t,"type")}));const r=ct("button");return(n,s)=>(K(),ue("div",{class:Z(w(r).b("group"))},[Ne(n.$slots,"default")],2))}});var QT=wt(CF,[["__file","button-group.vue"]]);const un=Ar(_F,{ButtonGroup:QT});Io(QT);const Ym=(e,t)=>[e>0?e-1:void 0,e,e<t?e+1:void 0],ZT=e=>Array.from(Array.from({length:e}).keys()),eC=e=>e.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),tC=e=>e.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),rC=function(e,t){const r=Gu(e),n=Gu(t);return r&&n?e.getTime()===t.getTime():!r&&!n?e===t:!1},nC=function(e,t){const r=Ue(e),n=Ue(t);return r&&n?e.length!==t.length?!1:e.every((s,a)=>rC(s,t[a])):!r&&!n?rC(e,t):!1},sC=function(e,t,r){const n=b_(t)||t==="x"?Ve(e).locale(r):Ve(e,t).locale(r);return n.isValid()?n:void 0},aC=function(e,t,r){return b_(t)?e:t==="x"?+e:Ve(e).locale(r).format(t)},Jm=(e,t)=>{var r;const n=[],s=t==null?void 0:t();for(let a=0;a<e;a++)n.push((r=s==null?void 0:s.includes(a))!=null?r:!1);return n},md=e=>Ue(e)?e.map(t=>t.toDate()):e.toDate();var gd={exports:{}},xF=gd.exports,oC;function IF(){return oC||(oC=1,function(e,t){(function(r,n){e.exports=n()})(xF,function(){return function(r,n,s){var a=n.prototype,o=function(d){return d&&(d.indexOf?d:d.s)},i=function(d,m,b,g,h){var v=d.name?d:d.$locale(),y=o(v[m]),C=o(v[b]),_=y||C.map(function(x){return x.slice(0,g)});if(!h)return _;var S=v.weekStart;return _.map(function(x,I){return _[(I+(S||0))%7]})},l=function(){return s.Ls[s.locale()]},c=function(d,m){return d.formats[m]||function(b){return b.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(g,h,v){return h||v.slice(1)})}(d.formats[m.toUpperCase()])},u=function(){var d=this;return{months:function(m){return m?m.format("MMMM"):i(d,"months")},monthsShort:function(m){return m?m.format("MMM"):i(d,"monthsShort","months",3)},firstDayOfWeek:function(){return d.$locale().weekStart||0},weekdays:function(m){return m?m.format("dddd"):i(d,"weekdays")},weekdaysMin:function(m){return m?m.format("dd"):i(d,"weekdaysMin","weekdays",2)},weekdaysShort:function(m){return m?m.format("ddd"):i(d,"weekdaysShort","weekdays",3)},longDateFormat:function(m){return c(d.$locale(),m)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};a.localeData=function(){return u.bind(this)()},s.localeData=function(){var d=l();return{firstDayOfWeek:function(){return d.weekStart||0},weekdays:function(){return s.weekdays()},weekdaysShort:function(){return s.weekdaysShort()},weekdaysMin:function(){return s.weekdaysMin()},months:function(){return s.months()},monthsShort:function(){return s.monthsShort()},longDateFormat:function(m){return c(d,m)},meridiem:d.meridiem,ordinal:d.ordinal}},s.months=function(){return i(l(),"months")},s.monthsShort=function(){return i(l(),"monthsShort","months",3)},s.weekdays=function(d){return i(l(),"weekdays",null,null,d)},s.weekdaysShort=function(d){return i(l(),"weekdaysShort","weekdays",3,d)},s.weekdaysMin=function(d){return i(l(),"weekdaysMin","weekdays",2,d)}}})}(gd)),gd.exports}var kF=IF();const OF=pn(kF),PF=["year","years","month","months","date","dates","week","datetime","datetimerange","daterange","monthrange","yearrange"];var vd=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(vd||{});const iC={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},border:Boolean,size:Sa,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0},..._a(["ariaControls"])},lC={[Br]:e=>yt(e)||Zt(e)||Yr(e),change:e=>yt(e)||Zt(e)||Yr(e)},Ai=Symbol("checkboxGroupContextKey"),AF=({model:e,isChecked:t})=>{const r=ft(Ai,void 0),n=W(()=>{var a,o;const i=(a=r==null?void 0:r.max)==null?void 0:a.value,l=(o=r==null?void 0:r.min)==null?void 0:o.value;return!Rr(i)&&e.value.length>=i&&!t.value||!Rr(l)&&e.value.length<=l&&t.value});return{isDisabled:Bl(W(()=>(r==null?void 0:r.disabled.value)||n.value)),isLimitDisabled:n}},EF=(e,{model:t,isLimitExceeded:r,hasOwnLabel:n,isDisabled:s,isLabeledByFormItem:a})=>{const o=ft(Ai,void 0),{formItem:i}=qa(),{emit:l}=Ht();function c(g){var h,v,y,C;return[!0,e.trueValue,e.trueLabel].includes(g)?(v=(h=e.trueValue)!=null?h:e.trueLabel)!=null?v:!0:(C=(y=e.falseValue)!=null?y:e.falseLabel)!=null?C:!1}function u(g,h){l("change",c(g),h)}function d(g){if(r.value)return;const h=g.target;l("change",c(h.checked),g)}async function m(g){r.value||!n.value&&!s.value&&a.value&&(g.composedPath().some(y=>y.tagName==="LABEL")||(t.value=c([!1,e.falseValue,e.falseLabel].includes(t.value)),await xt(),u(t.value,g)))}const b=W(()=>(o==null?void 0:o.validateEvent)||e.validateEvent);return tt(()=>e.modelValue,()=>{b.value&&(i==null||i.validate("change").catch(g=>void 0))}),{handleChange:d,onClickRoot:m}},$F=e=>{const t=ee(!1),{emit:r}=Ht(),n=ft(Ai,void 0),s=W(()=>Rr(n)===!1),a=ee(!1),o=W({get(){var i,l;return s.value?(i=n==null?void 0:n.modelValue)==null?void 0:i.value:(l=e.modelValue)!=null?l:t.value},set(i){var l,c;s.value&&Ue(i)?(a.value=((l=n==null?void 0:n.max)==null?void 0:l.value)!==void 0&&i.length>(n==null?void 0:n.max.value)&&i.length>o.value.length,a.value===!1&&((c=n==null?void 0:n.changeEvent)==null||c.call(n,i))):(r(Br,i),t.value=i)}});return{model:o,isGroup:s,isLimitExceeded:a}},RF=(e,t,{model:r})=>{const n=ft(Ai,void 0),s=ee(!1),a=W(()=>To(e.value)?e.label:e.value),o=W(()=>{const u=r.value;return Yr(u)?u:Ue(u)?Lt(a.value)?u.map(Gt).some(d=>ao(d,a.value)):u.map(Gt).includes(a.value):u!=null?u===e.trueValue||u===e.trueLabel:!!u}),i=ws(W(()=>{var u;return(u=n==null?void 0:n.size)==null?void 0:u.value}),{prop:!0}),l=ws(W(()=>{var u;return(u=n==null?void 0:n.size)==null?void 0:u.value})),c=W(()=>!!t.default||!To(a.value));return{checkboxButtonSize:i,isChecked:o,isFocused:s,checkboxSize:l,hasOwnLabel:c,actualValue:a}},uC=(e,t)=>{const{formItem:r}=qa(),{model:n,isGroup:s,isLimitExceeded:a}=$F(e),{isFocused:o,isChecked:i,checkboxButtonSize:l,checkboxSize:c,hasOwnLabel:u,actualValue:d}=RF(e,t,{model:n}),{isDisabled:m}=AF({model:n,isChecked:i}),{inputId:b,isLabeledByFormItem:g}=Zc(e,{formItemContext:r,disableIdGeneration:u,disableIdManagement:s}),{handleChange:h,onClickRoot:v}=EF(e,{model:n,isLimitExceeded:a,hasOwnLabel:u,isDisabled:m,isLabeledByFormItem:g});return(()=>{function C(){var _,S;Ue(n.value)&&!n.value.includes(d.value)?n.value.push(d.value):n.value=(S=(_=e.trueValue)!=null?_:e.trueLabel)!=null?S:!0}e.checked&&C()})(),Pi({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},W(()=>s.value&&To(e.value))),Pi({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},W(()=>!!e.trueLabel)),Pi({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},W(()=>!!e.falseLabel)),{inputId:b,isLabeledByFormItem:g,isChecked:i,isDisabled:m,isFocused:o,checkboxButtonSize:l,checkboxSize:c,hasOwnLabel:u,model:n,actualValue:d,handleChange:h,onClickRoot:v}},LF=xe({...xe({name:"ElCheckbox"}),props:iC,emits:lC,setup(e){const t=e,r=gs(),{inputId:n,isLabeledByFormItem:s,isChecked:a,isDisabled:o,isFocused:i,checkboxSize:l,hasOwnLabel:c,model:u,actualValue:d,handleChange:m,onClickRoot:b}=uC(t,r),g=ct("checkbox"),h=W(()=>[g.b(),g.m(l.value),g.is("disabled",o.value),g.is("bordered",t.border),g.is("checked",a.value)]),v=W(()=>[g.e("input"),g.is("disabled",o.value),g.is("checked",a.value),g.is("indeterminate",t.indeterminate),g.is("focus",i.value)]);return(y,C)=>(K(),Le(vr(!w(c)&&w(s)?"span":"label"),{class:Z(w(h)),"aria-controls":y.indeterminate?y.ariaControls:null,onClick:w(b)},{default:ie(()=>{var _,S,x,I;return[G("span",{class:Z(w(v))},[y.trueValue||y.falseValue||y.trueLabel||y.falseLabel?Vt((K(),ue("input",{key:0,id:w(n),"onUpdate:modelValue":f=>ar(u)?u.value=f:null,class:Z(w(g).e("original")),type:"checkbox",indeterminate:y.indeterminate,name:y.name,tabindex:y.tabindex,disabled:w(o),"true-value":(S=(_=y.trueValue)!=null?_:y.trueLabel)!=null?S:!0,"false-value":(I=(x=y.falseValue)!=null?x:y.falseLabel)!=null?I:!1,onChange:w(m),onFocus:f=>i.value=!0,onBlur:f=>i.value=!1,onClick:$t(()=>{},["stop"])},null,42,["id","onUpdate:modelValue","indeterminate","name","tabindex","disabled","true-value","false-value","onChange","onFocus","onBlur","onClick"])),[[$c,w(u)]]):Vt((K(),ue("input",{key:1,id:w(n),"onUpdate:modelValue":f=>ar(u)?u.value=f:null,class:Z(w(g).e("original")),type:"checkbox",indeterminate:y.indeterminate,disabled:w(o),value:w(d),name:y.name,tabindex:y.tabindex,onChange:w(m),onFocus:f=>i.value=!0,onBlur:f=>i.value=!1,onClick:$t(()=>{},["stop"])},null,42,["id","onUpdate:modelValue","indeterminate","disabled","value","name","tabindex","onChange","onFocus","onBlur","onClick"])),[[$c,w(u)]]),G("span",{class:Z(w(g).e("inner"))},null,2)],2),w(c)?(K(),ue("span",{key:0,class:Z(w(g).e("label"))},[Ne(y.$slots,"default"),y.$slots.default?Ee("v-if",!0):(K(),ue(ht,{key:0},[ot(ze(y.label),1)],64))],2)):Ee("v-if",!0)]}),_:3},8,["class","aria-controls","onClick"]))}});var MF=wt(LF,[["__file","checkbox.vue"]]);const DF=xe({...xe({name:"ElCheckboxButton"}),props:iC,emits:lC,setup(e){const t=e,r=gs(),{isFocused:n,isChecked:s,isDisabled:a,checkboxButtonSize:o,model:i,actualValue:l,handleChange:c}=uC(t,r),u=ft(Ai,void 0),d=ct("checkbox"),m=W(()=>{var g,h,v,y;const C=(h=(g=u==null?void 0:u.fill)==null?void 0:g.value)!=null?h:"";return{backgroundColor:C,borderColor:C,color:(y=(v=u==null?void 0:u.textColor)==null?void 0:v.value)!=null?y:"",boxShadow:C?`-1px 0 0 0 ${C}`:void 0}}),b=W(()=>[d.b("button"),d.bm("button",o.value),d.is("disabled",a.value),d.is("checked",s.value),d.is("focus",n.value)]);return(g,h)=>{var v,y,C,_;return K(),ue("label",{class:Z(w(b))},[g.trueValue||g.falseValue||g.trueLabel||g.falseLabel?Vt((K(),ue("input",{key:0,"onUpdate:modelValue":S=>ar(i)?i.value=S:null,class:Z(w(d).be("button","original")),type:"checkbox",name:g.name,tabindex:g.tabindex,disabled:w(a),"true-value":(y=(v=g.trueValue)!=null?v:g.trueLabel)!=null?y:!0,"false-value":(_=(C=g.falseValue)!=null?C:g.falseLabel)!=null?_:!1,onChange:w(c),onFocus:S=>n.value=!0,onBlur:S=>n.value=!1,onClick:$t(()=>{},["stop"])},null,42,["onUpdate:modelValue","name","tabindex","disabled","true-value","false-value","onChange","onFocus","onBlur","onClick"])),[[$c,w(i)]]):Vt((K(),ue("input",{key:1,"onUpdate:modelValue":S=>ar(i)?i.value=S:null,class:Z(w(d).be("button","original")),type:"checkbox",name:g.name,tabindex:g.tabindex,disabled:w(a),value:w(l),onChange:w(c),onFocus:S=>n.value=!0,onBlur:S=>n.value=!1,onClick:$t(()=>{},["stop"])},null,42,["onUpdate:modelValue","name","tabindex","disabled","value","onChange","onFocus","onBlur","onClick"])),[[$c,w(i)]]),g.$slots.default||g.label?(K(),ue("span",{key:2,class:Z(w(d).be("button","inner")),style:jt(w(s)?w(m):void 0)},[Ne(g.$slots,"default",{},()=>[ot(ze(g.label),1)])],6)):Ee("v-if",!0)],2)}}});var cC=wt(DF,[["__file","checkbox-button.vue"]]);const NF=vt({modelValue:{type:Je(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:Sa,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0},..._a(["ariaLabel"])}),FF={[Br]:e=>Ue(e),change:e=>Ue(e)},BF=xe({...xe({name:"ElCheckboxGroup"}),props:NF,emits:FF,setup(e,{emit:t}){const r=e,n=ct("checkbox"),{formItem:s}=qa(),{inputId:a,isLabeledByFormItem:o}=Zc(r,{formItemContext:s}),i=async c=>{t(Br,c),await xt(),t("change",c)},l=W({get(){return r.modelValue},set(c){i(c)}});return Mr(Ai,{...oo(ha(r),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:l,changeEvent:i}),tt(()=>r.modelValue,()=>{r.validateEvent&&(s==null||s.validate("change").catch(c=>void 0))}),(c,u)=>{var d;return K(),Le(vr(c.tag),{id:w(a),class:Z(w(n).b("group")),role:"group","aria-label":w(o)?void 0:c.ariaLabel||"checkbox-group","aria-labelledby":w(o)?(d=w(s))==null?void 0:d.labelId:void 0},{default:ie(()=>[Ne(c.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var dC=wt(BF,[["__file","checkbox-group.vue"]]);const Ws=Ar(MF,{CheckboxButton:cC,CheckboxGroup:dC});Io(cC);const jF=Io(dC),UF=(e="")=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),Hn=e=>!e&&e!==0?[]:Ue(e)?e:[e],Xm=vt({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:Dl},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),qF=xe({...xe({name:"ElTag"}),props:Xm,emits:{close:e=>e instanceof MouseEvent,click:e=>e instanceof MouseEvent},setup(e,{emit:t}){const r=e,n=ws(),s=ct("tag"),a=W(()=>{const{type:c,hit:u,effect:d,closable:m,round:b}=r;return[s.b(),s.is("closable",m),s.m(c||"primary"),s.m(n.value),s.m(d),s.is("hit",u),s.is("round",b)]}),o=c=>{t("close",c)},i=c=>{t("click",c)},l=c=>{var u,d,m;(m=(d=(u=c==null?void 0:c.component)==null?void 0:u.subTree)==null?void 0:d.component)!=null&&m.bum&&(c.component.subTree.component.bum=null)};return(c,u)=>c.disableTransitions?(K(),ue("span",{key:0,class:Z(w(a)),style:jt({backgroundColor:c.color}),onClick:i},[G("span",{class:Z(w(s).e("content"))},[Ne(c.$slots,"default")],2),c.closable?(K(),Le(w(Ot),{key:0,class:Z(w(s).e("close")),onClick:$t(o,["stop"])},{default:ie(()=>[le(w(yi))]),_:1},8,["class","onClick"])):Ee("v-if",!0)],6)):(K(),Le(vs,{key:1,name:`${w(s).namespace.value}-zoom-in-center`,appear:"",onVnodeMounted:l},{default:ie(()=>[G("span",{class:Z(w(a)),style:jt({backgroundColor:c.color}),onClick:i},[G("span",{class:Z(w(s).e("content"))},[Ne(c.$slots,"default")],2),c.closable?(K(),Le(w(Ot),{key:0,class:Z(w(s).e("close")),onClick:$t(o,["stop"])},{default:ie(()=>[le(w(yi))]),_:1},8,["class","onClick"])):Ee("v-if",!0)],6)]),_:3},8,["name"]))}});var VF=wt(qF,[["__file","tag.vue"]]);const fC=Ar(VF),Wa=new Map;if(ur){let e;document.addEventListener("mousedown",t=>e=t),document.addEventListener("mouseup",t=>{if(e){for(const r of Wa.values())for(const{documentHandler:n}of r)n(t,e);e=void 0}})}function pC(e,t){let r=[];return Ue(t.arg)?r=t.arg:Zn(t.arg)&&r.push(t.arg),function(n,s){const a=t.instance.popperRef,o=n.target,i=s==null?void 0:s.target,l=!t||!t.instance,c=!o||!i,u=e.contains(o)||e.contains(i),d=e===o,m=r.length&&r.some(g=>g==null?void 0:g.contains(o))||r.length&&r.includes(i),b=a&&(a.contains(o)||a.contains(i));l||c||u||d||m||b||t.value(n,s)}}const Yl={beforeMount(e,t){Wa.has(e)||Wa.set(e,[]),Wa.get(e).push({documentHandler:pC(e,t),bindingFn:t.value})},updated(e,t){Wa.has(e)||Wa.set(e,[]);const r=Wa.get(e),n=r.findIndex(a=>a.bindingFn===t.oldValue),s={documentHandler:pC(e,t),bindingFn:t.value};n>=0?r.splice(n,1,s):r.push(s)},unmounted(e){Wa.delete(e)}},HF=vt({a11y:{type:Boolean,default:!0},locale:{type:Je(Object)},size:Sa,button:{type:Je(Object)},experimentalFeatures:{type:Je(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:Je(Object)},zIndex:Number,namespace:{type:String,default:"el"},...Sm}),Ts={},hC=Ar(xe({name:"ElConfigProvider",props:HF,setup(e,{slots:t}){tt(()=>e.message,n=>{Object.assign(Ts,n??{})},{immediate:!0,deep:!0});const r=V_(e);return()=>Ne(t,"default",{config:r==null?void 0:r.value})}}));var yd={exports:{}},zF=yd.exports,mC;function WF(){return mC||(mC=1,function(e,t){(function(r,n){e.exports=n()})(zF,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},n=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,s=/\d/,a=/\d\d/,o=/\d\d?/,i=/\d*[^-_:/,()\s\d]+/,l={},c=function(v){return(v=+v)+(v>68?1900:2e3)},u=function(v){return function(y){this[v]=+y}},d=[/[+-]\d\d:?(\d\d)?|Z/,function(v){(this.zone||(this.zone={})).offset=function(y){if(!y||y==="Z")return 0;var C=y.match(/([+-]|\d\d)/g),_=60*C[1]+(+C[2]||0);return _===0?0:C[0]==="+"?-_:_}(v)}],m=function(v){var y=l[v];return y&&(y.indexOf?y:y.s.concat(y.f))},b=function(v,y){var C,_=l.meridiem;if(_){for(var S=1;S<=24;S+=1)if(v.indexOf(_(S,0,y))>-1){C=S>12;break}}else C=v===(y?"pm":"PM");return C},g={A:[i,function(v){this.afternoon=b(v,!1)}],a:[i,function(v){this.afternoon=b(v,!0)}],Q:[s,function(v){this.month=3*(v-1)+1}],S:[s,function(v){this.milliseconds=100*+v}],SS:[a,function(v){this.milliseconds=10*+v}],SSS:[/\d{3}/,function(v){this.milliseconds=+v}],s:[o,u("seconds")],ss:[o,u("seconds")],m:[o,u("minutes")],mm:[o,u("minutes")],H:[o,u("hours")],h:[o,u("hours")],HH:[o,u("hours")],hh:[o,u("hours")],D:[o,u("day")],DD:[a,u("day")],Do:[i,function(v){var y=l.ordinal,C=v.match(/\d+/);if(this.day=C[0],y)for(var _=1;_<=31;_+=1)y(_).replace(/\[|\]/g,"")===v&&(this.day=_)}],w:[o,u("week")],ww:[a,u("week")],M:[o,u("month")],MM:[a,u("month")],MMM:[i,function(v){var y=m("months"),C=(m("monthsShort")||y.map(function(_){return _.slice(0,3)})).indexOf(v)+1;if(C<1)throw new Error;this.month=C%12||C}],MMMM:[i,function(v){var y=m("months").indexOf(v)+1;if(y<1)throw new Error;this.month=y%12||y}],Y:[/[+-]?\d+/,u("year")],YY:[a,function(v){this.year=c(v)}],YYYY:[/\d{4}/,u("year")],Z:d,ZZ:d};function h(v){var y,C;y=v,C=l&&l.formats;for(var _=(v=y.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(q,E,M){var F=M&&M.toUpperCase();return E||C[M]||r[M]||C[F].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(N,R,H){return R||H.slice(1)})})).match(n),S=_.length,x=0;x<S;x+=1){var I=_[x],f=g[I],P=f&&f[0],$=f&&f[1];_[x]=$?{regex:P,parser:$}:I.replace(/^\[|\]$/g,"")}return function(q){for(var E={},M=0,F=0;M<S;M+=1){var N=_[M];if(typeof N=="string")F+=N.length;else{var R=N.regex,H=N.parser,U=q.slice(F),L=R.exec(U)[0];H.call(E,L),q=q.replace(L,"")}}return function(D){var Y=D.afternoon;if(Y!==void 0){var Q=D.hours;Y?Q<12&&(D.hours+=12):Q===12&&(D.hours=0),delete D.afternoon}}(E),E}}return function(v,y,C){C.p.customParseFormat=!0,v&&v.parseTwoDigitYear&&(c=v.parseTwoDigitYear);var _=y.prototype,S=_.parse;_.parse=function(x){var I=x.date,f=x.utc,P=x.args;this.$u=f;var $=P[1];if(typeof $=="string"){var q=P[2]===!0,E=P[3]===!0,M=q||E,F=P[2];E&&(F=P[2]),l=this.$locale(),!q&&F&&(l=C.Ls[F]),this.$d=function(U,L,D,Y){try{if(["x","X"].indexOf(L)>-1)return new Date((L==="X"?1e3:1)*U);var Q=h(L)(U),ae=Q.year,ne=Q.month,he=Q.day,ve=Q.hours,We=Q.minutes,Ge=Q.seconds,Te=Q.milliseconds,He=Q.zone,Me=Q.week,rt=new Date,X=he||(ae||ne?1:rt.getDate()),re=ae||rt.getFullYear(),ge=0;ae&&!ne||(ge=ne>0?ne-1:rt.getMonth());var Re,_e=ve||0,ke=We||0,qe=Ge||0,Pe=Te||0;return He?new Date(Date.UTC(re,ge,X,_e,ke,qe,Pe+60*He.offset*1e3)):D?new Date(Date.UTC(re,ge,X,_e,ke,qe,Pe)):(Re=new Date(re,ge,X,_e,ke,qe,Pe),Me&&(Re=Y(Re).week(Me).toDate()),Re)}catch{return new Date("")}}(I,$,f,C),this.init(),F&&F!==!0&&(this.$L=this.locale(F).$L),M&&I!=this.format($)&&(this.$d=new Date("")),l={}}else if($ instanceof Array)for(var N=$.length,R=1;R<=N;R+=1){P[1]=$[R-1];var H=C.apply(this,P);if(H.isValid()){this.$d=H.$d,this.$L=H.$L,this.init();break}R===N&&(this.$d=new Date(""))}else S.call(this,x)}}})}(yd)),yd.exports}var GF=WF();const KF=pn(GF);var bd={exports:{}},YF=bd.exports,gC;function JF(){return gC||(gC=1,function(e,t){(function(r,n){e.exports=n()})(YF,function(){return function(r,n){var s=n.prototype,a=s.format;s.format=function(o){var i=this,l=this.$locale();if(!this.isValid())return a.bind(this)(o);var c=this.$utils(),u=(o||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(d){switch(d){case"Q":return Math.ceil((i.$M+1)/3);case"Do":return l.ordinal(i.$D);case"gggg":return i.weekYear();case"GGGG":return i.isoWeekYear();case"wo":return l.ordinal(i.week(),"W");case"w":case"ww":return c.s(i.week(),d==="w"?1:2,"0");case"W":case"WW":return c.s(i.isoWeek(),d==="W"?1:2,"0");case"k":case"kk":return c.s(String(i.$H===0?24:i.$H),d==="k"?1:2,"0");case"X":return Math.floor(i.$d.getTime()/1e3);case"x":return i.$d.getTime();case"z":return"["+i.offsetName()+"]";case"zzz":return"["+i.offsetName("long")+"]";default:return d}});return a.bind(this)(u)}}})}(bd)),bd.exports}var XF=JF();const QF=pn(XF);var wd={exports:{}},ZF=wd.exports,vC;function eB(){return vC||(vC=1,function(e,t){(function(r,n){e.exports=n()})(ZF,function(){var r="week",n="year";return function(s,a,o){var i=a.prototype;i.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var c=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var u=o(this).startOf(n).add(1,n).date(c),d=o(this).endOf(r);if(u.isBefore(d))return 1}var m=o(this).startOf(n).date(c).startOf(r).subtract(1,"millisecond"),b=this.diff(m,r,!0);return b<0?o(this).startOf("week").week():Math.ceil(b)},i.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}})}(wd)),wd.exports}var tB=eB();const rB=pn(tB);var Sd={exports:{}},nB=Sd.exports,yC;function sB(){return yC||(yC=1,function(e,t){(function(r,n){e.exports=n()})(nB,function(){return function(r,n){n.prototype.weekYear=function(){var s=this.month(),a=this.week(),o=this.year();return a===1&&s===11?o+1:s===0&&a>=52?o-1:o}}})}(Sd)),Sd.exports}var aB=sB();const oB=pn(aB);var _d={exports:{}},iB=_d.exports,bC;function lB(){return bC||(bC=1,function(e,t){(function(r,n){e.exports=n()})(iB,function(){return function(r,n,s){n.prototype.dayOfYear=function(a){var o=Math.round((s(this).startOf("day")-s(this).startOf("year"))/864e5)+1;return a==null?o:this.add(a-o,"day")}}})}(_d)),_d.exports}var uB=lB();const cB=pn(uB);var Td={exports:{}},dB=Td.exports,wC;function fB(){return wC||(wC=1,function(e,t){(function(r,n){e.exports=n()})(dB,function(){return function(r,n){n.prototype.isSameOrAfter=function(s,a){return this.isSame(s,a)||this.isAfter(s,a)}}})}(Td)),Td.exports}var pB=fB();const hB=pn(pB);var Cd={exports:{}},mB=Cd.exports,SC;function gB(){return SC||(SC=1,function(e,t){(function(r,n){e.exports=n()})(mB,function(){return function(r,n){n.prototype.isSameOrBefore=function(s,a){return this.isSame(s,a)||this.isBefore(s,a)}}})}(Cd)),Cd.exports}var vB=gB();const yB=pn(vB),_C=["hours","minutes","seconds"],TC="HH:mm:ss",Ei="YYYY-MM-DD",bB={date:Ei,dates:Ei,week:"gggg[w]ww",year:"YYYY",years:"YYYY",month:"YYYY-MM",months:"YYYY-MM",datetime:`${Ei} ${TC}`,monthrange:"YYYY-MM",yearrange:"YYYY",daterange:Ei,datetimerange:`${Ei} ${TC}`},CC=vt({disabledHours:{type:Je(Function)},disabledMinutes:{type:Je(Function)},disabledSeconds:{type:Je(Function)}}),wB=vt({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),xC=vt({id:{type:Je([Array,String])},name:{type:Je([Array,String])},popperClass:{type:String,default:""},format:String,valueFormat:String,dateFormat:String,timeFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:Je([String,Object]),default:Nl},editable:{type:Boolean,default:!0},prefixIcon:{type:Je([String,Object]),default:""},size:Sa,readonly:Boolean,disabled:Boolean,placeholder:{type:String,default:""},popperOptions:{type:Je(Object),default:()=>({})},modelValue:{type:Je([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:Je([Date,Array])},defaultTime:{type:Je([Date,Array])},isRange:Boolean,...CC,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,tabindex:{type:Je([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean,placement:{type:Je(String),values:Vl,default:"bottom"},fallbackPlacements:{type:Je(Array),default:["bottom","top","right","left"]},...Sm,..._a(["ariaLabel"]),showNow:{type:Boolean,default:!0}}),SB=vt({id:{type:Je(Array)},name:{type:Je(Array)},modelValue:{type:Je([Array,String])},startPlaceholder:String,endPlaceholder:String}),_B=xe({...xe({name:"PickerRangeTrigger",inheritAttrs:!1}),props:SB,emits:["mouseenter","mouseleave","click","touchstart","focus","blur","startInput","endInput","startChange","endChange"],setup(e,{expose:t,emit:r}){const n=Z_(),s=ct("date"),a=ct("range"),o=ee(),i=ee(),{wrapperRef:l,isFocused:c}=ed(o),u=S=>{r("click",S)},d=S=>{r("mouseenter",S)},m=S=>{r("mouseleave",S)},b=S=>{r("mouseenter",S)},g=S=>{r("startInput",S)},h=S=>{r("endInput",S)},v=S=>{r("startChange",S)},y=S=>{r("endChange",S)};return t({focus:()=>{var S;(S=o.value)==null||S.focus()},blur:()=>{var S,x;(S=o.value)==null||S.blur(),(x=i.value)==null||x.blur()}}),(S,x)=>(K(),ue("div",{ref_key:"wrapperRef",ref:l,class:Z([w(s).is("active",w(c)),S.$attrs.class]),style:jt(S.$attrs.style),onClick:u,onMouseenter:d,onMouseleave:m,onTouchstartPassive:b},[Ne(S.$slots,"prefix"),G("input",ln(w(n),{id:S.id&&S.id[0],ref_key:"inputRef",ref:o,name:S.name&&S.name[0],placeholder:S.startPlaceholder,value:S.modelValue&&S.modelValue[0],class:w(a).b("input"),onInput:g,onChange:v}),null,16,["id","name","placeholder","value"]),Ne(S.$slots,"range-separator"),G("input",ln(w(n),{id:S.id&&S.id[1],ref_key:"endInputRef",ref:i,name:S.name&&S.name[1],placeholder:S.endPlaceholder,value:S.modelValue&&S.modelValue[1],class:w(a).b("input"),onInput:h,onChange:y}),null,16,["id","name","placeholder","value"]),Ne(S.$slots,"suffix")],38))}});var TB=wt(_B,[["__file","picker-range-trigger.vue"]]);const CB=xe({...xe({name:"Picker"}),props:xC,emits:["update:modelValue","change","focus","blur","clear","calendar-change","panel-change","visible-change","keydown"],setup(e,{expose:t,emit:r}){const n=e,s=wc(),{lang:a}=Ur(),o=ct("date"),i=ct("input"),l=ct("range"),{form:c,formItem:u}=qa(),d=ft("ElPopperOptions",{}),{valueOnClear:m}=q_(n,null),b=ee(),g=ee(),h=ee(!1),v=ee(!1),y=ee(null);let C=!1;const{isFocused:_,handleFocus:S,handleBlur:x}=ed(g,{beforeFocus(){return n.readonly||D.value},afterFocus(){h.value=!0},beforeBlur(V){var Se;return!C&&((Se=b.value)==null?void 0:Se.isFocusInsideContent(V))},afterBlur(){De(),h.value=!1,C=!1,n.validateEvent&&(u==null||u.validate("blur").catch(V=>void 0))}}),I=W(()=>[o.b("editor"),o.bm("editor",n.type),i.e("wrapper"),o.is("disabled",D.value),o.is("active",h.value),l.b("editor"),_e?l.bm("editor",_e.value):"",s.class]),f=W(()=>[i.e("icon"),l.e("close-icon"),Te.value?"":l.e("close-icon--hidden")]);tt(h,V=>{V?xt(()=>{V&&(y.value=n.modelValue)}):(Pe.value=null,xt(()=>{P(n.modelValue)}))});const P=(V,Se)=>{(Se||!nC(V,y.value))&&(r("change",V),n.validateEvent&&(u==null||u.validate("change").catch(Qe=>void 0)))},$=V=>{if(!nC(n.modelValue,V)){let Se;Ue(V)?Se=V.map(Qe=>aC(Qe,n.valueFormat,a.value)):V&&(Se=aC(V,n.valueFormat,a.value)),r("update:modelValue",V&&Se,a.value)}},q=V=>{r("keydown",V)},E=W(()=>g.value?Array.from(g.value.$el.querySelectorAll("input")):[]),M=(V,Se,Qe)=>{const dt=E.value;dt.length&&(!Qe||Qe==="min"?(dt[0].setSelectionRange(V,Se),dt[0].focus()):Qe==="max"&&(dt[1].setSelectionRange(V,Se),dt[1].focus()))},F=(V="",Se=!1)=>{h.value=Se;let Qe;Ue(V)?Qe=V.map(dt=>dt.toDate()):Qe=V&&V.toDate(),Pe.value=null,$(Qe)},N=()=>{v.value=!0},R=()=>{r("visible-change",!0)},H=()=>{v.value=!1,h.value=!1,r("visible-change",!1)},U=()=>{h.value=!0},L=()=>{h.value=!1},D=W(()=>n.disabled||(c==null?void 0:c.disabled)),Y=W(()=>{let V;if(Me.value?At.value.getDefaultValue&&(V=At.value.getDefaultValue()):Ue(n.modelValue)?V=n.modelValue.map(Se=>sC(Se,n.valueFormat,a.value)):V=sC(n.modelValue,n.valueFormat,a.value),At.value.getRangeAvailableTime){const Se=At.value.getRangeAvailableTime(V);ao(Se,V)||(V=Se,Me.value||$(md(V)))}return Ue(V)&&V.some(Se=>!Se)&&(V=[]),V}),Q=W(()=>{if(!At.value.panelReady)return"";const V=st(Y.value);return Ue(Pe.value)?[Pe.value[0]||V&&V[0]||"",Pe.value[1]||V&&V[1]||""]:Pe.value!==null?Pe.value:!ne.value&&Me.value||!h.value&&Me.value?"":V?he.value||ve.value||We.value?V.join(", "):V:""}),ae=W(()=>n.type.includes("time")),ne=W(()=>n.type.startsWith("time")),he=W(()=>n.type==="dates"),ve=W(()=>n.type==="months"),We=W(()=>n.type==="years"),Ge=W(()=>n.prefixIcon||(ae.value?tN:K3)),Te=ee(!1),He=V=>{n.readonly||D.value||(Te.value&&(V.stopPropagation(),At.value.handleClear?At.value.handleClear():$(m.value),P(m.value,!0),Te.value=!1,H()),r("clear"))},Me=W(()=>{const{modelValue:V}=n;return!V||Ue(V)&&!V.filter(Boolean).length}),rt=async V=>{var Se;n.readonly||D.value||(((Se=V.target)==null?void 0:Se.tagName)!=="INPUT"||_.value)&&(h.value=!0)},X=()=>{n.readonly||D.value||!Me.value&&n.clearable&&(Te.value=!0)},re=()=>{Te.value=!1},ge=V=>{var Se;n.readonly||D.value||(((Se=V.touches[0].target)==null?void 0:Se.tagName)!=="INPUT"||_.value)&&(h.value=!0)},Re=W(()=>n.type.includes("range")),_e=ws(),ke=W(()=>{var V,Se;return(Se=(V=w(b))==null?void 0:V.popperRef)==null?void 0:Se.contentRef}),qe=C_(g,V=>{const Se=w(ke),Qe=js(g);Se&&(V.target===Se||V.composedPath().includes(Se))||V.target===Qe||Qe&&V.composedPath().includes(Qe)||(h.value=!1)});Fr(()=>{qe==null||qe()});const Pe=ee(null),De=()=>{if(Pe.value){const V=$e(Q.value);V&&Ke(V)&&($(md(V)),Pe.value=null)}Pe.value===""&&($(m.value),P(m.value),Pe.value=null)},$e=V=>V?At.value.parseUserInput(V):null,st=V=>V?At.value.formatToString(V):null,Ke=V=>At.value.isValidValue(V),ye=async V=>{if(n.readonly||D.value)return;const{code:Se}=V;if(q(V),Se===cr.esc){h.value===!0&&(h.value=!1,V.preventDefault(),V.stopPropagation());return}if(Se===cr.down&&(At.value.handleFocusPicker&&(V.preventDefault(),V.stopPropagation()),h.value===!1&&(h.value=!0,await xt()),At.value.handleFocusPicker)){At.value.handleFocusPicker();return}if(Se===cr.tab){C=!0;return}if(Se===cr.enter||Se===cr.numpadEnter){(Pe.value===null||Pe.value===""||Ke($e(Q.value)))&&(De(),h.value=!1),V.stopPropagation();return}if(Pe.value){V.stopPropagation();return}At.value.handleKeydownInput&&At.value.handleKeydownInput(V)},Ce=V=>{Pe.value=V,h.value||(h.value=!0)},it=V=>{const Se=V.target;Pe.value?Pe.value=[Se.value,Pe.value[1]]:Pe.value=[Se.value,null]},Et=V=>{const Se=V.target;Pe.value?Pe.value=[Pe.value[0],Se.value]:Pe.value=[null,Se.value]},bt=()=>{var V;const Se=Pe.value,Qe=$e(Se&&Se[0]),dt=w(Y);if(Qe&&Qe.isValid()){Pe.value=[st(Qe),((V=Q.value)==null?void 0:V[1])||null];const mt=[Qe,dt&&(dt[1]||null)];Ke(mt)&&($(md(mt)),Pe.value=null)}},fr=()=>{var V;const Se=w(Pe),Qe=$e(Se&&Se[1]),dt=w(Y);if(Qe&&Qe.isValid()){Pe.value=[((V=w(Q))==null?void 0:V[0])||null,st(Qe)];const mt=[dt&&dt[0],Qe];Ke(mt)&&($(md(mt)),Pe.value=null)}},At=ee({}),Tr=V=>{At.value[V[0]]=V[1],At.value.panelReady=!0},pr=V=>{r("calendar-change",V)},ce=(V,Se,Qe)=>{r("panel-change",V,Se,Qe)},fe=()=>{var V;(V=g.value)==null||V.focus()},J=()=>{var V;(V=g.value)==null||V.blur()};return Mr("EP_PICKER_BASE",{props:n}),t({focus:fe,blur:J,handleOpen:U,handleClose:L,onPick:F}),(V,Se)=>(K(),Le(w(Eo),ln({ref_key:"refPopper",ref:b,visible:h.value,effect:"light",pure:"",trigger:"click"},V.$attrs,{role:"dialog",teleported:"",transition:`${w(o).namespace.value}-zoom-in-top`,"popper-class":[`${w(o).namespace.value}-picker__popper`,V.popperClass],"popper-options":w(d),"fallback-placements":V.fallbackPlacements,"gpu-acceleration":!1,placement:V.placement,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:N,onShow:R,onHide:H}),{default:ie(()=>[w(Re)?(K(),Le(TB,{key:1,id:V.id,ref_key:"inputRef",ref:g,"model-value":w(Q),name:V.name,disabled:w(D),readonly:!V.editable||V.readonly,"start-placeholder":V.startPlaceholder,"end-placeholder":V.endPlaceholder,class:Z(w(I)),style:jt(V.$attrs.style),"aria-label":V.ariaLabel,tabindex:V.tabindex,autocomplete:"off",role:"combobox",onClick:rt,onFocus:w(S),onBlur:w(x),onStartInput:it,onStartChange:bt,onEndInput:Et,onEndChange:fr,onMousedown:rt,onMouseenter:X,onMouseleave:re,onTouchstartPassive:ge,onKeydown:ye},{prefix:ie(()=>[w(Ge)?(K(),Le(w(Ot),{key:0,class:Z([w(i).e("icon"),w(l).e("icon")])},{default:ie(()=>[(K(),Le(vr(w(Ge))))]),_:1},8,["class"])):Ee("v-if",!0)]),"range-separator":ie(()=>[Ne(V.$slots,"range-separator",{},()=>[G("span",{class:Z(w(l).b("separator"))},ze(V.rangeSeparator),3)])]),suffix:ie(()=>[V.clearIcon?(K(),Le(w(Ot),{key:0,class:Z(w(f)),onMousedown:$t(w(Nr),["prevent"]),onClick:He},{default:ie(()=>[(K(),Le(vr(V.clearIcon)))]),_:1},8,["class","onMousedown"])):Ee("v-if",!0)]),_:3},8,["id","model-value","name","disabled","readonly","start-placeholder","end-placeholder","class","style","aria-label","tabindex","onFocus","onBlur"])):(K(),Le(w(Ta),{key:0,id:V.id,ref_key:"inputRef",ref:g,"container-role":"combobox","model-value":w(Q),name:V.name,size:w(_e),disabled:w(D),placeholder:V.placeholder,class:Z([w(o).b("editor"),w(o).bm("editor",V.type),V.$attrs.class]),style:jt(V.$attrs.style),readonly:!V.editable||V.readonly||w(he)||w(ve)||w(We)||V.type==="week","aria-label":V.ariaLabel,tabindex:V.tabindex,"validate-event":!1,onInput:Ce,onFocus:w(S),onBlur:w(x),onKeydown:ye,onChange:De,onMousedown:rt,onMouseenter:X,onMouseleave:re,onTouchstartPassive:ge,onClick:$t(()=>{},["stop"])},{prefix:ie(()=>[w(Ge)?(K(),Le(w(Ot),{key:0,class:Z(w(i).e("icon")),onMousedown:$t(rt,["prevent"]),onTouchstartPassive:ge},{default:ie(()=>[(K(),Le(vr(w(Ge))))]),_:1},8,["class","onMousedown"])):Ee("v-if",!0)]),suffix:ie(()=>[Te.value&&V.clearIcon?(K(),Le(w(Ot),{key:0,class:Z(`${w(i).e("icon")} clear-icon`),onMousedown:$t(w(Nr),["prevent"]),onClick:He},{default:ie(()=>[(K(),Le(vr(V.clearIcon)))]),_:1},8,["class","onMousedown"])):Ee("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","aria-label","tabindex","onFocus","onBlur","onClick"]))]),content:ie(()=>[Ne(V.$slots,"default",{visible:h.value,actualVisible:v.value,parsedValue:w(Y),format:V.format,dateFormat:V.dateFormat,timeFormat:V.timeFormat,unlinkPanels:V.unlinkPanels,type:V.type,defaultValue:V.defaultValue,showNow:V.showNow,onPick:F,onSelectRange:M,onSetPickerOption:Tr,onCalendarChange:pr,onPanelChange:ce,onMousedown:$t(()=>{},["stop"])})]),_:3},16,["visible","transition","popper-class","popper-options","fallback-placements","placement"]))}});var xB=wt(CB,[["__file","picker.vue"]]);const IB=vt({...wB,datetimeRole:String,parsedValue:{type:Je(Object)}}),kB=({getAvailableHours:e,getAvailableMinutes:t,getAvailableSeconds:r})=>{const n=(o,i,l,c)=>{const u={hour:e,minute:t,second:r};let d=o;return["hour","minute","second"].forEach(m=>{if(u[m]){let b;const g=u[m];switch(m){case"minute":{b=g(d.hour(),i,c);break}case"second":{b=g(d.hour(),d.minute(),i,c);break}default:{b=g(i,c);break}}if(b!=null&&b.length&&!b.includes(d[m]())){const h=l?0:b.length-1;d=d[m](b[h])}}}),d},s={};return{timePickerOptions:s,getAvailableTime:n,onSetOption:([o,i])=>{s[o]=i}}},Qm=e=>{const t=(n,s)=>n||s,r=n=>n!==!0;return e.map(t).filter(r)},IC=(e,t,r)=>({getHoursList:(o,i)=>Jm(24,e&&(()=>e==null?void 0:e(o,i))),getMinutesList:(o,i,l)=>Jm(60,t&&(()=>t==null?void 0:t(o,i,l))),getSecondsList:(o,i,l,c)=>Jm(60,r&&(()=>r==null?void 0:r(o,i,l,c)))}),OB=(e,t,r)=>{const{getHoursList:n,getMinutesList:s,getSecondsList:a}=IC(e,t,r);return{getAvailableHours:(c,u)=>Qm(n(c,u)),getAvailableMinutes:(c,u,d)=>Qm(s(c,u,d)),getAvailableSeconds:(c,u,d,m)=>Qm(a(c,u,d,m))}},PB=e=>{const t=ee(e.parsedValue);return tt(()=>e.visible,r=>{r||(t.value=e.parsedValue)}),t},AB=vt({role:{type:String,required:!0},spinnerDate:{type:Je(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:Je(String),default:""},...CC}),EB=100,$B=600,xd={beforeMount(e,t){const r=t.value,{interval:n=EB,delay:s=$B}=et(r)?{}:r;let a,o;const i=()=>et(r)?r():r.handler(),l=()=>{o&&(clearTimeout(o),o=void 0),a&&(clearInterval(a),a=void 0)};e.addEventListener("mousedown",c=>{c.button===0&&(l(),i(),document.addEventListener("mouseup",()=>l(),{once:!0}),o=setTimeout(()=>{a=setInterval(()=>{i()},n)},s))})}};var RB=wt(xe({__name:"basic-time-spinner",props:AB,emits:["change","select-range","set-option"],setup(e,{emit:t}){const r=e,n=ft("EP_PICKER_BASE"),{isRange:s}=n.props,a=ct("time"),{getHoursList:o,getMinutesList:i,getSecondsList:l}=IC(r.disabledHours,r.disabledMinutes,r.disabledSeconds);let c=!1;const u=ee(),d=ee(),m=ee(),b=ee(),g={hours:d,minutes:m,seconds:b},h=W(()=>r.showSeconds?_C:_C.slice(0,2)),v=W(()=>{const{spinnerDate:Q}=r,ae=Q.hour(),ne=Q.minute(),he=Q.second();return{hours:ae,minutes:ne,seconds:he}}),y=W(()=>{const{hours:Q,minutes:ae}=w(v),{role:ne,spinnerDate:he}=r,ve=s?void 0:he;return{hours:o(ne,ve),minutes:i(Q,ne,ve),seconds:l(Q,ae,ne,ve)}}),C=W(()=>{const{hours:Q,minutes:ae,seconds:ne}=w(v);return{hours:Ym(Q,23),minutes:Ym(ae,59),seconds:Ym(ne,59)}}),_=oa(Q=>{c=!1,I(Q)},200),S=Q=>{if(!!!r.amPmMode)return"";const ne=r.amPmMode==="A";let he=Q<12?" am":" pm";return ne&&(he=he.toUpperCase()),he},x=Q=>{let ae;switch(Q){case"hours":ae=[0,2];break;case"minutes":ae=[3,5];break;case"seconds":ae=[6,8];break}const[ne,he]=ae;t("select-range",ne,he),u.value=Q},I=Q=>{$(Q,w(v)[Q])},f=()=>{I("hours"),I("minutes"),I("seconds")},P=Q=>Q.querySelector(`.${a.namespace.value}-scrollbar__wrap`),$=(Q,ae)=>{if(r.arrowControl)return;const ne=w(g[Q]);ne&&ne.$el&&(P(ne.$el).scrollTop=Math.max(0,ae*q(Q)))},q=Q=>{const ae=w(g[Q]),ne=ae==null?void 0:ae.$el.querySelector("li");return ne&&Number.parseFloat(xo(ne,"height"))||0},E=()=>{F(1)},M=()=>{F(-1)},F=Q=>{u.value||x("hours");const ae=u.value,ne=w(v)[ae],he=u.value==="hours"?24:60,ve=N(ae,ne,Q,he);R(ae,ve),$(ae,ve),xt(()=>x(ae))},N=(Q,ae,ne,he)=>{let ve=(ae+ne+he)%he;const We=w(y)[Q];for(;We[ve]&&ve!==ae;)ve=(ve+ne+he)%he;return ve},R=(Q,ae)=>{if(w(y)[Q][ae])return;const{hours:ve,minutes:We,seconds:Ge}=w(v);let Te;switch(Q){case"hours":Te=r.spinnerDate.hour(ae).minute(We).second(Ge);break;case"minutes":Te=r.spinnerDate.hour(ve).minute(ae).second(Ge);break;case"seconds":Te=r.spinnerDate.hour(ve).minute(We).second(ae);break}t("change",Te)},H=(Q,{value:ae,disabled:ne})=>{ne||(R(Q,ae),x(Q),$(Q,ae))},U=Q=>{const ae=w(g[Q]);if(!ae)return;c=!0,_(Q);const ne=Math.min(Math.round((P(ae.$el).scrollTop-(L(Q)*.5-10)/q(Q)+3)/q(Q)),Q==="hours"?23:59);R(Q,ne)},L=Q=>w(g[Q]).$el.offsetHeight,D=()=>{const Q=ae=>{const ne=w(g[ae]);ne&&ne.$el&&(P(ne.$el).onscroll=()=>{U(ae)})};Q("hours"),Q("minutes"),Q("seconds")};Kt(()=>{xt(()=>{!r.arrowControl&&D(),f(),r.role==="start"&&x("hours")})});const Y=(Q,ae)=>{g[ae].value=Q??void 0};return t("set-option",[`${r.role}_scrollDown`,F]),t("set-option",[`${r.role}_emitSelectRange`,x]),tt(()=>r.spinnerDate,()=>{c||f()}),(Q,ae)=>(K(),ue("div",{class:Z([w(a).b("spinner"),{"has-seconds":Q.showSeconds}])},[Q.arrowControl?Ee("v-if",!0):(K(!0),ue(ht,{key:0},Or(w(h),ne=>(K(),Le(w(td),{key:ne,ref_for:!0,ref:he=>Y(he,ne),class:Z(w(a).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":w(a).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:he=>x(ne),onMousemove:he=>I(ne)},{default:ie(()=>[(K(!0),ue(ht,null,Or(w(y)[ne],(he,ve)=>(K(),ue("li",{key:ve,class:Z([w(a).be("spinner","item"),w(a).is("active",ve===w(v)[ne]),w(a).is("disabled",he)]),onClick:We=>H(ne,{value:ve,disabled:he})},[ne==="hours"?(K(),ue(ht,{key:0},[ot(ze(("0"+(Q.amPmMode?ve%12||12:ve)).slice(-2))+ze(S(ve)),1)],64)):(K(),ue(ht,{key:1},[ot(ze(("0"+ve).slice(-2)),1)],64))],10,["onClick"]))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),Q.arrowControl?(K(!0),ue(ht,{key:1},Or(w(h),ne=>(K(),ue("div",{key:ne,class:Z([w(a).be("spinner","wrapper"),w(a).is("arrow")]),onMouseenter:he=>x(ne)},[Vt((K(),Le(w(Ot),{class:Z(["arrow-up",w(a).be("spinner","arrow")])},{default:ie(()=>[le(w(xm))]),_:1},8,["class"])),[[w(xd),M]]),Vt((K(),Le(w(Ot),{class:Z(["arrow-down",w(a).be("spinner","arrow")])},{default:ie(()=>[le(w(Qc))]),_:1},8,["class"])),[[w(xd),E]]),G("ul",{class:Z(w(a).be("spinner","list"))},[(K(!0),ue(ht,null,Or(w(C)[ne],(he,ve)=>(K(),ue("li",{key:ve,class:Z([w(a).be("spinner","item"),w(a).is("active",he===w(v)[ne]),w(a).is("disabled",w(y)[ne][he])])},[w(Zt)(he)?(K(),ue(ht,{key:0},[ne==="hours"?(K(),ue(ht,{key:0},[ot(ze(("0"+(Q.amPmMode?he%12||12:he)).slice(-2))+ze(S(he)),1)],64)):(K(),ue(ht,{key:1},[ot(ze(("0"+he).slice(-2)),1)],64))],64)):Ee("v-if",!0)],2))),128))],2)],42,["onMouseenter"]))),128)):Ee("v-if",!0)],2))}}),[["__file","basic-time-spinner.vue"]]),Zm=wt(xe({__name:"panel-time-pick",props:IB,emits:["pick","select-range","set-picker-option"],setup(e,{emit:t}){const r=e,n=ft("EP_PICKER_BASE"),{arrowControl:s,disabledHours:a,disabledMinutes:o,disabledSeconds:i,defaultValue:l}=n.props,{getAvailableHours:c,getAvailableMinutes:u,getAvailableSeconds:d}=OB(a,o,i),m=ct("time"),{t:b,lang:g}=Ur(),h=ee([0,2]),v=PB(r),y=W(()=>Rr(r.actualVisible)?`${m.namespace.value}-zoom-in-top`:""),C=W(()=>r.format.includes("ss")),_=W(()=>r.format.includes("A")?"A":r.format.includes("a")?"a":""),S=L=>{const D=Ve(L).locale(g.value),Y=N(D);return D.isSame(Y)},x=()=>{t("pick",v.value,!1)},I=(L=!1,D=!1)=>{D||t("pick",r.parsedValue,L)},f=L=>{if(!r.visible)return;const D=N(L).millisecond(0);t("pick",D,!0)},P=(L,D)=>{t("select-range",L,D),h.value=[L,D]},$=L=>{const D=[0,3].concat(C.value?[6]:[]),Y=["hours","minutes"].concat(C.value?["seconds"]:[]),ae=(D.indexOf(h.value[0])+L+D.length)%D.length;E.start_emitSelectRange(Y[ae])},q=L=>{const D=L.code,{left:Y,right:Q,up:ae,down:ne}=cr;if([Y,Q].includes(D)){$(D===Y?-1:1),L.preventDefault();return}if([ae,ne].includes(D)){const he=D===ae?-1:1;E.start_scrollDown(he),L.preventDefault();return}},{timePickerOptions:E,onSetOption:M,getAvailableTime:F}=kB({getAvailableHours:c,getAvailableMinutes:u,getAvailableSeconds:d}),N=L=>F(L,r.datetimeRole||"",!0),R=L=>L?Ve(L,r.format).locale(g.value):null,H=L=>L?L.format(r.format):null,U=()=>Ve(l).locale(g.value);return t("set-picker-option",["isValidValue",S]),t("set-picker-option",["formatToString",H]),t("set-picker-option",["parseUserInput",R]),t("set-picker-option",["handleKeydownInput",q]),t("set-picker-option",["getRangeAvailableTime",N]),t("set-picker-option",["getDefaultValue",U]),(L,D)=>(K(),Le(vs,{name:w(y)},{default:ie(()=>[L.actualVisible||L.visible?(K(),ue("div",{key:0,class:Z(w(m).b("panel"))},[G("div",{class:Z([w(m).be("panel","content"),{"has-seconds":w(C)}])},[le(RB,{ref:"spinner",role:L.datetimeRole||"start","arrow-control":w(s),"show-seconds":w(C),"am-pm-mode":w(_),"spinner-date":L.parsedValue,"disabled-hours":w(a),"disabled-minutes":w(o),"disabled-seconds":w(i),onChange:f,onSetOption:w(M),onSelectRange:P},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),G("div",{class:Z(w(m).be("panel","footer"))},[G("button",{type:"button",class:Z([w(m).be("panel","btn"),"cancel"]),onClick:x},ze(w(b)("el.datepicker.cancel")),3),G("button",{type:"button",class:Z([w(m).be("panel","btn"),"confirm"]),onClick:Y=>I()},ze(w(b)("el.datepicker.confirm")),11,["onClick"])],2)],2)):Ee("v-if",!0)]),_:1},8,["name"]))}}),[["__file","panel-time-pick.vue"]]);const Id=Symbol(),LB=vt({...xC,type:{type:Je(String),default:"date"}}),MB=["date","dates","year","years","month","months","week","range"],eg=vt({disabledDate:{type:Je(Function)},date:{type:Je(Object),required:!0},minDate:{type:Je(Object)},maxDate:{type:Je(Object)},parsedValue:{type:Je([Object,Array])},rangeState:{type:Je(Object),default:()=>({endDate:null,selecting:!1})}}),kC=vt({type:{type:Je(String),required:!0,values:PF},dateFormat:String,timeFormat:String,showNow:{type:Boolean,default:!0}}),tg=vt({unlinkPanels:Boolean,parsedValue:{type:Je(Array)}}),rg=e=>({type:String,values:MB,default:e}),DB=vt({...kC,parsedValue:{type:Je([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),$i=e=>{if(!Ue(e))return!1;const[t,r]=e;return Ve.isDayjs(t)&&Ve.isDayjs(r)&&t.isSameOrBefore(r)},ng=(e,{lang:t,unit:r,unlinkPanels:n})=>{let s;if(Ue(e)){let[a,o]=e.map(i=>Ve(i).locale(t));return n||(o=a.add(1,r)),[a,o]}else e?s=Ve(e):s=Ve();return s=s.locale(t),[s,s.add(1,r)]},NB=(e,t,{columnIndexOffset:r,startDate:n,nextEndDate:s,now:a,unit:o,relativeDateGetter:i,setCellMetadata:l,setRowMetadata:c})=>{for(let u=0;u<e.row;u++){const d=t[u];for(let m=0;m<e.column;m++){let b=d[m+r];b||(b={row:u,column:m,type:"normal",inRange:!1,start:!1,end:!1});const g=u*e.column+m,h=i(g);b.dayjs=h,b.date=h.toDate(),b.timestamp=h.valueOf(),b.type="normal",b.inRange=!!(n&&h.isSameOrAfter(n,o)&&s&&h.isSameOrBefore(s,o))||!!(n&&h.isSameOrBefore(n,o)&&s&&h.isSameOrAfter(s,o)),n!=null&&n.isSameOrAfter(s)?(b.start=!!s&&h.isSame(s,o),b.end=n&&h.isSame(n,o)):(b.start=!!n&&h.isSame(n,o),b.end=!!s&&h.isSame(s,o)),h.isSame(a,o)&&(b.type="today"),l==null||l(b,{rowIndex:u,columnIndex:m}),d[m+r]=b}c==null||c(d)}},kd=(e,t,r)=>{const n=Ve().locale(r).startOf("month").month(t).year(e),s=n.daysInMonth();return ZT(s).map(a=>n.add(a,"day").toDate())},Jl=(e,t,r,n)=>{const s=Ve().year(e).month(t).startOf("month"),a=kd(e,t,r).find(o=>!(n!=null&&n(o)));return a?Ve(a).locale(r):s.locale(r)},sg=(e,t,r)=>{const n=e.year();if(!(r!=null&&r(e.toDate())))return e.locale(t);const s=e.month();if(!kd(n,s,t).every(r))return Jl(n,s,t,r);for(let a=0;a<12;a++)if(!kd(n,a,t).every(r))return Jl(n,a,t,r);return e},FB=vt({...eg,cellClassName:{type:Je(Function)},showWeekNumber:Boolean,selectionMode:rg("date")}),BB=["changerange","pick","select"],ag=(e="")=>["normal","today"].includes(e),jB=(e,t)=>{const{lang:r}=Ur(),n=ee(),s=ee(),a=ee(),o=ee(),i=ee([[],[],[],[],[],[]]);let l=!1;const c=e.date.$locale().weekStart||7,u=e.date.locale("en").localeData().weekdaysShort().map(D=>D.toLowerCase()),d=W(()=>c>3?7-c:-c),m=W(()=>{const D=e.date.startOf("month");return D.subtract(D.day()||7,"day")}),b=W(()=>u.concat(u).slice(c,c+7)),g=W(()=>Xy(w(S)).some(D=>D.isCurrent)),h=W(()=>{const D=e.date.startOf("month"),Y=D.day()||7,Q=D.daysInMonth(),ae=D.subtract(1,"month").daysInMonth();return{startOfMonthDay:Y,dateCountOfMonth:Q,dateCountOfLastMonth:ae}}),v=W(()=>e.selectionMode==="dates"?Hn(e.parsedValue):[]),y=(D,{count:Y,rowIndex:Q,columnIndex:ae})=>{const{startOfMonthDay:ne,dateCountOfMonth:he,dateCountOfLastMonth:ve}=w(h),We=w(d);if(Q>=0&&Q<=1){const Ge=ne+We<0?7+ne+We:ne+We;if(ae+Q*7>=Ge)return D.text=Y,!0;D.text=ve-(Ge-ae%7)+1+Q*7,D.type="prev-month"}else return Y<=he?D.text=Y:(D.text=Y-he,D.type="next-month"),!0;return!1},C=(D,{columnIndex:Y,rowIndex:Q},ae)=>{const{disabledDate:ne,cellClassName:he}=e,ve=w(v),We=y(D,{count:ae,rowIndex:Q,columnIndex:Y}),Ge=D.dayjs.toDate();return D.selected=ve.find(Te=>Te.isSame(D.dayjs,"day")),D.isSelected=!!D.selected,D.isCurrent=I(D),D.disabled=ne==null?void 0:ne(Ge),D.customClass=he==null?void 0:he(Ge),We},_=D=>{if(e.selectionMode==="week"){const[Y,Q]=e.showWeekNumber?[1,7]:[0,6],ae=L(D[Y+1]);D[Y].inRange=ae,D[Y].start=ae,D[Q].inRange=ae,D[Q].end=ae}},S=W(()=>{const{minDate:D,maxDate:Y,rangeState:Q,showWeekNumber:ae}=e,ne=w(d),he=w(i),ve="day";let We=1;if(ae)for(let Ge=0;Ge<6;Ge++)he[Ge][0]||(he[Ge][0]={type:"week",text:w(m).add(Ge*7+1,ve).week()});return NB({row:6,column:7},he,{startDate:D,columnIndexOffset:ae?1:0,nextEndDate:Q.endDate||Y||Q.selecting&&D||null,now:Ve().locale(w(r)).startOf(ve),unit:ve,relativeDateGetter:Ge=>w(m).add(Ge-ne,ve),setCellMetadata:(...Ge)=>{C(...Ge,We)&&(We+=1)},setRowMetadata:_}),he});tt(()=>e.date,async()=>{var D;(D=w(n))!=null&&D.contains(document.activeElement)&&(await xt(),await x())});const x=async()=>{var D;return(D=w(s))==null?void 0:D.focus()},I=D=>e.selectionMode==="date"&&ag(D.type)&&f(D,e.parsedValue),f=(D,Y)=>Y?Ve(Y).locale(w(r)).isSame(e.date.date(Number(D.text)),"day"):!1,P=(D,Y)=>{const Q=D*7+(Y-(e.showWeekNumber?1:0))-w(d);return w(m).add(Q,"day")},$=D=>{var Y;if(!e.rangeState.selecting)return;let Q=D.target;if(Q.tagName==="SPAN"&&(Q=(Y=Q.parentNode)==null?void 0:Y.parentNode),Q.tagName==="DIV"&&(Q=Q.parentNode),Q.tagName!=="TD")return;const ae=Q.parentNode.rowIndex-1,ne=Q.cellIndex;w(S)[ae][ne].disabled||(ae!==w(a)||ne!==w(o))&&(a.value=ae,o.value=ne,t("changerange",{selecting:!0,endDate:P(ae,ne)}))},q=D=>!w(g)&&(D==null?void 0:D.text)===1&&D.type==="normal"||D.isCurrent,E=D=>{l||w(g)||e.selectionMode!=="date"||U(D,!0)},M=D=>{D.target.closest("td")&&(l=!0)},F=D=>{D.target.closest("td")&&(l=!1)},N=D=>{!e.rangeState.selecting||!e.minDate?(t("pick",{minDate:D,maxDate:null}),t("select",!0)):(D>=e.minDate?t("pick",{minDate:e.minDate,maxDate:D}):t("pick",{minDate:D,maxDate:e.minDate}),t("select",!1))},R=D=>{const Y=D.week(),Q=`${D.year()}w${Y}`;t("pick",{year:D.year(),week:Y,value:Q,date:D.startOf("week")})},H=(D,Y)=>{const Q=Y?Hn(e.parsedValue).filter(ae=>(ae==null?void 0:ae.valueOf())!==D.valueOf()):Hn(e.parsedValue).concat([D]);t("pick",Q)},U=(D,Y=!1)=>{const Q=D.target.closest("td");if(!Q)return;const ae=Q.parentNode.rowIndex-1,ne=Q.cellIndex,he=w(S)[ae][ne];if(he.disabled||he.type==="week")return;const ve=P(ae,ne);switch(e.selectionMode){case"range":{N(ve);break}case"date":{t("pick",ve,Y);break}case"week":{R(ve);break}case"dates":{H(ve,!!he.selected);break}}},L=D=>{if(e.selectionMode!=="week")return!1;let Y=e.date.startOf("day");if(D.type==="prev-month"&&(Y=Y.subtract(1,"month")),D.type==="next-month"&&(Y=Y.add(1,"month")),Y=Y.date(Number.parseInt(D.text,10)),e.parsedValue&&!Ue(e.parsedValue)){const Q=(e.parsedValue.day()-c+7)%7-1;return e.parsedValue.subtract(Q,"day").isSame(Y,"day")}return!1};return{WEEKS:b,rows:S,tbodyRef:n,currentCellRef:s,focus:x,isCurrent:I,isWeekActive:L,isSelectedCell:q,handlePickDate:U,handleMouseUp:F,handleMouseDown:M,handleMouseMove:$,handleFocus:E}},UB=(e,{isCurrent:t,isWeekActive:r})=>{const n=ct("date-table"),{t:s}=Ur(),a=W(()=>[n.b(),{"is-week-mode":e.selectionMode==="week"}]),o=W(()=>s("el.datepicker.dateTablePrompt")),i=W(()=>s("el.datepicker.week"));return{tableKls:a,tableLabel:o,weekLabel:i,getCellClasses:u=>{const d=[];return ag(u.type)&&!u.disabled?(d.push("available"),u.type==="today"&&d.push("today")):d.push(u.type),t(u)&&d.push("current"),u.inRange&&(ag(u.type)||e.selectionMode==="week")&&(d.push("in-range"),u.start&&d.push("start-date"),u.end&&d.push("end-date")),u.disabled&&d.push("disabled"),u.selected&&d.push("selected"),u.customClass&&d.push(u.customClass),d.join(" ")},getRowKls:u=>[n.e("row"),{current:r(u)}],t:s}},qB=vt({cell:{type:Je(Object)}});var og=xe({name:"ElDatePickerCell",props:qB,setup(e){const t=ct("date-table-cell"),{slots:r}=ft(Id);return()=>{const{cell:n}=e;return Ne(r,"default",{...n},()=>{var s;return[le("div",{class:t.b()},[le("span",{class:t.e("text")},[(s=n==null?void 0:n.renderText)!=null?s:n==null?void 0:n.text])])]})}}}),ig=wt(xe({__name:"basic-date-table",props:FB,emits:BB,setup(e,{expose:t,emit:r}){const n=e,{WEEKS:s,rows:a,tbodyRef:o,currentCellRef:i,focus:l,isCurrent:c,isWeekActive:u,isSelectedCell:d,handlePickDate:m,handleMouseUp:b,handleMouseDown:g,handleMouseMove:h,handleFocus:v}=jB(n,r),{tableLabel:y,tableKls:C,weekLabel:_,getCellClasses:S,getRowKls:x,t:I}=UB(n,{isCurrent:c,isWeekActive:u});return t({focus:l}),(f,P)=>(K(),ue("table",{"aria-label":w(y),class:Z(w(C)),cellspacing:"0",cellpadding:"0",role:"grid",onClick:w(m),onMousemove:w(h),onMousedown:$t(w(g),["prevent"]),onMouseup:w(b)},[G("tbody",{ref_key:"tbodyRef",ref:o},[G("tr",null,[f.showWeekNumber?(K(),ue("th",{key:0,scope:"col"},ze(w(_)),1)):Ee("v-if",!0),(K(!0),ue(ht,null,Or(w(s),($,q)=>(K(),ue("th",{key:q,"aria-label":w(I)("el.datepicker.weeksFull."+$),scope:"col"},ze(w(I)("el.datepicker.weeks."+$)),9,["aria-label"]))),128))]),(K(!0),ue(ht,null,Or(w(a),($,q)=>(K(),ue("tr",{key:q,class:Z(w(x)($[1]))},[(K(!0),ue(ht,null,Or($,(E,M)=>(K(),ue("td",{key:`${q}.${M}`,ref_for:!0,ref:F=>w(d)(E)&&(i.value=F),class:Z(w(S)(E)),"aria-current":E.isCurrent?"date":void 0,"aria-selected":E.isCurrent,tabindex:w(d)(E)?0:-1,onFocus:w(v)},[le(w(og),{cell:E},null,8,["cell"])],42,["aria-current","aria-selected","tabindex","onFocus"]))),128))],2))),128))],512)],42,["aria-label","onClick","onMousemove","onMousedown","onMouseup"]))}}),[["__file","basic-date-table.vue"]]);const VB=vt({...eg,selectionMode:rg("month")});var lg=wt(xe({__name:"basic-month-table",props:VB,emits:["changerange","pick","select"],setup(e,{expose:t,emit:r}){const n=e,s=ct("month-table"),{t:a,lang:o}=Ur(),i=ee(),l=ee(),c=ee(n.date.locale("en").localeData().monthsShort().map(_=>_.toLowerCase())),u=ee([[],[],[]]),d=ee(),m=ee(),b=W(()=>{var _,S;const x=u.value,I=Ve().locale(o.value).startOf("month");for(let f=0;f<3;f++){const P=x[f];for(let $=0;$<4;$++){const q=P[$]||(P[$]={row:f,column:$,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});q.type="normal";const E=f*4+$,M=n.date.startOf("year").month(E),F=n.rangeState.endDate||n.maxDate||n.rangeState.selecting&&n.minDate||null;q.inRange=!!(n.minDate&&M.isSameOrAfter(n.minDate,"month")&&F&&M.isSameOrBefore(F,"month"))||!!(n.minDate&&M.isSameOrBefore(n.minDate,"month")&&F&&M.isSameOrAfter(F,"month")),(_=n.minDate)!=null&&_.isSameOrAfter(F)?(q.start=!!(F&&M.isSame(F,"month")),q.end=n.minDate&&M.isSame(n.minDate,"month")):(q.start=!!(n.minDate&&M.isSame(n.minDate,"month")),q.end=!!(F&&M.isSame(F,"month"))),I.isSame(M)&&(q.type="today"),q.text=E,q.disabled=((S=n.disabledDate)==null?void 0:S.call(n,M.toDate()))||!1}}return x}),g=()=>{var _;(_=l.value)==null||_.focus()},h=_=>{const S={},x=n.date.year(),I=new Date,f=_.text;return S.disabled=n.disabledDate?kd(x,f,o.value).every(n.disabledDate):!1,S.current=Hn(n.parsedValue).findIndex(P=>Ve.isDayjs(P)&&P.year()===x&&P.month()===f)>=0,S.today=I.getFullYear()===x&&I.getMonth()===f,_.inRange&&(S["in-range"]=!0,_.start&&(S["start-date"]=!0),_.end&&(S["end-date"]=!0)),S},v=_=>{const S=n.date.year(),x=_.text;return Hn(n.date).findIndex(I=>I.year()===S&&I.month()===x)>=0},y=_=>{var S;if(!n.rangeState.selecting)return;let x=_.target;if(x.tagName==="SPAN"&&(x=(S=x.parentNode)==null?void 0:S.parentNode),x.tagName==="DIV"&&(x=x.parentNode),x.tagName!=="TD")return;const I=x.parentNode.rowIndex,f=x.cellIndex;b.value[I][f].disabled||(I!==d.value||f!==m.value)&&(d.value=I,m.value=f,r("changerange",{selecting:!0,endDate:n.date.startOf("year").month(I*4+f)}))},C=_=>{var S;const x=(S=_.target)==null?void 0:S.closest("td");if((x==null?void 0:x.tagName)!=="TD"||ys(x,"disabled"))return;const I=x.cellIndex,P=x.parentNode.rowIndex*4+I,$=n.date.startOf("year").month(P);if(n.selectionMode==="months"){if(_.type==="keydown"){r("pick",Hn(n.parsedValue),!1);return}const q=Jl(n.date.year(),P,o.value,n.disabledDate),E=ys(x,"current")?Hn(n.parsedValue).filter(M=>(M==null?void 0:M.month())!==q.month()):Hn(n.parsedValue).concat([Ve(q)]);r("pick",E)}else n.selectionMode==="range"?n.rangeState.selecting?(n.minDate&&$>=n.minDate?r("pick",{minDate:n.minDate,maxDate:$}):r("pick",{minDate:$,maxDate:n.minDate}),r("select",!1)):(r("pick",{minDate:$,maxDate:null}),r("select",!0)):r("pick",P)};return tt(()=>n.date,async()=>{var _,S;(_=i.value)!=null&&_.contains(document.activeElement)&&(await xt(),(S=l.value)==null||S.focus())}),t({focus:g}),(_,S)=>(K(),ue("table",{role:"grid","aria-label":w(a)("el.datepicker.monthTablePrompt"),class:Z(w(s).b()),onClick:C,onMousemove:y},[G("tbody",{ref_key:"tbodyRef",ref:i},[(K(!0),ue(ht,null,Or(w(b),(x,I)=>(K(),ue("tr",{key:I},[(K(!0),ue(ht,null,Or(x,(f,P)=>(K(),ue("td",{key:P,ref_for:!0,ref:$=>v(f)&&(l.value=$),class:Z(h(f)),"aria-selected":`${v(f)}`,"aria-label":w(a)(`el.datepicker.month${+f.text+1}`),tabindex:v(f)?0:-1,onKeydown:[qr($t(C,["prevent","stop"]),["space"]),qr($t(C,["prevent","stop"]),["enter"])]},[le(w(og),{cell:{...f,renderText:w(a)("el.datepicker.months."+c.value[f.text])}},null,8,["cell"])],42,["aria-selected","aria-label","tabindex","onKeydown"]))),128))]))),128))],512)],42,["aria-label"]))}}),[["__file","basic-month-table.vue"]]);const HB=vt({...eg,selectionMode:rg("year")});var ug=wt(xe({__name:"basic-year-table",props:HB,emits:["changerange","pick","select"],setup(e,{expose:t,emit:r}){const n=e,s=(S,x)=>{const I=Ve(String(S)).locale(x).startOf("year"),P=I.endOf("year").dayOfYear();return ZT(P).map($=>I.add($,"day").toDate())},a=ct("year-table"),{t:o,lang:i}=Ur(),l=ee(),c=ee(),u=W(()=>Math.floor(n.date.year()/10)*10),d=ee([[],[],[]]),m=ee(),b=ee(),g=W(()=>{var S;const x=d.value,I=Ve().locale(i.value).startOf("year");for(let f=0;f<3;f++){const P=x[f];for(let $=0;$<4&&!(f*4+$>=10);$++){let q=P[$];q||(q={row:f,column:$,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1}),q.type="normal";const E=f*4+$+u.value,M=Ve().year(E),F=n.rangeState.endDate||n.maxDate||n.rangeState.selecting&&n.minDate||null;q.inRange=!!(n.minDate&&M.isSameOrAfter(n.minDate,"year")&&F&&M.isSameOrBefore(F,"year"))||!!(n.minDate&&M.isSameOrBefore(n.minDate,"year")&&F&&M.isSameOrAfter(F,"year")),(S=n.minDate)!=null&&S.isSameOrAfter(F)?(q.start=!!(F&&M.isSame(F,"year")),q.end=!!(n.minDate&&M.isSame(n.minDate,"year"))):(q.start=!!(n.minDate&&M.isSame(n.minDate,"year")),q.end=!!(F&&M.isSame(F,"year"))),I.isSame(M)&&(q.type="today"),q.text=E;const R=M.toDate();q.disabled=n.disabledDate&&n.disabledDate(R)||!1,P[$]=q}}return x}),h=()=>{var S;(S=c.value)==null||S.focus()},v=S=>{const x={},I=Ve().locale(i.value),f=S.text;return x.disabled=n.disabledDate?s(f,i.value).every(n.disabledDate):!1,x.today=I.year()===f,x.current=Hn(n.parsedValue).findIndex(P=>P.year()===f)>=0,S.inRange&&(x["in-range"]=!0,S.start&&(x["start-date"]=!0),S.end&&(x["end-date"]=!0)),x},y=S=>{const x=S.text;return Hn(n.date).findIndex(I=>I.year()===x)>=0},C=S=>{var x;const I=(x=S.target)==null?void 0:x.closest("td");if(!I||!I.textContent||ys(I,"disabled"))return;const f=I.cellIndex,$=I.parentNode.rowIndex*4+f+u.value,q=Ve().year($);if(n.selectionMode==="range")n.rangeState.selecting?(n.minDate&&q>=n.minDate?r("pick",{minDate:n.minDate,maxDate:q}):r("pick",{minDate:q,maxDate:n.minDate}),r("select",!1)):(r("pick",{minDate:q,maxDate:null}),r("select",!0));else if(n.selectionMode==="years"){if(S.type==="keydown"){r("pick",Hn(n.parsedValue),!1);return}const E=sg(q.startOf("year"),i.value,n.disabledDate),M=ys(I,"current")?Hn(n.parsedValue).filter(F=>(F==null?void 0:F.year())!==$):Hn(n.parsedValue).concat([E]);r("pick",M)}else r("pick",$)},_=S=>{var x;if(!n.rangeState.selecting)return;const I=(x=S.target)==null?void 0:x.closest("td");if(!I)return;const f=I.parentNode.rowIndex,P=I.cellIndex;g.value[f][P].disabled||(f!==m.value||P!==b.value)&&(m.value=f,b.value=P,r("changerange",{selecting:!0,endDate:Ve().year(u.value).add(f*4+P,"year")}))};return tt(()=>n.date,async()=>{var S,x;(S=l.value)!=null&&S.contains(document.activeElement)&&(await xt(),(x=c.value)==null||x.focus())}),t({focus:h}),(S,x)=>(K(),ue("table",{role:"grid","aria-label":w(o)("el.datepicker.yearTablePrompt"),class:Z(w(a).b()),onClick:C,onMousemove:_},[G("tbody",{ref_key:"tbodyRef",ref:l},[(K(!0),ue(ht,null,Or(w(g),(I,f)=>(K(),ue("tr",{key:f},[(K(!0),ue(ht,null,Or(I,(P,$)=>(K(),ue("td",{key:`${f}_${$}`,ref_for:!0,ref:q=>y(P)&&(c.value=q),class:Z(["available",v(P)]),"aria-selected":y(P),"aria-label":String(P.text),tabindex:y(P)?0:-1,onKeydown:[qr($t(C,["prevent","stop"]),["space"]),qr($t(C,["prevent","stop"]),["enter"])]},[le(w(og),{cell:P},null,8,["cell"])],42,["aria-selected","aria-label","tabindex","onKeydown"]))),128))]))),128))],512)],42,["aria-label"]))}}),[["__file","basic-year-table.vue"]]),zB=wt(xe({__name:"panel-date-pick",props:DB,emits:["pick","set-picker-option","panel-change"],setup(e,{emit:t}){const r=e,n=(ce,fe,J)=>!0,s=ct("picker-panel"),a=ct("date-picker"),o=wc(),i=gs(),{t:l,lang:c}=Ur(),u=ft("EP_PICKER_BASE"),d=ft(fd),{shortcuts:m,disabledDate:b,cellClassName:g,defaultTime:h}=u.props,v=Lr(u.props,"defaultValue"),y=ee(),C=ee(Ve().locale(c.value)),_=ee(!1);let S=!1;const x=W(()=>Ve(h).locale(c.value)),I=W(()=>C.value.month()),f=W(()=>C.value.year()),P=ee([]),$=ee(null),q=ee(null),E=ce=>P.value.length>0?n(ce,P.value,r.format||"HH:mm:ss"):!0,M=ce=>h&&!Re.value&&!_.value&&!S?x.value.year(ce.year()).month(ce.month()).date(ce.date()):Ge.value?ce.millisecond(0):ce.startOf("day"),F=(ce,...fe)=>{if(!ce)t("pick",ce,...fe);else if(Ue(ce)){const J=ce.map(M);t("pick",J,...fe)}else t("pick",M(ce),...fe);$.value=null,q.value=null,_.value=!1,S=!1},N=async(ce,fe)=>{if(Y.value==="date"){ce=ce;let J=r.parsedValue?r.parsedValue.year(ce.year()).month(ce.month()).date(ce.date()):ce;E(J)||(J=P.value[0][0].year(ce.year()).month(ce.month()).date(ce.date())),C.value=J,F(J,Ge.value||fe),r.type==="datetime"&&(await xt(),bt())}else Y.value==="week"?F(ce.date):Y.value==="dates"&&F(ce,!0)},R=ce=>{const fe=ce?"add":"subtract";C.value=C.value[fe](1,"month"),pr("month")},H=ce=>{const fe=C.value,J=ce?"add":"subtract";C.value=U.value==="year"?fe[J](10,"year"):fe[J](1,"year"),pr("year")},U=ee("date"),L=W(()=>{const ce=l("el.datepicker.year");if(U.value==="year"){const fe=Math.floor(f.value/10)*10;return ce?`${fe} ${ce} - ${fe+9} ${ce}`:`${fe} - ${fe+9}`}return`${f.value} ${ce}`}),D=ce=>{const fe=et(ce.value)?ce.value():ce.value;if(fe){S=!0,F(Ve(fe).locale(c.value));return}ce.onClick&&ce.onClick({attrs:o,slots:i,emit:t})},Y=W(()=>{const{type:ce}=r;return["week","month","months","year","years","dates"].includes(ce)?ce:"date"}),Q=W(()=>Y.value==="dates"||Y.value==="months"||Y.value==="years"),ae=W(()=>Y.value==="date"?U.value:Y.value),ne=W(()=>!!m.length),he=async(ce,fe)=>{Y.value==="month"?(C.value=Jl(C.value.year(),ce,c.value,b),F(C.value,!1)):Y.value==="months"?F(ce,fe??!0):(C.value=Jl(C.value.year(),ce,c.value,b),U.value="date",["month","year","date","week"].includes(Y.value)&&(F(C.value,!0),await xt(),bt())),pr("month")},ve=async(ce,fe)=>{if(Y.value==="year"){const J=C.value.startOf("year").year(ce);C.value=sg(J,c.value,b),F(C.value,!1)}else if(Y.value==="years")F(ce,fe??!0);else{const J=C.value.year(ce);C.value=sg(J,c.value,b),U.value="month",["month","year","date","week"].includes(Y.value)&&(F(C.value,!0),await xt(),bt())}pr("year")},We=async ce=>{U.value=ce,await xt(),bt()},Ge=W(()=>r.type==="datetime"||r.type==="datetimerange"),Te=W(()=>{const ce=Ge.value||Y.value==="dates",fe=Y.value==="years",J=Y.value==="months",V=U.value==="date",Se=U.value==="year",Qe=U.value==="month";return ce&&V||fe&&Se||J&&Qe}),He=W(()=>b?r.parsedValue?Ue(r.parsedValue)?b(r.parsedValue[0].toDate()):b(r.parsedValue.toDate()):!0:!1),Me=()=>{if(Q.value)F(r.parsedValue);else{let ce=r.parsedValue;if(!ce){const fe=Ve(h).locale(c.value),J=Et();ce=fe.year(J.year()).month(J.month()).date(J.date())}C.value=ce,F(ce)}},rt=W(()=>b?b(Ve().locale(c.value).toDate()):!1),X=()=>{const fe=Ve().locale(c.value).toDate();_.value=!0,(!b||!b(fe))&&E(fe)&&(C.value=Ve().locale(c.value),F(C.value))},re=W(()=>r.timeFormat||tC(r.format)),ge=W(()=>r.dateFormat||eC(r.format)),Re=W(()=>{if(q.value)return q.value;if(!(!r.parsedValue&&!v.value))return(r.parsedValue||C.value).format(re.value)}),_e=W(()=>{if($.value)return $.value;if(!(!r.parsedValue&&!v.value))return(r.parsedValue||C.value).format(ge.value)}),ke=ee(!1),qe=()=>{ke.value=!0},Pe=()=>{ke.value=!1},De=ce=>({hour:ce.hour(),minute:ce.minute(),second:ce.second(),year:ce.year(),month:ce.month(),date:ce.date()}),$e=(ce,fe,J)=>{const{hour:V,minute:Se,second:Qe}=De(ce),dt=r.parsedValue?r.parsedValue.hour(V).minute(Se).second(Qe):ce;C.value=dt,F(C.value,!0),J||(ke.value=fe)},st=ce=>{const fe=Ve(ce,re.value).locale(c.value);if(fe.isValid()&&E(fe)){const{year:J,month:V,date:Se}=De(C.value);C.value=fe.year(J).month(V).date(Se),q.value=null,ke.value=!1,F(C.value,!0)}},Ke=ce=>{const fe=Ve(ce,ge.value).locale(c.value);if(fe.isValid()){if(b&&b(fe.toDate()))return;const{hour:J,minute:V,second:Se}=De(C.value);C.value=fe.hour(J).minute(V).second(Se),$.value=null,F(C.value,!0)}},ye=ce=>Ve.isDayjs(ce)&&ce.isValid()&&(b?!b(ce.toDate()):!0),Ce=ce=>Ue(ce)?ce.map(fe=>fe.format(r.format)):ce.format(r.format),it=ce=>Ve(ce,r.format).locale(c.value),Et=()=>{const ce=Ve(v.value).locale(c.value);if(!v.value){const fe=x.value;return Ve().hour(fe.hour()).minute(fe.minute()).second(fe.second()).locale(c.value)}return ce},bt=()=>{var ce;["week","month","year","date"].includes(Y.value)&&((ce=y.value)==null||ce.focus())},fr=()=>{bt(),Y.value==="week"&&Tr(cr.down)},At=ce=>{const{code:fe}=ce;[cr.up,cr.down,cr.left,cr.right,cr.home,cr.end,cr.pageUp,cr.pageDown].includes(fe)&&(Tr(fe),ce.stopPropagation(),ce.preventDefault()),[cr.enter,cr.space,cr.numpadEnter].includes(fe)&&$.value===null&&q.value===null&&(ce.preventDefault(),F(C.value,!1))},Tr=ce=>{var fe;const{up:J,down:V,left:Se,right:Qe,home:dt,end:mt,pageUp:hr,pageDown:Cr}=cr,xr={year:{[J]:-4,[V]:4,[Se]:-1,[Qe]:1,offset:(Mt,nr)=>Mt.setFullYear(Mt.getFullYear()+nr)},month:{[J]:-4,[V]:4,[Se]:-1,[Qe]:1,offset:(Mt,nr)=>Mt.setMonth(Mt.getMonth()+nr)},week:{[J]:-1,[V]:1,[Se]:-1,[Qe]:1,offset:(Mt,nr)=>Mt.setDate(Mt.getDate()+nr*7)},date:{[J]:-7,[V]:7,[Se]:-1,[Qe]:1,[dt]:Mt=>-Mt.getDay(),[mt]:Mt=>-Mt.getDay()+6,[hr]:Mt=>-new Date(Mt.getFullYear(),Mt.getMonth(),0).getDate(),[Cr]:Mt=>new Date(Mt.getFullYear(),Mt.getMonth()+1,0).getDate(),offset:(Mt,nr)=>Mt.setDate(Mt.getDate()+nr)}},Hr=C.value.toDate();for(;Math.abs(C.value.diff(Hr,"year",!0))<1;){const Mt=xr[ae.value];if(!Mt)return;if(Mt.offset(Hr,et(Mt[ce])?Mt[ce](Hr):(fe=Mt[ce])!=null?fe:0),b&&b(Hr))break;const nr=Ve(Hr).locale(c.value);C.value=nr,t("pick",nr,!0);break}},pr=ce=>{t("panel-change",C.value.toDate(),ce,U.value)};return tt(()=>Y.value,ce=>{if(["month","year"].includes(ce)){U.value=ce;return}else if(ce==="years"){U.value="year";return}else if(ce==="months"){U.value="month";return}U.value="date"},{immediate:!0}),tt(()=>U.value,()=>{d==null||d.updatePopper()}),tt(()=>v.value,ce=>{ce&&(C.value=Et())},{immediate:!0}),tt(()=>r.parsedValue,ce=>{if(ce){if(Q.value||Ue(ce))return;C.value=ce}else C.value=Et()},{immediate:!0}),t("set-picker-option",["isValidValue",ye]),t("set-picker-option",["formatToString",Ce]),t("set-picker-option",["parseUserInput",it]),t("set-picker-option",["handleFocusPicker",fr]),(ce,fe)=>(K(),ue("div",{class:Z([w(s).b(),w(a).b(),{"has-sidebar":ce.$slots.sidebar||w(ne),"has-time":w(Ge)}])},[G("div",{class:Z(w(s).e("body-wrapper"))},[Ne(ce.$slots,"sidebar",{class:Z(w(s).e("sidebar"))}),w(ne)?(K(),ue("div",{key:0,class:Z(w(s).e("sidebar"))},[(K(!0),ue(ht,null,Or(w(m),(J,V)=>(K(),ue("button",{key:V,type:"button",class:Z(w(s).e("shortcut")),onClick:Se=>D(J)},ze(J.text),11,["onClick"]))),128))],2)):Ee("v-if",!0),G("div",{class:Z(w(s).e("body"))},[w(Ge)?(K(),ue("div",{key:0,class:Z(w(a).e("time-header"))},[G("span",{class:Z(w(a).e("editor-wrap"))},[le(w(Ta),{placeholder:w(l)("el.datepicker.selectDate"),"model-value":w(_e),size:"small","validate-event":!1,onInput:J=>$.value=J,onChange:Ke},null,8,["placeholder","model-value","onInput"])],2),Vt((K(),ue("span",{class:Z(w(a).e("editor-wrap"))},[le(w(Ta),{placeholder:w(l)("el.datepicker.selectTime"),"model-value":w(Re),size:"small","validate-event":!1,onFocus:qe,onInput:J=>q.value=J,onChange:st},null,8,["placeholder","model-value","onInput"]),le(w(Zm),{visible:ke.value,format:w(re),"parsed-value":C.value,onPick:$e},null,8,["visible","format","parsed-value"])],2)),[[w(Yl),Pe]])],2)):Ee("v-if",!0),Vt(G("div",{class:Z([w(a).e("header"),(U.value==="year"||U.value==="month")&&w(a).e("header--bordered")])},[G("span",{class:Z(w(a).e("prev-btn"))},[G("button",{type:"button","aria-label":w(l)("el.datepicker.prevYear"),class:Z(["d-arrow-left",w(s).e("icon-btn")]),onClick:J=>H(!1)},[Ne(ce.$slots,"prev-year",{},()=>[le(w(Ot),null,{default:ie(()=>[le(w(ko))]),_:1})])],10,["aria-label","onClick"]),Vt(G("button",{type:"button","aria-label":w(l)("el.datepicker.prevMonth"),class:Z([w(s).e("icon-btn"),"arrow-left"]),onClick:J=>R(!1)},[Ne(ce.$slots,"prev-month",{},()=>[le(w(Ot),null,{default:ie(()=>[le(w(Cm))]),_:1})])],10,["aria-label","onClick"]),[[Pr,U.value==="date"]])],2),G("span",{role:"button",class:Z(w(a).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:qr(J=>We("year"),["enter"]),onClick:J=>We("year")},ze(w(L)),43,["onKeydown","onClick"]),Vt(G("span",{role:"button","aria-live":"polite",tabindex:"0",class:Z([w(a).e("header-label"),{active:U.value==="month"}]),onKeydown:qr(J=>We("month"),["enter"]),onClick:J=>We("month")},ze(w(l)(`el.datepicker.month${w(I)+1}`)),43,["onKeydown","onClick"]),[[Pr,U.value==="date"]]),G("span",{class:Z(w(a).e("next-btn"))},[Vt(G("button",{type:"button","aria-label":w(l)("el.datepicker.nextMonth"),class:Z([w(s).e("icon-btn"),"arrow-right"]),onClick:J=>R(!0)},[Ne(ce.$slots,"next-month",{},()=>[le(w(Ot),null,{default:ie(()=>[le(w(vi))]),_:1})])],10,["aria-label","onClick"]),[[Pr,U.value==="date"]]),G("button",{type:"button","aria-label":w(l)("el.datepicker.nextYear"),class:Z([w(s).e("icon-btn"),"d-arrow-right"]),onClick:J=>H(!0)},[Ne(ce.$slots,"next-year",{},()=>[le(w(Ot),null,{default:ie(()=>[le(w(Oo))]),_:1})])],10,["aria-label","onClick"])],2)],2),[[Pr,U.value!=="time"]]),G("div",{class:Z(w(s).e("content")),onKeydown:At},[U.value==="date"?(K(),Le(ig,{key:0,ref_key:"currentViewRef",ref:y,"selection-mode":w(Y),date:C.value,"parsed-value":ce.parsedValue,"disabled-date":w(b),"cell-class-name":w(g),onPick:N},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):Ee("v-if",!0),U.value==="year"?(K(),Le(ug,{key:1,ref_key:"currentViewRef",ref:y,"selection-mode":w(Y),date:C.value,"disabled-date":w(b),"parsed-value":ce.parsedValue,onPick:ve},null,8,["selection-mode","date","disabled-date","parsed-value"])):Ee("v-if",!0),U.value==="month"?(K(),Le(lg,{key:2,ref_key:"currentViewRef",ref:y,"selection-mode":w(Y),date:C.value,"parsed-value":ce.parsedValue,"disabled-date":w(b),onPick:he},null,8,["selection-mode","date","parsed-value","disabled-date"])):Ee("v-if",!0)],34)],2)],2),Vt(G("div",{class:Z(w(s).e("footer"))},[Vt(le(w(un),{text:"",size:"small",class:Z(w(s).e("link-btn")),disabled:w(rt),onClick:X},{default:ie(()=>[ot(ze(w(l)("el.datepicker.now")),1)]),_:1},8,["class","disabled"]),[[Pr,!w(Q)&&ce.showNow]]),le(w(un),{plain:"",size:"small",class:Z(w(s).e("link-btn")),disabled:w(He),onClick:Me},{default:ie(()=>[ot(ze(w(l)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2),[[Pr,w(Te)]])],2))}}),[["__file","panel-date-pick.vue"]]);const WB=vt({...kC,...tg,visible:Boolean}),OC=e=>{const{emit:t}=Ht(),r=wc(),n=gs();return a=>{const o=et(a.value)?a.value():a.value;if(o){t("pick",[Ve(o[0]).locale(e.value),Ve(o[1]).locale(e.value)]);return}a.onClick&&a.onClick({attrs:r,slots:n,emit:t})}},PC=(e,{defaultValue:t,leftDate:r,rightDate:n,unit:s,onParsedValueChanged:a})=>{const{emit:o}=Ht(),{pickerNs:i}=ft(Id),l=ct("date-range-picker"),{t:c,lang:u}=Ur(),d=OC(u),m=ee(),b=ee(),g=ee({endDate:null,selecting:!1}),h=S=>{g.value=S},v=(S=!1)=>{const x=w(m),I=w(b);$i([x,I])&&o("pick",[x,I],S)},y=S=>{g.value.selecting=S,S||(g.value.endDate=null)},C=S=>{if(Ue(S)&&S.length===2){const[x,I]=S;m.value=x,r.value=x,b.value=I,a(w(m),w(b))}else _()},_=()=>{const[S,x]=ng(w(t),{lang:w(u),unit:s,unlinkPanels:e.unlinkPanels});m.value=void 0,b.value=void 0,r.value=S,n.value=x};return tt(t,S=>{S&&_()},{immediate:!0}),tt(()=>e.parsedValue,C,{immediate:!0}),{minDate:m,maxDate:b,rangeState:g,lang:u,ppNs:i,drpNs:l,handleChangeRange:h,handleRangeConfirm:v,handleShortcutClick:d,onSelect:y,onReset:C,t:c}},Od="month";var GB=wt(xe({__name:"panel-date-range",props:WB,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(e,{emit:t}){const r=e,n=ft("EP_PICKER_BASE"),{disabledDate:s,cellClassName:a,defaultTime:o,clearable:i}=n.props,l=Lr(n.props,"format"),c=Lr(n.props,"shortcuts"),u=Lr(n.props,"defaultValue"),{lang:d}=Ur(),m=ee(Ve().locale(d.value)),b=ee(Ve().locale(d.value).add(1,Od)),{minDate:g,maxDate:h,rangeState:v,ppNs:y,drpNs:C,handleChangeRange:_,handleRangeConfirm:S,handleShortcutClick:x,onSelect:I,onReset:f,t:P}=PC(r,{defaultValue:u,leftDate:m,rightDate:b,unit:Od,onParsedValueChanged:ce});tt(()=>r.visible,fe=>{!fe&&v.value.selecting&&(f(r.parsedValue),I(!1))});const $=ee({min:null,max:null}),q=ee({min:null,max:null}),E=W(()=>`${m.value.year()} ${P("el.datepicker.year")} ${P(`el.datepicker.month${m.value.month()+1}`)}`),M=W(()=>`${b.value.year()} ${P("el.datepicker.year")} ${P(`el.datepicker.month${b.value.month()+1}`)}`),F=W(()=>m.value.year()),N=W(()=>m.value.month()),R=W(()=>b.value.year()),H=W(()=>b.value.month()),U=W(()=>!!c.value.length),L=W(()=>$.value.min!==null?$.value.min:g.value?g.value.format(ne.value):""),D=W(()=>$.value.max!==null?$.value.max:h.value||g.value?(h.value||g.value).format(ne.value):""),Y=W(()=>q.value.min!==null?q.value.min:g.value?g.value.format(ae.value):""),Q=W(()=>q.value.max!==null?q.value.max:h.value||g.value?(h.value||g.value).format(ae.value):""),ae=W(()=>r.timeFormat||tC(l.value)),ne=W(()=>r.dateFormat||eC(l.value)),he=fe=>$i(fe)&&(s?!s(fe[0].toDate())&&!s(fe[1].toDate()):!0),ve=()=>{m.value=m.value.subtract(1,"year"),r.unlinkPanels||(b.value=m.value.add(1,"month")),re("year")},We=()=>{m.value=m.value.subtract(1,"month"),r.unlinkPanels||(b.value=m.value.add(1,"month")),re("month")},Ge=()=>{r.unlinkPanels?b.value=b.value.add(1,"year"):(m.value=m.value.add(1,"year"),b.value=m.value.add(1,"month")),re("year")},Te=()=>{r.unlinkPanels?b.value=b.value.add(1,"month"):(m.value=m.value.add(1,"month"),b.value=m.value.add(1,"month")),re("month")},He=()=>{m.value=m.value.add(1,"year"),re("year")},Me=()=>{m.value=m.value.add(1,"month"),re("month")},rt=()=>{b.value=b.value.subtract(1,"year"),re("year")},X=()=>{b.value=b.value.subtract(1,"month"),re("month")},re=fe=>{t("panel-change",[m.value.toDate(),b.value.toDate()],fe)},ge=W(()=>{const fe=(N.value+1)%12,J=N.value+1>=12?1:0;return r.unlinkPanels&&new Date(F.value+J,fe)<new Date(R.value,H.value)}),Re=W(()=>r.unlinkPanels&&R.value*12+H.value-(F.value*12+N.value+1)>=12),_e=W(()=>!(g.value&&h.value&&!v.value.selecting&&$i([g.value,h.value]))),ke=W(()=>r.type==="datetime"||r.type==="datetimerange"),qe=(fe,J)=>{if(fe)return o?Ve(o[J]||o).locale(d.value).year(fe.year()).month(fe.month()).date(fe.date()):fe},Pe=(fe,J=!0)=>{const V=fe.minDate,Se=fe.maxDate,Qe=qe(V,0),dt=qe(Se,1);h.value===dt&&g.value===Qe||(t("calendar-change",[V.toDate(),Se&&Se.toDate()]),h.value=dt,g.value=Qe,!(!J||ke.value)&&S())},De=ee(!1),$e=ee(!1),st=()=>{De.value=!1},Ke=()=>{$e.value=!1},ye=(fe,J)=>{$.value[J]=fe;const V=Ve(fe,ne.value).locale(d.value);if(V.isValid()){if(s&&s(V.toDate()))return;J==="min"?(m.value=V,g.value=(g.value||m.value).year(V.year()).month(V.month()).date(V.date()),!r.unlinkPanels&&(!h.value||h.value.isBefore(g.value))&&(b.value=V.add(1,"month"),h.value=g.value.add(1,"month"))):(b.value=V,h.value=(h.value||b.value).year(V.year()).month(V.month()).date(V.date()),!r.unlinkPanels&&(!g.value||g.value.isAfter(h.value))&&(m.value=V.subtract(1,"month"),g.value=h.value.subtract(1,"month")))}},Ce=(fe,J)=>{$.value[J]=null},it=(fe,J)=>{q.value[J]=fe;const V=Ve(fe,ae.value).locale(d.value);V.isValid()&&(J==="min"?(De.value=!0,g.value=(g.value||m.value).hour(V.hour()).minute(V.minute()).second(V.second())):($e.value=!0,h.value=(h.value||b.value).hour(V.hour()).minute(V.minute()).second(V.second()),b.value=h.value))},Et=(fe,J)=>{q.value[J]=null,J==="min"?(m.value=g.value,De.value=!1,(!h.value||h.value.isBefore(g.value))&&(h.value=g.value)):(b.value=h.value,$e.value=!1,h.value&&h.value.isBefore(g.value)&&(g.value=h.value))},bt=(fe,J,V)=>{q.value.min||(fe&&(m.value=fe,g.value=(g.value||m.value).hour(fe.hour()).minute(fe.minute()).second(fe.second())),V||(De.value=J),(!h.value||h.value.isBefore(g.value))&&(h.value=g.value,b.value=fe))},fr=(fe,J,V)=>{q.value.max||(fe&&(b.value=fe,h.value=(h.value||b.value).hour(fe.hour()).minute(fe.minute()).second(fe.second())),V||($e.value=J),h.value&&h.value.isBefore(g.value)&&(g.value=h.value))},At=()=>{m.value=ng(w(u),{lang:w(d),unit:"month",unlinkPanels:r.unlinkPanels})[0],b.value=m.value.add(1,"month"),h.value=void 0,g.value=void 0,t("pick",null)},Tr=fe=>Ue(fe)?fe.map(J=>J.format(l.value)):fe.format(l.value),pr=fe=>Ue(fe)?fe.map(J=>Ve(J,l.value).locale(d.value)):Ve(fe,l.value).locale(d.value);function ce(fe,J){if(r.unlinkPanels&&J){const V=(fe==null?void 0:fe.year())||0,Se=(fe==null?void 0:fe.month())||0,Qe=J.year(),dt=J.month();b.value=V===Qe&&Se===dt?J.add(1,Od):J}else b.value=m.value.add(1,Od),J&&(b.value=b.value.hour(J.hour()).minute(J.minute()).second(J.second()))}return t("set-picker-option",["isValidValue",he]),t("set-picker-option",["parseUserInput",pr]),t("set-picker-option",["formatToString",Tr]),t("set-picker-option",["handleClear",At]),(fe,J)=>(K(),ue("div",{class:Z([w(y).b(),w(C).b(),{"has-sidebar":fe.$slots.sidebar||w(U),"has-time":w(ke)}])},[G("div",{class:Z(w(y).e("body-wrapper"))},[Ne(fe.$slots,"sidebar",{class:Z(w(y).e("sidebar"))}),w(U)?(K(),ue("div",{key:0,class:Z(w(y).e("sidebar"))},[(K(!0),ue(ht,null,Or(w(c),(V,Se)=>(K(),ue("button",{key:Se,type:"button",class:Z(w(y).e("shortcut")),onClick:Qe=>w(x)(V)},ze(V.text),11,["onClick"]))),128))],2)):Ee("v-if",!0),G("div",{class:Z(w(y).e("body"))},[w(ke)?(K(),ue("div",{key:0,class:Z(w(C).e("time-header"))},[G("span",{class:Z(w(C).e("editors-wrap"))},[G("span",{class:Z(w(C).e("time-picker-wrap"))},[le(w(Ta),{size:"small",disabled:w(v).selecting,placeholder:w(P)("el.datepicker.startDate"),class:Z(w(C).e("editor")),"model-value":w(L),"validate-event":!1,onInput:V=>ye(V,"min"),onChange:V=>Ce(V,"min")},null,8,["disabled","placeholder","class","model-value","onInput","onChange"])],2),Vt((K(),ue("span",{class:Z(w(C).e("time-picker-wrap"))},[le(w(Ta),{size:"small",class:Z(w(C).e("editor")),disabled:w(v).selecting,placeholder:w(P)("el.datepicker.startTime"),"model-value":w(Y),"validate-event":!1,onFocus:V=>De.value=!0,onInput:V=>it(V,"min"),onChange:V=>Et(V,"min")},null,8,["class","disabled","placeholder","model-value","onFocus","onInput","onChange"]),le(w(Zm),{visible:De.value,format:w(ae),"datetime-role":"start","parsed-value":m.value,onPick:bt},null,8,["visible","format","parsed-value"])],2)),[[w(Yl),st]])],2),G("span",null,[le(w(Ot),null,{default:ie(()=>[le(w(vi))]),_:1})]),G("span",{class:Z([w(C).e("editors-wrap"),"is-right"])},[G("span",{class:Z(w(C).e("time-picker-wrap"))},[le(w(Ta),{size:"small",class:Z(w(C).e("editor")),disabled:w(v).selecting,placeholder:w(P)("el.datepicker.endDate"),"model-value":w(D),readonly:!w(g),"validate-event":!1,onInput:V=>ye(V,"max"),onChange:V=>Ce(V,"max")},null,8,["class","disabled","placeholder","model-value","readonly","onInput","onChange"])],2),Vt((K(),ue("span",{class:Z(w(C).e("time-picker-wrap"))},[le(w(Ta),{size:"small",class:Z(w(C).e("editor")),disabled:w(v).selecting,placeholder:w(P)("el.datepicker.endTime"),"model-value":w(Q),readonly:!w(g),"validate-event":!1,onFocus:V=>w(g)&&($e.value=!0),onInput:V=>it(V,"max"),onChange:V=>Et(V,"max")},null,8,["class","disabled","placeholder","model-value","readonly","onFocus","onInput","onChange"]),le(w(Zm),{"datetime-role":"end",visible:$e.value,format:w(ae),"parsed-value":b.value,onPick:fr},null,8,["visible","format","parsed-value"])],2)),[[w(Yl),Ke]])],2)],2)):Ee("v-if",!0),G("div",{class:Z([[w(y).e("content"),w(C).e("content")],"is-left"])},[G("div",{class:Z(w(C).e("header"))},[G("button",{type:"button",class:Z([w(y).e("icon-btn"),"d-arrow-left"]),"aria-label":w(P)("el.datepicker.prevYear"),onClick:ve},[Ne(fe.$slots,"prev-year",{},()=>[le(w(Ot),null,{default:ie(()=>[le(w(ko))]),_:1})])],10,["aria-label"]),G("button",{type:"button",class:Z([w(y).e("icon-btn"),"arrow-left"]),"aria-label":w(P)("el.datepicker.prevMonth"),onClick:We},[Ne(fe.$slots,"prev-month",{},()=>[le(w(Ot),null,{default:ie(()=>[le(w(Cm))]),_:1})])],10,["aria-label"]),fe.unlinkPanels?(K(),ue("button",{key:0,type:"button",disabled:!w(Re),class:Z([[w(y).e("icon-btn"),{"is-disabled":!w(Re)}],"d-arrow-right"]),"aria-label":w(P)("el.datepicker.nextYear"),onClick:He},[Ne(fe.$slots,"next-year",{},()=>[le(w(Ot),null,{default:ie(()=>[le(w(Oo))]),_:1})])],10,["disabled","aria-label"])):Ee("v-if",!0),fe.unlinkPanels?(K(),ue("button",{key:1,type:"button",disabled:!w(ge),class:Z([[w(y).e("icon-btn"),{"is-disabled":!w(ge)}],"arrow-right"]),"aria-label":w(P)("el.datepicker.nextMonth"),onClick:Me},[Ne(fe.$slots,"next-month",{},()=>[le(w(Ot),null,{default:ie(()=>[le(w(vi))]),_:1})])],10,["disabled","aria-label"])):Ee("v-if",!0),G("div",null,ze(w(E)),1)],2),le(ig,{"selection-mode":"range",date:m.value,"min-date":w(g),"max-date":w(h),"range-state":w(v),"disabled-date":w(s),"cell-class-name":w(a),onChangerange:w(_),onPick:Pe,onSelect:w(I)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),G("div",{class:Z([[w(y).e("content"),w(C).e("content")],"is-right"])},[G("div",{class:Z(w(C).e("header"))},[fe.unlinkPanels?(K(),ue("button",{key:0,type:"button",disabled:!w(Re),class:Z([[w(y).e("icon-btn"),{"is-disabled":!w(Re)}],"d-arrow-left"]),"aria-label":w(P)("el.datepicker.prevYear"),onClick:rt},[Ne(fe.$slots,"prev-year",{},()=>[le(w(Ot),null,{default:ie(()=>[le(w(ko))]),_:1})])],10,["disabled","aria-label"])):Ee("v-if",!0),fe.unlinkPanels?(K(),ue("button",{key:1,type:"button",disabled:!w(ge),class:Z([[w(y).e("icon-btn"),{"is-disabled":!w(ge)}],"arrow-left"]),"aria-label":w(P)("el.datepicker.prevMonth"),onClick:X},[Ne(fe.$slots,"prev-month",{},()=>[le(w(Ot),null,{default:ie(()=>[le(w(Cm))]),_:1})])],10,["disabled","aria-label"])):Ee("v-if",!0),G("button",{type:"button","aria-label":w(P)("el.datepicker.nextYear"),class:Z([w(y).e("icon-btn"),"d-arrow-right"]),onClick:Ge},[Ne(fe.$slots,"next-year",{},()=>[le(w(Ot),null,{default:ie(()=>[le(w(Oo))]),_:1})])],10,["aria-label"]),G("button",{type:"button",class:Z([w(y).e("icon-btn"),"arrow-right"]),"aria-label":w(P)("el.datepicker.nextMonth"),onClick:Te},[Ne(fe.$slots,"next-month",{},()=>[le(w(Ot),null,{default:ie(()=>[le(w(vi))]),_:1})])],10,["aria-label"]),G("div",null,ze(w(M)),1)],2),le(ig,{"selection-mode":"range",date:b.value,"min-date":w(g),"max-date":w(h),"range-state":w(v),"disabled-date":w(s),"cell-class-name":w(a),onChangerange:w(_),onPick:Pe,onSelect:w(I)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),w(ke)?(K(),ue("div",{key:0,class:Z(w(y).e("footer"))},[w(i)?(K(),Le(w(un),{key:0,text:"",size:"small",class:Z(w(y).e("link-btn")),onClick:At},{default:ie(()=>[ot(ze(w(P)("el.datepicker.clear")),1)]),_:1},8,["class"])):Ee("v-if",!0),le(w(un),{plain:"",size:"small",class:Z(w(y).e("link-btn")),disabled:w(_e),onClick:V=>w(S)(!1)},{default:ie(()=>[ot(ze(w(P)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled","onClick"])],2)):Ee("v-if",!0)],2))}}),[["__file","panel-date-range.vue"]]);const KB=vt({...tg}),YB=["pick","set-picker-option","calendar-change"],JB=({unlinkPanels:e,leftDate:t,rightDate:r})=>{const{t:n}=Ur(),s=()=>{t.value=t.value.subtract(1,"year"),e.value||(r.value=r.value.subtract(1,"year"))},a=()=>{e.value||(t.value=t.value.add(1,"year")),r.value=r.value.add(1,"year")},o=()=>{t.value=t.value.add(1,"year")},i=()=>{r.value=r.value.subtract(1,"year")},l=W(()=>`${t.value.year()} ${n("el.datepicker.year")}`),c=W(()=>`${r.value.year()} ${n("el.datepicker.year")}`),u=W(()=>t.value.year()),d=W(()=>r.value.year()===t.value.year()?t.value.year()+1:r.value.year());return{leftPrevYear:s,rightNextYear:a,leftNextYear:o,rightPrevYear:i,leftLabel:l,rightLabel:c,leftYear:u,rightYear:d}},Pd="year",XB=xe({...xe({name:"DatePickerMonthRange"}),props:KB,emits:YB,setup(e,{emit:t}){const r=e,{lang:n}=Ur(),s=ft("EP_PICKER_BASE"),{shortcuts:a,disabledDate:o}=s.props,i=Lr(s.props,"format"),l=Lr(s.props,"defaultValue"),c=ee(Ve().locale(n.value)),u=ee(Ve().locale(n.value).add(1,Pd)),{minDate:d,maxDate:m,rangeState:b,ppNs:g,drpNs:h,handleChangeRange:v,handleRangeConfirm:y,handleShortcutClick:C,onSelect:_}=PC(r,{defaultValue:l,leftDate:c,rightDate:u,unit:Pd,onParsedValueChanged:L}),S=W(()=>!!a.length),{leftPrevYear:x,rightNextYear:I,leftNextYear:f,rightPrevYear:P,leftLabel:$,rightLabel:q,leftYear:E,rightYear:M}=JB({unlinkPanels:Lr(r,"unlinkPanels"),leftDate:c,rightDate:u}),F=W(()=>r.unlinkPanels&&M.value>E.value+1),N=(D,Y=!0)=>{const Q=D.minDate,ae=D.maxDate;m.value===ae&&d.value===Q||(t("calendar-change",[Q.toDate(),ae&&ae.toDate()]),m.value=ae,d.value=Q,Y&&y())},R=()=>{c.value=ng(w(l),{lang:w(n),unit:"year",unlinkPanels:r.unlinkPanels})[0],u.value=c.value.add(1,"year"),t("pick",null)},H=D=>Ue(D)?D.map(Y=>Y.format(i.value)):D.format(i.value),U=D=>Ue(D)?D.map(Y=>Ve(Y,i.value).locale(n.value)):Ve(D,i.value).locale(n.value);function L(D,Y){if(r.unlinkPanels&&Y){const Q=(D==null?void 0:D.year())||0,ae=Y.year();u.value=Q===ae?Y.add(1,Pd):Y}else u.value=c.value.add(1,Pd)}return t("set-picker-option",["isValidValue",$i]),t("set-picker-option",["formatToString",H]),t("set-picker-option",["parseUserInput",U]),t("set-picker-option",["handleClear",R]),(D,Y)=>(K(),ue("div",{class:Z([w(g).b(),w(h).b(),{"has-sidebar":!!D.$slots.sidebar||w(S)}])},[G("div",{class:Z(w(g).e("body-wrapper"))},[Ne(D.$slots,"sidebar",{class:Z(w(g).e("sidebar"))}),w(S)?(K(),ue("div",{key:0,class:Z(w(g).e("sidebar"))},[(K(!0),ue(ht,null,Or(w(a),(Q,ae)=>(K(),ue("button",{key:ae,type:"button",class:Z(w(g).e("shortcut")),onClick:ne=>w(C)(Q)},ze(Q.text),11,["onClick"]))),128))],2)):Ee("v-if",!0),G("div",{class:Z(w(g).e("body"))},[G("div",{class:Z([[w(g).e("content"),w(h).e("content")],"is-left"])},[G("div",{class:Z(w(h).e("header"))},[G("button",{type:"button",class:Z([w(g).e("icon-btn"),"d-arrow-left"]),onClick:w(x)},[Ne(D.$slots,"prev-year",{},()=>[le(w(Ot),null,{default:ie(()=>[le(w(ko))]),_:1})])],10,["onClick"]),D.unlinkPanels?(K(),ue("button",{key:0,type:"button",disabled:!w(F),class:Z([[w(g).e("icon-btn"),{[w(g).is("disabled")]:!w(F)}],"d-arrow-right"]),onClick:w(f)},[Ne(D.$slots,"next-year",{},()=>[le(w(Ot),null,{default:ie(()=>[le(w(Oo))]),_:1})])],10,["disabled","onClick"])):Ee("v-if",!0),G("div",null,ze(w($)),1)],2),le(lg,{"selection-mode":"range",date:c.value,"min-date":w(d),"max-date":w(m),"range-state":w(b),"disabled-date":w(o),onChangerange:w(v),onPick:N,onSelect:w(_)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),G("div",{class:Z([[w(g).e("content"),w(h).e("content")],"is-right"])},[G("div",{class:Z(w(h).e("header"))},[D.unlinkPanels?(K(),ue("button",{key:0,type:"button",disabled:!w(F),class:Z([[w(g).e("icon-btn"),{"is-disabled":!w(F)}],"d-arrow-left"]),onClick:w(P)},[Ne(D.$slots,"prev-year",{},()=>[le(w(Ot),null,{default:ie(()=>[le(w(ko))]),_:1})])],10,["disabled","onClick"])):Ee("v-if",!0),G("button",{type:"button",class:Z([w(g).e("icon-btn"),"d-arrow-right"]),onClick:w(I)},[Ne(D.$slots,"next-year",{},()=>[le(w(Ot),null,{default:ie(()=>[le(w(Oo))]),_:1})])],10,["onClick"]),G("div",null,ze(w(q)),1)],2),le(lg,{"selection-mode":"range",date:u.value,"min-date":w(d),"max-date":w(m),"range-state":w(b),"disabled-date":w(o),onChangerange:w(v),onPick:N,onSelect:w(_)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var QB=wt(XB,[["__file","panel-month-range.vue"]]);const ZB=vt({...tg}),e9=["pick","set-picker-option","calendar-change"],t9=({unlinkPanels:e,leftDate:t,rightDate:r})=>{const n=()=>{t.value=t.value.subtract(10,"year"),e.value||(r.value=r.value.subtract(10,"year"))},s=()=>{e.value||(t.value=t.value.add(10,"year")),r.value=r.value.add(10,"year")},a=()=>{t.value=t.value.add(10,"year")},o=()=>{r.value=r.value.subtract(10,"year")},i=W(()=>{const d=Math.floor(t.value.year()/10)*10;return`${d}-${d+9}`}),l=W(()=>{const d=Math.floor(r.value.year()/10)*10;return`${d}-${d+9}`}),c=W(()=>Math.floor(t.value.year()/10)*10+9),u=W(()=>Math.floor(r.value.year()/10)*10);return{leftPrevYear:n,rightNextYear:s,leftNextYear:a,rightPrevYear:o,leftLabel:i,rightLabel:l,leftYear:c,rightYear:u}},AC="year",r9=xe({...xe({name:"DatePickerYearRange"}),props:ZB,emits:e9,setup(e,{emit:t}){const r=e,{lang:n}=Ur(),s=ee(Ve().locale(n.value)),a=ee(s.value.add(10,"year")),{pickerNs:o}=ft(Id),i=ct("date-range-picker"),l=W(()=>!!N.length),c=W(()=>[o.b(),i.b(),{"has-sidebar":!!gs().sidebar||l.value}]),u=W(()=>({content:[o.e("content"),i.e("content"),"is-left"],arrowLeftBtn:[o.e("icon-btn"),"d-arrow-left"],arrowRightBtn:[o.e("icon-btn"),{[o.is("disabled")]:!x.value},"d-arrow-right"]})),d=W(()=>({content:[o.e("content"),i.e("content"),"is-right"],arrowLeftBtn:[o.e("icon-btn"),{"is-disabled":!x.value},"d-arrow-left"],arrowRightBtn:[o.e("icon-btn"),"d-arrow-right"]})),m=OC(n),{leftPrevYear:b,rightNextYear:g,leftNextYear:h,rightPrevYear:v,leftLabel:y,rightLabel:C,leftYear:_,rightYear:S}=t9({unlinkPanels:Lr(r,"unlinkPanels"),leftDate:s,rightDate:a}),x=W(()=>r.unlinkPanels&&S.value>_.value+1),I=ee(),f=ee(),P=ee({endDate:null,selecting:!1}),$=ne=>{P.value=ne},q=(ne,he=!0)=>{const ve=ne.minDate,We=ne.maxDate;f.value===We&&I.value===ve||(t("calendar-change",[ve.toDate(),We&&We.toDate()]),f.value=We,I.value=ve,he&&E())},E=(ne=!1)=>{$i([I.value,f.value])&&t("pick",[I.value,f.value],ne)},M=ne=>{P.value.selecting=ne,ne||(P.value.endDate=null)},F=ft("EP_PICKER_BASE"),{shortcuts:N,disabledDate:R}=F.props,H=Lr(F.props,"format"),U=Lr(F.props,"defaultValue"),L=()=>{let ne;if(Ue(U.value)){const he=Ve(U.value[0]);let ve=Ve(U.value[1]);return r.unlinkPanels||(ve=he.add(10,AC)),[he,ve]}else U.value?ne=Ve(U.value):ne=Ve();return ne=ne.locale(n.value),[ne,ne.add(10,AC)]};tt(()=>U.value,ne=>{if(ne){const he=L();s.value=he[0],a.value=he[1]}},{immediate:!0}),tt(()=>r.parsedValue,ne=>{if(ne&&ne.length===2)if(I.value=ne[0],f.value=ne[1],s.value=I.value,r.unlinkPanels&&f.value){const he=I.value.year(),ve=f.value.year();a.value=he===ve?f.value.add(10,"year"):f.value}else a.value=s.value.add(10,"year");else{const he=L();I.value=void 0,f.value=void 0,s.value=he[0],a.value=he[1]}},{immediate:!0});const D=ne=>Ue(ne)?ne.map(he=>Ve(he,H.value).locale(n.value)):Ve(ne,H.value).locale(n.value),Y=ne=>Ue(ne)?ne.map(he=>he.format(H.value)):ne.format(H.value),Q=ne=>$i(ne)&&(R?!R(ne[0].toDate())&&!R(ne[1].toDate()):!0),ae=()=>{const ne=L();s.value=ne[0],a.value=ne[1],f.value=void 0,I.value=void 0,t("pick",null)};return t("set-picker-option",["isValidValue",Q]),t("set-picker-option",["parseUserInput",D]),t("set-picker-option",["formatToString",Y]),t("set-picker-option",["handleClear",ae]),(ne,he)=>(K(),ue("div",{class:Z(w(c))},[G("div",{class:Z(w(o).e("body-wrapper"))},[Ne(ne.$slots,"sidebar",{class:Z(w(o).e("sidebar"))}),w(l)?(K(),ue("div",{key:0,class:Z(w(o).e("sidebar"))},[(K(!0),ue(ht,null,Or(w(N),(ve,We)=>(K(),ue("button",{key:We,type:"button",class:Z(w(o).e("shortcut")),onClick:Ge=>w(m)(ve)},ze(ve.text),11,["onClick"]))),128))],2)):Ee("v-if",!0),G("div",{class:Z(w(o).e("body"))},[G("div",{class:Z(w(u).content)},[G("div",{class:Z(w(i).e("header"))},[G("button",{type:"button",class:Z(w(u).arrowLeftBtn),onClick:w(b)},[Ne(ne.$slots,"prev-year",{},()=>[le(w(Ot),null,{default:ie(()=>[le(w(ko))]),_:1})])],10,["onClick"]),ne.unlinkPanels?(K(),ue("button",{key:0,type:"button",disabled:!w(x),class:Z(w(u).arrowRightBtn),onClick:w(h)},[Ne(ne.$slots,"next-year",{},()=>[le(w(Ot),null,{default:ie(()=>[le(w(Oo))]),_:1})])],10,["disabled","onClick"])):Ee("v-if",!0),G("div",null,ze(w(y)),1)],2),le(ug,{"selection-mode":"range",date:s.value,"min-date":I.value,"max-date":f.value,"range-state":P.value,"disabled-date":w(R),onChangerange:$,onPick:q,onSelect:M},null,8,["date","min-date","max-date","range-state","disabled-date"])],2),G("div",{class:Z(w(d).content)},[G("div",{class:Z(w(i).e("header"))},[ne.unlinkPanels?(K(),ue("button",{key:0,type:"button",disabled:!w(x),class:Z(w(d).arrowLeftBtn),onClick:w(v)},[Ne(ne.$slots,"prev-year",{},()=>[le(w(Ot),null,{default:ie(()=>[le(w(ko))]),_:1})])],10,["disabled","onClick"])):Ee("v-if",!0),G("button",{type:"button",class:Z(w(d).arrowRightBtn),onClick:w(g)},[Ne(ne.$slots,"next-year",{},()=>[le(w(Ot),null,{default:ie(()=>[le(w(Oo))]),_:1})])],10,["onClick"]),G("div",null,ze(w(C)),1)],2),le(ug,{"selection-mode":"range",date:a.value,"min-date":I.value,"max-date":f.value,"range-state":P.value,"disabled-date":w(R),onChangerange:$,onPick:q,onSelect:M},null,8,["date","min-date","max-date","range-state","disabled-date"])],2)],2)],2)],2))}});var n9=wt(r9,[["__file","panel-year-range.vue"]]);const s9=function(e){switch(e){case"daterange":case"datetimerange":return GB;case"monthrange":return QB;case"yearrange":return n9;default:return zB}};Ve.extend(OF),Ve.extend(QF),Ve.extend(KF),Ve.extend(rB),Ve.extend(oB),Ve.extend(cB),Ve.extend(hB),Ve.extend(yB);var a9=xe({name:"ElDatePicker",install:null,props:LB,emits:["update:modelValue"],setup(e,{expose:t,emit:r,slots:n}){const s=ct("picker-panel");Mr("ElPopperOptions",Zr(Lr(e,"popperOptions"))),Mr(Id,{slots:n,pickerNs:s});const a=ee();t({focus:()=>{var l;(l=a.value)==null||l.focus()},blur:()=>{var l;(l=a.value)==null||l.blur()},handleOpen:()=>{var l;(l=a.value)==null||l.handleOpen()},handleClose:()=>{var l;(l=a.value)==null||l.handleClose()}});const i=l=>{r("update:modelValue",l)};return()=>{var l;const c=(l=e.format)!=null?l:bB[e.type]||Ei,u=s9(e.type);return le(xB,ln(e,{format:c,type:e.type,ref:a,"onUpdate:modelValue":i}),{default:d=>le(u,d,{"prev-month":n["prev-month"],"next-month":n["next-month"],"prev-year":n["prev-year"],"next-year":n["next-year"]}),"range-separator":n["range-separator"]})}}});const o9=Ar(a9),cg=e=>{if(!e)return{onClick:Nr,onMousedown:Nr,onMouseup:Nr};let t=!1,r=!1;return{onClick:o=>{t&&r&&e(o),t=r=!1},onMousedown:o=>{t=o.target===o.currentTarget},onMouseup:o=>{r=o.target===o.currentTarget}}},i9=vt({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:Je([String,Array,Object])},zIndex:{type:Je([String,Number])}}),l9={click:e=>e instanceof MouseEvent},u9="overlay";var c9=xe({name:"ElOverlay",props:i9,emits:l9,setup(e,{slots:t,emit:r}){const n=ct(u9),s=l=>{r("click",l)},{onClick:a,onMousedown:o,onMouseup:i}=cg(e.customMaskEvent?void 0:s);return()=>e.mask?le("div",{class:[n.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:a,onMousedown:o,onMouseup:i},[Ne(t,"default")],vd.STYLE|vd.CLASS|vd.PROPS,["onClick","onMouseup","onMousedown"]):kt("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[Ne(t,"default")])}});const dg=c9,EC=Symbol("dialogInjectionKey"),$C=vt({center:Boolean,alignCenter:Boolean,closeIcon:{type:qs},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,headerClass:String,bodyClass:String,footerClass:String,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),d9={close:()=>!0},RC=(e,t,r,n)=>{let s={offsetX:0,offsetY:0};const a=c=>{const u=c.clientX,d=c.clientY,{offsetX:m,offsetY:b}=s,g=e.value.getBoundingClientRect(),h=g.left,v=g.top,y=g.width,C=g.height,_=document.documentElement.clientWidth,S=document.documentElement.clientHeight,x=-h+m,I=-v+b,f=_-h-y+m,P=S-v-C+b,$=E=>{let M=m+E.clientX-u,F=b+E.clientY-d;n!=null&&n.value||(M=Math.min(Math.max(M,x),f),F=Math.min(Math.max(F,I),P)),s={offsetX:M,offsetY:F},e.value&&(e.value.style.transform=`translate(${Un(M)}, ${Un(F)})`)},q=()=>{document.removeEventListener("mousemove",$),document.removeEventListener("mouseup",q)};document.addEventListener("mousemove",$),document.addEventListener("mouseup",q)},o=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",a)},i=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",a)},l=()=>{s={offsetX:0,offsetY:0},e.value&&(e.value.style.transform="none")};return Kt(()=>{va(()=>{r.value?o():i()})}),Fr(()=>{i()}),{resetPosition:l}},f9=(...e)=>t=>{e.forEach(r=>{et(r)?r(t):r.value=t})},p9=xe({...xe({name:"ElDialogContent"}),props:$C,emits:d9,setup(e,{expose:t}){const r=e,{t:n}=Ur(),{Close:s}=bN,{dialogRef:a,headerRef:o,bodyId:i,ns:l,style:c}=ft(EC),{focusTrapRef:u}=ft(gT),d=W(()=>[l.b(),l.is("fullscreen",r.fullscreen),l.is("draggable",r.draggable),l.is("align-center",r.alignCenter),{[l.m("center")]:r.center}]),m=f9(u,a),b=W(()=>r.draggable),g=W(()=>r.overflow),{resetPosition:h}=RC(a,o,b,g);return t({resetPosition:h}),(v,y)=>(K(),ue("div",{ref:w(m),class:Z(w(d)),style:jt(w(c)),tabindex:"-1"},[G("header",{ref_key:"headerRef",ref:o,class:Z([w(l).e("header"),v.headerClass,{"show-close":v.showClose}])},[Ne(v.$slots,"header",{},()=>[G("span",{role:"heading","aria-level":v.ariaLevel,class:Z(w(l).e("title"))},ze(v.title),11,["aria-level"])]),v.showClose?(K(),ue("button",{key:0,"aria-label":w(n)("el.dialog.close"),class:Z(w(l).e("headerbtn")),type:"button",onClick:C=>v.$emit("close")},[le(w(Ot),{class:Z(w(l).e("close"))},{default:ie(()=>[(K(),Le(vr(v.closeIcon||w(s))))]),_:1},8,["class"])],10,["aria-label","onClick"])):Ee("v-if",!0)],2),G("div",{id:w(i),class:Z([w(l).e("body"),v.bodyClass])},[Ne(v.$slots,"default")],10,["id"]),v.$slots.footer?(K(),ue("footer",{key:0,class:Z([w(l).e("footer"),v.footerClass])},[Ne(v.$slots,"footer")],2)):Ee("v-if",!0)],6))}});var h9=wt(p9,[["__file","dialog-content.vue"]]);const LC=vt({...$C,appendToBody:Boolean,appendTo:{type:Je([String,Object]),default:"body"},beforeClose:{type:Je(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,headerClass:String,bodyClass:String,footerClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"}}),MC={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[Br]:e=>Yr(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},DC=(e,t={})=>{ar(e)||Ml("[useLockscreen]","You need to pass a ref param to this function");const r=t.ns||ct("popup"),n=W(()=>r.bm("parent","hidden"));if(!ur||ys(document.body,n.value))return;let s=0,a=!1,o="0";const i=()=>{setTimeout(()=>{typeof document>"u"||a&&document&&(document.body.style.width=o,Us(document.body,n.value))},200)};tt(e,l=>{if(!l){i();return}a=!ys(document.body,n.value),a&&(o=document.body.style.width,Co(document.body,n.value)),s=D3(r.namespace.value);const c=document.documentElement.clientHeight<document.body.scrollHeight,u=xo(document.body,"overflowY");s>0&&(c||u==="scroll")&&a&&(document.body.style.width=`calc(100% - ${s}px)`)}),hh(()=>i())},NC=(e,t)=>{var r;const s=Ht().emit,{nextZIndex:a}=wm();let o="";const i=Vs(),l=Vs(),c=ee(!1),u=ee(!1),d=ee(!1),m=ee((r=e.zIndex)!=null?r:a());let b,g;const h=Kc("namespace",$l),v=W(()=>{const R={},H=`--${h.value}-dialog`;return e.fullscreen||(e.top&&(R[`${H}-margin-top`]=e.top),e.width&&(R[`${H}-width`]=Un(e.width))),R}),y=W(()=>e.alignCenter?{display:"flex"}:{});function C(){s("opened")}function _(){s("closed"),s(Br,!1),e.destroyOnClose&&(d.value=!1)}function S(){s("close")}function x(){g==null||g(),b==null||b(),e.openDelay&&e.openDelay>0?{stop:b}=bm(()=>$(),e.openDelay):$()}function I(){b==null||b(),g==null||g(),e.closeDelay&&e.closeDelay>0?{stop:g}=bm(()=>q(),e.closeDelay):q()}function f(){function R(H){H||(u.value=!0,c.value=!1)}e.beforeClose?e.beforeClose(R):I()}function P(){e.closeOnClickModal&&f()}function $(){ur&&(c.value=!0)}function q(){c.value=!1}function E(){s("openAutoFocus")}function M(){s("closeAutoFocus")}function F(R){var H;((H=R.detail)==null?void 0:H.focusReason)==="pointer"&&R.preventDefault()}e.lockScroll&&DC(c);function N(){e.closeOnPressEscape&&f()}return tt(()=>e.modelValue,R=>{R?(u.value=!1,x(),d.value=!0,m.value=zb(e.zIndex)?a():m.value++,xt(()=>{s("open"),t.value&&(t.value.parentElement.scrollTop=0,t.value.parentElement.scrollLeft=0,t.value.scrollTop=0)})):c.value&&I()}),tt(()=>e.fullscreen,R=>{t.value&&(R?(o=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=o)}),Kt(()=>{e.modelValue&&(c.value=!0,d.value=!0,x())}),{afterEnter:C,afterLeave:_,beforeLeave:S,handleClose:f,onModalClick:P,close:I,doClose:q,onOpenAutoFocus:E,onCloseAutoFocus:M,onCloseRequested:N,onFocusoutPrevented:F,titleId:i,bodyId:l,closed:u,style:v,overlayDialogStyle:y,rendered:d,visible:c,zIndex:m}},m9=xe({...xe({name:"ElDialog",inheritAttrs:!1}),props:LC,emits:MC,setup(e,{expose:t}){const r=e,n=gs();Pi({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},W(()=>!!n.title));const s=ct("dialog"),a=ee(),o=ee(),i=ee(),{visible:l,titleId:c,bodyId:u,style:d,overlayDialogStyle:m,rendered:b,zIndex:g,afterEnter:h,afterLeave:v,beforeLeave:y,handleClose:C,onModalClick:_,onOpenAutoFocus:S,onCloseAutoFocus:x,onCloseRequested:I,onFocusoutPrevented:f}=NC(r,a);Mr(EC,{dialogRef:a,headerRef:o,bodyId:u,ns:s,rendered:b,style:d});const P=cg(_),$=W(()=>r.draggable&&!r.fullscreen);return t({visible:l,dialogContentRef:i,resetPosition:()=>{var E;(E=i.value)==null||E.resetPosition()}}),(E,M)=>(K(),Le(w(Vm),{to:E.appendTo,disabled:E.appendTo!=="body"?!1:!E.appendToBody},{default:ie(()=>[le(vs,{name:"dialog-fade",onAfterEnter:w(h),onAfterLeave:w(v),onBeforeLeave:w(y),persisted:""},{default:ie(()=>[Vt(le(w(dg),{"custom-mask-event":"",mask:E.modal,"overlay-class":E.modalClass,"z-index":w(g)},{default:ie(()=>[G("div",{role:"dialog","aria-modal":"true","aria-label":E.title||void 0,"aria-labelledby":E.title?void 0:w(c),"aria-describedby":w(u),class:Z(`${w(s).namespace.value}-overlay-dialog`),style:jt(w(m)),onClick:w(P).onClick,onMousedown:w(P).onMousedown,onMouseup:w(P).onMouseup},[le(w(id),{loop:"",trapped:w(l),"focus-start-el":"container",onFocusAfterTrapped:w(S),onFocusAfterReleased:w(x),onFocusoutPrevented:w(f),onReleaseRequested:w(I)},{default:ie(()=>[w(b)?(K(),Le(h9,ln({key:0,ref_key:"dialogContentRef",ref:i},E.$attrs,{center:E.center,"align-center":E.alignCenter,"close-icon":E.closeIcon,draggable:w($),overflow:E.overflow,fullscreen:E.fullscreen,"header-class":E.headerClass,"body-class":E.bodyClass,"footer-class":E.footerClass,"show-close":E.showClose,title:E.title,"aria-level":E.headerAriaLevel,onClose:w(C)}),A1({header:ie(()=>[E.$slots.title?Ne(E.$slots,"title",{key:1}):Ne(E.$slots,"header",{key:0,close:w(C),titleId:w(c),titleClass:w(s).e("title")})]),default:ie(()=>[Ne(E.$slots,"default")]),_:2},[E.$slots.footer?{name:"footer",fn:ie(()=>[Ne(E.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","header-class","body-class","footer-class","show-close","title","aria-level","onClose"])):Ee("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,["aria-label","aria-labelledby","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["mask","overlay-class","z-index"]),[[Pr,w(l)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var g9=wt(m9,[["__file","dialog.vue"]]);const fg=Ar(g9),v9=vt({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:Je(String),default:"solid"}}),y9=xe({...xe({name:"ElDivider"}),props:v9,setup(e){const t=e,r=ct("divider"),n=W(()=>r.cssVar({"border-style":t.borderStyle}));return(s,a)=>(K(),ue("div",{class:Z([w(r).b(),w(r).m(s.direction)]),style:jt(w(n)),role:"separator"},[s.$slots.default&&s.direction!=="vertical"?(K(),ue("div",{key:0,class:Z([w(r).e("text"),w(r).is(s.contentPosition)])},[Ne(s.$slots,"default")],2)):Ee("v-if",!0)],6))}});var b9=wt(y9,[["__file","divider.vue"]]);const FC=Ar(b9),w9=vt({...LC,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),S9=xe({...xe({name:"ElDrawer",inheritAttrs:!1}),props:w9,emits:MC,setup(e,{expose:t}){const r=e,n=gs();Pi({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},W(()=>!!n.title));const s=ee(),a=ee(),o=ct("drawer"),{t:i}=Ur(),{afterEnter:l,afterLeave:c,beforeLeave:u,visible:d,rendered:m,titleId:b,bodyId:g,zIndex:h,onModalClick:v,onOpenAutoFocus:y,onCloseAutoFocus:C,onFocusoutPrevented:_,onCloseRequested:S,handleClose:x}=NC(r,s),I=W(()=>r.direction==="rtl"||r.direction==="ltr"),f=W(()=>Un(r.size));return t({handleClose:x,afterEnter:l,afterLeave:c}),(P,$)=>(K(),Le(w(Vm),{to:P.appendTo,disabled:P.appendTo!=="body"?!1:!P.appendToBody},{default:ie(()=>[le(vs,{name:w(o).b("fade"),onAfterEnter:w(l),onAfterLeave:w(c),onBeforeLeave:w(u),persisted:""},{default:ie(()=>[Vt(le(w(dg),{mask:P.modal,"overlay-class":P.modalClass,"z-index":w(h),onClick:w(v)},{default:ie(()=>[le(w(id),{loop:"",trapped:w(d),"focus-trap-el":s.value,"focus-start-el":a.value,onFocusAfterTrapped:w(y),onFocusAfterReleased:w(C),onFocusoutPrevented:w(_),onReleaseRequested:w(S)},{default:ie(()=>[G("div",ln({ref_key:"drawerRef",ref:s,"aria-modal":"true","aria-label":P.title||void 0,"aria-labelledby":P.title?void 0:w(b),"aria-describedby":w(g)},P.$attrs,{class:[w(o).b(),P.direction,w(d)&&"open"],style:w(I)?"width: "+w(f):"height: "+w(f),role:"dialog",onClick:$t(()=>{},["stop"])}),[G("span",{ref_key:"focusStartRef",ref:a,class:Z(w(o).e("sr-focus")),tabindex:"-1"},null,2),P.withHeader?(K(),ue("header",{key:0,class:Z([w(o).e("header"),P.headerClass])},[P.$slots.title?Ne(P.$slots,"title",{key:1},()=>[Ee(" DEPRECATED SLOT ")]):Ne(P.$slots,"header",{key:0,close:w(x),titleId:w(b),titleClass:w(o).e("title")},()=>[P.$slots.title?Ee("v-if",!0):(K(),ue("span",{key:0,id:w(b),role:"heading","aria-level":P.headerAriaLevel,class:Z(w(o).e("title"))},ze(P.title),11,["id","aria-level"]))]),P.showClose?(K(),ue("button",{key:2,"aria-label":w(i)("el.drawer.close"),class:Z(w(o).e("close-btn")),type:"button",onClick:w(x)},[le(w(Ot),{class:Z(w(o).e("close"))},{default:ie(()=>[le(w(yi))]),_:1},8,["class"])],10,["aria-label","onClick"])):Ee("v-if",!0)],2)):Ee("v-if",!0),w(m)?(K(),ue("div",{key:1,id:w(g),class:Z([w(o).e("body"),P.bodyClass])},[Ne(P.$slots,"default")],10,["id"])):Ee("v-if",!0),P.$slots.footer?(K(),ue("div",{key:2,class:Z([w(o).e("footer"),P.footerClass])},[Ne(P.$slots,"footer")],2)):Ee("v-if",!0)],16,["aria-label","aria-labelledby","aria-describedby","onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[Pr,w(d)]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var _9=wt(S9,[["__file","drawer.vue"]]);const BC=Ar(_9),T9=xe({inheritAttrs:!1});function C9(e,t,r,n,s,a){return Ne(e.$slots,"default")}var x9=wt(T9,[["render",C9],["__file","collection.vue"]]);const I9=xe({name:"ElCollectionItem",inheritAttrs:!1});function k9(e,t,r,n,s,a){return Ne(e.$slots,"default")}var O9=wt(I9,[["render",k9],["__file","collection-item.vue"]]);const P9="data-el-collection-item",A9=e=>{const t=`El${e}Collection`,r=`${t}Item`,n=Symbol(t),s=Symbol(r),a={...x9,name:t,setup(){const i=ee(null),l=new Map;Mr(n,{itemMap:l,getItems:()=>{const u=w(i);if(!u)return[];const d=Array.from(u.querySelectorAll(`[${P9}]`));return[...l.values()].sort((b,g)=>d.indexOf(b.ref)-d.indexOf(g.ref))},collectionRef:i})}},o={...O9,name:r,setup(i,{attrs:l}){const c=ee(null),u=ft(n,void 0);Mr(s,{collectionItemRef:c}),Kt(()=>{const d=w(c);d&&u.itemMap.set(d,{ref:d,...l})}),Fr(()=>{const d=w(c);u.itemMap.delete(d)})}};return{COLLECTION_INJECTION_KEY:n,COLLECTION_ITEM_INJECTION_KEY:s,ElCollection:a,ElCollectionItem:o}},pg=vt({trigger:Kl.trigger,triggerKeys:{type:Je(Array),default:()=>[cr.enter,cr.numpadEnter,cr.space,cr.down]},effect:{...qn.effect,default:"light"},type:{type:Je(String)},placement:{type:Je(String),default:"bottom"},popperOptions:{type:Je(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:Je([Number,String]),default:0},maxHeight:{type:Je([Number,String]),default:""},popperClass:{type:String,default:""},disabled:Boolean,role:{type:String,default:"menu"},buttonProps:{type:Je(Object)},teleported:qn.teleported});vt({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:qs}}),vt({onKeydown:{type:Je(Function)}}),A9("Dropdown");const E9=xe({...xe({name:"ImgEmpty"}),setup(e){const t=ct("empty"),r=Vs();return(n,s)=>(K(),ue("svg",{viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[G("defs",null,[G("linearGradient",{id:`linearGradient-1-${w(r)}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[G("stop",{"stop-color":`var(${w(t).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,["stop-color"]),G("stop",{"stop-color":`var(${w(t).cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,["stop-color"])],8,["id"]),G("linearGradient",{id:`linearGradient-2-${w(r)}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[G("stop",{"stop-color":`var(${w(t).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,["stop-color"]),G("stop",{"stop-color":`var(${w(t).cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,["stop-color"])],8,["id"]),G("rect",{id:`path-3-${w(r)}`,x:"0",y:"0",width:"17",height:"36"},null,8,["id"])]),G("g",{id:"Illustrations",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[G("g",{id:"B-type",transform:"translate(-1268.000000, -535.000000)"},[G("g",{id:"Group-2",transform:"translate(1268.000000, 535.000000)"},[G("path",{id:"Oval-Copy-2",d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${w(t).cssVarBlockName("fill-color-3")})`},null,8,["fill"]),G("polygon",{id:"Rectangle-Copy-14",fill:`var(${w(t).cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,["fill"]),G("g",{id:"Group-Copy",transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},[G("polygon",{id:"Rectangle-Copy-10",fill:`var(${w(t).cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,["fill"]),G("polygon",{id:"Rectangle-Copy-11",fill:`var(${w(t).cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,["fill"]),G("rect",{id:"Rectangle-Copy-12",fill:`url(#linearGradient-1-${w(r)})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,["fill"]),G("polygon",{id:"Rectangle-Copy-13",fill:`var(${w(t).cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,["fill"])]),G("rect",{id:"Rectangle-Copy-15",fill:`url(#linearGradient-2-${w(r)})`,x:"13",y:"45",width:"40",height:"36"},null,8,["fill"]),G("g",{id:"Rectangle-Copy-17",transform:"translate(53.000000, 45.000000)"},[G("use",{id:"Mask",fill:`var(${w(t).cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${w(r)}`},null,8,["fill","xlink:href"]),G("polygon",{id:"Rectangle-Copy",fill:`var(${w(t).cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${w(r)})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,["fill","mask"])]),G("polygon",{id:"Rectangle-Copy-18",fill:`var(${w(t).cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,["fill"])])])])]))}});var $9=wt(E9,[["__file","img-empty.vue"]]);const R9=vt({image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}}),L9=xe({...xe({name:"ElEmpty"}),props:R9,setup(e){const t=e,{t:r}=Ur(),n=ct("empty"),s=W(()=>t.description||r("el.table.emptyText")),a=W(()=>({width:Un(t.imageSize)}));return(o,i)=>(K(),ue("div",{class:Z(w(n).b())},[G("div",{class:Z(w(n).e("image")),style:jt(w(a))},[o.image?(K(),ue("img",{key:0,src:o.image,ondragstart:"return false"},null,8,["src"])):Ne(o.$slots,"image",{key:1},()=>[le($9)])],6),G("div",{class:Z(w(n).e("description"))},[o.$slots.description?Ne(o.$slots,"description",{key:0}):(K(),ue("p",{key:1},ze(w(s)),1))],2),o.$slots.default?(K(),ue("div",{key:0,class:Z(w(n).e("bottom"))},[Ne(o.$slots,"default")],2)):Ee("v-if",!0)],2))}});var M9=wt(L9,[["__file","empty.vue"]]);const D9=Ar(M9),N9=vt({size:{type:String,values:Dl},disabled:Boolean}),F9=vt({...N9,model:Object,rules:{type:Je(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),B9={validate:(e,t,r)=>(Ue(e)||yt(e))&&Yr(t)&&yt(r)};function j9(){const e=ee([]),t=W(()=>{if(!e.value.length)return"0";const a=Math.max(...e.value);return a?`${a}px`:""});function r(a){const o=e.value.indexOf(a);return o===-1&&t.value,o}function n(a,o){if(a&&o){const i=r(o);e.value.splice(i,1,a)}else a&&e.value.push(a)}function s(a){const o=r(a);o>-1&&e.value.splice(o,1)}return{autoLabelWidth:t,registerLabelWidth:n,deregisterLabelWidth:s}}const Ad=(e,t)=>{const r=ds(t);return r.length>0?e.filter(n=>n.prop&&r.includes(n.prop)):e},U9=xe({...xe({name:"ElForm"}),props:F9,emits:B9,setup(e,{expose:t,emit:r}){const n=e,s=[],a=ws(),o=ct("form"),i=W(()=>{const{labelPosition:_,inline:S}=n;return[o.b(),o.m(a.value||"default"),{[o.m(`label-${_}`)]:_,[o.m("inline")]:S}]}),l=_=>s.find(S=>S.prop===_),c=_=>{s.push(_)},u=_=>{_.prop&&s.splice(s.indexOf(_),1)},d=(_=[])=>{n.model&&Ad(s,_).forEach(S=>S.resetField())},m=(_=[])=>{Ad(s,_).forEach(S=>S.clearValidate())},b=W(()=>!!n.model),g=_=>{if(s.length===0)return[];const S=Ad(s,_);return S.length?S:[]},h=async _=>y(void 0,_),v=async(_=[])=>{if(!b.value)return!1;const S=g(_);if(S.length===0)return!0;let x={};for(const I of S)try{await I.validate(""),I.validateState==="error"&&I.resetField()}catch(f){x={...x,...f}}return Object.keys(x).length===0?!0:Promise.reject(x)},y=async(_=[],S)=>{const x=!et(S);try{const I=await v(_);return I===!0&&await(S==null?void 0:S(I)),I}catch(I){if(I instanceof Error)throw I;const f=I;return n.scrollToError&&C(Object.keys(f)[0]),await(S==null?void 0:S(!1,f)),x&&Promise.reject(f)}},C=_=>{var S;const x=Ad(s,_)[0];x&&((S=x.$el)==null||S.scrollIntoView(n.scrollIntoViewOptions))};return tt(()=>n.rules,()=>{n.validateOnRuleChange&&h().catch(_=>void 0)},{deep:!0,flush:"post"}),Mr(wi,Zr({...ha(n),emit:r,resetFields:d,clearValidate:m,validateField:y,getField:l,addField:c,removeField:u,...j9()})),t({validate:h,validateField:y,resetFields:d,clearValidate:m,scrollToField:C,fields:s}),(_,S)=>(K(),ue("form",{class:Z(w(i))},[Ne(_.$slots,"default")],2))}});var q9=wt(U9,[["__file","form.vue"]]);function Ro(){return Ro=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ro.apply(this,arguments)}function V9(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Xl(e,t)}function hg(e){return hg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hg(e)}function Xl(e,t){return Xl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Xl(e,t)}function H9(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ed(e,t,r){return H9()?Ed=Reflect.construct.bind():Ed=function(s,a,o){var i=[null];i.push.apply(i,a);var l=Function.bind.apply(s,i),c=new l;return o&&Xl(c,o.prototype),c},Ed.apply(null,arguments)}function z9(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function mg(e){var t=typeof Map=="function"?new Map:void 0;return mg=function(n){if(n===null||!z9(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(n))return t.get(n);t.set(n,s)}function s(){return Ed(n,arguments,hg(this).constructor)}return s.prototype=Object.create(n.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),Xl(s,n)},mg(e)}var W9=/%[sdj%]/g,G9=function(){};typeof process<"u"&&process.env;function gg(e){if(!e||!e.length)return null;var t={};return e.forEach(function(r){var n=r.field;t[n]=t[n]||[],t[n].push(r)}),t}function zn(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var s=0,a=r.length;if(typeof e=="function")return e.apply(null,r);if(typeof e=="string"){var o=e.replace(W9,function(i){if(i==="%%")return"%";if(s>=a)return i;switch(i){case"%s":return String(r[s++]);case"%d":return Number(r[s++]);case"%j":try{return JSON.stringify(r[s++])}catch{return"[Circular]"}break;default:return i}});return o}return e}function K9(e){return e==="string"||e==="url"||e==="hex"||e==="email"||e==="date"||e==="pattern"}function Vr(e,t){return!!(e==null||t==="array"&&Array.isArray(e)&&!e.length||K9(t)&&typeof e=="string"&&!e)}function Y9(e,t,r){var n=[],s=0,a=e.length;function o(i){n.push.apply(n,i||[]),s++,s===a&&r(n)}e.forEach(function(i){t(i,o)})}function jC(e,t,r){var n=0,s=e.length;function a(o){if(o&&o.length){r(o);return}var i=n;n=n+1,i<s?t(e[i],a):r([])}a([])}function J9(e){var t=[];return Object.keys(e).forEach(function(r){t.push.apply(t,e[r]||[])}),t}var UC=function(e){V9(t,e);function t(r,n){var s;return s=e.call(this,"Async Validation Error")||this,s.errors=r,s.fields=n,s}return t}(mg(Error));function X9(e,t,r,n,s){if(t.first){var a=new Promise(function(m,b){var g=function(y){return n(y),y.length?b(new UC(y,gg(y))):m(s)},h=J9(e);jC(h,r,g)});return a.catch(function(m){return m}),a}var o=t.firstFields===!0?Object.keys(e):t.firstFields||[],i=Object.keys(e),l=i.length,c=0,u=[],d=new Promise(function(m,b){var g=function(v){if(u.push.apply(u,v),c++,c===l)return n(u),u.length?b(new UC(u,gg(u))):m(s)};i.length||(n(u),m(s)),i.forEach(function(h){var v=e[h];o.indexOf(h)!==-1?jC(v,r,g):Y9(v,r,g)})});return d.catch(function(m){return m}),d}function Q9(e){return!!(e&&e.message!==void 0)}function Z9(e,t){for(var r=e,n=0;n<t.length;n++){if(r==null)return r;r=r[t[n]]}return r}function qC(e,t){return function(r){var n;return e.fullFields?n=Z9(t,e.fullFields):n=t[r.field||e.fullField],Q9(r)?(r.field=r.field||e.fullField,r.fieldValue=n,r):{message:typeof r=="function"?r():r,fieldValue:n,field:r.field||e.fullField}}}function VC(e,t){if(t){for(var r in t)if(t.hasOwnProperty(r)){var n=t[r];typeof n=="object"&&typeof e[r]=="object"?e[r]=Ro({},e[r],n):e[r]=n}}return e}var HC=function(t,r,n,s,a,o){t.required&&(!n.hasOwnProperty(t.field)||Vr(r,o||t.type))&&s.push(zn(a.messages.required,t.fullField))},ej=function(t,r,n,s,a){(/^\s+$/.test(r)||r==="")&&s.push(zn(a.messages.whitespace,t.fullField))},$d,tj=function(){if($d)return $d;var e="[a-fA-F\\d:]",t=function(S){return S&&S.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},r="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",n="[a-fA-F\\d]{1,4}",s=(`
(?:
(?:`+n+":){7}(?:"+n+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+n+":){6}(?:"+r+"|:"+n+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+n+":){5}(?::"+r+"|(?::"+n+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+n+":){4}(?:(?::"+n+"){0,1}:"+r+"|(?::"+n+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+n+":){3}(?:(?::"+n+"){0,2}:"+r+"|(?::"+n+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+n+":){2}(?:(?::"+n+"){0,3}:"+r+"|(?::"+n+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+n+":){1}(?:(?::"+n+"){0,4}:"+r+"|(?::"+n+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+n+"){0,5}:"+r+"|(?::"+n+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),a=new RegExp("(?:^"+r+"$)|(?:^"+s+"$)"),o=new RegExp("^"+r+"$"),i=new RegExp("^"+s+"$"),l=function(S){return S&&S.exact?a:new RegExp("(?:"+t(S)+r+t(S)+")|(?:"+t(S)+s+t(S)+")","g")};l.v4=function(_){return _&&_.exact?o:new RegExp(""+t(_)+r+t(_),"g")},l.v6=function(_){return _&&_.exact?i:new RegExp(""+t(_)+s+t(_),"g")};var c="(?:(?:[a-z]+:)?//)",u="(?:\\S+(?::\\S*)?@)?",d=l.v4().source,m=l.v6().source,b="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",g="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",h="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",v="(?::\\d{2,5})?",y='(?:[/?#][^\\s"]*)?',C="(?:"+c+"|www\\.)"+u+"(?:localhost|"+d+"|"+m+"|"+b+g+h+")"+v+y;return $d=new RegExp("(?:^"+C+"$)","i"),$d},zC={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Ql={integer:function(t){return Ql.number(t)&&parseInt(t,10)===t},float:function(t){return Ql.number(t)&&!Ql.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch{return!1}},date:function(t){return typeof t.getTime=="function"&&typeof t.getMonth=="function"&&typeof t.getYear=="function"&&!isNaN(t.getTime())},number:function(t){return isNaN(t)?!1:typeof t=="number"},object:function(t){return typeof t=="object"&&!Ql.array(t)},method:function(t){return typeof t=="function"},email:function(t){return typeof t=="string"&&t.length<=320&&!!t.match(zC.email)},url:function(t){return typeof t=="string"&&t.length<=2048&&!!t.match(tj())},hex:function(t){return typeof t=="string"&&!!t.match(zC.hex)}},rj=function(t,r,n,s,a){if(t.required&&r===void 0){HC(t,r,n,s,a);return}var o=["integer","float","array","regexp","object","method","email","number","date","url","hex"],i=t.type;o.indexOf(i)>-1?Ql[i](r)||s.push(zn(a.messages.types[i],t.fullField,t.type)):i&&typeof r!==t.type&&s.push(zn(a.messages.types[i],t.fullField,t.type))},nj=function(t,r,n,s,a){var o=typeof t.len=="number",i=typeof t.min=="number",l=typeof t.max=="number",c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=r,d=null,m=typeof r=="number",b=typeof r=="string",g=Array.isArray(r);if(m?d="number":b?d="string":g&&(d="array"),!d)return!1;g&&(u=r.length),b&&(u=r.replace(c,"_").length),o?u!==t.len&&s.push(zn(a.messages[d].len,t.fullField,t.len)):i&&!l&&u<t.min?s.push(zn(a.messages[d].min,t.fullField,t.min)):l&&!i&&u>t.max?s.push(zn(a.messages[d].max,t.fullField,t.max)):i&&l&&(u<t.min||u>t.max)&&s.push(zn(a.messages[d].range,t.fullField,t.min,t.max))},Ri="enum",sj=function(t,r,n,s,a){t[Ri]=Array.isArray(t[Ri])?t[Ri]:[],t[Ri].indexOf(r)===-1&&s.push(zn(a.messages[Ri],t.fullField,t[Ri].join(", ")))},aj=function(t,r,n,s,a){if(t.pattern){if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(r)||s.push(zn(a.messages.pattern.mismatch,t.fullField,r,t.pattern));else if(typeof t.pattern=="string"){var o=new RegExp(t.pattern);o.test(r)||s.push(zn(a.messages.pattern.mismatch,t.fullField,r,t.pattern))}}},er={required:HC,whitespace:ej,type:rj,range:nj,enum:sj,pattern:aj},oj=function(t,r,n,s,a){var o=[],i=t.required||!t.required&&s.hasOwnProperty(t.field);if(i){if(Vr(r,"string")&&!t.required)return n();er.required(t,r,s,o,a,"string"),Vr(r,"string")||(er.type(t,r,s,o,a),er.range(t,r,s,o,a),er.pattern(t,r,s,o,a),t.whitespace===!0&&er.whitespace(t,r,s,o,a))}n(o)},ij=function(t,r,n,s,a){var o=[],i=t.required||!t.required&&s.hasOwnProperty(t.field);if(i){if(Vr(r)&&!t.required)return n();er.required(t,r,s,o,a),r!==void 0&&er.type(t,r,s,o,a)}n(o)},lj=function(t,r,n,s,a){var o=[],i=t.required||!t.required&&s.hasOwnProperty(t.field);if(i){if(r===""&&(r=void 0),Vr(r)&&!t.required)return n();er.required(t,r,s,o,a),r!==void 0&&(er.type(t,r,s,o,a),er.range(t,r,s,o,a))}n(o)},uj=function(t,r,n,s,a){var o=[],i=t.required||!t.required&&s.hasOwnProperty(t.field);if(i){if(Vr(r)&&!t.required)return n();er.required(t,r,s,o,a),r!==void 0&&er.type(t,r,s,o,a)}n(o)},cj=function(t,r,n,s,a){var o=[],i=t.required||!t.required&&s.hasOwnProperty(t.field);if(i){if(Vr(r)&&!t.required)return n();er.required(t,r,s,o,a),Vr(r)||er.type(t,r,s,o,a)}n(o)},dj=function(t,r,n,s,a){var o=[],i=t.required||!t.required&&s.hasOwnProperty(t.field);if(i){if(Vr(r)&&!t.required)return n();er.required(t,r,s,o,a),r!==void 0&&(er.type(t,r,s,o,a),er.range(t,r,s,o,a))}n(o)},fj=function(t,r,n,s,a){var o=[],i=t.required||!t.required&&s.hasOwnProperty(t.field);if(i){if(Vr(r)&&!t.required)return n();er.required(t,r,s,o,a),r!==void 0&&(er.type(t,r,s,o,a),er.range(t,r,s,o,a))}n(o)},pj=function(t,r,n,s,a){var o=[],i=t.required||!t.required&&s.hasOwnProperty(t.field);if(i){if(r==null&&!t.required)return n();er.required(t,r,s,o,a,"array"),r!=null&&(er.type(t,r,s,o,a),er.range(t,r,s,o,a))}n(o)},hj=function(t,r,n,s,a){var o=[],i=t.required||!t.required&&s.hasOwnProperty(t.field);if(i){if(Vr(r)&&!t.required)return n();er.required(t,r,s,o,a),r!==void 0&&er.type(t,r,s,o,a)}n(o)},mj="enum",gj=function(t,r,n,s,a){var o=[],i=t.required||!t.required&&s.hasOwnProperty(t.field);if(i){if(Vr(r)&&!t.required)return n();er.required(t,r,s,o,a),r!==void 0&&er[mj](t,r,s,o,a)}n(o)},vj=function(t,r,n,s,a){var o=[],i=t.required||!t.required&&s.hasOwnProperty(t.field);if(i){if(Vr(r,"string")&&!t.required)return n();er.required(t,r,s,o,a),Vr(r,"string")||er.pattern(t,r,s,o,a)}n(o)},yj=function(t,r,n,s,a){var o=[],i=t.required||!t.required&&s.hasOwnProperty(t.field);if(i){if(Vr(r,"date")&&!t.required)return n();if(er.required(t,r,s,o,a),!Vr(r,"date")){var l;r instanceof Date?l=r:l=new Date(r),er.type(t,l,s,o,a),l&&er.range(t,l.getTime(),s,o,a)}}n(o)},bj=function(t,r,n,s,a){var o=[],i=Array.isArray(r)?"array":typeof r;er.required(t,r,s,o,a,i),n(o)},vg=function(t,r,n,s,a){var o=t.type,i=[],l=t.required||!t.required&&s.hasOwnProperty(t.field);if(l){if(Vr(r,o)&&!t.required)return n();er.required(t,r,s,i,a,o),Vr(r,o)||er.type(t,r,s,i,a)}n(i)},wj=function(t,r,n,s,a){var o=[],i=t.required||!t.required&&s.hasOwnProperty(t.field);if(i){if(Vr(r)&&!t.required)return n();er.required(t,r,s,o,a)}n(o)},Zl={string:oj,method:ij,number:lj,boolean:uj,regexp:cj,integer:dj,float:fj,array:pj,object:hj,enum:gj,pattern:vj,date:yj,url:vg,hex:vg,email:vg,required:bj,any:wj};function yg(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var bg=yg(),eu=function(){function e(r){this.rules=null,this._messages=bg,this.define(r)}var t=e.prototype;return t.define=function(n){var s=this;if(!n)throw new Error("Cannot configure a schema with no rules");if(typeof n!="object"||Array.isArray(n))throw new Error("Rules must be an object");this.rules={},Object.keys(n).forEach(function(a){var o=n[a];s.rules[a]=Array.isArray(o)?o:[o]})},t.messages=function(n){return n&&(this._messages=VC(yg(),n)),this._messages},t.validate=function(n,s,a){var o=this;s===void 0&&(s={}),a===void 0&&(a=function(){});var i=n,l=s,c=a;if(typeof l=="function"&&(c=l,l={}),!this.rules||Object.keys(this.rules).length===0)return c&&c(null,i),Promise.resolve(i);function u(h){var v=[],y={};function C(S){if(Array.isArray(S)){var x;v=(x=v).concat.apply(x,S)}else v.push(S)}for(var _=0;_<h.length;_++)C(h[_]);v.length?(y=gg(v),c(v,y)):c(null,i)}if(l.messages){var d=this.messages();d===bg&&(d=yg()),VC(d,l.messages),l.messages=d}else l.messages=this.messages();var m={},b=l.keys||Object.keys(this.rules);b.forEach(function(h){var v=o.rules[h],y=i[h];v.forEach(function(C){var _=C;typeof _.transform=="function"&&(i===n&&(i=Ro({},i)),y=i[h]=_.transform(y)),typeof _=="function"?_={validator:_}:_=Ro({},_),_.validator=o.getValidationMethod(_),_.validator&&(_.field=h,_.fullField=_.fullField||h,_.type=o.getType(_),m[h]=m[h]||[],m[h].push({rule:_,value:y,source:i,field:h}))})});var g={};return X9(m,l,function(h,v){var y=h.rule,C=(y.type==="object"||y.type==="array")&&(typeof y.fields=="object"||typeof y.defaultField=="object");C=C&&(y.required||!y.required&&h.value),y.field=h.field;function _(I,f){return Ro({},f,{fullField:y.fullField+"."+I,fullFields:y.fullFields?[].concat(y.fullFields,[I]):[I]})}function S(I){I===void 0&&(I=[]);var f=Array.isArray(I)?I:[I];!l.suppressWarning&&f.length&&e.warning("async-validator:",f),f.length&&y.message!==void 0&&(f=[].concat(y.message));var P=f.map(qC(y,i));if(l.first&&P.length)return g[y.field]=1,v(P);if(!C)v(P);else{if(y.required&&!h.value)return y.message!==void 0?P=[].concat(y.message).map(qC(y,i)):l.error&&(P=[l.error(y,zn(l.messages.required,y.field))]),v(P);var $={};y.defaultField&&Object.keys(h.value).map(function(M){$[M]=y.defaultField}),$=Ro({},$,h.rule.fields);var q={};Object.keys($).forEach(function(M){var F=$[M],N=Array.isArray(F)?F:[F];q[M]=N.map(_.bind(null,M))});var E=new e(q);E.messages(l.messages),h.rule.options&&(h.rule.options.messages=l.messages,h.rule.options.error=l.error),E.validate(h.value,h.rule.options||l,function(M){var F=[];P&&P.length&&F.push.apply(F,P),M&&M.length&&F.push.apply(F,M),v(F.length?F:null)})}}var x;if(y.asyncValidator)x=y.asyncValidator(y,h.value,S,h.source,l);else if(y.validator){try{x=y.validator(y,h.value,S,h.source,l)}catch(I){console.error==null||console.error(I),l.suppressValidatorError||setTimeout(function(){throw I},0),S(I.message)}x===!0?S():x===!1?S(typeof y.message=="function"?y.message(y.fullField||y.field):y.message||(y.fullField||y.field)+" fails"):x instanceof Array?S(x):x instanceof Error&&S(x.message)}x&&x.then&&x.then(function(){return S()},function(I){return S(I)})},function(h){u(h)},i)},t.getType=function(n){if(n.type===void 0&&n.pattern instanceof RegExp&&(n.type="pattern"),typeof n.validator!="function"&&n.type&&!Zl.hasOwnProperty(n.type))throw new Error(zn("Unknown rule type %s",n.type));return n.type||"string"},t.getValidationMethod=function(n){if(typeof n.validator=="function")return n.validator;var s=Object.keys(n),a=s.indexOf("message");return a!==-1&&s.splice(a,1),s.length===1&&s[0]==="required"?Zl.required:Zl[this.getType(n)]||void 0},e}();eu.register=function(t,r){if(typeof r!="function")throw new Error("Cannot register a validator by type, validator is not a function");Zl[t]=r},eu.warning=G9,eu.messages=bg,eu.validators=Zl;const Sj=["","error","validating","success"],_j=vt({label:String,labelWidth:{type:[String,Number],default:""},labelPosition:{type:String,values:["left","right","top",""],default:""},prop:{type:Je([String,Array])},required:{type:Boolean,default:void 0},rules:{type:Je([Object,Array])},error:String,validateStatus:{type:String,values:Sj},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:Dl}}),WC="ElLabelWrap";var Tj=xe({name:WC,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(e,{slots:t}){const r=ft(wi,void 0),n=ft(Po);n||Ml(WC,"usage: <el-form-item><label-wrap /></el-form-item>");const s=ct("form"),a=ee(),o=ee(0),i=()=>{var u;if((u=a.value)!=null&&u.firstElementChild){const d=window.getComputedStyle(a.value.firstElementChild).width;return Math.ceil(Number.parseFloat(d))}else return 0},l=(u="update")=>{xt(()=>{t.default&&e.isAutoWidth&&(u==="update"?o.value=i():u==="remove"&&(r==null||r.deregisterLabelWidth(o.value)))})},c=()=>l("update");return Kt(()=>{c()}),Fr(()=>{l("remove")}),ui(()=>c()),tt(o,(u,d)=>{e.updateAll&&(r==null||r.registerLabelWidth(u,d))}),jn(W(()=>{var u,d;return(d=(u=a.value)==null?void 0:u.firstElementChild)!=null?d:null}),c),()=>{var u,d;if(!t)return null;const{isAutoWidth:m}=e;if(m){const b=r==null?void 0:r.autoLabelWidth,g=n==null?void 0:n.hasLabel,h={};if(g&&b&&b!=="auto"){const v=Math.max(0,Number.parseInt(b,10)-o.value),C=(n.labelPosition||r.labelPosition)==="left"?"marginRight":"marginLeft";v&&(h[C]=`${v}px`)}return le("div",{ref:a,class:[s.be("item","label-wrap")],style:h},[(u=t.default)==null?void 0:u.call(t)])}else return le(ht,{ref:a},[(d=t.default)==null?void 0:d.call(t)])}}});const Cj=xe({...xe({name:"ElFormItem"}),props:_j,setup(e,{expose:t}){const r=e,n=gs(),s=ft(wi,void 0),a=ft(Po,void 0),o=ws(void 0,{formItem:!1}),i=ct("form-item"),l=Vs().value,c=ee([]),u=ee(""),d=f3(u,100),m=ee(""),b=ee();let g,h=!1;const v=W(()=>r.labelPosition||(s==null?void 0:s.labelPosition)),y=W(()=>{if(v.value==="top")return{};const Te=Un(r.labelWidth||(s==null?void 0:s.labelWidth)||"");return Te?{width:Te}:{}}),C=W(()=>{if(v.value==="top"||s!=null&&s.inline)return{};if(!r.label&&!r.labelWidth&&q)return{};const Te=Un(r.labelWidth||(s==null?void 0:s.labelWidth)||"");return!r.label&&!n.label?{marginLeft:Te}:{}}),_=W(()=>[i.b(),i.m(o.value),i.is("error",u.value==="error"),i.is("validating",u.value==="validating"),i.is("success",u.value==="success"),i.is("required",R.value||r.required),i.is("no-asterisk",s==null?void 0:s.hideRequiredAsterisk),(s==null?void 0:s.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[i.m("feedback")]:s==null?void 0:s.statusIcon,[i.m(`label-${v.value}`)]:v.value}]),S=W(()=>Yr(r.inlineMessage)?r.inlineMessage:(s==null?void 0:s.inlineMessage)||!1),x=W(()=>[i.e("error"),{[i.em("error","inline")]:S.value}]),I=W(()=>r.prop?yt(r.prop)?r.prop:r.prop.join("."):""),f=W(()=>!!(r.label||n.label)),P=W(()=>r.for||(c.value.length===1?c.value[0]:void 0)),$=W(()=>!P.value&&f.value),q=!!a,E=W(()=>{const Te=s==null?void 0:s.model;if(!(!Te||!r.prop))return Wc(Te,r.prop).value}),M=W(()=>{const{required:Te}=r,He=[];r.rules&&He.push(...ds(r.rules));const Me=s==null?void 0:s.rules;if(Me&&r.prop){const rt=Wc(Me,r.prop).value;rt&&He.push(...ds(rt))}if(Te!==void 0){const rt=He.map((X,re)=>[X,re]).filter(([X])=>Object.keys(X).includes("required"));if(rt.length>0)for(const[X,re]of rt)X.required!==Te&&(He[re]={...X,required:Te});else He.push({required:Te})}return He}),F=W(()=>M.value.length>0),N=Te=>M.value.filter(Me=>!Me.trigger||!Te?!0:Ue(Me.trigger)?Me.trigger.includes(Te):Me.trigger===Te).map(({trigger:Me,...rt})=>rt),R=W(()=>M.value.some(Te=>Te.required)),H=W(()=>{var Te;return d.value==="error"&&r.showMessage&&((Te=s==null?void 0:s.showMessage)!=null?Te:!0)}),U=W(()=>`${r.label||""}${(s==null?void 0:s.labelSuffix)||""}`),L=Te=>{u.value=Te},D=Te=>{var He,Me;const{errors:rt,fields:X}=Te;(!rt||!X)&&console.error(Te),L("error"),m.value=rt?(Me=(He=rt==null?void 0:rt[0])==null?void 0:He.message)!=null?Me:`${r.prop} is required`:"",s==null||s.emit("validate",r.prop,!1,m.value)},Y=()=>{L("success"),s==null||s.emit("validate",r.prop,!0,"")},Q=async Te=>{const He=I.value;return new eu({[He]:Te}).validate({[He]:E.value},{firstFields:!0}).then(()=>(Y(),!0)).catch(rt=>(D(rt),Promise.reject(rt)))},ae=async(Te,He)=>{if(h||!r.prop)return!1;const Me=et(He);if(!F.value)return He==null||He(!1),!1;const rt=N(Te);return rt.length===0?(He==null||He(!0),!0):(L("validating"),Q(rt).then(()=>(He==null||He(!0),!0)).catch(X=>{const{fields:re}=X;return He==null||He(!1,re),Me?!1:Promise.reject(re)}))},ne=()=>{L(""),m.value="",h=!1},he=async()=>{const Te=s==null?void 0:s.model;if(!Te||!r.prop)return;const He=Wc(Te,r.prop);h=!0,He.value=Pb(g),await xt(),ne(),h=!1},ve=Te=>{c.value.includes(Te)||c.value.push(Te)},We=Te=>{c.value=c.value.filter(He=>He!==Te)};tt(()=>r.error,Te=>{m.value=Te||"",L(Te?"error":"")},{immediate:!0}),tt(()=>r.validateStatus,Te=>L(Te||""));const Ge=Zr({...ha(r),$el:b,size:o,validateState:u,labelId:l,inputIds:c,isGroup:$,hasLabel:f,fieldValue:E,addInputId:ve,removeInputId:We,resetField:he,clearValidate:ne,validate:ae});return Mr(Po,Ge),Kt(()=>{r.prop&&(s==null||s.addField(Ge),g=Pb(E.value))}),Fr(()=>{s==null||s.removeField(Ge)}),t({size:o,validateMessage:m,validateState:u,validate:ae,clearValidate:ne,resetField:he}),(Te,He)=>{var Me;return K(),ue("div",{ref_key:"formItemRef",ref:b,class:Z(w(_)),role:w($)?"group":void 0,"aria-labelledby":w($)?w(l):void 0},[le(w(Tj),{"is-auto-width":w(y).width==="auto","update-all":((Me=w(s))==null?void 0:Me.labelWidth)==="auto"},{default:ie(()=>[w(f)?(K(),Le(vr(w(P)?"label":"div"),{key:0,id:w(l),for:w(P),class:Z(w(i).e("label")),style:jt(w(y))},{default:ie(()=>[Ne(Te.$slots,"label",{label:w(U)},()=>[ot(ze(w(U)),1)])]),_:3},8,["id","for","class","style"])):Ee("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),G("div",{class:Z(w(i).e("content")),style:jt(w(C))},[Ne(Te.$slots,"default"),le(cD,{name:`${w(i).namespace.value}-zoom-in-top`},{default:ie(()=>[w(H)?Ne(Te.$slots,"error",{key:0,error:m.value},()=>[G("div",{class:Z(w(x))},ze(m.value),3)]):Ee("v-if",!0)]),_:3},8,["name"])],6)],10,["role","aria-labelledby"])}}});var GC=wt(Cj,[["__file","form-item.vue"]]);const xj=Ar(q9,{FormItem:GC}),Ij=Io(GC),kj=vt({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:Sa,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:e=>e===null||Zt(e)||["min","max"].includes(e),default:null},name:String,placeholder:String,precision:{type:Number,validator:e=>e>=0&&e===Number.parseInt(`${e}`,10)},validateEvent:{type:Boolean,default:!0},..._a(["ariaLabel"])}),Oj={[Yc]:(e,t)=>t!==e,blur:e=>e instanceof FocusEvent,focus:e=>e instanceof FocusEvent,[Jc]:e=>Zt(e)||$s(e),[Br]:e=>Zt(e)||$s(e)},Pj=xe({...xe({name:"ElInputNumber"}),props:kj,emits:Oj,setup(e,{expose:t,emit:r}){const n=e,{t:s}=Ur(),a=ct("input-number"),o=ee(),i=Zr({currentValue:n.modelValue,userInput:null}),{formItem:l}=qa(),c=W(()=>Zt(n.modelValue)&&n.modelValue<=n.min),u=W(()=>Zt(n.modelValue)&&n.modelValue>=n.max),d=W(()=>{const R=y(n.step);return Rr(n.precision)?Math.max(y(n.modelValue),R):(R>n.precision,n.precision)}),m=W(()=>n.controls&&n.controlsPosition==="right"),b=ws(),g=Bl(),h=W(()=>{if(i.userInput!==null)return i.userInput;let R=i.currentValue;if($s(R))return"";if(Zt(R)){if(Number.isNaN(R))return"";Rr(n.precision)||(R=R.toFixed(n.precision))}return R}),v=(R,H)=>{if(Rr(H)&&(H=d.value),H===0)return Math.round(R);let U=String(R);const L=U.indexOf(".");if(L===-1||!U.replace(".","").split("")[L+H])return R;const Q=U.length;return U.charAt(Q-1)==="5"&&(U=`${U.slice(0,Math.max(0,Q-1))}6`),Number.parseFloat(Number(U).toFixed(H))},y=R=>{if($s(R))return 0;const H=R.toString(),U=H.indexOf(".");let L=0;return U!==-1&&(L=H.length-U-1),L},C=(R,H=1)=>Zt(R)?v(R+n.step*H):i.currentValue,_=()=>{if(n.readonly||g.value||u.value)return;const R=Number(h.value)||0,H=C(R);I(H),r(Jc,i.currentValue),F()},S=()=>{if(n.readonly||g.value||c.value)return;const R=Number(h.value)||0,H=C(R,-1);I(H),r(Jc,i.currentValue),F()},x=(R,H)=>{const{max:U,min:L,step:D,precision:Y,stepStrictly:Q,valueOnClear:ae}=n;U<L&&Ml("InputNumber","min should not be greater than max.");let ne=Number(R);if($s(R)||Number.isNaN(ne))return null;if(R===""){if(ae===null)return null;ne=yt(ae)?{min:L,max:U}[ae]:ae}return Q&&(ne=v(Math.round(ne/D)*D,Y),ne!==R&&H&&r(Br,ne)),Rr(Y)||(ne=v(ne,Y)),(ne>U||ne<L)&&(ne=ne>U?U:L,H&&r(Br,ne)),ne},I=(R,H=!0)=>{var U;const L=i.currentValue,D=x(R);if(!H){r(Br,D);return}L===D&&R||(i.userInput=null,r(Br,D),L!==D&&r(Yc,D,L),n.validateEvent&&((U=l==null?void 0:l.validate)==null||U.call(l,"change").catch(Y=>void 0)),i.currentValue=D)},f=R=>{i.userInput=R;const H=R===""?null:Number(R);r(Jc,H),I(H,!1)},P=R=>{const H=R!==""?Number(R):"";(Zt(H)&&!Number.isNaN(H)||R==="")&&I(H),F(),i.userInput=null},$=()=>{var R,H;(H=(R=o.value)==null?void 0:R.focus)==null||H.call(R)},q=()=>{var R,H;(H=(R=o.value)==null?void 0:R.blur)==null||H.call(R)},E=R=>{r("focus",R)},M=R=>{var H,U;i.userInput=null,J_()&&i.currentValue===null&&((H=o.value)!=null&&H.input)&&(o.value.input.value=""),r("blur",R),n.validateEvent&&((U=l==null?void 0:l.validate)==null||U.call(l,"blur").catch(L=>void 0))},F=()=>{i.currentValue!==n.modelValue&&(i.currentValue=n.modelValue)},N=R=>{document.activeElement===R.target&&R.preventDefault()};return tt(()=>n.modelValue,(R,H)=>{const U=x(R,!0);i.userInput===null&&U!==H&&(i.currentValue=U)},{immediate:!0}),Kt(()=>{var R;const{min:H,max:U,modelValue:L}=n,D=(R=o.value)==null?void 0:R.input;if(D.setAttribute("role","spinbutton"),Number.isFinite(U)?D.setAttribute("aria-valuemax",String(U)):D.removeAttribute("aria-valuemax"),Number.isFinite(H)?D.setAttribute("aria-valuemin",String(H)):D.removeAttribute("aria-valuemin"),D.setAttribute("aria-valuenow",i.currentValue||i.currentValue===0?String(i.currentValue):""),D.setAttribute("aria-disabled",String(g.value)),!Zt(L)&&L!=null){let Y=Number(L);Number.isNaN(Y)&&(Y=null),r(Br,Y)}D.addEventListener("wheel",N,{passive:!1})}),ui(()=>{var R,H;const U=(R=o.value)==null?void 0:R.input;U==null||U.setAttribute("aria-valuenow",`${(H=i.currentValue)!=null?H:""}`)}),t({focus:$,blur:q}),(R,H)=>(K(),ue("div",{class:Z([w(a).b(),w(a).m(w(b)),w(a).is("disabled",w(g)),w(a).is("without-controls",!R.controls),w(a).is("controls-right",w(m))]),onDragstart:$t(()=>{},["prevent"])},[R.controls?Vt((K(),ue("span",{key:0,role:"button","aria-label":w(s)("el.inputNumber.decrease"),class:Z([w(a).e("decrease"),w(a).is("disabled",w(c))]),onKeydown:qr(S,["enter"])},[Ne(R.$slots,"decrease-icon",{},()=>[le(w(Ot),null,{default:ie(()=>[w(m)?(K(),Le(w(Qc),{key:0})):(K(),Le(w(cN),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[w(xd),S]]):Ee("v-if",!0),R.controls?Vt((K(),ue("span",{key:1,role:"button","aria-label":w(s)("el.inputNumber.increase"),class:Z([w(a).e("increase"),w(a).is("disabled",w(u))]),onKeydown:qr(_,["enter"])},[Ne(R.$slots,"increase-icon",{},()=>[le(w(Ot),null,{default:ie(()=>[w(m)?(K(),Le(w(xm),{key:0})):(K(),Le(w(fN),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[w(xd),_]]):Ee("v-if",!0),le(w(Ta),{id:R.id,ref_key:"input",ref:o,type:"number",step:R.step,"model-value":w(h),placeholder:R.placeholder,readonly:R.readonly,disabled:w(g),size:w(b),max:R.max,min:R.min,name:R.name,"aria-label":R.ariaLabel,"validate-event":!1,onKeydown:[qr($t(_,["prevent"]),["up"]),qr($t(S,["prevent"]),["down"])],onBlur:M,onFocus:E,onInput:f,onChange:P},A1({_:2},[R.$slots.prefix?{name:"prefix",fn:ie(()=>[Ne(R.$slots,"prefix")])}:void 0,R.$slots.suffix?{name:"suffix",fn:ie(()=>[Ne(R.$slots,"suffix")])}:void 0]),1032,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],42,["onDragstart"]))}});var Aj=wt(Pj,[["__file","input-number.vue"]]);const Ej=Ar(Aj);function $j(){const e=In(),t=ee(0),r=11,n=W(()=>({minWidth:`${Math.max(t.value,r)}px`}));return jn(e,()=>{var a,o;t.value=(o=(a=e.value)==null?void 0:a.getBoundingClientRect().width)!=null?o:0}),{calculatorRef:e,calculatorWidth:t,inputStyle:n}}const Rj=vt({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:Boolean,href:{type:String,default:""},target:{type:String,default:"_self"},icon:{type:qs}}),Lj=xe({...xe({name:"ElLink"}),props:Rj,emits:{click:e=>e instanceof MouseEvent},setup(e,{emit:t}){const r=e,n=ct("link"),s=W(()=>[n.b(),n.m(r.type),n.is("disabled",r.disabled),n.is("underline",r.underline&&!r.disabled)]);function a(o){r.disabled||t("click",o)}return(o,i)=>(K(),ue("a",{class:Z(w(s)),href:o.disabled||!o.href?void 0:o.href,target:o.disabled||!o.href?void 0:o.target,onClick:a},[o.icon?(K(),Le(w(Ot),{key:0},{default:ie(()=>[(K(),Le(vr(o.icon)))]),_:1})):Ee("v-if",!0),o.$slots.default?(K(),ue("span",{key:1,class:Z(w(n).e("inner"))},[Ne(o.$slots,"default")],2)):Ee("v-if",!0),o.$slots.icon?Ne(o.$slots,"icon",{key:2}):Ee("v-if",!0)],10,["href","target"]))}});var Mj=wt(Lj,[["__file","link.vue"]]);const KC=Ar(Mj),YC=Symbol("ElSelectGroup"),Rd=Symbol("ElSelect");function Dj(e,t){const r=ft(Rd),n=ft(YC,{disabled:!1}),s=W(()=>u(ds(r.props.modelValue),e.value)),a=W(()=>{var b;if(r.props.multiple){const g=ds((b=r.props.modelValue)!=null?b:[]);return!s.value&&g.length>=r.props.multipleLimit&&r.props.multipleLimit>0}else return!1}),o=W(()=>e.label||(Lt(e.value)?"":e.value)),i=W(()=>e.value||e.label||""),l=W(()=>e.disabled||t.groupDisabled||a.value),c=Ht(),u=(b=[],g)=>{if(Lt(e.value)){const h=r.props.valueKey;return b&&b.some(v=>Gt(sn(v,h))===sn(g,h))}else return b&&b.includes(g)},d=()=>{!e.disabled&&!n.disabled&&(r.states.hoveringIndex=r.optionsArray.indexOf(c.proxy))},m=b=>{const g=new RegExp(UF(b),"i");t.visible=g.test(o.value)||e.created};return tt(()=>o.value,()=>{!e.created&&!r.props.remote&&r.setSelected()}),tt(()=>e.value,(b,g)=>{const{remote:h,valueKey:v}=r.props;if(b!==g&&(r.onOptionDestroy(g,c.proxy),r.onOptionCreate(c.proxy)),!e.created&&!h){if(v&&Lt(b)&&Lt(g)&&b[v]===g[v])return;r.setSelected()}}),tt(()=>n.disabled,()=>{t.groupDisabled=n.disabled},{immediate:!0}),{select:r,currentLabel:o,currentValue:i,itemSelected:s,isDisabled:l,hoverItem:d,updateOption:m}}const Nj=xe({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:Boolean},setup(e){const t=ct("select"),r=Vs(),n=W(()=>[t.be("dropdown","item"),t.is("disabled",w(i)),t.is("selected",w(o)),t.is("hovering",w(m))]),s=Zr({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:a,itemSelected:o,isDisabled:i,select:l,hoverItem:c,updateOption:u}=Dj(e,s),{visible:d,hover:m}=ha(s),b=Ht().proxy;l.onOptionCreate(b),Fr(()=>{const h=b.value,{selected:v}=l.states,y=v.some(C=>C.value===b.value);xt(()=>{l.states.cachedOptions.get(h)===b&&!y&&l.states.cachedOptions.delete(h)}),l.onOptionDestroy(h,b)});function g(){i.value||l.handleOptionSelect(b)}return{ns:t,id:r,containerKls:n,currentLabel:a,itemSelected:o,isDisabled:i,select:l,hoverItem:c,updateOption:u,visible:d,hover:m,selectOptionClick:g,states:s}}});function Fj(e,t,r,n,s,a){return Vt((K(),ue("li",{id:e.id,class:Z(e.containerKls),role:"option","aria-disabled":e.isDisabled||void 0,"aria-selected":e.itemSelected,onMousemove:e.hoverItem,onClick:$t(e.selectOptionClick,["stop"])},[Ne(e.$slots,"default",{},()=>[G("span",null,ze(e.currentLabel),1)])],42,["id","aria-disabled","aria-selected","onMousemove","onClick"])),[[Pr,e.visible]])}var wg=wt(Nj,[["render",Fj],["__file","option.vue"]]);const Bj=xe({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=ft(Rd),t=ct("select"),r=W(()=>e.props.popperClass),n=W(()=>e.props.multiple),s=W(()=>e.props.fitInputWidth),a=ee("");function o(){var i;a.value=`${(i=e.selectRef)==null?void 0:i.offsetWidth}px`}return Kt(()=>{o(),jn(e.selectRef,o)}),{ns:t,minWidth:a,popperClass:r,isMultiple:n,isFitInputWidth:s}}});function jj(e,t,r,n,s,a){return K(),ue("div",{class:Z([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:jt({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[e.$slots.header?(K(),ue("div",{key:0,class:Z(e.ns.be("dropdown","header"))},[Ne(e.$slots,"header")],2)):Ee("v-if",!0),Ne(e.$slots,"default"),e.$slots.footer?(K(),ue("div",{key:1,class:Z(e.ns.be("dropdown","footer"))},[Ne(e.$slots,"footer")],2)):Ee("v-if",!0)],6)}var Uj=wt(Bj,[["render",jj],["__file","select-dropdown.vue"]]);const qj=(e,t)=>{const{t:r}=Ur(),n=Vs(),s=ct("select"),a=ct("input"),o=Zr({inputValue:"",options:new Map,cachedOptions:new Map,optionValues:[],selected:[],selectionWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),i=ee(null),l=ee(null),c=ee(null),u=ee(null),d=ee(null),m=ee(null),b=ee(null),g=ee(null),h=ee(null),v=ee(null),y=ee(null),{isComposing:C,handleCompositionStart:_,handleCompositionUpdate:S,handleCompositionEnd:x}=nT({afterComposition:Oe=>bt(Oe)}),{wrapperRef:I,isFocused:f,handleBlur:P}=ed(d,{beforeFocus(){return H.value},afterFocus(){e.automaticDropdown&&!$.value&&($.value=!0,o.menuVisibleOnFocus=!0)},beforeBlur(Oe){var nt,Bt;return((nt=c.value)==null?void 0:nt.isFocusInsideContent(Oe))||((Bt=u.value)==null?void 0:Bt.isFocusInsideContent(Oe))},afterBlur(){$.value=!1,o.menuVisibleOnFocus=!1}}),$=ee(!1),q=ee(),{form:E,formItem:M}=qa(),{inputId:F}=Zc(e,{formItemContext:M}),{valueOnClear:N,isEmptyValue:R}=q_(e),H=W(()=>e.disabled||(E==null?void 0:E.disabled)),U=W(()=>Ue(e.modelValue)?e.modelValue.length>0:!R(e.modelValue)),L=W(()=>{var Oe;return(Oe=E==null?void 0:E.statusIcon)!=null?Oe:!1}),D=W(()=>e.clearable&&!H.value&&o.inputHovering&&U.value),Y=W(()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon),Q=W(()=>s.is("reverse",Y.value&&$.value)),ae=W(()=>(M==null?void 0:M.validateState)||""),ne=W(()=>Y_[ae.value]),he=W(()=>e.remote?300:0),ve=W(()=>e.remote&&!o.inputValue&&o.options.size===0),We=W(()=>e.loading?e.loadingText||r("el.select.loading"):e.filterable&&o.inputValue&&o.options.size>0&&Ge.value===0?e.noMatchText||r("el.select.noMatch"):o.options.size===0?e.noDataText||r("el.select.noData"):null),Ge=W(()=>Te.value.filter(Oe=>Oe.visible).length),Te=W(()=>{const Oe=Array.from(o.options.values()),nt=[];return o.optionValues.forEach(Bt=>{const Ir=Oe.findIndex(zr=>zr.value===Bt);Ir>-1&&nt.push(Oe[Ir])}),nt.length>=Oe.length?nt:Oe}),He=W(()=>Array.from(o.cachedOptions.values())),Me=W(()=>{const Oe=Te.value.filter(nt=>!nt.created).some(nt=>nt.currentLabel===o.inputValue);return e.filterable&&e.allowCreate&&o.inputValue!==""&&!Oe}),rt=()=>{e.filterable&&et(e.filterMethod)||e.filterable&&e.remote&&et(e.remoteMethod)||Te.value.forEach(Oe=>{var nt;(nt=Oe.updateOption)==null||nt.call(Oe,o.inputValue)})},X=ws(),re=W(()=>["small"].includes(X.value)?"small":"default"),ge=W({get(){return $.value&&!ve.value},set(Oe){$.value=Oe}}),Re=W(()=>{if(e.multiple&&!Rr(e.modelValue))return ds(e.modelValue).length===0&&!o.inputValue;const Oe=Ue(e.modelValue)?e.modelValue[0]:e.modelValue;return e.filterable||Rr(Oe)?!o.inputValue:!0}),_e=W(()=>{var Oe;const nt=(Oe=e.placeholder)!=null?Oe:r("el.select.placeholder");return e.multiple||!U.value?nt:o.selectedLabel}),ke=W(()=>ym?null:"mouseenter");tt(()=>e.modelValue,(Oe,nt)=>{e.multiple&&e.filterable&&!e.reserveKeyword&&(o.inputValue="",qe("")),De(),!ao(Oe,nt)&&e.validateEvent&&(M==null||M.validate("change").catch(Bt=>void 0))},{flush:"post",deep:!0}),tt(()=>$.value,Oe=>{Oe?qe(o.inputValue):(o.inputValue="",o.previousQuery=null,o.isBeforeHide=!0),t("visible-change",Oe)}),tt(()=>o.options.entries(),()=>{ur&&(De(),e.defaultFirstOption&&(e.filterable||e.remote)&&Ge.value&&Pe())},{flush:"post"}),tt(()=>o.hoveringIndex,Oe=>{Zt(Oe)&&Oe>-1?q.value=Te.value[Oe]||{}:q.value={},Te.value.forEach(nt=>{nt.hover=q.value===nt})}),va(()=>{o.isBeforeHide||rt()});const qe=Oe=>{o.previousQuery===Oe||C.value||(o.previousQuery=Oe,e.filterable&&et(e.filterMethod)?e.filterMethod(Oe):e.filterable&&e.remote&&et(e.remoteMethod)&&e.remoteMethod(Oe),e.defaultFirstOption&&(e.filterable||e.remote)&&Ge.value?xt(Pe):xt(st))},Pe=()=>{const Oe=Te.value.filter(zr=>zr.visible&&!zr.disabled&&!zr.states.groupDisabled),nt=Oe.find(zr=>zr.created),Bt=Oe[0],Ir=Te.value.map(zr=>zr.value);o.hoveringIndex=V(Ir,nt||Bt)},De=()=>{if(e.multiple)o.selectedLabel="";else{const nt=Ue(e.modelValue)?e.modelValue[0]:e.modelValue,Bt=$e(nt);o.selectedLabel=Bt.currentLabel,o.selected=[Bt];return}const Oe=[];Rr(e.modelValue)||ds(e.modelValue).forEach(nt=>{Oe.push($e(nt))}),o.selected=Oe},$e=Oe=>{let nt;const Bt=uh(Oe);for(let Js=o.cachedOptions.size-1;Js>=0;Js--){const Wr=He.value[Js];if(Bt?sn(Wr.value,e.valueKey)===sn(Oe,e.valueKey):Wr.value===Oe){nt={value:Oe,currentLabel:Wr.currentLabel,get isDisabled(){return Wr.isDisabled}};break}}if(nt)return nt;const Ir=Bt?Oe.label:Oe??"";return{value:Oe,currentLabel:Ir}},st=()=>{o.hoveringIndex=Te.value.findIndex(Oe=>o.selected.some(nt=>Ks(nt)===Ks(Oe)))},Ke=()=>{o.selectionWidth=l.value.getBoundingClientRect().width},ye=()=>{o.collapseItemWidth=v.value.getBoundingClientRect().width},Ce=()=>{var Oe,nt;(nt=(Oe=c.value)==null?void 0:Oe.updatePopper)==null||nt.call(Oe)},it=()=>{var Oe,nt;(nt=(Oe=u.value)==null?void 0:Oe.updatePopper)==null||nt.call(Oe)},Et=()=>{o.inputValue.length>0&&!$.value&&($.value=!0),qe(o.inputValue)},bt=Oe=>{if(o.inputValue=Oe.target.value,e.remote)fr();else return Et()},fr=oa(()=>{Et()},he.value),At=Oe=>{ao(e.modelValue,Oe)||t(Yc,Oe)},Tr=Oe=>tR(Oe,nt=>{const Bt=o.cachedOptions.get(nt);return Bt&&!Bt.disabled&&!Bt.states.groupDisabled}),pr=Oe=>{if(e.multiple&&Oe.code!==cr.delete&&Oe.target.value.length<=0){const nt=ds(e.modelValue).slice(),Bt=Tr(nt);if(Bt<0)return;const Ir=nt[Bt];nt.splice(Bt,1),t(Br,nt),At(nt),t("remove-tag",Ir)}},ce=(Oe,nt)=>{const Bt=o.selected.indexOf(nt);if(Bt>-1&&!H.value){const Ir=ds(e.modelValue).slice();Ir.splice(Bt,1),t(Br,Ir),At(Ir),t("remove-tag",nt.value)}Oe.stopPropagation(),Cr()},fe=Oe=>{Oe.stopPropagation();const nt=e.multiple?[]:N.value;if(e.multiple)for(const Bt of o.selected)Bt.isDisabled&&nt.push(Bt.value);t(Br,nt),At(nt),o.hoveringIndex=-1,$.value=!1,t("clear"),Cr()},J=Oe=>{var nt;if(e.multiple){const Bt=ds((nt=e.modelValue)!=null?nt:[]).slice(),Ir=V(Bt,Oe);Ir>-1?Bt.splice(Ir,1):(e.multipleLimit<=0||Bt.length<e.multipleLimit)&&Bt.push(Oe.value),t(Br,Bt),At(Bt),Oe.created&&qe(""),e.filterable&&!e.reserveKeyword&&(o.inputValue="")}else t(Br,Oe.value),At(Oe.value),$.value=!1;Cr(),!$.value&&xt(()=>{Se(Oe)})},V=(Oe=[],nt)=>Rr(nt)?-1:Lt(nt.value)?Oe.findIndex(Bt=>ao(sn(Bt,e.valueKey),Ks(nt))):Oe.indexOf(nt.value),Se=Oe=>{var nt,Bt,Ir,zr,Js;const Wr=Ue(Oe)?Oe[0]:Oe;let Rn=null;if(Wr!=null&&Wr.value){const Ln=Te.value.filter(Uo=>Uo.value===Wr.value);Ln.length>0&&(Rn=Ln[0].$el)}if(c.value&&Rn){const Ln=(zr=(Ir=(Bt=(nt=c.value)==null?void 0:nt.popperRef)==null?void 0:Bt.contentRef)==null?void 0:Ir.querySelector)==null?void 0:zr.call(Ir,`.${s.be("dropdown","wrap")}`);Ln&&N3(Ln,Rn)}(Js=y.value)==null||Js.handleScroll()},Qe=Oe=>{o.options.set(Oe.value,Oe),o.cachedOptions.set(Oe.value,Oe)},dt=(Oe,nt)=>{o.options.get(Oe)===nt&&o.options.delete(Oe)},mt=W(()=>{var Oe,nt;return(nt=(Oe=c.value)==null?void 0:Oe.popperRef)==null?void 0:nt.contentRef}),hr=()=>{o.isBeforeHide=!1,xt(()=>Se(o.selected))},Cr=()=>{var Oe;(Oe=d.value)==null||Oe.focus()},xr=()=>{var Oe;if($.value){$.value=!1,xt(()=>{var nt;return(nt=d.value)==null?void 0:nt.blur()});return}(Oe=d.value)==null||Oe.blur()},Hr=Oe=>{fe(Oe)},Mt=Oe=>{if($.value=!1,f.value){const nt=new FocusEvent("focus",Oe);xt(()=>P(nt))}},nr=()=>{o.inputValue.length>0?o.inputValue="":$.value=!1},Xr=()=>{H.value||(ym&&(o.inputHovering=!0),o.menuVisibleOnFocus?o.menuVisibleOnFocus=!1:$.value=!$.value)},Vi=()=>{if(!$.value)Xr();else{const Oe=Te.value[o.hoveringIndex];Oe&&!Oe.isDisabled&&J(Oe)}},Ks=Oe=>Lt(Oe.value)?sn(Oe.value,e.valueKey):Oe.value,Bo=W(()=>Te.value.filter(Oe=>Oe.visible).every(Oe=>Oe.isDisabled)),$n=W(()=>e.multiple?e.collapseTags?o.selected.slice(0,e.maxCollapseTags):o.selected:[]),is=W(()=>e.multiple?e.collapseTags?o.selected.slice(e.maxCollapseTags):[]:[]),ks=Oe=>{if(!$.value){$.value=!0;return}if(!(o.options.size===0||Ge.value===0||C.value)&&!Bo.value){Oe==="next"?(o.hoveringIndex++,o.hoveringIndex===o.options.size&&(o.hoveringIndex=0)):Oe==="prev"&&(o.hoveringIndex--,o.hoveringIndex<0&&(o.hoveringIndex=o.options.size-1));const nt=Te.value[o.hoveringIndex];(nt.isDisabled||!nt.visible)&&ks(Oe),xt(()=>Se(q.value))}},Ys=()=>{if(!l.value)return 0;const Oe=window.getComputedStyle(l.value);return Number.parseFloat(Oe.gap||"6px")},jo=W(()=>{const Oe=Ys();return{maxWidth:`${v.value&&e.maxCollapseTags===1?o.selectionWidth-o.collapseItemWidth-Oe:o.selectionWidth}px`}}),Hi=W(()=>({maxWidth:`${o.selectionWidth}px`}));return jn(l,Ke),jn(g,Ce),jn(I,Ce),jn(h,it),jn(v,ye),Kt(()=>{De()}),{inputId:F,contentId:n,nsSelect:s,nsInput:a,states:o,isFocused:f,expanded:$,optionsArray:Te,hoverOption:q,selectSize:X,filteredOptionsCount:Ge,updateTooltip:Ce,updateTagTooltip:it,debouncedOnInputChange:fr,onInput:bt,deletePrevTag:pr,deleteTag:ce,deleteSelected:fe,handleOptionSelect:J,scrollToOption:Se,hasModelValue:U,shouldShowPlaceholder:Re,currentPlaceholder:_e,mouseEnterEventName:ke,needStatusIcon:L,showClose:D,iconComponent:Y,iconReverse:Q,validateState:ae,validateIcon:ne,showNewOption:Me,updateOptions:rt,collapseTagSize:re,setSelected:De,selectDisabled:H,emptyText:We,handleCompositionStart:_,handleCompositionUpdate:S,handleCompositionEnd:x,onOptionCreate:Qe,onOptionDestroy:dt,handleMenuEnter:hr,focus:Cr,blur:xr,handleClearClick:Hr,handleClickOutside:Mt,handleEsc:nr,toggleMenu:Xr,selectOption:Vi,getValueKey:Ks,navigateOptions:ks,dropdownMenuVisible:ge,showTagList:$n,collapseTagList:is,tagStyle:jo,collapseTagStyle:Hi,popperRef:mt,inputRef:d,tooltipRef:c,tagTooltipRef:u,prefixRef:m,suffixRef:b,selectRef:i,wrapperRef:I,selectionRef:l,scrollbarRef:y,menuRef:g,tagMenuRef:h,collapseItemRef:v}};var Vj=xe({name:"ElOptions",setup(e,{slots:t}){const r=ft(Rd);let n=[];return()=>{var s,a;const o=(s=t.default)==null?void 0:s.call(t),i=[];function l(c){Ue(c)&&c.forEach(u=>{var d,m,b,g;const h=(d=(u==null?void 0:u.type)||{})==null?void 0:d.name;h==="ElOptionGroup"?l(!yt(u.children)&&!Ue(u.children)&&et((m=u.children)==null?void 0:m.default)?(b=u.children)==null?void 0:b.default():u.children):h==="ElOption"?i.push((g=u.props)==null?void 0:g.value):Ue(u.children)&&l(u.children)})}return o.length&&l((a=o[0])==null?void 0:a.children),ao(i,n)||(n=i,r&&(r.states.optionValues=i)),o}}});const Hj=vt({name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:Sa,effect:{type:Je(String),default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Je(Object),default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:qn.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:qs,default:Nl},fitInputWidth:Boolean,suffixIcon:{type:qs,default:Qc},tagType:{...Xm.type,default:"info"},tagEffect:{...Xm.effect,default:"light"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,showArrow:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:Je(String),values:Vl,default:"bottom-start"},fallbackPlacements:{type:Je(Array),default:["bottom-start","top-start","right","left"]},tabindex:{type:[String,Number],default:0},appendTo:String,...Sm,..._a(["ariaLabel"])}),JC="ElSelect",zj=xe({name:JC,componentName:JC,components:{ElSelectMenu:Uj,ElOption:wg,ElOptions:Vj,ElTag:fC,ElScrollbar:td,ElTooltip:Eo,ElIcon:Ot},directives:{ClickOutside:Yl},props:Hj,emits:[Br,Yc,"remove-tag","clear","visible-change","focus","blur"],setup(e,{emit:t}){const r=W(()=>{const{modelValue:l,multiple:c}=e,u=c?[]:void 0;return Ue(l)?c?l:u:c?u:l}),n=Zr({...ha(e),modelValue:r}),s=qj(n,t),{calculatorRef:a,inputStyle:o}=$j();Mr(Rd,Zr({props:n,states:s.states,optionsArray:s.optionsArray,handleOptionSelect:s.handleOptionSelect,onOptionCreate:s.onOptionCreate,onOptionDestroy:s.onOptionDestroy,selectRef:s.selectRef,setSelected:s.setSelected}));const i=W(()=>e.multiple?s.states.selected.map(l=>l.currentLabel):s.states.selectedLabel);return{...s,modelValue:r,selectedLabel:i,calculatorRef:a,inputStyle:o}}});function Wj(e,t,r,n,s,a){const o=_r("el-tag"),i=_r("el-tooltip"),l=_r("el-icon"),c=_r("el-option"),u=_r("el-options"),d=_r("el-scrollbar"),m=_r("el-select-menu"),b=Rh("click-outside");return Vt((K(),ue("div",{ref:"selectRef",class:Z([e.nsSelect.b(),e.nsSelect.m(e.selectSize)]),[Ju(e.mouseEnterEventName)]:g=>e.states.inputHovering=!0,onMouseleave:g=>e.states.inputHovering=!1},[le(i,{ref:"tooltipRef",visible:e.dropdownMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-options":e.popperOptions,"fallback-placements":e.fallbackPlacements,effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,"append-to":e.appendTo,"show-arrow":e.showArrow,offset:e.offset,onBeforeShow:e.handleMenuEnter,onHide:g=>e.states.isBeforeHide=!1},{default:ie(()=>{var g;return[G("div",{ref:"wrapperRef",class:Z([e.nsSelect.e("wrapper"),e.nsSelect.is("focused",e.isFocused),e.nsSelect.is("hovering",e.states.inputHovering),e.nsSelect.is("filterable",e.filterable),e.nsSelect.is("disabled",e.selectDisabled)]),onClick:$t(e.toggleMenu,["prevent"])},[e.$slots.prefix?(K(),ue("div",{key:0,ref:"prefixRef",class:Z(e.nsSelect.e("prefix"))},[Ne(e.$slots,"prefix")],2)):Ee("v-if",!0),G("div",{ref:"selectionRef",class:Z([e.nsSelect.e("selection"),e.nsSelect.is("near",e.multiple&&!e.$slots.prefix&&!!e.states.selected.length)])},[e.multiple?Ne(e.$slots,"tag",{key:0},()=>[(K(!0),ue(ht,null,Or(e.showTagList,h=>(K(),ue("div",{key:e.getValueKey(h),class:Z(e.nsSelect.e("selected-item"))},[le(o,{closable:!e.selectDisabled&&!h.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:jt(e.tagStyle),onClose:v=>e.deleteTag(v,h)},{default:ie(()=>[G("span",{class:Z(e.nsSelect.e("tags-text"))},[Ne(e.$slots,"label",{label:h.currentLabel,value:h.value},()=>[ot(ze(h.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),e.collapseTags&&e.states.selected.length>e.maxCollapseTags?(K(),Le(i,{key:0,ref:"tagTooltipRef",disabled:e.dropdownMenuVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:ie(()=>[G("div",{ref:"collapseItemRef",class:Z(e.nsSelect.e("selected-item"))},[le(o,{closable:!1,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:jt(e.collapseTagStyle)},{default:ie(()=>[G("span",{class:Z(e.nsSelect.e("tags-text"))}," + "+ze(e.states.selected.length-e.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:ie(()=>[G("div",{ref:"tagMenuRef",class:Z(e.nsSelect.e("selection"))},[(K(!0),ue(ht,null,Or(e.collapseTagList,h=>(K(),ue("div",{key:e.getValueKey(h),class:Z(e.nsSelect.e("selected-item"))},[le(o,{class:"in-tooltip",closable:!e.selectDisabled&&!h.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",onClose:v=>e.deleteTag(v,h)},{default:ie(()=>[G("span",{class:Z(e.nsSelect.e("tags-text"))},[Ne(e.$slots,"label",{label:h.currentLabel,value:h.value},()=>[ot(ze(h.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):Ee("v-if",!0)]):Ee("v-if",!0),G("div",{class:Z([e.nsSelect.e("selected-item"),e.nsSelect.e("input-wrapper"),e.nsSelect.is("hidden",!e.filterable)])},[Vt(G("input",{id:e.inputId,ref:"inputRef","onUpdate:modelValue":h=>e.states.inputValue=h,type:"text",name:e.name,class:Z([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:jt(e.inputStyle),tabindex:e.tabindex,role:"combobox",readonly:!e.filterable,spellcheck:"false","aria-activedescendant":((g=e.hoverOption)==null?void 0:g.id)||"","aria-controls":e.contentId,"aria-expanded":e.dropdownMenuVisible,"aria-label":e.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onKeydown:[qr($t(h=>e.navigateOptions("next"),["stop","prevent"]),["down"]),qr($t(h=>e.navigateOptions("prev"),["stop","prevent"]),["up"]),qr($t(e.handleEsc,["stop","prevent"]),["esc"]),qr($t(e.selectOption,["stop","prevent"]),["enter"]),qr($t(e.deletePrevTag,["stop"]),["delete"])],onCompositionstart:e.handleCompositionStart,onCompositionupdate:e.handleCompositionUpdate,onCompositionend:e.handleCompositionEnd,onInput:e.onInput,onClick:$t(e.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","name","disabled","autocomplete","tabindex","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend","onInput","onClick"]),[[gD,e.states.inputValue]]),e.filterable?(K(),ue("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:Z(e.nsSelect.e("input-calculator")),textContent:ze(e.states.inputValue)},null,10,["textContent"])):Ee("v-if",!0)],2),e.shouldShowPlaceholder?(K(),ue("div",{key:1,class:Z([e.nsSelect.e("selected-item"),e.nsSelect.e("placeholder"),e.nsSelect.is("transparent",!e.hasModelValue||e.expanded&&!e.states.inputValue)])},[e.hasModelValue?Ne(e.$slots,"label",{key:0,label:e.currentPlaceholder,value:e.modelValue},()=>[G("span",null,ze(e.currentPlaceholder),1)]):(K(),ue("span",{key:1},ze(e.currentPlaceholder),1))],2)):Ee("v-if",!0)],2),G("div",{ref:"suffixRef",class:Z(e.nsSelect.e("suffix"))},[e.iconComponent&&!e.showClose?(K(),Le(l,{key:0,class:Z([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:ie(()=>[(K(),Le(vr(e.iconComponent)))]),_:1},8,["class"])):Ee("v-if",!0),e.showClose&&e.clearIcon?(K(),Le(l,{key:1,class:Z([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.nsSelect.e("clear")]),onClick:e.handleClearClick},{default:ie(()=>[(K(),Le(vr(e.clearIcon)))]),_:1},8,["class","onClick"])):Ee("v-if",!0),e.validateState&&e.validateIcon&&e.needStatusIcon?(K(),Le(l,{key:2,class:Z([e.nsInput.e("icon"),e.nsInput.e("validateIcon"),e.nsInput.is("loading",e.validateState==="validating")])},{default:ie(()=>[(K(),Le(vr(e.validateIcon)))]),_:1},8,["class"])):Ee("v-if",!0)],2)],10,["onClick"])]}),content:ie(()=>[le(m,{ref:"menuRef"},{default:ie(()=>[e.$slots.header?(K(),ue("div",{key:0,class:Z(e.nsSelect.be("dropdown","header")),onClick:$t(()=>{},["stop"])},[Ne(e.$slots,"header")],10,["onClick"])):Ee("v-if",!0),Vt(le(d,{id:e.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:Z([e.nsSelect.is("empty",e.filteredOptionsCount===0)]),role:"listbox","aria-label":e.ariaLabel,"aria-orientation":"vertical"},{default:ie(()=>[e.showNewOption?(K(),Le(c,{key:0,value:e.states.inputValue,created:!0},null,8,["value"])):Ee("v-if",!0),le(u,null,{default:ie(()=>[Ne(e.$slots,"default")]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label"]),[[Pr,e.states.options.size>0&&!e.loading]]),e.$slots.loading&&e.loading?(K(),ue("div",{key:1,class:Z(e.nsSelect.be("dropdown","loading"))},[Ne(e.$slots,"loading")],2)):e.loading||e.filteredOptionsCount===0?(K(),ue("div",{key:2,class:Z(e.nsSelect.be("dropdown","empty"))},[Ne(e.$slots,"empty",{},()=>[G("span",null,ze(e.emptyText),1)])],2)):Ee("v-if",!0),e.$slots.footer?(K(),ue("div",{key:3,class:Z(e.nsSelect.be("dropdown","footer")),onClick:$t(()=>{},["stop"])},[Ne(e.$slots,"footer")],10,["onClick"])):Ee("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-options","fallback-placements","effect","transition","persistent","append-to","show-arrow","offset","onBeforeShow","onHide"])],16,["onMouseleave"])),[[b,e.handleClickOutside,e.popperRef]])}var Gj=wt(zj,[["render",Wj],["__file","select.vue"]]);const Kj=xe({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(e){const t=ct("select"),r=ee(null),n=Ht(),s=ee([]);Mr(YC,Zr({...ha(e)}));const a=W(()=>s.value.some(c=>c.visible===!0)),o=c=>{var u,d;return((u=c.type)==null?void 0:u.name)==="ElOption"&&!!((d=c.component)!=null&&d.proxy)},i=c=>{const u=ds(c),d=[];return u.forEach(m=>{var b,g;o(m)?d.push(m.component.proxy):(b=m.children)!=null&&b.length?d.push(...i(m.children)):(g=m.component)!=null&&g.subTree&&d.push(...i(m.component.subTree))}),d},l=()=>{s.value=i(n.subTree)};return Kt(()=>{l()}),w3(r,l,{attributes:!0,subtree:!0,childList:!0}),{groupRef:r,visible:a,ns:t}}});function Yj(e,t,r,n,s,a){return Vt((K(),ue("ul",{ref:"groupRef",class:Z(e.ns.be("group","wrap"))},[G("li",{class:Z(e.ns.be("group","title"))},ze(e.label),3),G("li",null,[G("ul",{class:Z(e.ns.b("group"))},[Ne(e.$slots,"default")],2)])],2)),[[Pr,e.visible]])}var XC=wt(Kj,[["render",Yj],["__file","option-group.vue"]]);const QC=Ar(Gj,{Option:wg,OptionGroup:XC}),ZC=Io(wg);Io(XC);const Jj=vt({trigger:Kl.trigger,placement:pg.placement,disabled:Kl.disabled,visible:qn.visible,transition:qn.transition,popperOptions:pg.popperOptions,tabindex:pg.tabindex,content:qn.content,popperStyle:qn.popperStyle,popperClass:qn.popperClass,enterable:{...qn.enterable,default:!0},effect:{...qn.effect,default:"light"},teleported:qn.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),Xj={"update:visible":e=>Yr(e),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},Qj="onUpdate:visible",Zj=xe({...xe({name:"ElPopover"}),props:Jj,emits:Xj,setup(e,{expose:t,emit:r}){const n=e,s=W(()=>n[Qj]),a=ct("popover"),o=ee(),i=W(()=>{var v;return(v=w(o))==null?void 0:v.popperRef}),l=W(()=>[{width:Un(n.width)},n.popperStyle]),c=W(()=>[a.b(),n.popperClass,{[a.m("plain")]:!!n.content}]),u=W(()=>n.transition===`${a.namespace.value}-fade-in-linear`),d=()=>{var v;(v=o.value)==null||v.hide()},m=()=>{r("before-enter")},b=()=>{r("before-leave")},g=()=>{r("after-enter")},h=()=>{r("update:visible",!1),r("after-leave")};return t({popperRef:i,hide:d}),(v,y)=>(K(),Le(w(Eo),ln({ref_key:"tooltipRef",ref:o},v.$attrs,{trigger:v.trigger,placement:v.placement,disabled:v.disabled,visible:v.visible,transition:v.transition,"popper-options":v.popperOptions,tabindex:v.tabindex,content:v.content,offset:v.offset,"show-after":v.showAfter,"hide-after":v.hideAfter,"auto-close":v.autoClose,"show-arrow":v.showArrow,"aria-label":v.title,effect:v.effect,enterable:v.enterable,"popper-class":w(c),"popper-style":w(l),teleported:v.teleported,persistent:v.persistent,"gpu-acceleration":w(u),"onUpdate:visible":w(s),onBeforeShow:m,onBeforeHide:b,onShow:g,onHide:h}),{content:ie(()=>[v.title?(K(),ue("div",{key:0,class:Z(w(a).e("title")),role:"title"},ze(v.title),3)):Ee("v-if",!0),Ne(v.$slots,"default",{},()=>[ot(ze(v.content),1)])]),default:ie(()=>[v.$slots.reference?Ne(v.$slots,"reference",{key:0}):Ee("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var e7=wt(Zj,[["__file","popover.vue"]]);const ex=(e,t)=>{const r=t.arg||t.value,n=r==null?void 0:r.popperRef;n&&(n.triggerRef=e)};var t7={mounted(e,t){ex(e,t)},updated(e,t){ex(e,t)}};const r7=B3(t7,"popover"),tx=Ar(e7,{directive:r7}),n7=vt({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:e=>e>=0&&e<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:Boolean,duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:Je(String),default:"round"},textInside:Boolean,width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:Je([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:Je(Function),default:e=>`${e}%`}}),s7=xe({...xe({name:"ElProgress"}),props:n7,setup(e){const t=e,r={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},n=ct("progress"),s=W(()=>{const _={width:`${t.percentage}%`,animationDuration:`${t.duration}s`},S=C(t.percentage);return S.includes("gradient")?_.background=S:_.backgroundColor=S,_}),a=W(()=>(t.strokeWidth/t.width*100).toFixed(1)),o=W(()=>["circle","dashboard"].includes(t.type)?Number.parseInt(`${50-Number.parseFloat(a.value)/2}`,10):0),i=W(()=>{const _=o.value,S=t.type==="dashboard";return`
          M 50 50
          m 0 ${S?"":"-"}${_}
          a ${_} ${_} 0 1 1 0 ${S?"-":""}${_*2}
          a ${_} ${_} 0 1 1 0 ${S?"":"-"}${_*2}
          `}),l=W(()=>2*Math.PI*o.value),c=W(()=>t.type==="dashboard"?.75:1),u=W(()=>`${-1*l.value*(1-c.value)/2}px`),d=W(()=>({strokeDasharray:`${l.value*c.value}px, ${l.value}px`,strokeDashoffset:u.value})),m=W(()=>({strokeDasharray:`${l.value*c.value*(t.percentage/100)}px, ${l.value}px`,strokeDashoffset:u.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),b=W(()=>{let _;return t.color?_=C(t.percentage):_=r[t.status]||r.default,_}),g=W(()=>t.status==="warning"?Im:t.type==="line"?t.status==="success"?z_:Nl:t.status==="success"?J3:yi),h=W(()=>t.type==="line"?12+t.strokeWidth*.4:t.width*.111111+2),v=W(()=>t.format(t.percentage));function y(_){const S=100/_.length;return _.map((I,f)=>yt(I)?{color:I,percentage:(f+1)*S}:I).sort((I,f)=>I.percentage-f.percentage)}const C=_=>{var S;const{color:x}=t;if(et(x))return x(_);if(yt(x))return x;{const I=y(x);for(const f of I)if(f.percentage>_)return f.color;return(S=I[I.length-1])==null?void 0:S.color}};return(_,S)=>(K(),ue("div",{class:Z([w(n).b(),w(n).m(_.type),w(n).is(_.status),{[w(n).m("without-text")]:!_.showText,[w(n).m("text-inside")]:_.textInside}]),role:"progressbar","aria-valuenow":_.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[_.type==="line"?(K(),ue("div",{key:0,class:Z(w(n).b("bar"))},[G("div",{class:Z(w(n).be("bar","outer")),style:jt({height:`${_.strokeWidth}px`})},[G("div",{class:Z([w(n).be("bar","inner"),{[w(n).bem("bar","inner","indeterminate")]:_.indeterminate},{[w(n).bem("bar","inner","striped")]:_.striped},{[w(n).bem("bar","inner","striped-flow")]:_.stripedFlow}]),style:jt(w(s))},[(_.showText||_.$slots.default)&&_.textInside?(K(),ue("div",{key:0,class:Z(w(n).be("bar","innerText"))},[Ne(_.$slots,"default",{percentage:_.percentage},()=>[G("span",null,ze(w(v)),1)])],2)):Ee("v-if",!0)],6)],6)],2)):(K(),ue("div",{key:1,class:Z(w(n).b("circle")),style:jt({height:`${_.width}px`,width:`${_.width}px`})},[(K(),ue("svg",{viewBox:"0 0 100 100"},[G("path",{class:Z(w(n).be("circle","track")),d:w(i),stroke:`var(${w(n).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":_.strokeLinecap,"stroke-width":w(a),fill:"none",style:jt(w(d))},null,14,["d","stroke","stroke-linecap","stroke-width"]),G("path",{class:Z(w(n).be("circle","path")),d:w(i),stroke:w(b),fill:"none",opacity:_.percentage?1:0,"stroke-linecap":_.strokeLinecap,"stroke-width":w(a),style:jt(w(m))},null,14,["d","stroke","opacity","stroke-linecap","stroke-width"])]))],6)),(_.showText||_.$slots.default)&&!_.textInside?(K(),ue("div",{key:2,class:Z(w(n).e("text")),style:jt({fontSize:`${w(h)}px`})},[Ne(_.$slots,"default",{percentage:_.percentage},()=>[_.status?(K(),Le(w(Ot),{key:1},{default:ie(()=>[(K(),Le(vr(w(g))))]),_:1})):(K(),ue("span",{key:0},ze(w(v)),1))])],6)):Ee("v-if",!0)],10,["aria-valuenow"]))}});var a7=wt(s7,[["__file","progress.vue"]]);const o7=Ar(a7),i7=e=>["",...Dl].includes(e),Sg=function(e){var t;return(t=e.target)==null?void 0:t.closest("td")},l7=function(e,t,r,n,s){if(!t&&!n&&(!s||Ue(s)&&!s.length))return e;yt(r)?r=r==="descending"?-1:1:r=r&&r<0?-1:1;const a=n?null:function(i,l){return s?(Ue(s)||(s=[s]),s.map(c=>yt(c)?sn(i,c):c(i,l,e))):(t!=="$key"&&Lt(i)&&"$value"in i&&(i=i.$value),[Lt(i)?sn(i,t):i])},o=function(i,l){if(n)return n(i.value,l.value);for(let c=0,u=i.key.length;c<u;c++){if(i.key[c]<l.key[c])return-1;if(i.key[c]>l.key[c])return 1}return 0};return e.map((i,l)=>({value:i,index:l,key:a?a(i,l):null})).sort((i,l)=>{let c=o(i,l);return c||(c=i.index-l.index),c*+r}).map(i=>i.value)},rx=function(e,t){let r=null;return e.columns.forEach(n=>{n.id===t&&(r=n)}),r},u7=function(e,t){let r=null;for(let n=0;n<e.columns.length;n++){const s=e.columns[n];if(s.columnKey===t){r=s;break}}return r||Ml("ElTable",`No column matching with column-key: ${t}`),r},nx=function(e,t,r){const n=(t.className||"").match(new RegExp(`${r}-table_[^\\s]+`,"gm"));return n?rx(e,n[0]):null},cn=(e,t)=>{if(!e)throw new Error("Row is required when get row identity");if(yt(t)){if(!t.includes("."))return`${e[t]}`;const r=t.split(".");let n=e;for(const s of r)n=n[s];return`${n}`}else if(et(t))return t.call(null,e)},tu=function(e,t){const r={};return(e||[]).forEach((n,s)=>{r[cn(n,t)]={row:n,index:s}}),r};function c7(e,t){const r={};let n;for(n in e)r[n]=e[n];for(n in t)if(Wt(t,n)){const s=t[n];Rr(s)||(r[n]=s)}return r}function _g(e){return e===""||Rr(e)||(e=Number.parseInt(e,10),Number.isNaN(e)&&(e="")),e}function sx(e){return e===""||Rr(e)||(e=_g(e),Number.isNaN(e)&&(e=80)),e}function d7(e){return Zt(e)?e:yt(e)?/^\d+(?:px)?$/.test(e)?Number.parseInt(e,10):e:null}function f7(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function Ld(e,t,r,n,s,a){let o=a??0,i=!1;const l=e.indexOf(t),c=l!==-1,u=s==null?void 0:s.call(null,t,a),d=b=>{b==="add"?e.push(t):e.splice(l,1),i=!0},m=b=>{let g=0;const h=(n==null?void 0:n.children)&&b[n.children];return h&&Ue(h)&&(g+=h.length,h.forEach(v=>{g+=m(v)})),g};return(!s||u)&&(Yr(r)?r&&!c?d("add"):!r&&c&&d("remove"):d(c?"remove":"add")),!(n!=null&&n.checkStrictly)&&(n!=null&&n.children)&&Ue(t[n.children])&&t[n.children].forEach(b=>{Ld(e,b,r??!c,n,s,o+1),o+=m(b)+1}),i}function p7(e,t,r="children",n="hasChildren"){const s=o=>!(Ue(o)&&o.length);function a(o,i,l){t(o,i,l),i.forEach(c=>{if(c[n]){t(c,null,l+1);return}const u=c[r];s(u)||a(c,u,l+1)})}e.forEach(o=>{if(o[n]){t(o,null,0);return}const i=o[r];s(i)||a(o,i,0)})}const ax=(e,t)=>({content:t,...e,popperOptions:{strategy:"fixed",...e.popperOptions}});let An=null;function h7(e,t,r,n){if((An==null?void 0:An.trigger)===r){Wb(An.vm.component.props,ax(e,t));return}An==null||An();const s=n==null?void 0:n.refs.tableWrapper,a=s==null?void 0:s.dataset.prefix,o=le(Eo,{virtualTriggering:!0,virtualRef:r,appendTo:s,placement:"top",transition:"none",offset:0,hideAfter:0,...ax(e,t)});o.appContext={...n.appContext,...n};const i=document.createElement("div");hi(o,i),o.component.exposed.onOpen();const l=s==null?void 0:s.querySelector(`.${a}-scrollbar__wrap`);An=()=>{hi(null,i),l==null||l.removeEventListener("scroll",An),An=null},An.trigger=r,An.vm=o,l==null||l.addEventListener("scroll",An)}function ox(e){return e.children?sR(e.children,ox):[e]}function ix(e,t){return e+t.colSpan}const lx=(e,t,r,n)=>{let s=0,a=e;const o=r.states.columns.value;if(n){const l=ox(n[e]);s=o.slice(0,o.indexOf(l[0])).reduce(ix,0),a=s+l.reduce(ix,0)-1}else s=e;let i;switch(t){case"left":a<r.states.fixedLeafColumnsLength.value&&(i="left");break;case"right":s>=o.length-r.states.rightFixedLeafColumnsLength.value&&(i="right");break;default:a<r.states.fixedLeafColumnsLength.value?i="left":s>=o.length-r.states.rightFixedLeafColumnsLength.value&&(i="right")}return i?{direction:i,start:s,after:a}:{}},Tg=(e,t,r,n,s,a=0)=>{const o=[],{direction:i,start:l,after:c}=lx(t,r,n,s);if(i){const u=i==="left";o.push(`${e}-fixed-column--${i}`),u&&c+a===n.states.fixedLeafColumnsLength.value-1?o.push("is-last-column"):!u&&l-a===n.states.columns.value.length-n.states.rightFixedLeafColumnsLength.value&&o.push("is-first-column")}return o};function ux(e,t){return e+(ll(t.realWidth)||Number.isNaN(t.realWidth)?Number(t.width):t.realWidth)}const Cg=(e,t,r,n)=>{const{direction:s,start:a=0,after:o=0}=lx(e,t,r,n);if(!s)return;const i={},l=s==="left",c=r.states.columns.value;return l?i.left=c.slice(0,a).reduce(ux,0):i.right=c.slice(o+1).reverse().reduce(ux,0),i},Li=(e,t)=>{e&&(Number.isNaN(e[t])||(e[t]=`${e[t]}px`))};function m7(e){const t=Ht(),r=ee(!1),n=ee([]);return{updateExpandRows:()=>{const l=e.data.value||[],c=e.rowKey.value;if(r.value)n.value=l.slice();else if(c){const u=tu(n.value,c);n.value=l.reduce((d,m)=>{const b=cn(m,c);return u[b]&&d.push(m),d},[])}else n.value=[]},toggleRowExpansion:(l,c)=>{Ld(n.value,l,c)&&t.emit("expand-change",l,n.value.slice())},setExpandRowKeys:l=>{t.store.assertRowKey();const c=e.data.value||[],u=e.rowKey.value,d=tu(c,u);n.value=l.reduce((m,b)=>{const g=d[b];return g&&m.push(g.row),m},[])},isRowExpanded:l=>{const c=e.rowKey.value;return c?!!tu(n.value,c)[cn(l,c)]:n.value.includes(l)},states:{expandRows:n,defaultExpandAll:r}}}function g7(e){const t=Ht(),r=ee(null),n=ee(null),s=c=>{t.store.assertRowKey(),r.value=c,o(c)},a=()=>{r.value=null},o=c=>{const{data:u,rowKey:d}=e;let m=null;d.value&&(m=(w(u)||[]).find(b=>cn(b,d.value)===c)),n.value=m,t.emit("current-change",n.value,null)};return{setCurrentRowKey:s,restoreCurrentRowKey:a,setCurrentRowByKey:o,updateCurrentRow:c=>{const u=n.value;if(c&&c!==u){n.value=c,t.emit("current-change",n.value,u);return}!c&&u&&(n.value=null,t.emit("current-change",null,u))},updateCurrentRowData:()=>{const c=e.rowKey.value,u=e.data.value||[],d=n.value;if(!u.includes(d)&&d){if(c){const m=cn(d,c);o(m)}else n.value=null;ll(n.value)&&t.emit("current-change",null,d)}else r.value&&(o(r.value),a())},states:{_currentRowKey:r,currentRow:n}}}function v7(e){const t=ee([]),r=ee({}),n=ee(16),s=ee(!1),a=ee({}),o=ee("hasChildren"),i=ee("children"),l=ee(!1),c=Ht(),u=W(()=>{if(!e.rowKey.value)return{};const _=e.data.value||[];return m(_)}),d=W(()=>{const _=e.rowKey.value,S=Object.keys(a.value),x={};return S.length&&S.forEach(I=>{if(a.value[I].length){const f={children:[]};a.value[I].forEach(P=>{const $=cn(P,_);f.children.push($),P[o.value]&&!x[$]&&(x[$]={children:[]})}),x[I]=f}}),x}),m=_=>{const S=e.rowKey.value,x={};return p7(_,(I,f,P)=>{const $=cn(I,S);Ue(f)?x[$]={children:f.map(q=>cn(q,S)),level:P}:s.value&&(x[$]={children:[],lazy:!0,level:P})},i.value,o.value),x},b=(_=!1,S=(x=>(x=c.store)==null?void 0:x.states.defaultExpandAll.value)())=>{var x;const I=u.value,f=d.value,P=Object.keys(I),$={};if(P.length){const q=w(r),E=[],M=(N,R)=>{if(_)return t.value?S||t.value.includes(R):!!(S||N!=null&&N.expanded);{const H=S||t.value&&t.value.includes(R);return!!(N!=null&&N.expanded||H)}};P.forEach(N=>{const R=q[N],H={...I[N]};if(H.expanded=M(R,N),H.lazy){const{loaded:U=!1,loading:L=!1}=R||{};H.loaded=!!U,H.loading=!!L,E.push(N)}$[N]=H});const F=Object.keys(f);s.value&&F.length&&E.length&&F.forEach(N=>{const R=q[N],H=f[N].children;if(E.includes(N)){if($[N].children.length!==0)throw new Error("[ElTable]children must be an empty array.");$[N].children=H}else{const{loaded:U=!1,loading:L=!1}=R||{};$[N]={lazy:!0,loaded:!!U,loading:!!L,expanded:M(R,N),children:H,level:""}}})}r.value=$,(x=c.store)==null||x.updateTableScrollY()};tt(()=>t.value,()=>{b(!0)}),tt(()=>u.value,()=>{b()}),tt(()=>d.value,()=>{b()});const g=_=>{t.value=_,b()},h=(_,S)=>{c.store.assertRowKey();const x=e.rowKey.value,I=cn(_,x),f=I&&r.value[I];if(I&&f&&"expanded"in f){const P=f.expanded;S=Rr(S)?!f.expanded:S,r.value[I].expanded=S,P!==S&&c.emit("expand-change",_,S),c.store.updateTableScrollY()}},v=_=>{c.store.assertRowKey();const S=e.rowKey.value,x=cn(_,S),I=r.value[x];s.value&&I&&"loaded"in I&&!I.loaded?y(_,x,I):h(_,void 0)},y=(_,S,x)=>{const{load:I}=c.props;I&&!r.value[S].loaded&&(r.value[S].loading=!0,I(_,x,f=>{if(!Ue(f))throw new TypeError("[ElTable] data must be an array");r.value[S].loading=!1,r.value[S].loaded=!0,r.value[S].expanded=!0,f.length&&(a.value[S]=f),c.emit("expand-change",_,!0)}))};return{loadData:y,loadOrToggle:v,toggleTreeExpansion:h,updateTreeExpandKeys:g,updateTreeData:b,updateKeyChildren:(_,S)=>{const{lazy:x,rowKey:I}=c.props;if(x){if(!I)throw new Error("[Table] rowKey is required in updateKeyChild");a.value[_]&&(a.value[_]=S)}},normalize:m,states:{expandRowKeys:t,treeData:r,indent:n,lazy:s,lazyTreeNodeMap:a,lazyColumnIdentifier:o,childrenColumnName:i,checkStrictly:l}}}const y7=(e,t)=>{const r=t.sortingColumn;return!r||yt(r.sortable)?e:l7(e,t.sortProp,t.sortOrder,r.sortMethod,r.sortBy)},Md=e=>{const t=[];return e.forEach(r=>{r.children&&r.children.length>0?t.push.apply(t,Md(r.children)):t.push(r)}),t};function b7(){var e;const t=Ht(),{size:r}=ha((e=t.proxy)==null?void 0:e.$props),n=ee(null),s=ee([]),a=ee([]),o=ee(!1),i=ee([]),l=ee([]),c=ee([]),u=ee([]),d=ee([]),m=ee([]),b=ee([]),g=ee([]),h=[],v=ee(0),y=ee(0),C=ee(0),_=ee(!1),S=ee([]),x=ee(!1),I=ee(!1),f=ee(null),P=ee({}),$=ee(null),q=ee(null),E=ee(null),M=ee(null),F=ee(null),N=W(()=>n.value?tu(S.value,n.value):void 0);tt(s,()=>{var ce;t.state&&(D(!1),t.props.tableLayout==="auto"&&((ce=t.refs.tableHeaderRef)==null||ce.updateFixedColumnStyle()))},{deep:!0});const R=()=>{if(!n.value)throw new Error("[ElTable] prop row-key is required")},H=ce=>{var fe;(fe=ce.children)==null||fe.forEach(J=>{J.fixed=ce.fixed,H(J)})};let U;const L=()=>{i.value.forEach(Se=>{H(Se)}),u.value=i.value.filter(Se=>Se.fixed===!0||Se.fixed==="left"),d.value=i.value.filter(Se=>Se.fixed==="right"),Rr(U)&&i.value[0]&&i.value[0].type==="selection"&&(U=!!i.value[0].fixed),u.value.length>0&&i.value[0]&&i.value[0].type==="selection"&&(i.value[0].fixed?u.value.some(Qe=>Qe.type!=="selection")?U=void 0:(i.value[0].fixed=U,U||u.value.shift()):(i.value[0].fixed=!0,u.value.unshift(i.value[0])));const ce=i.value.filter(Se=>!Se.fixed);l.value=[].concat(u.value).concat(ce).concat(d.value);const fe=Md(ce),J=Md(u.value),V=Md(d.value);v.value=fe.length,y.value=J.length,C.value=V.length,c.value=[].concat(J).concat(fe).concat(V),o.value=u.value.length>0||d.value.length>0},D=(ce,fe=!1)=>{ce&&L(),fe?t.state.doLayout():t.state.debouncedUpdateLayout()},Y=ce=>N.value?!!N.value[cn(ce,n.value)]:S.value.includes(ce),Q=()=>{_.value=!1;const ce=S.value;S.value=[],ce.length&&t.emit("selection-change",[])},ae=()=>{let ce;if(n.value){ce=[];const fe=tu(s.value,n.value);for(const J in N.value)Wt(N.value,J)&&!fe[J]&&ce.push(N.value[J].row)}else ce=S.value.filter(fe=>!s.value.includes(fe));if(ce.length){const fe=S.value.filter(J=>!ce.includes(J));S.value=fe,t.emit("selection-change",fe.slice())}},ne=()=>(S.value||[]).slice(),he=(ce,fe,J=!0,V=!1)=>{var Se,Qe,dt,mt;const hr={children:(Qe=(Se=t==null?void 0:t.store)==null?void 0:Se.states)==null?void 0:Qe.childrenColumnName.value,checkStrictly:(mt=(dt=t==null?void 0:t.store)==null?void 0:dt.states)==null?void 0:mt.checkStrictly.value};if(Ld(S.value,ce,fe,hr,V?void 0:f.value)){const xr=(S.value||[]).slice();J&&t.emit("select",xr,ce),t.emit("selection-change",xr)}},ve=()=>{var ce,fe;const J=I.value?!_.value:!(_.value||S.value.length);_.value=J;let V=!1,Se=0;const Qe=(fe=(ce=t==null?void 0:t.store)==null?void 0:ce.states)==null?void 0:fe.rowKey.value,{childrenColumnName:dt}=t.store.states,mt={children:dt.value,checkStrictly:!1};s.value.forEach((hr,Cr)=>{const xr=Cr+Se;Ld(S.value,hr,J,mt,f.value,xr)&&(V=!0),Se+=Te(cn(hr,Qe))}),V&&t.emit("selection-change",S.value?S.value.slice():[]),t.emit("select-all",(S.value||[]).slice())},We=()=>{s.value.forEach(ce=>{const fe=cn(ce,n.value),J=N.value[fe];J&&(S.value[J.index]=ce)})},Ge=()=>{var ce;if(((ce=s.value)==null?void 0:ce.length)===0){_.value=!1;return}const{childrenColumnName:fe}=t.store.states;let J=0,V=0;const Se=dt=>{var mt;for(const hr of dt){const Cr=f.value&&f.value.call(null,hr,J);if(Y(hr))V++;else if(!f.value||Cr)return!1;if(J++,(mt=hr[fe.value])!=null&&mt.length&&!Se(hr[fe.value]))return!1}return!0},Qe=Se(s.value||[]);_.value=V===0?!1:Qe},Te=ce=>{var fe;if(!t||!t.store)return 0;const{treeData:J}=t.store.states;let V=0;const Se=(fe=J.value[ce])==null?void 0:fe.children;return Se&&(V+=Se.length,Se.forEach(Qe=>{V+=Te(Qe)})),V},He=(ce,fe)=>{Ue(ce)||(ce=[ce]);const J={};return ce.forEach(V=>{P.value[V.id]=fe,J[V.columnKey||V.id]=fe}),J},Me=(ce,fe,J)=>{q.value&&q.value!==ce&&(q.value.order=null),q.value=ce,E.value=fe,M.value=J},rt=()=>{let ce=w(a);Object.keys(P.value).forEach(fe=>{const J=P.value[fe];if(!J||J.length===0)return;const V=rx({columns:c.value},fe);V&&V.filterMethod&&(ce=ce.filter(Se=>J.some(Qe=>V.filterMethod.call(null,Qe,Se,V))))}),$.value=ce},X=()=>{s.value=y7($.value,{sortingColumn:q.value,sortProp:E.value,sortOrder:M.value})},re=(ce=void 0)=>{ce&&ce.filter||rt(),X()},ge=ce=>{const{tableHeaderRef:fe}=t.refs;if(!fe)return;const J=Object.assign({},fe.filterPanels),V=Object.keys(J);if(V.length)if(yt(ce)&&(ce=[ce]),Ue(ce)){const Se=ce.map(Qe=>u7({columns:c.value},Qe));V.forEach(Qe=>{const dt=Se.find(mt=>mt.id===Qe);dt&&(dt.filteredValue=[])}),t.store.commit("filterChange",{column:Se,values:[],silent:!0,multi:!0})}else V.forEach(Se=>{const Qe=c.value.find(dt=>dt.id===Se);Qe&&(Qe.filteredValue=[])}),P.value={},t.store.commit("filterChange",{column:{},values:[],silent:!0})},Re=()=>{q.value&&(Me(null,null,null),t.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:_e,toggleRowExpansion:ke,updateExpandRows:qe,states:Pe,isRowExpanded:De}=m7({data:s,rowKey:n}),{updateTreeExpandKeys:$e,toggleTreeExpansion:st,updateTreeData:Ke,updateKeyChildren:ye,loadOrToggle:Ce,states:it}=v7({data:s,rowKey:n}),{updateCurrentRowData:Et,updateCurrentRow:bt,setCurrentRowKey:fr,states:At}=g7({data:s,rowKey:n});return{assertRowKey:R,updateColumns:L,scheduleLayout:D,isSelected:Y,clearSelection:Q,cleanSelection:ae,getSelectionRows:ne,toggleRowSelection:he,_toggleAllSelection:ve,toggleAllSelection:null,updateSelectionByRowKey:We,updateAllSelected:Ge,updateFilters:He,updateCurrentRow:bt,updateSort:Me,execFilter:rt,execSort:X,execQuery:re,clearFilter:ge,clearSort:Re,toggleRowExpansion:ke,setExpandRowKeysAdapter:ce=>{_e(ce),$e(ce)},setCurrentRowKey:fr,toggleRowExpansionAdapter:(ce,fe)=>{c.value.some(({type:V})=>V==="expand")?ke(ce,fe):st(ce,fe)},isRowExpanded:De,updateExpandRows:qe,updateCurrentRowData:Et,loadOrToggle:Ce,updateTreeData:Ke,updateKeyChildren:ye,states:{tableSize:r,rowKey:n,data:s,_data:a,isComplex:o,_columns:i,originColumns:l,columns:c,fixedColumns:u,rightFixedColumns:d,leafColumns:m,fixedLeafColumns:b,rightFixedLeafColumns:g,updateOrderFns:h,leafColumnsLength:v,fixedLeafColumnsLength:y,rightFixedLeafColumnsLength:C,isAllSelected:_,selection:S,reserveSelection:x,selectOnIndeterminate:I,selectable:f,filters:P,filteredData:$,sortingColumn:q,sortProp:E,sortOrder:M,hoverRow:F,...Pe,...it,...At}}}function xg(e,t){return e.map(r=>{var n;return r.id===t.id?t:((n=r.children)!=null&&n.length&&(r.children=xg(r.children,t)),r)})}function Ig(e){e.forEach(t=>{var r,n;t.no=(r=t.getColumnIndex)==null?void 0:r.call(t),(n=t.children)!=null&&n.length&&Ig(t.children)}),e.sort((t,r)=>t.no-r.no)}function w7(){const e=Ht(),t=b7();return{ns:ct("table"),...t,mutations:{setData(o,i){const l=w(o._data)!==i;o.data.value=i,o._data.value=i,e.store.execQuery(),e.store.updateCurrentRowData(),e.store.updateExpandRows(),e.store.updateTreeData(e.store.states.defaultExpandAll.value),w(o.reserveSelection)?(e.store.assertRowKey(),e.store.updateSelectionByRowKey()):l?e.store.clearSelection():e.store.cleanSelection(),e.store.updateAllSelected(),e.$ready&&e.store.scheduleLayout()},insertColumn(o,i,l,c){const u=w(o._columns);let d=[];l?(l&&!l.children&&(l.children=[]),l.children.push(i),d=xg(u,l)):(u.push(i),d=u),Ig(d),o._columns.value=d,o.updateOrderFns.push(c),i.type==="selection"&&(o.selectable.value=i.selectable,o.reserveSelection.value=i.reserveSelection),e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},updateColumnOrder(o,i){var l;((l=i.getColumnIndex)==null?void 0:l.call(i))!==i.no&&(Ig(o._columns.value),e.$ready&&e.store.updateColumns())},removeColumn(o,i,l,c){const u=w(o._columns)||[];if(l)l.children.splice(l.children.findIndex(m=>m.id===i.id),1),xt(()=>{var m;((m=l.children)==null?void 0:m.length)===0&&delete l.children}),o._columns.value=xg(u,l);else{const m=u.indexOf(i);m>-1&&(u.splice(m,1),o._columns.value=u)}const d=o.updateOrderFns.indexOf(c);d>-1&&o.updateOrderFns.splice(d,1),e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},sort(o,i){const{prop:l,order:c,init:u}=i;if(l){const d=w(o.columns).find(m=>m.property===l);d&&(d.order=c,e.store.updateSort(d,l,c),e.store.commit("changeSortCondition",{init:u}))}},changeSortCondition(o,i){const{sortingColumn:l,sortProp:c,sortOrder:u}=o,d=w(l),m=w(c),b=w(u);ll(b)&&(o.sortingColumn.value=null,o.sortProp.value=null);const g={filter:!0};e.store.execQuery(g),(!i||!(i.silent||i.init))&&e.emit("sort-change",{column:d,prop:m,order:b}),e.store.updateTableScrollY()},filterChange(o,i){const{column:l,values:c,silent:u}=i,d=e.store.updateFilters(l,c);e.store.execQuery(),u||e.emit("filter-change",d),e.store.updateTableScrollY()},toggleAllSelection(){e.store.toggleAllSelection()},rowSelectedChanged(o,i){e.store.toggleRowSelection(i),e.store.updateAllSelected()},setHoverRow(o,i){o.hoverRow.value=i},setCurrentRow(o,i){e.store.updateCurrentRow(i)}},commit:function(o,...i){const l=e.store.mutations;if(l[o])l[o].apply(e,[e.store.states].concat(i));else throw new Error(`Action not found: ${o}`)},updateTableScrollY:function(){xt(()=>e.layout.updateScrollY.apply(e.layout))}}}const ru={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data","treeProps.hasChildren":{key:"lazyColumnIdentifier",default:"hasChildren"},"treeProps.children":{key:"childrenColumnName",default:"children"},"treeProps.checkStrictly":{key:"checkStrictly",default:!1}};function S7(e,t){if(!e)throw new Error("Table is required.");const r=w7();return r.toggleAllSelection=oa(r._toggleAllSelection,10),Object.keys(ru).forEach(n=>{cx(dx(t,n),n,r)}),_7(r,t),r}function _7(e,t){Object.keys(ru).forEach(r=>{tt(()=>dx(t,r),n=>{cx(n,r,e)})})}function cx(e,t,r){let n=e,s=ru[t];Lt(ru[t])&&(s=s.key,n=n||ru[t].default),r.states[s].value=n}function dx(e,t){if(t.includes(".")){const r=t.split(".");let n=e;return r.forEach(s=>{n=n[s]}),n}else return e[t]}class T7{constructor(t){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=ee(null),this.scrollX=ee(!1),this.scrollY=ee(!1),this.bodyWidth=ee(null),this.fixedWidth=ee(null),this.rightFixedWidth=ee(null),this.gutterWidth=0;for(const r in t)Wt(t,r)&&(ar(this[r])?this[r].value=t[r]:this[r]=t[r]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){const t=this.height.value;if(ll(t))return!1;const r=this.table.refs.scrollBarRef;if(this.table.vnode.el&&(r!=null&&r.wrapRef)){let n=!0;const s=this.scrollY.value;return n=r.wrapRef.scrollHeight>r.wrapRef.clientHeight,this.scrollY.value=n,s!==n}return!1}setHeight(t,r="height"){if(!ur)return;const n=this.table.vnode.el;if(t=d7(t),this.height.value=Number(t),!n&&(t||t===0))return xt(()=>this.setHeight(t,r));Zt(t)?(n.style[r]=`${t}px`,this.updateElsHeight()):yt(t)&&(n.style[r]=t,this.updateElsHeight())}setMaxHeight(t){this.setHeight(t,"max-height")}getFlattenColumns(){const t=[];return this.table.store.states.columns.value.forEach(n=>{n.isColumnGroup?t.push.apply(t,n.columns):t.push(n)}),t}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(t){if(!t)return!0;let r=t;for(;r.tagName!=="DIV";){if(getComputedStyle(r).display==="none")return!0;r=r.parentElement}return!1}updateColumnsWidth(){if(!ur)return;const t=this.fit,r=this.table.vnode.el.clientWidth;let n=0;const s=this.getFlattenColumns(),a=s.filter(l=>!Zt(l.width));if(s.forEach(l=>{Zt(l.width)&&l.realWidth&&(l.realWidth=null)}),a.length>0&&t){if(s.forEach(l=>{n+=Number(l.width||l.minWidth||80)}),n<=r){this.scrollX.value=!1;const l=r-n;if(a.length===1)a[0].realWidth=Number(a[0].minWidth||80)+l;else{const c=a.reduce((m,b)=>m+Number(b.minWidth||80),0),u=l/c;let d=0;a.forEach((m,b)=>{if(b===0)return;const g=Math.floor(Number(m.minWidth||80)*u);d+=g,m.realWidth=Number(m.minWidth||80)+g}),a[0].realWidth=Number(a[0].minWidth||80)+l-d}}else this.scrollX.value=!0,a.forEach(l=>{l.realWidth=Number(l.minWidth)});this.bodyWidth.value=Math.max(n,r),this.table.state.resizeState.value.width=this.bodyWidth.value}else s.forEach(l=>{!l.width&&!l.minWidth?l.realWidth=80:l.realWidth=Number(l.width||l.minWidth),n+=l.realWidth}),this.scrollX.value=n>r,this.bodyWidth.value=n;const o=this.store.states.fixedColumns.value;if(o.length>0){let l=0;o.forEach(c=>{l+=Number(c.realWidth||c.width)}),this.fixedWidth.value=l}const i=this.store.states.rightFixedColumns.value;if(i.length>0){let l=0;i.forEach(c=>{l+=Number(c.realWidth||c.width)}),this.rightFixedWidth.value=l}this.notifyObservers("columns")}addObserver(t){this.observers.push(t)}removeObserver(t){const r=this.observers.indexOf(t);r!==-1&&this.observers.splice(r,1)}notifyObservers(t){this.observers.forEach(n=>{var s,a;switch(t){case"columns":(s=n.state)==null||s.onColumnsChange(this);break;case"scrollable":(a=n.state)==null||a.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${t}.`)}})}}const{CheckboxGroup:C7}=Ws,x7=xe({name:"ElTableFilterPanel",components:{ElCheckbox:Ws,ElCheckboxGroup:C7,ElScrollbar:td,ElTooltip:Eo,ElIcon:Ot,ArrowDown:Qc,ArrowUp:xm},directives:{ClickOutside:Yl},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function},appendTo:{type:String}},setup(e){const t=Ht(),{t:r}=Ur(),n=ct("table-filter"),s=t==null?void 0:t.parent;s.filterPanels.value[e.column.id]||(s.filterPanels.value[e.column.id]=t);const a=ee(!1),o=ee(null),i=W(()=>e.column&&e.column.filters),l=W(()=>e.column.filterClassName?`${n.b()} ${e.column.filterClassName}`:n.b()),c=W({get:()=>{var x;return(((x=e.column)==null?void 0:x.filteredValue)||[])[0]},set:x=>{u.value&&(To(x)?u.value.splice(0,1):u.value.splice(0,1,x))}}),u=W({get(){return e.column?e.column.filteredValue||[]:[]},set(x){e.column&&e.upDataColumn("filteredValue",x)}}),d=W(()=>e.column?e.column.filterMultiple:!0),m=x=>x.value===c.value,b=()=>{a.value=!1},g=x=>{x.stopPropagation(),a.value=!a.value},h=()=>{a.value=!1},v=()=>{_(u.value),b()},y=()=>{u.value=[],_(u.value),b()},C=x=>{c.value=x,To(x)?_([]):_(u.value),b()},_=x=>{e.store.commit("filterChange",{column:e.column,values:x}),e.store.updateAllSelected()};tt(a,x=>{e.column&&e.upDataColumn("filterOpened",x)},{immediate:!0});const S=W(()=>{var x,I;return(I=(x=o.value)==null?void 0:x.popperRef)==null?void 0:I.contentRef});return{tooltipVisible:a,multiple:d,filterClassName:l,filteredValue:u,filterValue:c,filters:i,handleConfirm:v,handleReset:y,handleSelect:C,isPropAbsent:To,isActive:m,t:r,ns:n,showFilterPanel:g,hideFilterPanel:h,popperPaneRef:S,tooltip:o}}});function I7(e,t,r,n,s,a){const o=_r("el-checkbox"),i=_r("el-checkbox-group"),l=_r("el-scrollbar"),c=_r("arrow-up"),u=_r("arrow-down"),d=_r("el-icon"),m=_r("el-tooltip"),b=Rh("click-outside");return K(),Le(m,{ref:"tooltip",visible:e.tooltipVisible,offset:0,placement:e.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,teleported:"",effect:"light",pure:"","popper-class":e.filterClassName,persistent:"","append-to":e.appendTo},{content:ie(()=>[e.multiple?(K(),ue("div",{key:0},[G("div",{class:Z(e.ns.e("content"))},[le(l,{"wrap-class":e.ns.e("wrap")},{default:ie(()=>[le(i,{modelValue:e.filteredValue,"onUpdate:modelValue":g=>e.filteredValue=g,class:Z(e.ns.e("checkbox-group"))},{default:ie(()=>[(K(!0),ue(ht,null,Or(e.filters,g=>(K(),Le(o,{key:g.value,value:g.value},{default:ie(()=>[ot(ze(g.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","class"])]),_:1},8,["wrap-class"])],2),G("div",{class:Z(e.ns.e("bottom"))},[G("button",{class:Z({[e.ns.is("disabled")]:e.filteredValue.length===0}),disabled:e.filteredValue.length===0,type:"button",onClick:e.handleConfirm},ze(e.t("el.table.confirmFilter")),11,["disabled","onClick"]),G("button",{type:"button",onClick:e.handleReset},ze(e.t("el.table.resetFilter")),9,["onClick"])],2)])):(K(),ue("ul",{key:1,class:Z(e.ns.e("list"))},[G("li",{class:Z([e.ns.e("list-item"),{[e.ns.is("active")]:e.isPropAbsent(e.filterValue)}]),onClick:g=>e.handleSelect(null)},ze(e.t("el.table.clearFilter")),11,["onClick"]),(K(!0),ue(ht,null,Or(e.filters,g=>(K(),ue("li",{key:g.value,class:Z([e.ns.e("list-item"),e.ns.is("active",e.isActive(g))]),label:g.value,onClick:h=>e.handleSelect(g.value)},ze(g.text),11,["label","onClick"]))),128))],2))]),default:ie(()=>[Vt((K(),ue("span",{class:Z([`${e.ns.namespace.value}-table__column-filter-trigger`,`${e.ns.namespace.value}-none-outline`]),onClick:e.showFilterPanel},[le(d,null,{default:ie(()=>[Ne(e.$slots,"filter-icon",{},()=>[e.column.filterOpened?(K(),Le(c,{key:0})):(K(),Le(u,{key:1}))])]),_:3})],10,["onClick"])),[[b,e.hideFilterPanel,e.popperPaneRef]])]),_:3},8,["visible","placement","popper-class","append-to"])}var k7=wt(x7,[["render",I7],["__file","filter-panel.vue"]]);function fx(e){const t=Ht();bc(()=>{r.value.addObserver(t)}),Kt(()=>{n(r.value),s(r.value)}),ui(()=>{n(r.value),s(r.value)}),go(()=>{r.value.removeObserver(t)});const r=W(()=>{const a=e.layout;if(!a)throw new Error("Can not find table layout.");return a}),n=a=>{var o;const i=((o=e.vnode.el)==null?void 0:o.querySelectorAll("colgroup > col"))||[];if(!i.length)return;const l=a.getFlattenColumns(),c={};l.forEach(u=>{c[u.id]=u});for(let u=0,d=i.length;u<d;u++){const m=i[u],b=m.getAttribute("name"),g=c[b];g&&m.setAttribute("width",g.realWidth||g.width)}},s=a=>{var o,i;const l=((o=e.vnode.el)==null?void 0:o.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let u=0,d=l.length;u<d;u++)l[u].setAttribute("width",a.scrollY.value?a.gutterWidth:"0");const c=((i=e.vnode.el)==null?void 0:i.querySelectorAll("th.gutter"))||[];for(let u=0,d=c.length;u<d;u++){const m=c[u];m.style.width=a.scrollY.value?`${a.gutterWidth}px`:"0",m.style.display=a.scrollY.value?"":"none"}};return{tableLayout:r.value,onColumnsChange:n,onScrollableChange:s}}const Gs=Symbol("ElTable");function O7(e,t){const r=Ht(),n=ft(Gs),s=h=>{h.stopPropagation()},a=(h,v)=>{!v.filters&&v.sortable?g(h,v,!1):v.filterable&&!v.sortable&&s(h),n==null||n.emit("header-click",v,h)},o=(h,v)=>{n==null||n.emit("header-contextmenu",v,h)},i=ee(null),l=ee(!1),c=ee({}),u=(h,v)=>{if(ur&&!(v.children&&v.children.length>0)&&i.value&&e.border){l.value=!0;const y=n;t("set-drag-visible",!0);const _=(y==null?void 0:y.vnode.el).getBoundingClientRect().left,S=r.vnode.el.querySelector(`th.${v.id}`),x=S.getBoundingClientRect(),I=x.left-_+30;Co(S,"noclick"),c.value={startMouseLeft:h.clientX,startLeft:x.right-_,startColumnLeft:x.left-_,tableLeft:_};const f=y==null?void 0:y.refs.resizeProxy;f.style.left=`${c.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const P=q=>{const E=q.clientX-c.value.startMouseLeft,M=c.value.startLeft+E;f.style.left=`${Math.max(I,M)}px`},$=()=>{if(l.value){const{startColumnLeft:q,startLeft:E}=c.value,F=Number.parseInt(f.style.left,10)-q;v.width=v.realWidth=F,y==null||y.emit("header-dragend",v.width,E-q,v,h),requestAnimationFrame(()=>{e.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",l.value=!1,i.value=null,c.value={},t("set-drag-visible",!1)}document.removeEventListener("mousemove",P),document.removeEventListener("mouseup",$),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{Us(S,"noclick")},0)};document.addEventListener("mousemove",P),document.addEventListener("mouseup",$)}},d=(h,v)=>{var y;if(v.children&&v.children.length>0)return;const C=h.target;if(!Zn(C))return;const _=C==null?void 0:C.closest("th");if(!(!v||!v.resizable||!_)&&!l.value&&e.border){const S=_.getBoundingClientRect(),x=document.body.style,I=((y=_.parentNode)==null?void 0:y.lastElementChild)===_,f=e.allowDragLastColumn||!I;S.width>12&&S.right-h.pageX<8&&f?(x.cursor="col-resize",ys(_,"is-sortable")&&(_.style.cursor="col-resize"),i.value=v):l.value||(x.cursor="",ys(_,"is-sortable")&&(_.style.cursor="pointer"),i.value=null)}},m=()=>{ur&&(document.body.style.cursor="")},b=({order:h,sortOrders:v})=>{if(h==="")return v[0];const y=v.indexOf(h||null);return v[y>v.length-2?0:y+1]},g=(h,v,y)=>{var C;h.stopPropagation();const _=v.order===y?null:y||b(v),S=(C=h.target)==null?void 0:C.closest("th");if(S&&ys(S,"noclick")){Us(S,"noclick");return}if(!v.sortable)return;const x=h.currentTarget;if(["ascending","descending"].some(q=>ys(x,q)&&!v.sortOrders.includes(q)))return;const I=e.store.states;let f=I.sortProp.value,P;const $=I.sortingColumn.value;($!==v||$===v&&ll($.order))&&($&&($.order=null),I.sortingColumn.value=v,f=v.property),_?P=v.order=_:P=v.order=null,I.sortProp.value=f,I.sortOrder.value=P,n==null||n.store.commit("changeSortCondition")};return{handleHeaderClick:a,handleHeaderContextMenu:o,handleMouseDown:u,handleMouseMove:d,handleMouseOut:m,handleSortClick:g,handleFilterClick:s}}function P7(e){const t=ft(Gs),r=ct("table");return{getHeaderRowStyle:i=>{const l=t==null?void 0:t.props.headerRowStyle;return et(l)?l.call(null,{rowIndex:i}):l},getHeaderRowClass:i=>{const l=[],c=t==null?void 0:t.props.headerRowClassName;return yt(c)?l.push(c):et(c)&&l.push(c.call(null,{rowIndex:i})),l.join(" ")},getHeaderCellStyle:(i,l,c,u)=>{var d;let m=(d=t==null?void 0:t.props.headerCellStyle)!=null?d:{};et(m)&&(m=m.call(null,{rowIndex:i,columnIndex:l,row:c,column:u}));const b=Cg(l,u.fixed,e.store,c);return Li(b,"left"),Li(b,"right"),Object.assign({},m,b)},getHeaderCellClass:(i,l,c,u)=>{const d=Tg(r.b(),l,u.fixed,e.store,c),m=[u.id,u.order,u.headerAlign,u.className,u.labelClassName,...d];u.children||m.push("is-leaf"),u.sortable&&m.push("is-sortable");const b=t==null?void 0:t.props.headerCellClassName;return yt(b)?m.push(b):et(b)&&m.push(b.call(null,{rowIndex:i,columnIndex:l,row:c,column:u})),m.push(r.e("cell")),m.filter(g=>!!g).join(" ")}}}const px=e=>{const t=[];return e.forEach(r=>{r.children?(t.push(r),t.push.apply(t,px(r.children))):t.push(r)}),t},hx=e=>{let t=1;const r=(a,o)=>{if(o&&(a.level=o.level+1,t<a.level&&(t=a.level)),a.children){let i=0;a.children.forEach(l=>{r(l,a),i+=l.colSpan}),a.colSpan=i}else a.colSpan=1};e.forEach(a=>{a.level=1,r(a,void 0)});const n=[];for(let a=0;a<t;a++)n.push([]);return px(e).forEach(a=>{a.children?(a.rowSpan=1,a.children.forEach(o=>o.isSubColumn=!0)):a.rowSpan=t-a.level+1,n[a.level-1].push(a)}),n};function A7(e){const t=ft(Gs),r=W(()=>hx(e.store.states.originColumns.value));return{isGroup:W(()=>{const a=r.value.length>1;return a&&t&&(t.state.isGroup.value=!0),a}),toggleAllSelection:a=>{a.stopPropagation(),t==null||t.store.commit("toggleAllSelection")},columnRows:r}}var E7=xe({name:"ElTableHeader",components:{ElCheckbox:Ws},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})},appendFilterPanelTo:{type:String},allowDragLastColumn:{type:Boolean}},setup(e,{emit:t}){const r=Ht(),n=ft(Gs),s=ct("table"),a=ee({}),{onColumnsChange:o,onScrollableChange:i}=fx(n),l=(n==null?void 0:n.props.tableLayout)==="auto",c=Zr(new Map),u=ee(),d=()=>{setTimeout(()=>{c.size>0&&(c.forEach((q,E)=>{const M=u.value.querySelector(`.${E.replace(/\s/g,".")}`);if(M){const F=M.getBoundingClientRect().width;q.width=F}}),c.clear())})};tt(c,d),Kt(async()=>{await xt(),await xt();const{prop:q,order:E}=e.defaultSort;n==null||n.store.commit("sort",{prop:q,order:E,init:!0}),d()});const{handleHeaderClick:m,handleHeaderContextMenu:b,handleMouseDown:g,handleMouseMove:h,handleMouseOut:v,handleSortClick:y,handleFilterClick:C}=O7(e,t),{getHeaderRowStyle:_,getHeaderRowClass:S,getHeaderCellStyle:x,getHeaderCellClass:I}=P7(e),{isGroup:f,toggleAllSelection:P,columnRows:$}=A7(e);return r.state={onColumnsChange:o,onScrollableChange:i},r.filterPanels=a,{ns:s,filterPanels:a,onColumnsChange:o,onScrollableChange:i,columnRows:$,getHeaderRowClass:S,getHeaderRowStyle:_,getHeaderCellClass:I,getHeaderCellStyle:x,handleHeaderClick:m,handleHeaderContextMenu:b,handleMouseDown:g,handleMouseMove:h,handleMouseOut:v,handleSortClick:y,handleFilterClick:C,isGroup:f,toggleAllSelection:P,saveIndexSelection:c,isTableLayoutAuto:l,theadRef:u,updateFixedColumnStyle:d}},render(){const{ns:e,isGroup:t,columnRows:r,getHeaderCellStyle:n,getHeaderCellClass:s,getHeaderRowClass:a,getHeaderRowStyle:o,handleHeaderClick:i,handleHeaderContextMenu:l,handleMouseDown:c,handleMouseMove:u,handleSortClick:d,handleMouseOut:m,store:b,$parent:g,saveIndexSelection:h,isTableLayoutAuto:v}=this;let y=1;return kt("thead",{ref:"theadRef",class:{[e.is("group")]:t}},r.map((C,_)=>kt("tr",{class:a(_),key:_,style:o(_)},C.map((S,x)=>{S.rowSpan>y&&(y=S.rowSpan);const I=s(_,x,C,S);return v&&S.fixed&&h.set(I,S),kt("th",{class:I,colspan:S.colSpan,key:`${S.id}-thead`,rowspan:S.rowSpan,style:n(_,x,C,S),onClick:f=>{f.currentTarget.classList.contains("noclick")||i(f,S)},onContextmenu:f=>l(f,S),onMousedown:f=>c(f,S),onMousemove:f=>u(f,S),onMouseout:m},[kt("div",{class:["cell",S.filteredValue&&S.filteredValue.length>0?"highlight":""]},[S.renderHeader?S.renderHeader({column:S,$index:x,store:b,_self:g}):S.label,S.sortable&&kt("span",{onClick:f=>d(f,S),class:"caret-wrapper"},[kt("i",{onClick:f=>d(f,S,"ascending"),class:"sort-caret ascending"}),kt("i",{onClick:f=>d(f,S,"descending"),class:"sort-caret descending"})]),S.filterable&&kt(k7,{store:b,placement:S.filterPlacement||"bottom-start",appendTo:g.appendFilterPanelTo,column:S,upDataColumn:(f,P)=>{S[f]=P}},{"filter-icon":()=>S.renderFilterIcon?S.renderFilterIcon({filterOpened:S.filterOpened}):null})])])}))))}});function kg(e,t,r=.03){return e-t>r}function $7(e){const t=ft(Gs),r=ee(""),n=ee(kt("div")),s=(g,h,v)=>{var y;const C=t,_=Sg(g);let S;const x=(y=C==null?void 0:C.vnode.el)==null?void 0:y.dataset.prefix;_&&(S=nx({columns:e.store.states.columns.value},_,x),S&&(C==null||C.emit(`cell-${v}`,h,S,_,g))),C==null||C.emit(`row-${v}`,h,S,g)},a=(g,h)=>{s(g,h,"dblclick")},o=(g,h)=>{e.store.commit("setCurrentRow",h),s(g,h,"click")},i=(g,h)=>{s(g,h,"contextmenu")},l=oa(g=>{e.store.commit("setHoverRow",g)},30),c=oa(()=>{e.store.commit("setHoverRow",null)},30),u=g=>{const h=window.getComputedStyle(g,null),v=Number.parseInt(h.paddingLeft,10)||0,y=Number.parseInt(h.paddingRight,10)||0,C=Number.parseInt(h.paddingTop,10)||0,_=Number.parseInt(h.paddingBottom,10)||0;return{left:v,right:y,top:C,bottom:_}},d=(g,h,v)=>{let y=h.target.parentNode;for(;g>1&&(y=y==null?void 0:y.nextSibling,!(!y||y.nodeName!=="TR"));)v(y,"hover-row hover-fixed-row"),g--};return{handleDoubleClick:a,handleClick:o,handleContextMenu:i,handleMouseEnter:l,handleMouseLeave:c,handleCellMouseEnter:(g,h,v)=>{var y,C,_;const S=t,x=Sg(g),I=(y=S==null?void 0:S.vnode.el)==null?void 0:y.dataset.prefix;if(x){const D=nx({columns:e.store.states.columns.value},x,I);x.rowSpan>1&&d(x.rowSpan,g,Co);const Y=S.hoverState={cell:x,column:D,row:h};S==null||S.emit("cell-mouse-enter",Y.row,Y.column,Y.cell,g)}if(!v)return;const f=g.target.querySelector(".cell");if(!(ys(f,`${I}-tooltip`)&&f.childNodes.length))return;const P=document.createRange();P.setStart(f,0),P.setEnd(f,f.childNodes.length);const{width:$,height:q}=P.getBoundingClientRect(),{width:E,height:M}=f.getBoundingClientRect(),{top:F,left:N,right:R,bottom:H}=u(f),U=N+R,L=F+H;kg($+U,E)||kg(q+L,M)||kg(f.scrollWidth,E)?h7(v,x.innerText||x.textContent,x,S):((C=An)==null?void 0:C.trigger)===x&&((_=An)==null||_())},handleCellMouseLeave:g=>{const h=Sg(g);if(!h)return;h.rowSpan>1&&d(h.rowSpan,g,Us);const v=t==null?void 0:t.hoverState;t==null||t.emit("cell-mouse-leave",v==null?void 0:v.row,v==null?void 0:v.column,v==null?void 0:v.cell,g)},tooltipContent:r,tooltipTrigger:n}}function R7(e){const t=ft(Gs),r=ct("table");return{getRowStyle:(c,u)=>{const d=t==null?void 0:t.props.rowStyle;return et(d)?d.call(null,{row:c,rowIndex:u}):d||null},getRowClass:(c,u)=>{const d=[r.e("row")];t!=null&&t.props.highlightCurrentRow&&c===e.store.states.currentRow.value&&d.push("current-row"),e.stripe&&u%2===1&&d.push(r.em("row","striped"));const m=t==null?void 0:t.props.rowClassName;return yt(m)?d.push(m):et(m)&&d.push(m.call(null,{row:c,rowIndex:u})),d},getCellStyle:(c,u,d,m)=>{const b=t==null?void 0:t.props.cellStyle;let g=b??{};et(b)&&(g=b.call(null,{rowIndex:c,columnIndex:u,row:d,column:m}));const h=Cg(u,e==null?void 0:e.fixed,e.store);return Li(h,"left"),Li(h,"right"),Object.assign({},g,h)},getCellClass:(c,u,d,m,b)=>{const g=Tg(r.b(),u,e==null?void 0:e.fixed,e.store,void 0,b),h=[m.id,m.align,m.className,...g],v=t==null?void 0:t.props.cellClassName;return yt(v)?h.push(v):et(v)&&h.push(v.call(null,{rowIndex:c,columnIndex:u,row:d,column:m})),h.push(r.e("cell")),h.filter(y=>!!y).join(" ")},getSpan:(c,u,d,m)=>{let b=1,g=1;const h=t==null?void 0:t.props.spanMethod;if(et(h)){const v=h({row:c,column:u,rowIndex:d,columnIndex:m});Ue(v)?(b=v[0],g=v[1]):Lt(v)&&(b=v.rowspan,g=v.colspan)}return{rowspan:b,colspan:g}},getColspanRealWidth:(c,u,d)=>{if(u<1)return c[d].realWidth;const m=c.map(({realWidth:b,width:g})=>b||g).slice(d,d+u);return Number(m.reduce((b,g)=>Number(b)+Number(g),-1))}}}const L7=xe({...xe({name:"TableTdWrapper"}),props:{colspan:{type:Number,default:1},rowspan:{type:Number,default:1}},setup(e){return(t,r)=>(K(),ue("td",{colspan:e.colspan,rowspan:e.rowspan},[Ne(t.$slots,"default")],8,["colspan","rowspan"]))}});var M7=wt(L7,[["__file","td-wrapper.vue"]]);function D7(e){const t=ft(Gs),r=ct("table"),{handleDoubleClick:n,handleClick:s,handleContextMenu:a,handleMouseEnter:o,handleMouseLeave:i,handleCellMouseEnter:l,handleCellMouseLeave:c,tooltipContent:u,tooltipTrigger:d}=$7(e),{getRowStyle:m,getRowClass:b,getCellStyle:g,getCellClass:h,getSpan:v,getColspanRealWidth:y}=R7(e),C=W(()=>e.store.states.columns.value.findIndex(({type:f})=>f==="default")),_=(f,P)=>{const $=t.props.rowKey;return $?cn(f,$):P},S=(f,P,$,q=!1)=>{const{tooltipEffect:E,tooltipOptions:M,store:F}=e,{indent:N,columns:R}=F.states,H=b(f,P);let U=!0;return $&&(H.push(r.em("row",`level-${$.level}`)),U=$.display),kt("tr",{style:[U?null:{display:"none"},m(f,P)],class:H,key:_(f,P),onDblclick:D=>n(D,f),onClick:D=>s(D,f),onContextmenu:D=>a(D,f),onMouseenter:()=>o(P),onMouseleave:i},R.value.map((D,Y)=>{const{rowspan:Q,colspan:ae}=v(f,D,P,Y);if(!Q||!ae)return null;const ne=Object.assign({},D);ne.realWidth=y(R.value,ae,Y);const he={store:e.store,_self:e.context||t,column:ne,row:f,$index:P,cellIndex:Y,expanded:q};Y===C.value&&$&&(he.treeNode={indent:$.level*N.value,level:$.level},Yr($.expanded)&&(he.treeNode.expanded=$.expanded,"loading"in $&&(he.treeNode.loading=$.loading),"noLazyChildren"in $&&(he.treeNode.noLazyChildren=$.noLazyChildren)));const ve=`${_(f,P)},${Y}`,We=ne.columnKey||ne.rawColumnKey||"",Ge=D.showOverflowTooltip&&Wb({effect:E},M,D.showOverflowTooltip);return kt(M7,{style:g(P,Y,f,D),class:h(P,Y,f,D,ae-1),key:`${We}${ve}`,rowspan:Q,colspan:ae,onMouseenter:Te=>l(Te,f,Ge),onMouseleave:c},{default:()=>x(Y,D,he)})}))},x=(f,P,$)=>P.renderCell($);return{wrappedRowRender:(f,P)=>{const $=e.store,{isRowExpanded:q,assertRowKey:E}=$,{treeData:M,lazyTreeNodeMap:F,childrenColumnName:N,rowKey:R}=$.states,H=$.states.columns.value;if(H.some(({type:L})=>L==="expand")){const L=q(f),D=S(f,P,void 0,L),Y=t.renderExpanded;return L?Y?[[D,kt("tr",{key:`expanded-row__${D.key}`},[kt("td",{colspan:H.length,class:`${r.e("cell")} ${r.e("expanded-cell")}`},[Y({row:f,$index:P,store:$,expanded:L})])])]]:(console.error("[Element Error]renderExpanded is required."),D):[[D]]}else if(Object.keys(M.value).length){E();const L=cn(f,R.value);let D=M.value[L],Y=null;D&&(Y={expanded:D.expanded,level:D.level,display:!0},Yr(D.lazy)&&(Yr(D.loaded)&&D.loaded&&(Y.noLazyChildren=!(D.children&&D.children.length)),Y.loading=D.loading));const Q=[S(f,P,Y)];if(D){let ae=0;const ne=(ve,We)=>{ve&&ve.length&&We&&ve.forEach(Ge=>{const Te={display:We.display&&We.expanded,level:We.level+1,expanded:!1,noLazyChildren:!1,loading:!1},He=cn(Ge,R.value);if(To(He))throw new Error("For nested data item, row-key is required.");if(D={...M.value[He]},D&&(Te.expanded=D.expanded,D.level=D.level||Te.level,D.display=!!(D.expanded&&Te.display),Yr(D.lazy)&&(Yr(D.loaded)&&D.loaded&&(Te.noLazyChildren=!(D.children&&D.children.length)),Te.loading=D.loading)),ae++,Q.push(S(Ge,P+ae,Te)),D){const Me=F.value[He]||Ge[N.value];ne(Me,D)}})};D.display=!0;const he=F.value[L]||f[N.value];ne(he,D)}return Q}else return S(f,P,void 0)},tooltipContent:u,tooltipTrigger:d}}var N7=xe({name:"ElTableBody",props:{store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,tooltipOptions:{type:Object},context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean},setup(e){const t=Ht(),r=ft(Gs),n=ct("table"),{wrappedRowRender:s,tooltipContent:a,tooltipTrigger:o}=D7(e),{onColumnsChange:i,onScrollableChange:l}=fx(r),c=[];return tt(e.store.states.hoverRow,(u,d)=>{var m;const b=t==null?void 0:t.vnode.el,g=Array.from((b==null?void 0:b.children)||[]).filter(y=>y==null?void 0:y.classList.contains(`${n.e("row")}`));let h=u;const v=(m=g[h])==null?void 0:m.childNodes;if(v!=null&&v.length){let y=0;Array.from(v).reduce((_,S,x)=>{var I,f;return((I=v[x])==null?void 0:I.colSpan)>1&&(y=(f=v[x])==null?void 0:f.colSpan),S.nodeName!=="TD"&&y===0&&_.push(x),y>0&&y--,_},[]).forEach(_=>{var S;for(h=u;h>0;){const x=(S=g[h-1])==null?void 0:S.childNodes;if(x[_]&&x[_].nodeName==="TD"&&x[_].rowSpan>1){Co(x[_],"hover-cell"),c.push(x[_]);break}h--}})}else c.forEach(y=>Us(y,"hover-cell")),c.length=0;!e.store.states.isComplex.value||!ur||M3(()=>{const y=g[d],C=g[u];y&&!y.classList.contains("hover-fixed-row")&&Us(y,"hover-row"),C&&Co(C,"hover-row")})}),go(()=>{var u;(u=An)==null||u()}),{ns:n,onColumnsChange:i,onScrollableChange:l,wrappedRowRender:s,tooltipContent:a,tooltipTrigger:o}},render(){const{wrappedRowRender:e,store:t}=this,r=t.states.data.value||[];return kt("tbody",{tabIndex:-1},[r.reduce((n,s)=>n.concat(e(s,n.length)),[])])}});function F7(){const e=ft(Gs),t=e==null?void 0:e.store,r=W(()=>t.states.fixedLeafColumnsLength.value),n=W(()=>t.states.rightFixedColumns.value.length),s=W(()=>t.states.columns.value.length),a=W(()=>t.states.fixedColumns.value.length),o=W(()=>t.states.rightFixedColumns.value.length);return{leftFixedLeafCount:r,rightFixedLeafCount:n,columnsCount:s,leftFixedCount:a,rightFixedCount:o,columns:t.states.columns}}function B7(e){const{columns:t}=F7(),r=ct("table");return{getCellClasses:(a,o)=>{const i=a[o],l=[r.e("cell"),i.id,i.align,i.labelClassName,...Tg(r.b(),o,i.fixed,e.store)];return i.className&&l.push(i.className),i.children||l.push(r.is("leaf")),l},getCellStyles:(a,o)=>{const i=Cg(o,a.fixed,e.store);return Li(i,"left"),Li(i,"right"),i},columns:t}}var j7=xe({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(e){const{getCellClasses:t,getCellStyles:r,columns:n}=B7(e);return{ns:ct("table"),getCellClasses:t,getCellStyles:r,columns:n}},render(){const{columns:e,getCellStyles:t,getCellClasses:r,summaryMethod:n,sumText:s}=this,a=this.store.states.data.value;let o=[];return n?o=n({columns:e,data:a}):e.forEach((i,l)=>{if(l===0){o[l]=s;return}const c=a.map(b=>Number(b[i.property])),u=[];let d=!0;c.forEach(b=>{if(!Number.isNaN(+b)){d=!1;const g=`${b}`.split(".")[1];u.push(g?g.length:0)}});const m=Math.max.apply(null,u);d?o[l]="":o[l]=c.reduce((b,g)=>{const h=Number(g);return Number.isNaN(+h)?b:Number.parseFloat((b+g).toFixed(Math.min(m,20)))},0)}),kt(kt("tfoot",[kt("tr",{},[...e.map((i,l)=>kt("td",{key:l,colspan:i.colSpan,rowspan:i.rowSpan,class:r(e,l),style:t(i,l)},[kt("div",{class:["cell",i.labelClassName]},[o[l]])]))])]))}});function U7(e){return{setCurrentRow:d=>{e.commit("setCurrentRow",d)},getSelectionRows:()=>e.getSelectionRows(),toggleRowSelection:(d,m,b=!0)=>{e.toggleRowSelection(d,m,!1,b),e.updateAllSelected()},clearSelection:()=>{e.clearSelection()},clearFilter:d=>{e.clearFilter(d)},toggleAllSelection:()=>{e.commit("toggleAllSelection")},toggleRowExpansion:(d,m)=>{e.toggleRowExpansionAdapter(d,m)},clearSort:()=>{e.clearSort()},sort:(d,m)=>{e.commit("sort",{prop:d,order:m})},updateKeyChildren:(d,m)=>{e.updateKeyChildren(d,m)}}}function q7(e,t,r,n){const s=ee(!1),a=ee(null),o=ee(!1),i=L=>{o.value=L},l=ee({width:null,height:null,headerHeight:null}),c=ee(!1),u={display:"inline-block",verticalAlign:"middle"},d=ee(),m=ee(0),b=ee(0),g=ee(0),h=ee(0),v=ee(0);va(()=>{t.setHeight(e.height)}),va(()=>{t.setMaxHeight(e.maxHeight)}),tt(()=>[e.currentRowKey,r.states.rowKey],([L,D])=>{!w(D)||!w(L)||r.setCurrentRowKey(`${L}`)},{immediate:!0}),tt(()=>e.data,L=>{n.store.commit("setData",L)},{immediate:!0,deep:!0}),va(()=>{e.expandRowKeys&&r.setExpandRowKeysAdapter(e.expandRowKeys)});const y=()=>{n.store.commit("setHoverRow",null),n.hoverState&&(n.hoverState=null)},C=(L,D)=>{const{pixelX:Y,pixelY:Q}=D;Math.abs(Y)>=Math.abs(Q)&&(n.refs.bodyWrapper.scrollLeft+=D.pixelX/5)},_=W(()=>e.height||e.maxHeight||r.states.fixedColumns.value.length>0||r.states.rightFixedColumns.value.length>0),S=W(()=>({width:t.bodyWidth.value?`${t.bodyWidth.value}px`:""})),x=()=>{_.value&&t.updateElsHeight(),t.updateColumnsWidth(),requestAnimationFrame($)};Kt(async()=>{await xt(),r.updateColumns(),q(),requestAnimationFrame(x);const L=n.vnode.el,D=n.refs.headerWrapper;e.flexible&&L&&L.parentElement&&(L.parentElement.style.minWidth="0"),l.value={width:d.value=L.offsetWidth,height:L.offsetHeight,headerHeight:e.showHeader&&D?D.offsetHeight:null},r.states.columns.value.forEach(Y=>{Y.filteredValue&&Y.filteredValue.length&&n.store.commit("filterChange",{column:Y,values:Y.filteredValue,silent:!0})}),n.$ready=!0});const I=(L,D)=>{if(!L)return;const Y=Array.from(L.classList).filter(Q=>!Q.startsWith("is-scrolling-"));Y.push(t.scrollX.value?D:"is-scrolling-none"),L.className=Y.join(" ")},f=L=>{const{tableWrapper:D}=n.refs;I(D,L)},P=L=>{const{tableWrapper:D}=n.refs;return!!(D&&D.classList.contains(L))},$=function(){if(!n.refs.scrollBarRef)return;if(!t.scrollX.value){const ve="is-scrolling-none";P(ve)||f(ve);return}const L=n.refs.scrollBarRef.wrapRef;if(!L)return;const{scrollLeft:D,offsetWidth:Y,scrollWidth:Q}=L,{headerWrapper:ae,footerWrapper:ne}=n.refs;ae&&(ae.scrollLeft=D),ne&&(ne.scrollLeft=D);const he=Q-Y-1;D>=he?f("is-scrolling-right"):f(D===0?"is-scrolling-left":"is-scrolling-middle")},q=()=>{n.refs.scrollBarRef&&(n.refs.scrollBarRef.wrapRef&&es(n.refs.scrollBarRef.wrapRef,"scroll",$,{passive:!0}),e.fit?jn(n.vnode.el,E):es(window,"resize",E),jn(n.refs.bodyWrapper,()=>{var L,D;E(),(D=(L=n.refs)==null?void 0:L.scrollBarRef)==null||D.update()}))},E=()=>{var L,D,Y,Q;const ae=n.vnode.el;if(!n.$ready||!ae)return;let ne=!1;const{width:he,height:ve,headerHeight:We}=l.value,Ge=d.value=ae.offsetWidth;he!==Ge&&(ne=!0);const Te=ae.offsetHeight;(e.height||_.value)&&ve!==Te&&(ne=!0);const He=e.tableLayout==="fixed"?n.refs.headerWrapper:(L=n.refs.tableHeaderRef)==null?void 0:L.$el;e.showHeader&&(He==null?void 0:He.offsetHeight)!==We&&(ne=!0),m.value=((D=n.refs.tableWrapper)==null?void 0:D.scrollHeight)||0,g.value=(He==null?void 0:He.scrollHeight)||0,h.value=((Y=n.refs.footerWrapper)==null?void 0:Y.offsetHeight)||0,v.value=((Q=n.refs.appendWrapper)==null?void 0:Q.offsetHeight)||0,b.value=m.value-g.value-h.value-v.value,ne&&(l.value={width:Ge,height:Te,headerHeight:e.showHeader&&(He==null?void 0:He.offsetHeight)||0},x())},M=ws(),F=W(()=>{const{bodyWidth:L,scrollY:D,gutterWidth:Y}=t;return L.value?`${L.value-(D.value?Y:0)}px`:""}),N=W(()=>e.maxHeight?"fixed":e.tableLayout),R=W(()=>{if(e.data&&e.data.length)return null;let L="100%";e.height&&b.value&&(L=`${b.value}px`);const D=d.value;return{width:D?`${D}px`:"",height:L}}),H=W(()=>e.height?{height:"100%"}:e.maxHeight?Number.isNaN(Number(e.maxHeight))?{maxHeight:`calc(${e.maxHeight} - ${g.value+h.value}px)`}:{maxHeight:`${e.maxHeight-g.value-h.value}px`}:{});return{isHidden:s,renderExpanded:a,setDragVisible:i,isGroup:c,handleMouseLeave:y,handleHeaderFooterMousewheel:C,tableSize:M,emptyBlockStyle:R,handleFixedMousewheel:(L,D)=>{const Y=n.refs.bodyWrapper;if(Math.abs(D.spinY)>0){const Q=Y.scrollTop;D.pixelY<0&&Q!==0&&L.preventDefault(),D.pixelY>0&&Y.scrollHeight-Y.clientHeight>Q&&L.preventDefault(),Y.scrollTop+=Math.ceil(D.pixelY/5)}else Y.scrollLeft+=Math.ceil(D.pixelX/5)},resizeProxyVisible:o,bodyWidth:F,resizeState:l,doLayout:x,tableBodyStyles:S,tableLayout:N,scrollbarViewStyle:u,scrollbarStyle:H}}function V7(e){const t=ee(),r=()=>{const s=e.vnode.el.querySelector(".hidden-columns"),a={childList:!0,subtree:!0},o=e.store.states.updateOrderFns;t.value=new MutationObserver(()=>{o.forEach(i=>i())}),t.value.observe(s,a)};Kt(()=>{r()}),go(()=>{var n;(n=t.value)==null||n.disconnect()})}var H7={data:{type:Array,default:()=>[]},size:Sa,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children",checkStrictly:!1})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:Boolean,flexible:Boolean,showOverflowTooltip:[Boolean,Object],appendFilterPanelTo:String,scrollbarTabindex:{type:[Number,String],default:void 0},allowDragLastColumn:{type:Boolean,default:!0}};function mx(e){const t=e.tableLayout==="auto";let r=e.columns||[];t&&r.every(({width:s})=>Rr(s))&&(r=[]);const n=s=>{const a={key:`${e.tableLayout}_${s.id}`,style:{},name:void 0};return t?a.style={width:`${s.width}px`}:a.name=s.id,a};return kt("colgroup",{},r.map(s=>kt("col",n(s))))}mx.props=["columns","tableLayout"];const z7=()=>{const e=ee(),t=(a,o)=>{const i=e.value;i&&i.scrollTo(a,o)},r=(a,o)=>{const i=e.value;i&&Zt(o)&&["Top","Left"].includes(a)&&i[`setScroll${a}`](o)};return{scrollBarRef:e,scrollTo:t,setScrollTop:a=>r("Top",a),setScrollLeft:a=>r("Left",a)}};var gx=!1,Lo,Og,Pg,Dd,Nd,vx,Fd,Ag,Eg,$g,yx,Rg,Lg,bx,wx;function En(){if(!gx){gx=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),r=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(Rg=/\b(iPhone|iP[ao]d)/.exec(e),Lg=/\b(iP[ao]d)/.exec(e),$g=/Android/i.exec(e),bx=/FBAN\/\w+;/i.exec(e),wx=/Mobile/i.exec(e),yx=!!/Win64/.exec(e),t){Lo=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN,Lo&&document&&document.documentMode&&(Lo=document.documentMode);var n=/(?:Trident\/(\d+.\d+))/.exec(e);vx=n?parseFloat(n[1])+4:Lo,Og=t[2]?parseFloat(t[2]):NaN,Pg=t[3]?parseFloat(t[3]):NaN,Dd=t[4]?parseFloat(t[4]):NaN,Dd?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),Nd=t&&t[1]?parseFloat(t[1]):NaN):Nd=NaN}else Lo=Og=Pg=Nd=Dd=NaN;if(r){if(r[1]){var s=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);Fd=s?parseFloat(s[1].replace("_",".")):!0}else Fd=!1;Ag=!!r[2],Eg=!!r[3]}else Fd=Ag=Eg=!1}}var Mg={ie:function(){return En()||Lo},ieCompatibilityMode:function(){return En()||vx>Lo},ie64:function(){return Mg.ie()&&yx},firefox:function(){return En()||Og},opera:function(){return En()||Pg},webkit:function(){return En()||Dd},safari:function(){return Mg.webkit()},chrome:function(){return En()||Nd},windows:function(){return En()||Ag},osx:function(){return En()||Fd},linux:function(){return En()||Eg},iphone:function(){return En()||Rg},mobile:function(){return En()||Rg||Lg||$g||wx},nativeApp:function(){return En()||bx},android:function(){return En()||$g},ipad:function(){return En()||Lg}},W7=Mg,G7=!!(typeof window<"u"&&window.document&&window.document.createElement),K7={canUseDOM:G7},Sx=K7,_x;Sx.canUseDOM&&(_x=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function Y7(e,t){if(!Sx.canUseDOM||t&&!("addEventListener"in document))return!1;var r="on"+e,n=r in document;if(!n){var s=document.createElement("div");s.setAttribute(r,"return;"),n=typeof s[r]=="function"}return!n&&_x&&e==="wheel"&&(n=document.implementation.hasFeature("Events.wheel","3.0")),n}var J7=Y7,Tx=10,Cx=40,xx=800;function Ix(e){var t=0,r=0,n=0,s=0;return"detail"in e&&(r=e.detail),"wheelDelta"in e&&(r=-e.wheelDelta/120),"wheelDeltaY"in e&&(r=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=r,r=0),n=t*Tx,s=r*Tx,"deltaY"in e&&(s=e.deltaY),"deltaX"in e&&(n=e.deltaX),(n||s)&&e.deltaMode&&(e.deltaMode==1?(n*=Cx,s*=Cx):(n*=xx,s*=xx)),n&&!t&&(t=n<1?-1:1),s&&!r&&(r=s<1?-1:1),{spinX:t,spinY:r,pixelX:n,pixelY:s}}Ix.getEventType=function(){return W7.firefox()?"DOMMouseScroll":J7("wheel")?"wheel":"mousewheel"};var X7=Ix;/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/const Q7=function(e,t){if(e&&e.addEventListener){const r=function(n){const s=X7(n);t&&Reflect.apply(t,this,[n,s])};e.addEventListener("wheel",r,{passive:!0})}},Z7={beforeMount(e,t){Q7(e,t.value)}};let eU=1;const tU=xe({name:"ElTable",directives:{Mousewheel:Z7},components:{TableHeader:E7,TableBody:N7,TableFooter:j7,ElScrollbar:td,hColgroup:mx},props:H7,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change","scroll"],setup(e){const{t}=Ur(),r=ct("table"),n=Ht();Mr(Gs,n);const s=S7(n,e);n.store=s;const a=new T7({store:n.store,table:n,fit:e.fit,showHeader:e.showHeader});n.layout=a;const o=W(()=>(s.states.data.value||[]).length===0),{setCurrentRow:i,getSelectionRows:l,toggleRowSelection:c,clearSelection:u,clearFilter:d,toggleAllSelection:m,toggleRowExpansion:b,clearSort:g,sort:h,updateKeyChildren:v}=U7(s),{isHidden:y,renderExpanded:C,setDragVisible:_,isGroup:S,handleMouseLeave:x,handleHeaderFooterMousewheel:I,tableSize:f,emptyBlockStyle:P,handleFixedMousewheel:$,resizeProxyVisible:q,bodyWidth:E,resizeState:M,doLayout:F,tableBodyStyles:N,tableLayout:R,scrollbarViewStyle:H,scrollbarStyle:U}=q7(e,a,s,n),{scrollBarRef:L,scrollTo:D,setScrollLeft:Y,setScrollTop:Q}=z7(),ae=oa(F,50),ne=`${r.namespace.value}-table_${eU++}`;n.tableId=ne,n.state={isGroup:S,resizeState:M,doLayout:F,debouncedUpdateLayout:ae};const he=W(()=>{var Ge;return(Ge=e.sumText)!=null?Ge:t("el.table.sumText")}),ve=W(()=>{var Ge;return(Ge=e.emptyText)!=null?Ge:t("el.table.emptyText")}),We=W(()=>hx(s.states.originColumns.value)[0]);return V7(n),Fr(()=>{ae.cancel()}),{ns:r,layout:a,store:s,columns:We,handleHeaderFooterMousewheel:I,handleMouseLeave:x,tableId:ne,tableSize:f,isHidden:y,isEmpty:o,renderExpanded:C,resizeProxyVisible:q,resizeState:M,isGroup:S,bodyWidth:E,tableBodyStyles:N,emptyBlockStyle:P,debouncedUpdateLayout:ae,handleFixedMousewheel:$,setCurrentRow:i,getSelectionRows:l,toggleRowSelection:c,clearSelection:u,clearFilter:d,toggleAllSelection:m,toggleRowExpansion:b,clearSort:g,doLayout:F,sort:h,updateKeyChildren:v,t,setDragVisible:_,context:n,computedSumText:he,computedEmptyText:ve,tableLayout:R,scrollbarViewStyle:H,scrollbarStyle:U,scrollBarRef:L,scrollTo:D,setScrollLeft:Y,setScrollTop:Q,allowDragLastColumn:e.allowDragLastColumn}}});function rU(e,t,r,n,s,a){const o=_r("hColgroup"),i=_r("table-header"),l=_r("table-body"),c=_r("table-footer"),u=_r("el-scrollbar"),d=Rh("mousewheel");return K(),ue("div",{ref:"tableWrapper",class:Z([{[e.ns.m("fit")]:e.fit,[e.ns.m("striped")]:e.stripe,[e.ns.m("border")]:e.border||e.isGroup,[e.ns.m("hidden")]:e.isHidden,[e.ns.m("group")]:e.isGroup,[e.ns.m("fluid-height")]:e.maxHeight,[e.ns.m("scrollable-x")]:e.layout.scrollX.value,[e.ns.m("scrollable-y")]:e.layout.scrollY.value,[e.ns.m("enable-row-hover")]:!e.store.states.isComplex.value,[e.ns.m("enable-row-transition")]:(e.store.states.data.value||[]).length!==0&&(e.store.states.data.value||[]).length<100,"has-footer":e.showSummary},e.ns.m(e.tableSize),e.className,e.ns.b(),e.ns.m(`layout-${e.tableLayout}`)]),style:jt(e.style),"data-prefix":e.ns.namespace.value,onMouseleave:e.handleMouseLeave},[G("div",{class:Z(e.ns.e("inner-wrapper"))},[G("div",{ref:"hiddenColumns",class:"hidden-columns"},[Ne(e.$slots,"default")],512),e.showHeader&&e.tableLayout==="fixed"?Vt((K(),ue("div",{key:0,ref:"headerWrapper",class:Z(e.ns.e("header-wrapper"))},[G("table",{ref:"tableHeader",class:Z(e.ns.e("header")),style:jt(e.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[le(o,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),le(i,{ref:"tableHeaderRef",border:e.border,"default-sort":e.defaultSort,store:e.store,"append-filter-panel-to":e.appendFilterPanelTo,"allow-drag-last-column":e.allowDragLastColumn,onSetDragVisible:e.setDragVisible},null,8,["border","default-sort","store","append-filter-panel-to","allow-drag-last-column","onSetDragVisible"])],6)],2)),[[d,e.handleHeaderFooterMousewheel]]):Ee("v-if",!0),G("div",{ref:"bodyWrapper",class:Z(e.ns.e("body-wrapper"))},[le(u,{ref:"scrollBarRef","view-style":e.scrollbarViewStyle,"wrap-style":e.scrollbarStyle,always:e.scrollbarAlwaysOn,tabindex:e.scrollbarTabindex,onScroll:m=>e.$emit("scroll",m)},{default:ie(()=>[G("table",{ref:"tableBody",class:Z(e.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:jt({width:e.bodyWidth,tableLayout:e.tableLayout})},[le(o,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),e.showHeader&&e.tableLayout==="auto"?(K(),Le(i,{key:0,ref:"tableHeaderRef",class:Z(e.ns.e("body-header")),border:e.border,"default-sort":e.defaultSort,store:e.store,"append-filter-panel-to":e.appendFilterPanelTo,onSetDragVisible:e.setDragVisible},null,8,["class","border","default-sort","store","append-filter-panel-to","onSetDragVisible"])):Ee("v-if",!0),le(l,{context:e.context,highlight:e.highlightCurrentRow,"row-class-name":e.rowClassName,"tooltip-effect":e.tooltipEffect,"tooltip-options":e.tooltipOptions,"row-style":e.rowStyle,store:e.store,stripe:e.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","tooltip-options","row-style","store","stripe"]),e.showSummary&&e.tableLayout==="auto"?(K(),Le(c,{key:1,class:Z(e.ns.e("body-footer")),border:e.border,"default-sort":e.defaultSort,store:e.store,"sum-text":e.computedSumText,"summary-method":e.summaryMethod},null,8,["class","border","default-sort","store","sum-text","summary-method"])):Ee("v-if",!0)],6),e.isEmpty?(K(),ue("div",{key:0,ref:"emptyBlock",style:jt(e.emptyBlockStyle),class:Z(e.ns.e("empty-block"))},[G("span",{class:Z(e.ns.e("empty-text"))},[Ne(e.$slots,"empty",{},()=>[ot(ze(e.computedEmptyText),1)])],2)],6)):Ee("v-if",!0),e.$slots.append?(K(),ue("div",{key:1,ref:"appendWrapper",class:Z(e.ns.e("append-wrapper"))},[Ne(e.$slots,"append")],2)):Ee("v-if",!0)]),_:3},8,["view-style","wrap-style","always","tabindex","onScroll"])],2),e.showSummary&&e.tableLayout==="fixed"?Vt((K(),ue("div",{key:1,ref:"footerWrapper",class:Z(e.ns.e("footer-wrapper"))},[G("table",{class:Z(e.ns.e("footer")),cellspacing:"0",cellpadding:"0",border:"0",style:jt(e.tableBodyStyles)},[le(o,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),le(c,{border:e.border,"default-sort":e.defaultSort,store:e.store,"sum-text":e.computedSumText,"summary-method":e.summaryMethod},null,8,["border","default-sort","store","sum-text","summary-method"])],6)],2)),[[Pr,!e.isEmpty],[d,e.handleHeaderFooterMousewheel]]):Ee("v-if",!0),e.border||e.isGroup?(K(),ue("div",{key:2,class:Z(e.ns.e("border-left-patch"))},null,2)):Ee("v-if",!0)],2),Vt(G("div",{ref:"resizeProxy",class:Z(e.ns.e("column-resize-proxy"))},null,2),[[Pr,e.resizeProxyVisible]])],46,["data-prefix","onMouseleave"])}var nU=wt(tU,[["render",rU],["__file","table.vue"]]);const sU={selection:"table-column--selection",expand:"table__expand-column"},aU={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},oU=e=>sU[e]||"",iU={selection:{renderHeader({store:e,column:t}){function r(){return e.states.data.value&&e.states.data.value.length===0}return kt(Ws,{disabled:r(),size:e.states.tableSize.value,indeterminate:e.states.selection.value.length>0&&!e.states.isAllSelected.value,"onUpdate:modelValue":e.toggleAllSelection,modelValue:e.states.isAllSelected.value,ariaLabel:t.label})},renderCell({row:e,column:t,store:r,$index:n}){return kt(Ws,{disabled:t.selectable?!t.selectable.call(null,e,n):!1,size:r.states.tableSize.value,onChange:()=>{r.commit("rowSelectedChanged",e)},onClick:s=>s.stopPropagation(),modelValue:r.isSelected(e),ariaLabel:t.label})},sortable:!1,resizable:!1},index:{renderHeader({column:e}){return e.label||"#"},renderCell({column:e,$index:t}){let r=t+1;const n=e.index;return Zt(n)?r=t+n:et(n)&&(r=n(t)),kt("div",{},[r])},sortable:!1},expand:{renderHeader({column:e}){return e.label||""},renderCell({row:e,store:t,expanded:r}){const{ns:n}=t,s=[n.e("expand-icon")];return r&&s.push(n.em("expand-icon","expanded")),kt("div",{class:s,onClick:function(o){o.stopPropagation(),t.toggleRowExpansion(e)}},{default:()=>[kt(Ot,null,{default:()=>[kt(vi)]})]})},sortable:!1,resizable:!1}};function lU({row:e,column:t,$index:r}){var n;const s=t.property,a=s&&Wc(e,s).value;return t&&t.formatter?t.formatter(e,t,a,r):((n=a==null?void 0:a.toString)==null?void 0:n.call(a))||""}function uU({row:e,treeNode:t,store:r},n=!1){const{ns:s}=r;if(!t)return n?[kt("span",{class:s.e("placeholder")})]:null;const a=[],o=function(i){i.stopPropagation(),!t.loading&&r.loadOrToggle(e)};if(t.indent&&a.push(kt("span",{class:s.e("indent"),style:{"padding-left":`${t.indent}px`}})),Yr(t.expanded)&&!t.noLazyChildren){const i=[s.e("expand-icon"),t.expanded?s.em("expand-icon","expanded"):""];let l=vi;t.loading&&(l=Fl),a.push(kt("div",{class:i,onClick:o},{default:()=>[kt(Ot,{class:{[s.is("loading")]:t.loading}},{default:()=>[kt(l)]})]}))}else a.push(kt("span",{class:s.e("placeholder")}));return a}function kx(e,t){return e.reduce((r,n)=>(r[n]=n,r),t)}function cU(e,t){const r=Ht();return{registerComplexWatchers:()=>{const a=["fixed"],o={realWidth:"width",realMinWidth:"minWidth"},i=kx(a,o);Object.keys(i).forEach(l=>{const c=o[l];Wt(t,c)&&tt(()=>t[c],u=>{let d=u;c==="width"&&l==="realWidth"&&(d=_g(u)),c==="minWidth"&&l==="realMinWidth"&&(d=sx(u)),r.columnConfig.value[c]=d,r.columnConfig.value[l]=d;const m=c==="fixed";e.value.store.scheduleLayout(m)})})},registerNormalWatchers:()=>{const a=["label","filters","filterMultiple","filteredValue","sortable","index","formatter","className","labelClassName","filterClassName","showOverflowTooltip"],o={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},i=kx(a,o);Object.keys(i).forEach(l=>{const c=o[l];Wt(t,c)&&tt(()=>t[c],u=>{r.columnConfig.value[l]=u})})}}}function dU(e,t,r){const n=Ht(),s=ee(""),a=ee(!1),o=ee(),i=ee(),l=ct("table");va(()=>{o.value=e.align?`is-${e.align}`:null,o.value}),va(()=>{i.value=e.headerAlign?`is-${e.headerAlign}`:o.value,i.value});const c=W(()=>{let S=n.vnode.vParent||n.parent;for(;S&&!S.tableId&&!S.columnId;)S=S.vnode.vParent||S.parent;return S}),u=W(()=>{const{store:S}=n.parent;if(!S)return!1;const{treeData:x}=S.states,I=x.value;return I&&Object.keys(I).length>0}),d=ee(_g(e.width)),m=ee(sx(e.minWidth)),b=S=>(d.value&&(S.width=d.value),m.value&&(S.minWidth=m.value),!d.value&&m.value&&(S.width=void 0),S.minWidth||(S.minWidth=80),S.realWidth=Number(Rr(S.width)?S.minWidth:S.width),S),g=S=>{const x=S.type,I=iU[x]||{};Object.keys(I).forEach(P=>{const $=I[P];P!=="className"&&!Rr($)&&(S[P]=$)});const f=oU(x);if(f){const P=`${w(l.namespace)}-${f}`;S.className=S.className?`${S.className} ${P}`:P}return S},h=S=>{Ue(S)?S.forEach(I=>x(I)):x(S);function x(I){var f;((f=I==null?void 0:I.type)==null?void 0:f.name)==="ElTableColumn"&&(I.vParent=n)}};return{columnId:s,realAlign:o,isSubColumn:a,realHeaderAlign:i,columnOrTableParent:c,setColumnWidth:b,setColumnForcedProps:g,setColumnRenders:S=>{e.renderHeader||S.type!=="selection"&&(S.renderHeader=I=>(n.columnConfig.value.label,Ne(t,"header",I,()=>[S.label]))),t["filter-icon"]&&(S.renderFilterIcon=I=>Ne(t,"filter-icon",I));let x=S.renderCell;return S.type==="expand"?(S.renderCell=I=>kt("div",{class:"cell"},[x(I)]),r.value.renderExpanded=I=>t.default?t.default(I):t.default):(x=x||lU,S.renderCell=I=>{let f=null;if(t.default){const F=t.default(I);f=F.some(N=>N.type!==en)?F:x(I)}else f=x(I);const{columns:P}=r.value.store.states,$=P.value.findIndex(F=>F.type==="default"),q=u.value&&I.cellIndex===$,E=uU(I,q),M={class:"cell",style:{}};return S.showOverflowTooltip&&(M.class=`${M.class} ${w(l.namespace)}-tooltip`,M.style={width:`${(I.column.realWidth||Number(I.column.width))-1}px`}),h(f),kt("div",M,[E,f])}),S},getPropsData:(...S)=>S.reduce((x,I)=>(Ue(I)&&I.forEach(f=>{x[f]=e[f]}),x),{}),getColumnElIndex:(S,x)=>Array.prototype.indexOf.call(S,x),updateColumnOrder:()=>{r.value.store.commit("updateColumnOrder",n.columnConfig.value)}}}var fU={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showOverflowTooltip:{type:[Boolean,Object],default:void 0},fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},filterClassName:String,index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:e=>e.every(t=>["ascending","descending",null].includes(t))}};let pU=1;var Ox=xe({name:"ElTableColumn",components:{ElCheckbox:Ws},props:fU,setup(e,{slots:t}){const r=Ht(),n=ee({}),s=W(()=>{let _=r.parent;for(;_&&!_.tableId;)_=_.parent;return _}),{registerNormalWatchers:a,registerComplexWatchers:o}=cU(s,e),{columnId:i,isSubColumn:l,realHeaderAlign:c,columnOrTableParent:u,setColumnWidth:d,setColumnForcedProps:m,setColumnRenders:b,getPropsData:g,getColumnElIndex:h,realAlign:v,updateColumnOrder:y}=dU(e,t,s),C=u.value;i.value=`${C.tableId||C.columnId}_column_${pU++}`,bc(()=>{l.value=s.value!==C;const _=e.type||"default",S=e.sortable===""?!0:e.sortable,x=Rr(e.showOverflowTooltip)?C.props.showOverflowTooltip:e.showOverflowTooltip,I={...aU[_],id:i.value,type:_,property:e.prop||e.property,align:v,headerAlign:c,showOverflowTooltip:x,filterable:e.filters||e.filterMethod,filteredValue:[],filterPlacement:"",filterClassName:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:S,index:e.index,rawColumnKey:r.vnode.key};let E=g(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement","filterClassName"]);E=c7(I,E),E=f7(b,d,m)(E),n.value=E,a(),o()}),Kt(()=>{var _;const S=u.value,x=l.value?S.vnode.el.children:(_=S.refs.hiddenColumns)==null?void 0:_.children,I=()=>h(x||[],r.vnode.el);n.value.getColumnIndex=I,I()>-1&&s.value.store.commit("insertColumn",n.value,l.value?S.columnConfig.value:null,y)}),Fr(()=>{const _=n.value.getColumnIndex;(_?_():-1)>-1&&s.value.store.commit("removeColumn",n.value,l.value?C.columnConfig.value:null,y)}),r.columnId=i.value,r.columnConfig=n},render(){var e,t,r;try{const n=(t=(e=this.$slots).default)==null?void 0:t.call(e,{row:{},column:{},$index:-1}),s=[];if(Ue(n))for(const o of n)((r=o.type)==null?void 0:r.name)==="ElTableColumn"||o.shapeFlag&2?s.push(o):o.type===ht&&Ue(o.children)&&o.children.forEach(i=>{(i==null?void 0:i.patchFlag)!==1024&&!yt(i==null?void 0:i.children)&&s.push(i)});return kt("div",s)}catch{return kt("div",[])}}});const Px=Ar(nU,{TableColumn:Ox}),Ax=Io(Ox);function hU(e){let t;const r=ee(!1),n=Zr({...e,originalPosition:"",originalOverflow:"",visible:!1});function s(m){n.text=m}function a(){const m=n.parent,b=d.ns;if(!m.vLoadingAddClassList){let g=m.getAttribute("loading-number");g=Number.parseInt(g)-1,g?m.setAttribute("loading-number",g.toString()):(Us(m,b.bm("parent","relative")),m.removeAttribute("loading-number")),Us(m,b.bm("parent","hidden"))}o(),u.unmount()}function o(){var m,b;(b=(m=d.$el)==null?void 0:m.parentNode)==null||b.removeChild(d.$el)}function i(){var m;e.beforeClose&&!e.beforeClose()||(r.value=!0,clearTimeout(t),t=setTimeout(l,400),n.visible=!1,(m=e.closed)==null||m.call(e))}function l(){if(!r.value)return;const m=n.parent;r.value=!1,m.vLoadingAddClassList=void 0,a()}const u=Fs(xe({name:"ElLoading",setup(m,{expose:b}){const{ns:g,zIndex:h}=Tm("loading");return b({ns:g,zIndex:h}),()=>{const v=n.spinner||n.svg,y=kt("svg",{class:"circular",viewBox:n.svgViewBox?n.svgViewBox:"0 0 50 50",...v?{innerHTML:v}:{}},[kt("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),C=n.text?kt("p",{class:g.b("text")},[n.text]):void 0;return kt(vs,{name:g.b("fade"),onAfterLeave:l},{default:ie(()=>[Vt(le("div",{style:{backgroundColor:n.background||""},class:[g.b("mask"),n.customClass,n.fullscreen?"is-fullscreen":""]},[kt("div",{class:g.b("spinner")},[y,C])]),[[Pr,n.visible]])])})}}})),d=u.mount(document.createElement("div"));return{...ha(n),setText:s,removeElLoadingChild:o,close:i,handleAfterLeave:l,vm:d,get $el(){return d.$el}}}let Bd;const Wn=function(e={}){if(!ur)return;const t=mU(e);if(t.fullscreen&&Bd)return Bd;const r=hU({...t,closed:()=>{var s;(s=t.closed)==null||s.call(t),t.fullscreen&&(Bd=void 0)}});gU(t,t.parent,r),Ex(t,t.parent,r),t.parent.vLoadingAddClassList=()=>Ex(t,t.parent,r);let n=t.parent.getAttribute("loading-number");return n?n=`${Number.parseInt(n)+1}`:n="1",t.parent.setAttribute("loading-number",n),t.parent.appendChild(r.$el),xt(()=>r.visible.value=t.visible),t.fullscreen&&(Bd=r),r},mU=e=>{var t,r,n,s;let a;return yt(e.target)?a=(t=document.querySelector(e.target))!=null?t:document.body:a=e.target||document.body,{parent:a===document.body||e.body?document.body:a,background:e.background||"",svg:e.svg||"",svgViewBox:e.svgViewBox||"",spinner:e.spinner||!1,text:e.text||"",fullscreen:a===document.body&&((r=e.fullscreen)!=null?r:!0),lock:(n=e.lock)!=null?n:!1,customClass:e.customClass||"",visible:(s=e.visible)!=null?s:!0,beforeClose:e.beforeClose,closed:e.closed,target:a}},gU=async(e,t,r)=>{const{nextZIndex:n}=r.vm.zIndex||r.vm._.exposed.zIndex,s={};if(e.fullscreen)r.originalPosition.value=xo(document.body,"position"),r.originalOverflow.value=xo(document.body,"overflow"),s.zIndex=n();else if(e.parent===document.body){r.originalPosition.value=xo(document.body,"position"),await xt();for(const a of["top","left"]){const o=a==="top"?"scrollTop":"scrollLeft";s[a]=`${e.target.getBoundingClientRect()[a]+document.body[o]+document.documentElement[o]-Number.parseInt(xo(document.body,`margin-${a}`),10)}px`}for(const a of["height","width"])s[a]=`${e.target.getBoundingClientRect()[a]}px`}else r.originalPosition.value=xo(t,"position");for(const[a,o]of Object.entries(s))r.$el.style[a]=o},Ex=(e,t,r)=>{const n=r.vm.ns||r.vm._.exposed.ns;["absolute","fixed","sticky"].includes(r.originalPosition.value)?Us(t,n.bm("parent","relative")):Co(t,n.bm("parent","relative")),e.fullscreen&&e.lock?Co(t,n.bm("parent","hidden")):Us(t,n.bm("parent","hidden"))},$x=["success","info","warning","error"],dn=Q_({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:ur?document.body:void 0}),vU=vt({customClass:{type:String,default:dn.customClass},center:{type:Boolean,default:dn.center},dangerouslyUseHTMLString:{type:Boolean,default:dn.dangerouslyUseHTMLString},duration:{type:Number,default:dn.duration},icon:{type:qs,default:dn.icon},id:{type:String,default:dn.id},message:{type:Je([String,Object,Function]),default:dn.message},onClose:{type:Je(Function),default:dn.onClose},showClose:{type:Boolean,default:dn.showClose},type:{type:String,values:$x,default:dn.type},plain:{type:Boolean,default:dn.plain},offset:{type:Number,default:dn.offset},zIndex:{type:Number,default:dn.zIndex},grouping:{type:Boolean,default:dn.grouping},repeatNum:{type:Number,default:dn.repeatNum}}),yU={destroy:()=>!0},Cs=Zw([]),bU=e=>{const t=Cs.findIndex(s=>s.id===e),r=Cs[t];let n;return t>0&&(n=Cs[t-1]),{current:r,prev:n}},wU=e=>{const{prev:t}=bU(e);return t?t.vm.exposed.bottom.value:0},SU=(e,t)=>Cs.findIndex(n=>n.id===e)>0?16:t,_U=xe({...xe({name:"ElMessage"}),props:vU,emits:yU,setup(e,{expose:t}){const r=e,{Close:n}=km,{ns:s,zIndex:a}=Tm("message"),{currentZIndex:o,nextZIndex:i}=a,l=ee(),c=ee(!1),u=ee(0);let d;const m=W(()=>r.type?r.type==="error"?"danger":r.type:"info"),b=W(()=>{const f=r.type;return{[s.bm("icon",f)]:f&&bi[f]}}),g=W(()=>r.icon||bi[r.type]||""),h=W(()=>wU(r.id)),v=W(()=>SU(r.id,r.offset)+h.value),y=W(()=>u.value+v.value),C=W(()=>({top:`${v.value}px`,zIndex:o.value}));function _(){r.duration!==0&&({stop:d}=bm(()=>{x()},r.duration))}function S(){d==null||d()}function x(){c.value=!1}function I({code:f}){f===cr.esc&&x()}return Kt(()=>{_(),i(),c.value=!0}),tt(()=>r.repeatNum,()=>{S(),_()}),es(document,"keydown",I),jn(l,()=>{u.value=l.value.getBoundingClientRect().height}),t({visible:c,bottom:y,close:x}),(f,P)=>(K(),Le(vs,{name:w(s).b("fade"),onBeforeLeave:f.onClose,onAfterLeave:$=>f.$emit("destroy"),persisted:""},{default:ie(()=>[Vt(G("div",{id:f.id,ref_key:"messageRef",ref:l,class:Z([w(s).b(),{[w(s).m(f.type)]:f.type},w(s).is("center",f.center),w(s).is("closable",f.showClose),w(s).is("plain",f.plain),f.customClass]),style:jt(w(C)),role:"alert",onMouseenter:S,onMouseleave:_},[f.repeatNum>1?(K(),Le(w(sF),{key:0,value:f.repeatNum,type:w(m),class:Z(w(s).e("badge"))},null,8,["value","type","class"])):Ee("v-if",!0),w(g)?(K(),Le(w(Ot),{key:1,class:Z([w(s).e("icon"),w(b)])},{default:ie(()=>[(K(),Le(vr(w(g))))]),_:1},8,["class"])):Ee("v-if",!0),Ne(f.$slots,"default",{},()=>[f.dangerouslyUseHTMLString?(K(),ue(ht,{key:1},[Ee(" Caution here, message could've been compromised, never use user's input as message "),G("p",{class:Z(w(s).e("content")),innerHTML:f.message},null,10,["innerHTML"])],2112)):(K(),ue("p",{key:0,class:Z(w(s).e("content"))},ze(f.message),3))]),f.showClose?(K(),Le(w(Ot),{key:2,class:Z(w(s).e("closeBtn")),onClick:$t(x,["stop"])},{default:ie(()=>[le(w(n))]),_:1},8,["class","onClick"])):Ee("v-if",!0)],46,["id"]),[[Pr,c.value]])]),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}});var TU=wt(_U,[["__file","message.vue"]]);let CU=1;const Rx=e=>{const t=!e||yt(e)||ya(e)||et(e)?{message:e}:e,r={...dn,...t};if(!r.appendTo)r.appendTo=document.body;else if(yt(r.appendTo)){let n=document.querySelector(r.appendTo);Zn(n)||(n=document.body),r.appendTo=n}return Yr(Ts.grouping)&&!r.grouping&&(r.grouping=Ts.grouping),Zt(Ts.duration)&&r.duration===3e3&&(r.duration=Ts.duration),Zt(Ts.offset)&&r.offset===16&&(r.offset=Ts.offset),Yr(Ts.showClose)&&!r.showClose&&(r.showClose=Ts.showClose),r},xU=e=>{const t=Cs.indexOf(e);if(t===-1)return;Cs.splice(t,1);const{handler:r}=e;r.close()},IU=({appendTo:e,...t},r)=>{const n=`message_${CU++}`,s=t.onClose,a=document.createElement("div"),o={...t,id:n,onClose:()=>{s==null||s(),xU(u)},onDestroy:()=>{hi(null,a)}},i=le(TU,o,et(o.message)||ya(o.message)?{default:et(o.message)?o.message:()=>o.message}:null);i.appContext=r||Mi._context,hi(i,a),e.appendChild(a.firstElementChild);const l=i.component,u={id:n,vnode:i,vm:l,handler:{close:()=>{l.exposed.visible.value=!1}},props:i.component.props};return u},Mi=(e={},t)=>{if(!ur)return{close:()=>{}};const r=Rx(e);if(r.grouping&&Cs.length){const s=Cs.find(({vnode:a})=>{var o;return((o=a.props)==null?void 0:o.message)===r.message});if(s)return s.props.repeatNum+=1,s.props.type=r.type,s.handler}if(Zt(Ts.max)&&Cs.length>=Ts.max)return{close:()=>{}};const n=IU(r,t);return Cs.push(n),n.handler};$x.forEach(e=>{Mi[e]=(t={},r)=>{const n=Rx(t);return Mi({...n,type:e},r)}});function kU(e){for(const t of Cs)(!e||e===t.props.type)&&t.handler.close()}Mi.closeAll=kU,Mi._context=null;const St=F3(Mi,"$message"),Dg="_trap-focus-children",Mo=[],Lx=e=>{if(Mo.length===0)return;const t=Mo[Mo.length-1][Dg];if(t.length>0&&e.code===cr.tab){if(t.length===1){e.preventDefault(),document.activeElement!==t[0]&&t[0].focus();return}const r=e.shiftKey,n=e.target===t[0],s=e.target===t[t.length-1];n&&r&&(e.preventDefault(),t[t.length-1].focus()),s&&!r&&(e.preventDefault(),t[0].focus())}},OU=xe({name:"ElMessageBox",directives:{TrapFocus:{beforeMount(e){e[Dg]=cT(e),Mo.push(e),Mo.length<=1&&document.addEventListener("keydown",Lx)},updated(e){xt(()=>{e[Dg]=cT(e)})},unmounted(){Mo.shift(),Mo.length===0&&document.removeEventListener("keydown",Lx)}}},components:{ElButton:un,ElFocusTrap:id,ElInput:Ta,ElOverlay:dg,ElIcon:Ot,...km},inheritAttrs:!1,props:{buttonSize:{type:String,validator:i7},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,overflow:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(e,{emit:t}){const{locale:r,zIndex:n,ns:s,size:a}=Tm("message-box",W(()=>e.buttonSize)),{t:o}=r,{nextZIndex:i}=n,l=ee(!1),c=Zr({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonLoadingIcon:xh(Fl),cancelButtonLoadingIcon:xh(Fl),confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:i()}),u=W(()=>{const H=c.type;return{[s.bm("icon",H)]:H&&bi[H]}}),d=Vs(),m=Vs(),b=W(()=>c.icon||bi[c.type]||""),g=W(()=>!!c.message),h=ee(),v=ee(),y=ee(),C=ee(),_=ee(),S=W(()=>c.confirmButtonClass);tt(()=>c.inputValue,async H=>{await xt(),e.boxType==="prompt"&&H!==null&&M()},{immediate:!0}),tt(()=>l.value,H=>{var U,L;H&&(e.boxType!=="prompt"&&(c.autofocus?y.value=(L=(U=_.value)==null?void 0:U.$el)!=null?L:h.value:y.value=h.value),c.zIndex=i()),e.boxType==="prompt"&&(H?xt().then(()=>{var D;C.value&&C.value.$el&&(c.autofocus?y.value=(D=F())!=null?D:h.value:y.value=h.value)}):(c.editorErrorMessage="",c.validateError=!1))});const x=W(()=>e.draggable),I=W(()=>e.overflow);RC(h,v,x,I),Kt(async()=>{await xt(),e.closeOnHashChange&&window.addEventListener("hashchange",f)}),Fr(()=>{e.closeOnHashChange&&window.removeEventListener("hashchange",f)});function f(){l.value&&(l.value=!1,xt(()=>{c.action&&t("action",c.action)}))}const P=()=>{e.closeOnClickModal&&E(c.distinguishCancelAndClose?"close":"cancel")},$=cg(P),q=H=>{if(c.inputType!=="textarea")return H.preventDefault(),E("confirm")},E=H=>{var U;e.boxType==="prompt"&&H==="confirm"&&!M()||(c.action=H,c.beforeClose?(U=c.beforeClose)==null||U.call(c,H,c,f):f())},M=()=>{if(e.boxType==="prompt"){const H=c.inputPattern;if(H&&!H.test(c.inputValue||""))return c.editorErrorMessage=c.inputErrorMessage||o("el.messagebox.error"),c.validateError=!0,!1;const U=c.inputValidator;if(et(U)){const L=U(c.inputValue);if(L===!1)return c.editorErrorMessage=c.inputErrorMessage||o("el.messagebox.error"),c.validateError=!0,!1;if(yt(L))return c.editorErrorMessage=L,c.validateError=!0,!1}}return c.editorErrorMessage="",c.validateError=!1,!0},F=()=>{const H=C.value.$refs;return H.input||H.textarea},N=()=>{E("close")},R=()=>{e.closeOnPressEscape&&N()};return e.lockScroll&&DC(l),{...ha(c),ns:s,overlayEvent:$,visible:l,hasMessage:g,typeClass:u,contentId:d,inputId:m,btnSize:a,iconComponent:b,confirmButtonClasses:S,rootRef:h,focusStartRef:y,headerRef:v,inputRef:C,confirmRef:_,doClose:f,handleClose:N,onCloseRequested:R,handleWrapperClick:P,handleInputEnter:q,handleAction:E,t:o}}});function PU(e,t,r,n,s,a){const o=_r("el-icon"),i=_r("close"),l=_r("el-input"),c=_r("el-button"),u=_r("el-focus-trap"),d=_r("el-overlay");return K(),Le(vs,{name:"fade-in-linear",onAfterLeave:m=>e.$emit("vanish"),persisted:""},{default:ie(()=>[Vt(le(d,{"z-index":e.zIndex,"overlay-class":[e.ns.is("message-box"),e.modalClass],mask:e.modal},{default:ie(()=>[G("div",{role:"dialog","aria-label":e.title,"aria-modal":"true","aria-describedby":e.showInput?void 0:e.contentId,class:Z(`${e.ns.namespace.value}-overlay-message-box`),onClick:e.overlayEvent.onClick,onMousedown:e.overlayEvent.onMousedown,onMouseup:e.overlayEvent.onMouseup},[le(u,{loop:"",trapped:e.visible,"focus-trap-el":e.rootRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:ie(()=>[G("div",{ref:"rootRef",class:Z([e.ns.b(),e.customClass,e.ns.is("draggable",e.draggable),{[e.ns.m("center")]:e.center}]),style:jt(e.customStyle),tabindex:"-1",onClick:$t(()=>{},["stop"])},[e.title!==null&&e.title!==void 0?(K(),ue("div",{key:0,ref:"headerRef",class:Z([e.ns.e("header"),{"show-close":e.showClose}])},[G("div",{class:Z(e.ns.e("title"))},[e.iconComponent&&e.center?(K(),Le(o,{key:0,class:Z([e.ns.e("status"),e.typeClass])},{default:ie(()=>[(K(),Le(vr(e.iconComponent)))]),_:1},8,["class"])):Ee("v-if",!0),G("span",null,ze(e.title),1)],2),e.showClose?(K(),ue("button",{key:0,type:"button",class:Z(e.ns.e("headerbtn")),"aria-label":e.t("el.messagebox.close"),onClick:m=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),onKeydown:qr($t(m=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"])},[le(o,{class:Z(e.ns.e("close"))},{default:ie(()=>[le(i)]),_:1},8,["class"])],42,["aria-label","onClick","onKeydown"])):Ee("v-if",!0)],2)):Ee("v-if",!0),G("div",{id:e.contentId,class:Z(e.ns.e("content"))},[G("div",{class:Z(e.ns.e("container"))},[e.iconComponent&&!e.center&&e.hasMessage?(K(),Le(o,{key:0,class:Z([e.ns.e("status"),e.typeClass])},{default:ie(()=>[(K(),Le(vr(e.iconComponent)))]),_:1},8,["class"])):Ee("v-if",!0),e.hasMessage?(K(),ue("div",{key:1,class:Z(e.ns.e("message"))},[Ne(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(K(),Le(vr(e.showInput?"label":"p"),{key:1,for:e.showInput?e.inputId:void 0,innerHTML:e.message},null,8,["for","innerHTML"])):(K(),Le(vr(e.showInput?"label":"p"),{key:0,for:e.showInput?e.inputId:void 0},{default:ie(()=>[ot(ze(e.dangerouslyUseHTMLString?"":e.message),1)]),_:1},8,["for"]))])],2)):Ee("v-if",!0)],2),Vt(G("div",{class:Z(e.ns.e("input"))},[le(l,{id:e.inputId,ref:"inputRef",modelValue:e.inputValue,"onUpdate:modelValue":m=>e.inputValue=m,type:e.inputType,placeholder:e.inputPlaceholder,"aria-invalid":e.validateError,class:Z({invalid:e.validateError}),onKeydown:qr(e.handleInputEnter,["enter"])},null,8,["id","modelValue","onUpdate:modelValue","type","placeholder","aria-invalid","class","onKeydown"]),G("div",{class:Z(e.ns.e("errormsg")),style:jt({visibility:e.editorErrorMessage?"visible":"hidden"})},ze(e.editorErrorMessage),7)],2),[[Pr,e.showInput]])],10,["id"]),G("div",{class:Z(e.ns.e("btns"))},[e.showCancelButton?(K(),Le(c,{key:0,loading:e.cancelButtonLoading,"loading-icon":e.cancelButtonLoadingIcon,class:Z([e.cancelButtonClass]),round:e.roundButton,size:e.btnSize,onClick:m=>e.handleAction("cancel"),onKeydown:qr($t(m=>e.handleAction("cancel"),["prevent"]),["enter"])},{default:ie(()=>[ot(ze(e.cancelButtonText||e.t("el.messagebox.cancel")),1)]),_:1},8,["loading","loading-icon","class","round","size","onClick","onKeydown"])):Ee("v-if",!0),Vt(le(c,{ref:"confirmRef",type:"primary",loading:e.confirmButtonLoading,"loading-icon":e.confirmButtonLoadingIcon,class:Z([e.confirmButtonClasses]),round:e.roundButton,disabled:e.confirmButtonDisabled,size:e.btnSize,onClick:m=>e.handleAction("confirm"),onKeydown:qr($t(m=>e.handleAction("confirm"),["prevent"]),["enter"])},{default:ie(()=>[ot(ze(e.confirmButtonText||e.t("el.messagebox.confirm")),1)]),_:1},8,["loading","loading-icon","class","round","disabled","size","onClick","onKeydown"]),[[Pr,e.showConfirmButton]])],2)],14,["onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,["aria-label","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["z-index","overlay-class","mask"]),[[Pr,e.visible]])]),_:3},8,["onAfterLeave"])}var AU=wt(OU,[["render",PU],["__file","index.vue"]]);const nu=new Map,EU=e=>{let t=document.body;return e.appendTo&&(yt(e.appendTo)&&(t=document.querySelector(e.appendTo)),Zn(e.appendTo)&&(t=e.appendTo),Zn(t)||(t=document.body)),t},$U=(e,t,r=null)=>{const n=le(AU,e,et(e.message)||ya(e.message)?{default:et(e.message)?e.message:()=>e.message}:null);return n.appContext=r,hi(n,t),EU(e).appendChild(t.firstElementChild),n.component},RU=()=>document.createElement("div"),LU=(e,t)=>{const r=RU();e.onVanish=()=>{hi(null,r),nu.delete(s)},e.onAction=a=>{const o=nu.get(s);let i;e.showInput?i={value:s.inputValue,action:a}:i=a,e.callback?e.callback(i,n.proxy):a==="cancel"||a==="close"?e.distinguishCancelAndClose&&a!=="cancel"?o.reject("close"):o.reject("cancel"):o.resolve(i)};const n=$U(e,r,t),s=n.proxy;for(const a in e)Wt(e,a)&&!Wt(s.$props,a)&&(s[a]=e[a]);return s.visible=!0,s};function Di(e,t=null){if(!ur)return Promise.reject();let r;return yt(e)||ya(e)?e={message:e}:r=e.callback,new Promise((n,s)=>{const a=LU(e,t??Di._context);nu.set(a,{options:e,callback:r,resolve:n,reject:s})})}const MU=["alert","confirm","prompt"],DU={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};MU.forEach(e=>{Di[e]=NU(e)});function NU(e){return(t,r,n,s)=>{let a="";return Lt(r)?(n=r,a=""):Rr(r)?a="":a=r,Di(Object.assign({title:a,message:t,type:"",...DU[e]},n,{boxType:e}),s)}}Di.close=()=>{nu.forEach((e,t)=>{t.doClose()}),nu.clear()},Di._context=null;const Ga=Di;Ga.install=e=>{Ga._context=e._context,e.config.globalProperties.$msgbox=Ga,e.config.globalProperties.$messageBox=Ga,e.config.globalProperties.$alert=Ga.alert,e.config.globalProperties.$confirm=Ga.confirm,e.config.globalProperties.$prompt=Ga.prompt};const pt=Ga,FU=["src"],BU=xe({__name:"SearchSameDrawer",props:{sourceImageUrl:{}},setup(e){const t=e,r=W(()=>`https://erp.91miaoshou.com/find_source/product?sourceImageUrl=${encodeURIComponent(t.sourceImageUrl)}`);return(n,s)=>{const a=BC;return K(),Le(a,{size:"1000px",direction:"ltr","close-on-click-modal":!1,"close-on-press-escape":!1,class:"earth-wxt-search-same-drawer"},{default:ie(()=>[G("iframe",{src:w(r),class:"earth-wxt-search-same-iframe"},null,8,FU)]),_:1})}}}),Gn=(e,t)=>{const r=e.__vccOpts||e;for(const[n,s]of t)r[n]=s;return r},Mx=Gn(BU,[["__scopeId","data-v-51a5b032"]]);var jd={exports:{}},Ng,Dx;function Ud(){if(Dx)return Ng;Dx=1;const e="2.0.0",t=256,r=Number.MAX_SAFE_INTEGER||9007199254740991,n=16,s=t-6;return Ng={MAX_LENGTH:t,MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:s,MAX_SAFE_INTEGER:r,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Ng}var Fg,Nx;function qd(){return Nx||(Nx=1,Fg=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{}),Fg}var Fx;function su(){return Fx||(Fx=1,function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:s}=Ud(),a=qd();t=e.exports={};const o=t.re=[],i=t.safeRe=[],l=t.src=[],c=t.safeSrc=[],u=t.t={};let d=0;const m="[a-zA-Z0-9-]",b=[["\\s",1],["\\d",s],[m,n]],g=v=>{for(const[y,C]of b)v=v.split(`${y}*`).join(`${y}{0,${C}}`).split(`${y}+`).join(`${y}{1,${C}}`);return v},h=(v,y,C)=>{const _=g(y),S=d++;a(v,S,y),u[v]=S,l[S]=y,c[S]=_,o[S]=new RegExp(y,C?"g":void 0),i[S]=new RegExp(_,C?"g":void 0)};h("NUMERICIDENTIFIER","0|[1-9]\\d*"),h("NUMERICIDENTIFIERLOOSE","\\d+"),h("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${m}*`),h("MAINVERSION",`(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})`),h("MAINVERSIONLOOSE",`(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})`),h("PRERELEASEIDENTIFIER",`(?:${l[u.NUMERICIDENTIFIER]}|${l[u.NONNUMERICIDENTIFIER]})`),h("PRERELEASEIDENTIFIERLOOSE",`(?:${l[u.NUMERICIDENTIFIERLOOSE]}|${l[u.NONNUMERICIDENTIFIER]})`),h("PRERELEASE",`(?:-(${l[u.PRERELEASEIDENTIFIER]}(?:\\.${l[u.PRERELEASEIDENTIFIER]})*))`),h("PRERELEASELOOSE",`(?:-?(${l[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[u.PRERELEASEIDENTIFIERLOOSE]})*))`),h("BUILDIDENTIFIER",`${m}+`),h("BUILD",`(?:\\+(${l[u.BUILDIDENTIFIER]}(?:\\.${l[u.BUILDIDENTIFIER]})*))`),h("FULLPLAIN",`v?${l[u.MAINVERSION]}${l[u.PRERELEASE]}?${l[u.BUILD]}?`),h("FULL",`^${l[u.FULLPLAIN]}$`),h("LOOSEPLAIN",`[v=\\s]*${l[u.MAINVERSIONLOOSE]}${l[u.PRERELEASELOOSE]}?${l[u.BUILD]}?`),h("LOOSE",`^${l[u.LOOSEPLAIN]}$`),h("GTLT","((?:<|>)?=?)"),h("XRANGEIDENTIFIERLOOSE",`${l[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),h("XRANGEIDENTIFIER",`${l[u.NUMERICIDENTIFIER]}|x|X|\\*`),h("XRANGEPLAIN",`[v=\\s]*(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:${l[u.PRERELEASE]})?${l[u.BUILD]}?)?)?`),h("XRANGEPLAINLOOSE",`[v=\\s]*(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:${l[u.PRERELEASELOOSE]})?${l[u.BUILD]}?)?)?`),h("XRANGE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAIN]}$`),h("XRANGELOOSE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAINLOOSE]}$`),h("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),h("COERCE",`${l[u.COERCEPLAIN]}(?:$|[^\\d])`),h("COERCEFULL",l[u.COERCEPLAIN]+`(?:${l[u.PRERELEASE]})?(?:${l[u.BUILD]})?(?:$|[^\\d])`),h("COERCERTL",l[u.COERCE],!0),h("COERCERTLFULL",l[u.COERCEFULL],!0),h("LONETILDE","(?:~>?)"),h("TILDETRIM",`(\\s*)${l[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",h("TILDE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAIN]}$`),h("TILDELOOSE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAINLOOSE]}$`),h("LONECARET","(?:\\^)"),h("CARETTRIM",`(\\s*)${l[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",h("CARET",`^${l[u.LONECARET]}${l[u.XRANGEPLAIN]}$`),h("CARETLOOSE",`^${l[u.LONECARET]}${l[u.XRANGEPLAINLOOSE]}$`),h("COMPARATORLOOSE",`^${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]})$|^$`),h("COMPARATOR",`^${l[u.GTLT]}\\s*(${l[u.FULLPLAIN]})$|^$`),h("COMPARATORTRIM",`(\\s*)${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]}|${l[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",h("HYPHENRANGE",`^\\s*(${l[u.XRANGEPLAIN]})\\s+-\\s+(${l[u.XRANGEPLAIN]})\\s*$`),h("HYPHENRANGELOOSE",`^\\s*(${l[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[u.XRANGEPLAINLOOSE]})\\s*$`),h("STAR","(<|>)?=?\\s*\\*"),h("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),h("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(jd,jd.exports)),jd.exports}var Bg,Bx;function jg(){if(Bx)return Bg;Bx=1;const e=Object.freeze({loose:!0}),t=Object.freeze({});return Bg=n=>n?typeof n!="object"?e:n:t,Bg}var Ug,jx;function Ux(){if(jx)return Ug;jx=1;const e=/^[0-9]+$/,t=(n,s)=>{const a=e.test(n),o=e.test(s);return a&&o&&(n=+n,s=+s),n===s?0:a&&!o?-1:o&&!a?1:n<s?-1:1};return Ug={compareIdentifiers:t,rcompareIdentifiers:(n,s)=>t(s,n)},Ug}var qg,qx;function bn(){if(qx)return qg;qx=1;const e=qd(),{MAX_LENGTH:t,MAX_SAFE_INTEGER:r}=Ud(),{safeRe:n,safeSrc:s,t:a}=su(),o=jg(),{compareIdentifiers:i}=Ux();class l{constructor(u,d){if(d=o(d),u instanceof l){if(u.loose===!!d.loose&&u.includePrerelease===!!d.includePrerelease)return u;u=u.version}else if(typeof u!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof u}".`);if(u.length>t)throw new TypeError(`version is longer than ${t} characters`);e("SemVer",u,d),this.options=d,this.loose=!!d.loose,this.includePrerelease=!!d.includePrerelease;const m=u.trim().match(d.loose?n[a.LOOSE]:n[a.FULL]);if(!m)throw new TypeError(`Invalid Version: ${u}`);if(this.raw=u,this.major=+m[1],this.minor=+m[2],this.patch=+m[3],this.major>r||this.major<0)throw new TypeError("Invalid major version");if(this.minor>r||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>r||this.patch<0)throw new TypeError("Invalid patch version");m[4]?this.prerelease=m[4].split(".").map(b=>{if(/^[0-9]+$/.test(b)){const g=+b;if(g>=0&&g<r)return g}return b}):this.prerelease=[],this.build=m[5]?m[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(u){if(e("SemVer.compare",this.version,this.options,u),!(u instanceof l)){if(typeof u=="string"&&u===this.version)return 0;u=new l(u,this.options)}return u.version===this.version?0:this.compareMain(u)||this.comparePre(u)}compareMain(u){return u instanceof l||(u=new l(u,this.options)),i(this.major,u.major)||i(this.minor,u.minor)||i(this.patch,u.patch)}comparePre(u){if(u instanceof l||(u=new l(u,this.options)),this.prerelease.length&&!u.prerelease.length)return-1;if(!this.prerelease.length&&u.prerelease.length)return 1;if(!this.prerelease.length&&!u.prerelease.length)return 0;let d=0;do{const m=this.prerelease[d],b=u.prerelease[d];if(e("prerelease compare",d,m,b),m===void 0&&b===void 0)return 0;if(b===void 0)return 1;if(m===void 0)return-1;if(m===b)continue;return i(m,b)}while(++d)}compareBuild(u){u instanceof l||(u=new l(u,this.options));let d=0;do{const m=this.build[d],b=u.build[d];if(e("build compare",d,m,b),m===void 0&&b===void 0)return 0;if(b===void 0)return 1;if(m===void 0)return-1;if(m===b)continue;return i(m,b)}while(++d)}inc(u,d,m){if(u.startsWith("pre")){if(!d&&m===!1)throw new Error("invalid increment argument: identifier is empty");if(d){const b=new RegExp(`^${this.options.loose?s[a.PRERELEASELOOSE]:s[a.PRERELEASE]}$`),g=`-${d}`.match(b);if(!g||g[1]!==d)throw new Error(`invalid identifier: ${d}`)}}switch(u){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",d,m);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",d,m);break;case"prepatch":this.prerelease.length=0,this.inc("patch",d,m),this.inc("pre",d,m);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",d,m),this.inc("pre",d,m);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const b=Number(m)?1:0;if(this.prerelease.length===0)this.prerelease=[b];else{let g=this.prerelease.length;for(;--g>=0;)typeof this.prerelease[g]=="number"&&(this.prerelease[g]++,g=-2);if(g===-1){if(d===this.prerelease.join(".")&&m===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(b)}}if(d){let g=[d,b];m===!1&&(g=[d]),i(this.prerelease[0],d)===0?isNaN(this.prerelease[1])&&(this.prerelease=g):this.prerelease=g}break}default:throw new Error(`invalid increment argument: ${u}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return qg=l,qg}var Vg,Vx;function Ni(){if(Vx)return Vg;Vx=1;const e=bn();return Vg=(r,n,s=!1)=>{if(r instanceof e)return r;try{return new e(r,n)}catch(a){if(!s)return null;throw a}},Vg}var Hg,Hx;function jU(){if(Hx)return Hg;Hx=1;const e=Ni();return Hg=(r,n)=>{const s=e(r,n);return s?s.version:null},Hg}var zg,zx;function UU(){if(zx)return zg;zx=1;const e=Ni();return zg=(r,n)=>{const s=e(r.trim().replace(/^[=v]+/,""),n);return s?s.version:null},zg}var Wg,Wx;function qU(){if(Wx)return Wg;Wx=1;const e=bn();return Wg=(r,n,s,a,o)=>{typeof s=="string"&&(o=a,a=s,s=void 0);try{return new e(r instanceof e?r.version:r,s).inc(n,a,o).version}catch{return null}},Wg}var Gg,Gx;function VU(){if(Gx)return Gg;Gx=1;const e=Ni();return Gg=(r,n)=>{const s=e(r,null,!0),a=e(n,null,!0),o=s.compare(a);if(o===0)return null;const i=o>0,l=i?s:a,c=i?a:s,u=!!l.prerelease.length;if(!!c.prerelease.length&&!u){if(!c.patch&&!c.minor)return"major";if(c.compareMain(l)===0)return c.minor&&!c.patch?"minor":"patch"}const m=u?"pre":"";return s.major!==a.major?m+"major":s.minor!==a.minor?m+"minor":s.patch!==a.patch?m+"patch":"prerelease"},Gg}var Kg,Kx;function HU(){if(Kx)return Kg;Kx=1;const e=bn();return Kg=(r,n)=>new e(r,n).major,Kg}var Yg,Yx;function zU(){if(Yx)return Yg;Yx=1;const e=bn();return Yg=(r,n)=>new e(r,n).minor,Yg}var Jg,Jx;function WU(){if(Jx)return Jg;Jx=1;const e=bn();return Jg=(r,n)=>new e(r,n).patch,Jg}var Xg,Xx;function GU(){if(Xx)return Xg;Xx=1;const e=Ni();return Xg=(r,n)=>{const s=e(r,n);return s&&s.prerelease.length?s.prerelease:null},Xg}var Qg,Qx;function xs(){if(Qx)return Qg;Qx=1;const e=bn();return Qg=(r,n,s)=>new e(r,s).compare(new e(n,s)),Qg}var Zg,Zx;function KU(){if(Zx)return Zg;Zx=1;const e=xs();return Zg=(r,n,s)=>e(n,r,s),Zg}var ev,eI;function YU(){if(eI)return ev;eI=1;const e=xs();return ev=(r,n)=>e(r,n,!0),ev}var tv,tI;function rv(){if(tI)return tv;tI=1;const e=bn();return tv=(r,n,s)=>{const a=new e(r,s),o=new e(n,s);return a.compare(o)||a.compareBuild(o)},tv}var nv,rI;function JU(){if(rI)return nv;rI=1;const e=rv();return nv=(r,n)=>r.sort((s,a)=>e(s,a,n)),nv}var sv,nI;function XU(){if(nI)return sv;nI=1;const e=rv();return sv=(r,n)=>r.sort((s,a)=>e(a,s,n)),sv}var av,sI;function Vd(){if(sI)return av;sI=1;const e=xs();return av=(r,n,s)=>e(r,n,s)>0,av}var ov,aI;function iv(){if(aI)return ov;aI=1;const e=xs();return ov=(r,n,s)=>e(r,n,s)<0,ov}var lv,oI;function iI(){if(oI)return lv;oI=1;const e=xs();return lv=(r,n,s)=>e(r,n,s)===0,lv}var uv,lI;function uI(){if(lI)return uv;lI=1;const e=xs();return uv=(r,n,s)=>e(r,n,s)!==0,uv}var cv,cI;function dv(){if(cI)return cv;cI=1;const e=xs();return cv=(r,n,s)=>e(r,n,s)>=0,cv}var fv,dI;function pv(){if(dI)return fv;dI=1;const e=xs();return fv=(r,n,s)=>e(r,n,s)<=0,fv}var hv,fI;function pI(){if(fI)return hv;fI=1;const e=iI(),t=uI(),r=Vd(),n=dv(),s=iv(),a=pv();return hv=(i,l,c,u)=>{switch(l){case"===":return typeof i=="object"&&(i=i.version),typeof c=="object"&&(c=c.version),i===c;case"!==":return typeof i=="object"&&(i=i.version),typeof c=="object"&&(c=c.version),i!==c;case"":case"=":case"==":return e(i,c,u);case"!=":return t(i,c,u);case">":return r(i,c,u);case">=":return n(i,c,u);case"<":return s(i,c,u);case"<=":return a(i,c,u);default:throw new TypeError(`Invalid operator: ${l}`)}},hv}var mv,hI;function QU(){if(hI)return mv;hI=1;const e=bn(),t=Ni(),{safeRe:r,t:n}=su();return mv=(a,o)=>{if(a instanceof e)return a;if(typeof a=="number"&&(a=String(a)),typeof a!="string")return null;o=o||{};let i=null;if(!o.rtl)i=a.match(o.includePrerelease?r[n.COERCEFULL]:r[n.COERCE]);else{const b=o.includePrerelease?r[n.COERCERTLFULL]:r[n.COERCERTL];let g;for(;(g=b.exec(a))&&(!i||i.index+i[0].length!==a.length);)(!i||g.index+g[0].length!==i.index+i[0].length)&&(i=g),b.lastIndex=g.index+g[1].length+g[2].length;b.lastIndex=-1}if(i===null)return null;const l=i[2],c=i[3]||"0",u=i[4]||"0",d=o.includePrerelease&&i[5]?`-${i[5]}`:"",m=o.includePrerelease&&i[6]?`+${i[6]}`:"";return t(`${l}.${c}.${u}${d}${m}`,o)},mv}var gv,mI;function ZU(){if(mI)return gv;mI=1;class e{constructor(){this.max=1e3,this.map=new Map}get(r){const n=this.map.get(r);if(n!==void 0)return this.map.delete(r),this.map.set(r,n),n}delete(r){return this.map.delete(r)}set(r,n){if(!this.delete(r)&&n!==void 0){if(this.map.size>=this.max){const a=this.map.keys().next().value;this.delete(a)}this.map.set(r,n)}return this}}return gv=e,gv}var vv,gI;function Is(){if(gI)return vv;gI=1;const e=/\s+/g;class t{constructor(R,H){if(H=s(H),R instanceof t)return R.loose===!!H.loose&&R.includePrerelease===!!H.includePrerelease?R:new t(R.raw,H);if(R instanceof a)return this.raw=R.value,this.set=[[R]],this.formatted=void 0,this;if(this.options=H,this.loose=!!H.loose,this.includePrerelease=!!H.includePrerelease,this.raw=R.trim().replace(e," "),this.set=this.raw.split("||").map(U=>this.parseRange(U.trim())).filter(U=>U.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const U=this.set[0];if(this.set=this.set.filter(L=>!h(L[0])),this.set.length===0)this.set=[U];else if(this.set.length>1){for(const L of this.set)if(L.length===1&&v(L[0])){this.set=[L];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let R=0;R<this.set.length;R++){R>0&&(this.formatted+="||");const H=this.set[R];for(let U=0;U<H.length;U++)U>0&&(this.formatted+=" "),this.formatted+=H[U].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(R){const U=((this.options.includePrerelease&&b)|(this.options.loose&&g))+":"+R,L=n.get(U);if(L)return L;const D=this.options.loose,Y=D?l[c.HYPHENRANGELOOSE]:l[c.HYPHENRANGE];R=R.replace(Y,M(this.options.includePrerelease)),o("hyphen replace",R),R=R.replace(l[c.COMPARATORTRIM],u),o("comparator trim",R),R=R.replace(l[c.TILDETRIM],d),o("tilde trim",R),R=R.replace(l[c.CARETTRIM],m),o("caret trim",R);let Q=R.split(" ").map(ve=>C(ve,this.options)).join(" ").split(/\s+/).map(ve=>E(ve,this.options));D&&(Q=Q.filter(ve=>(o("loose invalid filter",ve,this.options),!!ve.match(l[c.COMPARATORLOOSE])))),o("range list",Q);const ae=new Map,ne=Q.map(ve=>new a(ve,this.options));for(const ve of ne){if(h(ve))return[ve];ae.set(ve.value,ve)}ae.size>1&&ae.has("")&&ae.delete("");const he=[...ae.values()];return n.set(U,he),he}intersects(R,H){if(!(R instanceof t))throw new TypeError("a Range is required");return this.set.some(U=>y(U,H)&&R.set.some(L=>y(L,H)&&U.every(D=>L.every(Y=>D.intersects(Y,H)))))}test(R){if(!R)return!1;if(typeof R=="string")try{R=new i(R,this.options)}catch{return!1}for(let H=0;H<this.set.length;H++)if(F(this.set[H],R,this.options))return!0;return!1}}vv=t;const r=ZU(),n=new r,s=jg(),a=Hd(),o=qd(),i=bn(),{safeRe:l,t:c,comparatorTrimReplace:u,tildeTrimReplace:d,caretTrimReplace:m}=su(),{FLAG_INCLUDE_PRERELEASE:b,FLAG_LOOSE:g}=Ud(),h=N=>N.value==="<0.0.0-0",v=N=>N.value==="",y=(N,R)=>{let H=!0;const U=N.slice();let L=U.pop();for(;H&&U.length;)H=U.every(D=>L.intersects(D,R)),L=U.pop();return H},C=(N,R)=>(o("comp",N,R),N=I(N,R),o("caret",N),N=S(N,R),o("tildes",N),N=P(N,R),o("xrange",N),N=q(N,R),o("stars",N),N),_=N=>!N||N.toLowerCase()==="x"||N==="*",S=(N,R)=>N.trim().split(/\s+/).map(H=>x(H,R)).join(" "),x=(N,R)=>{const H=R.loose?l[c.TILDELOOSE]:l[c.TILDE];return N.replace(H,(U,L,D,Y,Q)=>{o("tilde",N,U,L,D,Y,Q);let ae;return _(L)?ae="":_(D)?ae=`>=${L}.0.0 <${+L+1}.0.0-0`:_(Y)?ae=`>=${L}.${D}.0 <${L}.${+D+1}.0-0`:Q?(o("replaceTilde pr",Q),ae=`>=${L}.${D}.${Y}-${Q} <${L}.${+D+1}.0-0`):ae=`>=${L}.${D}.${Y} <${L}.${+D+1}.0-0`,o("tilde return",ae),ae})},I=(N,R)=>N.trim().split(/\s+/).map(H=>f(H,R)).join(" "),f=(N,R)=>{o("caret",N,R);const H=R.loose?l[c.CARETLOOSE]:l[c.CARET],U=R.includePrerelease?"-0":"";return N.replace(H,(L,D,Y,Q,ae)=>{o("caret",N,L,D,Y,Q,ae);let ne;return _(D)?ne="":_(Y)?ne=`>=${D}.0.0${U} <${+D+1}.0.0-0`:_(Q)?D==="0"?ne=`>=${D}.${Y}.0${U} <${D}.${+Y+1}.0-0`:ne=`>=${D}.${Y}.0${U} <${+D+1}.0.0-0`:ae?(o("replaceCaret pr",ae),D==="0"?Y==="0"?ne=`>=${D}.${Y}.${Q}-${ae} <${D}.${Y}.${+Q+1}-0`:ne=`>=${D}.${Y}.${Q}-${ae} <${D}.${+Y+1}.0-0`:ne=`>=${D}.${Y}.${Q}-${ae} <${+D+1}.0.0-0`):(o("no pr"),D==="0"?Y==="0"?ne=`>=${D}.${Y}.${Q}${U} <${D}.${Y}.${+Q+1}-0`:ne=`>=${D}.${Y}.${Q}${U} <${D}.${+Y+1}.0-0`:ne=`>=${D}.${Y}.${Q} <${+D+1}.0.0-0`),o("caret return",ne),ne})},P=(N,R)=>(o("replaceXRanges",N,R),N.split(/\s+/).map(H=>$(H,R)).join(" ")),$=(N,R)=>{N=N.trim();const H=R.loose?l[c.XRANGELOOSE]:l[c.XRANGE];return N.replace(H,(U,L,D,Y,Q,ae)=>{o("xRange",N,U,L,D,Y,Q,ae);const ne=_(D),he=ne||_(Y),ve=he||_(Q),We=ve;return L==="="&&We&&(L=""),ae=R.includePrerelease?"-0":"",ne?L===">"||L==="<"?U="<0.0.0-0":U="*":L&&We?(he&&(Y=0),Q=0,L===">"?(L=">=",he?(D=+D+1,Y=0,Q=0):(Y=+Y+1,Q=0)):L==="<="&&(L="<",he?D=+D+1:Y=+Y+1),L==="<"&&(ae="-0"),U=`${L+D}.${Y}.${Q}${ae}`):he?U=`>=${D}.0.0${ae} <${+D+1}.0.0-0`:ve&&(U=`>=${D}.${Y}.0${ae} <${D}.${+Y+1}.0-0`),o("xRange return",U),U})},q=(N,R)=>(o("replaceStars",N,R),N.trim().replace(l[c.STAR],"")),E=(N,R)=>(o("replaceGTE0",N,R),N.trim().replace(l[R.includePrerelease?c.GTE0PRE:c.GTE0],"")),M=N=>(R,H,U,L,D,Y,Q,ae,ne,he,ve,We)=>(_(U)?H="":_(L)?H=`>=${U}.0.0${N?"-0":""}`:_(D)?H=`>=${U}.${L}.0${N?"-0":""}`:Y?H=`>=${H}`:H=`>=${H}${N?"-0":""}`,_(ne)?ae="":_(he)?ae=`<${+ne+1}.0.0-0`:_(ve)?ae=`<${ne}.${+he+1}.0-0`:We?ae=`<=${ne}.${he}.${ve}-${We}`:N?ae=`<${ne}.${he}.${+ve+1}-0`:ae=`<=${ae}`,`${H} ${ae}`.trim()),F=(N,R,H)=>{for(let U=0;U<N.length;U++)if(!N[U].test(R))return!1;if(R.prerelease.length&&!H.includePrerelease){for(let U=0;U<N.length;U++)if(o(N[U].semver),N[U].semver!==a.ANY&&N[U].semver.prerelease.length>0){const L=N[U].semver;if(L.major===R.major&&L.minor===R.minor&&L.patch===R.patch)return!0}return!1}return!0};return vv}var yv,vI;function Hd(){if(vI)return yv;vI=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(u,d){if(d=r(d),u instanceof t){if(u.loose===!!d.loose)return u;u=u.value}u=u.trim().split(/\s+/).join(" "),o("comparator",u,d),this.options=d,this.loose=!!d.loose,this.parse(u),this.semver===e?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(u){const d=this.options.loose?n[s.COMPARATORLOOSE]:n[s.COMPARATOR],m=u.match(d);if(!m)throw new TypeError(`Invalid comparator: ${u}`);this.operator=m[1]!==void 0?m[1]:"",this.operator==="="&&(this.operator=""),m[2]?this.semver=new i(m[2],this.options.loose):this.semver=e}toString(){return this.value}test(u){if(o("Comparator.test",u,this.options.loose),this.semver===e||u===e)return!0;if(typeof u=="string")try{u=new i(u,this.options)}catch{return!1}return a(u,this.operator,this.semver,this.options)}intersects(u,d){if(!(u instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(u.value,d).test(this.value):u.operator===""?u.value===""?!0:new l(this.value,d).test(u.semver):(d=r(d),d.includePrerelease&&(this.value==="<0.0.0-0"||u.value==="<0.0.0-0")||!d.includePrerelease&&(this.value.startsWith("<0.0.0")||u.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&u.operator.startsWith(">")||this.operator.startsWith("<")&&u.operator.startsWith("<")||this.semver.version===u.semver.version&&this.operator.includes("=")&&u.operator.includes("=")||a(this.semver,"<",u.semver,d)&&this.operator.startsWith(">")&&u.operator.startsWith("<")||a(this.semver,">",u.semver,d)&&this.operator.startsWith("<")&&u.operator.startsWith(">")))}}yv=t;const r=jg(),{safeRe:n,t:s}=su(),a=pI(),o=qd(),i=bn(),l=Is();return yv}var bv,yI;function zd(){if(yI)return bv;yI=1;const e=Is();return bv=(r,n,s)=>{try{n=new e(n,s)}catch{return!1}return n.test(r)},bv}var wv,bI;function eq(){if(bI)return wv;bI=1;const e=Is();return wv=(r,n)=>new e(r,n).set.map(s=>s.map(a=>a.value).join(" ").trim().split(" ")),wv}var Sv,wI;function tq(){if(wI)return Sv;wI=1;const e=bn(),t=Is();return Sv=(n,s,a)=>{let o=null,i=null,l=null;try{l=new t(s,a)}catch{return null}return n.forEach(c=>{l.test(c)&&(!o||i.compare(c)===-1)&&(o=c,i=new e(o,a))}),o},Sv}var _v,SI;function rq(){if(SI)return _v;SI=1;const e=bn(),t=Is();return _v=(n,s,a)=>{let o=null,i=null,l=null;try{l=new t(s,a)}catch{return null}return n.forEach(c=>{l.test(c)&&(!o||i.compare(c)===1)&&(o=c,i=new e(o,a))}),o},_v}var Tv,_I;function nq(){if(_I)return Tv;_I=1;const e=bn(),t=Is(),r=Vd();return Tv=(s,a)=>{s=new t(s,a);let o=new e("0.0.0");if(s.test(o)||(o=new e("0.0.0-0"),s.test(o)))return o;o=null;for(let i=0;i<s.set.length;++i){const l=s.set[i];let c=null;l.forEach(u=>{const d=new e(u.semver.version);switch(u.operator){case">":d.prerelease.length===0?d.patch++:d.prerelease.push(0),d.raw=d.format();case"":case">=":(!c||r(d,c))&&(c=d);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${u.operator}`)}}),c&&(!o||r(o,c))&&(o=c)}return o&&s.test(o)?o:null},Tv}var Cv,TI;function sq(){if(TI)return Cv;TI=1;const e=Is();return Cv=(r,n)=>{try{return new e(r,n).range||"*"}catch{return null}},Cv}var xv,CI;function Iv(){if(CI)return xv;CI=1;const e=bn(),t=Hd(),{ANY:r}=t,n=Is(),s=zd(),a=Vd(),o=iv(),i=pv(),l=dv();return xv=(u,d,m,b)=>{u=new e(u,b),d=new n(d,b);let g,h,v,y,C;switch(m){case">":g=a,h=i,v=o,y=">",C=">=";break;case"<":g=o,h=l,v=a,y="<",C="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(s(u,d,b))return!1;for(let _=0;_<d.set.length;++_){const S=d.set[_];let x=null,I=null;if(S.forEach(f=>{f.semver===r&&(f=new t(">=0.0.0")),x=x||f,I=I||f,g(f.semver,x.semver,b)?x=f:v(f.semver,I.semver,b)&&(I=f)}),x.operator===y||x.operator===C||(!I.operator||I.operator===y)&&h(u,I.semver))return!1;if(I.operator===C&&v(u,I.semver))return!1}return!0},xv}var kv,xI;function aq(){if(xI)return kv;xI=1;const e=Iv();return kv=(r,n,s)=>e(r,n,">",s),kv}var Ov,II;function oq(){if(II)return Ov;II=1;const e=Iv();return Ov=(r,n,s)=>e(r,n,"<",s),Ov}var Pv,kI;function iq(){if(kI)return Pv;kI=1;const e=Is();return Pv=(r,n,s)=>(r=new e(r,s),n=new e(n,s),r.intersects(n,s)),Pv}var Av,OI;function lq(){if(OI)return Av;OI=1;const e=zd(),t=xs();return Av=(r,n,s)=>{const a=[];let o=null,i=null;const l=r.sort((m,b)=>t(m,b,s));for(const m of l)e(m,n,s)?(i=m,o||(o=m)):(i&&a.push([o,i]),i=null,o=null);o&&a.push([o,null]);const c=[];for(const[m,b]of a)m===b?c.push(m):!b&&m===l[0]?c.push("*"):b?m===l[0]?c.push(`<=${b}`):c.push(`${m} - ${b}`):c.push(`>=${m}`);const u=c.join(" || "),d=typeof n.raw=="string"?n.raw:String(n);return u.length<d.length?u:n},Av}var Ev,PI;function uq(){if(PI)return Ev;PI=1;const e=Is(),t=Hd(),{ANY:r}=t,n=zd(),s=xs(),a=(d,m,b={})=>{if(d===m)return!0;d=new e(d,b),m=new e(m,b);let g=!1;e:for(const h of d.set){for(const v of m.set){const y=l(h,v,b);if(g=g||y!==null,y)continue e}if(g)return!1}return!0},o=[new t(">=0.0.0-0")],i=[new t(">=0.0.0")],l=(d,m,b)=>{if(d===m)return!0;if(d.length===1&&d[0].semver===r){if(m.length===1&&m[0].semver===r)return!0;b.includePrerelease?d=o:d=i}if(m.length===1&&m[0].semver===r){if(b.includePrerelease)return!0;m=i}const g=new Set;let h,v;for(const P of d)P.operator===">"||P.operator===">="?h=c(h,P,b):P.operator==="<"||P.operator==="<="?v=u(v,P,b):g.add(P.semver);if(g.size>1)return null;let y;if(h&&v){if(y=s(h.semver,v.semver,b),y>0)return null;if(y===0&&(h.operator!==">="||v.operator!=="<="))return null}for(const P of g){if(h&&!n(P,String(h),b)||v&&!n(P,String(v),b))return null;for(const $ of m)if(!n(P,String($),b))return!1;return!0}let C,_,S,x,I=v&&!b.includePrerelease&&v.semver.prerelease.length?v.semver:!1,f=h&&!b.includePrerelease&&h.semver.prerelease.length?h.semver:!1;I&&I.prerelease.length===1&&v.operator==="<"&&I.prerelease[0]===0&&(I=!1);for(const P of m){if(x=x||P.operator===">"||P.operator===">=",S=S||P.operator==="<"||P.operator==="<=",h){if(f&&P.semver.prerelease&&P.semver.prerelease.length&&P.semver.major===f.major&&P.semver.minor===f.minor&&P.semver.patch===f.patch&&(f=!1),P.operator===">"||P.operator===">="){if(C=c(h,P,b),C===P&&C!==h)return!1}else if(h.operator===">="&&!n(h.semver,String(P),b))return!1}if(v){if(I&&P.semver.prerelease&&P.semver.prerelease.length&&P.semver.major===I.major&&P.semver.minor===I.minor&&P.semver.patch===I.patch&&(I=!1),P.operator==="<"||P.operator==="<="){if(_=u(v,P,b),_===P&&_!==v)return!1}else if(v.operator==="<="&&!n(v.semver,String(P),b))return!1}if(!P.operator&&(v||h)&&y!==0)return!1}return!(h&&S&&!v&&y!==0||v&&x&&!h&&y!==0||f||I)},c=(d,m,b)=>{if(!d)return m;const g=s(d.semver,m.semver,b);return g>0?d:g<0||m.operator===">"&&d.operator===">="?m:d},u=(d,m,b)=>{if(!d)return m;const g=s(d.semver,m.semver,b);return g<0?d:g>0||m.operator==="<"&&d.operator==="<="?m:d};return Ev=a,Ev}var $v,AI;function cq(){if(AI)return $v;AI=1;const e=su(),t=Ud(),r=bn(),n=Ux(),s=Ni(),a=jU(),o=UU(),i=qU(),l=VU(),c=HU(),u=zU(),d=WU(),m=GU(),b=xs(),g=KU(),h=YU(),v=rv(),y=JU(),C=XU(),_=Vd(),S=iv(),x=iI(),I=uI(),f=dv(),P=pv(),$=pI(),q=QU(),E=Hd(),M=Is(),F=zd(),N=eq(),R=tq(),H=rq(),U=nq(),L=sq(),D=Iv(),Y=aq(),Q=oq(),ae=iq(),ne=lq(),he=uq();return $v={parse:s,valid:a,clean:o,inc:i,diff:l,major:c,minor:u,patch:d,prerelease:m,compare:b,rcompare:g,compareLoose:h,compareBuild:v,sort:y,rsort:C,gt:_,lt:S,eq:x,neq:I,gte:f,lte:P,cmp:$,coerce:q,Comparator:E,Range:M,satisfies:F,toComparators:N,maxSatisfying:R,minSatisfying:H,minVersion:U,validRange:L,outside:D,gtr:Y,ltr:Q,intersects:ae,simplifyRange:ne,subset:he,SemVer:r,re:e.re,src:e.src,tokens:e.t,SEMVER_SPEC_VERSION:t.SEMVER_SPEC_VERSION,RELEASE_TYPES:t.RELEASE_TYPES,compareIdentifiers:n.compareIdentifiers,rcompareIdentifiers:n.rcompareIdentifiers},$v}var EI=cq();const dq=["src"],fq=Gn(xe({__name:"AgreementDialog",setup(e,{expose:t}){const r=ee(!1),n=ee(""),s=ee("协议");return t({openDialog:o=>{const{type:i,title:l}=o;s.value=l;const c=Wn();h6({type:i}).then(u=>{n.value=u.url,r.value=!0}).finally(()=>{c.close()})}}),(o,i)=>{const l=fg;return K(),Le(l,ln({modelValue:w(r),"onUpdate:modelValue":i[0]||(i[0]=c=>ar(r)?r.value=c:null),title:w(s),top:"100px",width:"1300px"},o.$attrs,{class:"agreement-detail-dialog"}),{default:ie(()=>[G("iframe",{src:w(n)},null,8,dq)]),_:1},16,["modelValue","title"])}}}),[["__scopeId","data-v-b8d7356a"]]),pq={class:"earth-wxt-install-agreement-text"},hq=Gn(xe({__name:"InstallAgreementBox",props:n8({size:{type:String,default:"default"},visibleReloadTips:Boolean},{modelValue:{type:Boolean},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=x8(e,"modelValue"),r=mc("agreementDialogRef"),n=(a,o)=>{r.value.openDialog({type:a,title:o})},s=()=>{window.location.reload()};return(a,o)=>{const i=Ws,l=fq;return K(),ue("div",{class:Z(`earth-wxt-install-agreement-${e.size}`)},[G("div",pq,[o[5]||(o[5]=ot(" 安装插件时，请确保旧版本“跨境ERP助手”插件在浏览器已关闭或移除，")),o[6]||(o[6]=G("br",null,null,-1)),o[7]||(o[7]=ot(" 若新旧版本同时存在将导致浏览器随机启用任意版本 ")),e.visibleReloadTips?(K(),ue(ht,{key:0},[o[3]||(o[3]=G("br",null,null,-1)),o[4]||(o[4]=ot(" 若插件已确认开启, ")),G("span",{class:"earth-wxt-install-agreement-span",onClick:$t(s,["stop"])}," 请点击刷新 ")],64)):Ee("",!0)]),le(i,{modelValue:t.value,"onUpdate:modelValue":o[2]||(o[2]=c=>t.value=c),class:"earth-wxt-install-agreement-checkbox",size:e.size},{default:ie(()=>[o[8]||(o[8]=ot(" 我已阅读并同意 ")),G("span",{class:"earth-wxt-install-agreement-span",onClick:o[0]||(o[0]=$t(c=>n("userAgreement","用户服务协议"),["prevent","stop"]))}," 用户服务协议， "),G("span",{class:"earth-wxt-install-agreement-span",onClick:o[1]||(o[1]=$t(c=>n("privacyAgreement","隐私政策"),["prevent","stop"]))}," 隐私政策 "),o[9]||(o[9]=ot("，确定下载并使用插件 "))]),_:1},8,["modelValue","size"]),le(l,{ref_key:"agreementDialogRef",ref:r},null,512)],2)}}}),[["__scopeId","data-v-92d293b6"]]),$I=async e=>{const{upgradePluginUrl:t,extensionInfo:r}=e;r.installType==="normal"?So({url:r.homepageUrl||t}):So({url:t})},RI=async()=>{const e=await gi(),t=As.runtime.getManifest().version,{latestVersion:r,minSupportVersion:n,upgradePluginUrl:s}=e;return{extensionInfo:await r6("getSelf"),latestVersion:r,minSupportVersion:n,currentVersion:t,upgradePluginUrl:s,hasUpdate:EI.gt(r,t),forceUpgrade:EI.gt(n,t)}},mq=async()=>{const e=await Ze.getItem(l_);return e!=null&&e.confirmEnabled?Promise.resolve():Promise.reject(new Error("未同意插件安装协议"))},gq=async(e=!1)=>{if(!e){const[n,s]=await La(mq());if(!s)return Promise.resolve()}const t=ee(!1);await pt({title:"提示",confirmButtonText:"继续",showCancelButton:!0,message:()=>kt(hq,{size:"small",visibleReloadTips:e,modelValue:t.value,"onUpdate:modelValue":n=>{t.value=n}}),beforeClose(n,s,a){n==="confirm"?t.value?a():St.error("请先阅读并勾选同意用户服务协议后再下载"):a()}}),await Ze.setItem(l_,{confirmEnabled:!0})},vq=async()=>{const[e,t]=await La(RI());if(t)return St.error(t.reason||t.message||t),Promise.reject(t);const{latestVersion:r,minSupportVersion:n,currentVersion:s,hasUpdate:a,forceUpgrade:o}=e;if(o)throw pt.confirm(`当前插件版本为 ${s}，最低支持版本为 ${n}，是否前往更新？`,"提示",{confirmButtonText:"前往更新",type:"warning"}).then(()=>{$I(e)}),new Error("插件需要更新");if(a){if(await Ze.getItem(i_)===r)return;await pt.confirm(`当前插件版本为 ${s}，最新版本为 ${r}，是否前往更新？`,"提示",{confirmButtonText:"前往更新",type:"warning"}).then(()=>{throw $I(e),new Error("插件更新中")}).catch(()=>{Ze.setItem(i_,r),console.warn("取消更新")})}},Ut=async()=>{await gq(),await vq()},Ka=async()=>{const{clientId:e}=await gi(),{releaseChannel:t}=await u_(),{version:r,manifest_version:n}=As.runtime.getManifest();x6({clientId:e,version:r,manifestVersion:n,releaseChannel:t})};var ss=(e=>(e.emptyRowData="emptyRowData",e.notLogin="notLogin",e.needVerify="needVerify",e.rowDataInvalid="rowDataInvalid",e.loginHtmlNotLogin="loginHtmlNotLogin",e.noDesc="noDesc",e.getPostFeeNotSelectedAddress="getPostFeeNotSelectedAddress",e.collectStockConfirm="collectStockConfirm",e.collectPriceConfirm="collectPriceConfirm",e.collectStockAndPriceConfirm="collectStockAndPriceConfirm",e))(ss||{});function Rv(e){return ph()?(hh(e),!0):!1}const yq=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const bq=e=>e!=null,wq=Object.prototype.toString,Sq=e=>wq.call(e)==="[object Object]",Wd=()=>{};function Lv(e,t=!1,r="Timeout"){return new Promise((n,s)=>{setTimeout(t?()=>s(r):n,e)})}function Mv(e){return Array.isArray(e)?e:[e]}function Dv(e,t=!1){function r(d,{flush:m="sync",deep:b=!1,timeout:g,throwOnTimeout:h}={}){let v=null;const C=[new Promise(_=>{v=tt(e,S=>{d(S)!==t&&(v?v():xt(()=>v==null?void 0:v()),_(S))},{flush:m,deep:b,immediate:!0})})];return g!=null&&C.push(Lv(g,h).then(()=>kn(e)).finally(()=>v==null?void 0:v())),Promise.race(C)}function n(d,m){if(!ar(d))return r(S=>S===d,m);const{flush:b="sync",deep:g=!1,timeout:h,throwOnTimeout:v}=m??{};let y=null;const _=[new Promise(S=>{y=tt([e,d],([x,I])=>{t!==(x===I)&&(y?y():xt(()=>y==null?void 0:y()),S(x))},{flush:b,deep:g,immediate:!0})})];return h!=null&&_.push(Lv(h,v).then(()=>kn(e)).finally(()=>(y==null||y(),kn(e)))),Promise.race(_)}function s(d){return r(m=>!!m,d)}function a(d){return n(null,d)}function o(d){return n(void 0,d)}function i(d){return r(Number.isNaN,d)}function l(d,m){return r(b=>{const g=Array.from(b);return g.includes(d)||g.includes(kn(d))},m)}function c(d){return u(1,d)}function u(d=1,m){let b=-1;return r(()=>(b+=1,b>=d),m)}return Array.isArray(kn(e))?{toMatch:r,toContains:l,changed:c,changedTimes:u,get not(){return Dv(e,!t)}}:{toMatch:r,toBe:n,toBeTruthy:s,toBeNull:a,toBeNaN:i,toBeUndefined:o,changed:c,changedTimes:u,get not(){return Dv(e,!t)}}}function _q(e){return Dv(e)}const Gd=yq?window:void 0;function Kd(e){var t;const r=kn(e);return(t=r==null?void 0:r.$el)!=null?t:r}function Nv(...e){let t,r,n,s;if(typeof e[0]=="string"||Array.isArray(e[0])?([r,n,s]=e,t=Gd):[t,r,n,s]=e,!t)return Wd;r=Mv(r),n=Mv(n);const a=[],o=()=>{a.forEach(u=>u()),a.length=0},i=(u,d,m,b)=>(u.addEventListener(d,m,b),()=>u.removeEventListener(d,m,b)),l=tt(()=>[Kd(t),kn(s)],([u,d])=>{if(o(),!u)return;const m=Sq(d)?{...d}:d;a.push(...r.flatMap(b=>n.map(g=>i(u,b,g,m))))},{immediate:!0,flush:"post"}),c=()=>{l(),o()};return Rv(c),c}function Tq(){const e=ee(!1),t=Ht();return t&&Kt(()=>{e.value=!0},t),e}function Cq(e){const t=Tq();return W(()=>(t.value,!!e()))}function LI(e,t,r={}){const{window:n=Gd,...s}=r;let a;const o=Cq(()=>n&&"MutationObserver"in n),i=()=>{a&&(a.disconnect(),a=void 0)},l=W(()=>{const m=kn(e),b=Mv(m).map(Kd).filter(bq);return new Set(b)}),c=tt(()=>l.value,m=>{i(),o.value&&m.size&&(a=new MutationObserver(t),m.forEach(b=>a.observe(b,s)))},{immediate:!0,flush:"post"}),u=()=>a==null?void 0:a.takeRecords(),d=()=>{c(),i()};return Rv(d),{isSupported:o,stop:d,takeRecords:u}}function xq(e,t,r={}){const{window:n=Gd,document:s=n==null?void 0:n.document,flush:a="sync"}=r;if(!n||!s)return Wd;let o;const i=u=>{o==null||o(),o=u},l=va(()=>{const u=Kd(e);if(u){const{stop:d}=LI(s,m=>{m.map(g=>[...g.removedNodes]).flat().some(g=>g===u||g.contains(u))&&t(m)},{window:n,childList:!0,subtree:!0});i(d)}},{flush:a}),c=()=>{l(),i()};return Rv(c),c}function Iq(e,t,r){const{immediate:n=!0,delay:s=0,onError:a=Wd,onSuccess:o=Wd,resetOnExecute:i=!0,shallow:l=!0,throwError:c}={},u=l?In(t):ee(t),d=ee(!1),m=ee(!1),b=In(void 0);async function g(y=0,...C){i&&(u.value=t),b.value=void 0,d.value=!1,m.value=!0,y>0&&await Lv(y);const _=typeof e=="function"?e(...C):e;try{const S=await _;u.value=S,d.value=!0,o(S)}catch(S){if(b.value=S,a(S),c)throw S}finally{m.value=!1}return u.value}n&&g(s);const h={state:u,isReady:d,isLoading:m,error:b,execute:g};function v(){return new Promise((y,C)=>{_q(m).toBe(!1).then(()=>y(h)).catch(C)})}return{...h,then(y,C){return v().then(y,C)}}}function kq(e,t={}){const{delayEnter:r=0,delayLeave:n=0,triggerOnRemoval:s=!1,window:a=Gd}=t,o=ee(!1);let i;const l=c=>{const u=c?r:n;i&&(clearTimeout(i),i=void 0),u?i=setTimeout(()=>o.value=c,u):o.value=c};return a&&(Nv(e,"mouseenter",()=>l(!0),{passive:!0}),Nv(e,"mouseleave",()=>l(!1),{passive:!0}),s&&xq(W(()=>Kd(e)),()=>l(!1))),o}function Oa(e,t,r){const{state:n,execute:s,...a}=Iq(async()=>{const i=await Ze.getItem(e);return i===null?t:i},t);let o;return Kt(()=>{o=Ze.watch(e,async i=>{n.value=i??t})}),go(()=>{o==null||o()}),{state:W({get(){return n.value},set(i){Ze.setItem(e,i),n.value=i}}),...a}}const Fv=e=>{const{state:t}=Oa(o_,!1),{state:r}=Oa(A6,{}),{state:n}=Oa($6,{}),s=async()=>{try{await u6()}catch(v){return pt.confirm("您还未登录ERP软件，请先登录","提示",{confirmButtonText:"立即登录",type:"warning"}).then(()=>{window.open("https://erp.91miaoshou.com")}),Promise.reject(v)}},a={1688:{notAuthResellerAccount:"应1688要求，请授权1688货源账号后在进行采集，授权后采集更稳定，更快速!",notAuthResellerAccountButtonText:"前往授权",existsResellerAccountTips:"您的1688货源账号存在授权异常，请重新授权后再采集",existsResellerAccountButtonText:"更新授权"},"51mbk":{existsResellerAccountTips:"您的51mbk货源账号存在授权异常，请重新授权后再采集",existsResellerAccountButtonText:"更新授权"}},o=async()=>{const{resellerAccountList:v}=await m6({pageNo:1,pageSize:1e5,platform:"ali1688"}),y=a[kn(e)]||a[1688],C={message:y.notAuthResellerAccount,confirmButtonText:y.notAuthResellerAccountButtonText};if(v.length){if((v||[]).every(S=>S.authStatus==="valid"))return Promise.resolve();C.message=y.existsResellerAccountTips,C.confirmButtonText=y.existsResellerAccountButtonText}return pt.confirm(C.message,"提示",{confirmButtonText:C.confirmButtonText,cancelButtonText:"查看帮助教程",type:"warning",distinguishCancelAndClose:!0,cancelButtonClass:"earth-ali1688-message-box-cancel-button"}).then(()=>{window.open("https://erp.91miaoshou.com/auth/reseller_account?platform=ali1688")}).catch(_=>{_==="cancel"&&window.open("https://erp.91miaoshou.com/help_center/article_2872.html")}),Promise.reject()},i=v=>{var I,f;const y=kn(e),{code:C,existsResellerAccount:_}=v,S=_?"existsResellerAccount":C,x=((I=a==null?void 0:a[y])==null?void 0:I[S])||`您当前未授权${y}，请先授权ERP`;pt.confirm(x,"提示",{confirmButtonText:((f=a==null?void 0:a[y])==null?void 0:f[`${S}ButtonText`])||"前往授权",cancelButtonText:"查看帮助教程",type:"warning",distinguishCancelAndClose:!0,cancelButtonClass:"earth-ali1688-message-box-cancel-button"}).then(()=>{window.open(v.redirectUrl)}).catch(P=>{P==="cancel"&&window.open("https://erp.91miaoshou.com/help_center/article_2872.html")})},l=async v=>{await s();const y=bR(v,_=>_.itemId||_.itemUrl),C={isAutoPublish:0,itemSimpleDetails:JSON.stringify(y)};try{const _=await c6(C);return St.success("已提交采集任务，可前往采集箱查看或发布"),_}catch(_){if(_.type==="collectNumUnpaid"){const S=`
          由于采集成本上涨，免费账号最多可采集<b style="color: red">${_.freeNum}</b>个商品；
          <br>
          当前剩余可采集<b style="color: red">${_.balanceNum}</b>个，建议升级版本！
        `;pt.confirm(S,"提示",{dangerouslyUseHTMLString:!0,confirmButtonText:"升级版本"}).then(()=>{window.open(_.accountPaymentUrl)})}else _.code==="notAuthResellerAccount"?i(_):St.error(_.reason||_.message||_);return Promise.reject(_)}},c=v=>{const y="该货源平台需要先登录，请先登录";return pt.confirm(y,"提示",{type:"warning"}).then(()=>{"loginPageUrl"in v?window.open(v.loginPageUrl,"","noreferrer"):v.loginFunc()}),y},u=async v=>{if(!r.value[kn(e)]){const y=ee(!1);await pt({title:"提示",confirmButtonText:"继续采集",showCancelButton:!0,type:"warning",customClass:"earth-wxt-collect-stock-confirm",message:()=>kt(ht,null,[kt("p",null,v),kt(Ws,{modelValue:y.value,"onUpdate:modelValue":C=>{y.value=C}},()=>"不再提醒")])}),y.value&&(r.value=Object.assign({},r.value,{[kn(e)]:!0}))}},d=async v=>{if(!n.value[kn(e)]){const y=ee(!1);await pt({title:"提示",confirmButtonText:"继续采集",showCancelButton:!0,type:"warning",customClass:"earth-wxt-collect-stock-confirm",message:()=>kt(ht,null,[kt("p",null,v),kt(Ws,{modelValue:y.value,"onUpdate:modelValue":C=>{y.value=C}},()=>"不再提醒")])}),y.value&&(n.value=Object.assign({},n.value,{[kn(e)]:!0}))}},m=async(v,y)=>{await pt({title:"提示",confirmButtonText:"刷新当前页面",showCancelButton:!0,type:"warning",message:v}),location.href=y.url},b=v=>{const y=document.createElement("iframe");y.width="500px",y.height="500px",y.style.backgroundColor="#FFFFFF",y.style.border="none",y.src=v;const C=document.createElement("div");return C.style.width="100%",C.style.height="100%",C.style.position="fixed",C.style.top="0",C.style.left="0",C.style.zIndex="9999999999999",C.style.backgroundColor="rgba(0,0,0,0.5)",C.style.display="flex",C.style.alignItems="center",C.style.justifyContent="center",C.append(y),document.body.append(C),{iframe:y,iframeWrap:C}};return{collectPanelDisabled:t,onCheckLogin:s,onPushCollectBox:l,onValidatorCollectDetail:async(v,y=!1)=>{if(v&&v.antiCode){let C="";switch(v.antiCode){case ss.emptyRowData:C="账号异常，当前商品采集失败，请降低采集频率稍候重试或更换买家账号重试",St.warning(C);break;case ss.notLogin:C=c(v);break;case ss.needVerify:if("pageUrl"in v)C="当前浏览器帐号，需要安全验证，请先验证",pt.confirm(C,"提示",{type:"warning"}).then(()=>{window.open(v.pageUrl,"_blank","noreferrer")});else if("reason"in v)C=v.reason,pt.confirm(v.reason,"提示",{type:"warning"});else{const{iframe:_,iframeWrap:S}=b(v.iframeSrc);await v.validatorVerify(_),S.remove();return}break;case ss.rowDataInvalid:C="当前商品采集失败 请到点击该产品到详情页面采集或者降低采集频率稍候重试 如果没有登录可以尝试登录后采集",St.warning(C);break;case ss.loginHtmlNotLogin:"loginPageUrl"in v&&v.loginPageUrl!==location.href?C=c(v):(C="账号未登录，请先登录",St.warning(C));break;case ss.noDesc:C="当前页面未加载描述内容，请重试",St.warning(C);break;case ss.getPostFeeNotSelectedAddress:C="当前没有收货地址，无法采集运费",St.warning(C);break;case ss.collectStockConfirm:if(y)return;C="因平台限制，部分产品将无法采集到库存，是否继续？";try{await u(C);return}catch{}break;case ss.collectPriceConfirm:if(y)return;C="当前页面价格显示异常 请点击刷新当前页面后在进行采集";try{return await m(C,v),Promise.reject()}catch{}break;case ss.collectStockAndPriceConfirm:if(y)return;C="因平台限制，部分产品将无法采集到库存与价格，是否继续？";try{await d(C);return}catch{}break}return await xt(),Promise.reject({...v,reason:C})}},onValidatorCollectList:async v=>{if(v&&v.antiCode){let y="";switch(v.antiCode){case ss.notLogin:y=c(v);break}return Promise.reject({...v,reason:y})}},onValidateAli1688MessageBox:o}};var Oq={name:"zh-cn",el:{breadcrumb:{label:"面包屑"},colorpicker:{confirm:"确定",clear:"清空",defaultLabel:"颜色选择器",description:"当前颜色 {color}，按 Enter 键选择新颜色",alphaLabel:"选择透明度的值"},datepicker:{now:"此刻",today:"今天",cancel:"取消",clear:"清空",confirm:"确定",dateTablePrompt:"使用方向键与 Enter 键可选择日期",monthTablePrompt:"使用方向键与 Enter 键可选择月份",yearTablePrompt:"使用方向键与 Enter 键可选择年份",selectedDate:"已选日期",selectDate:"选择日期",selectTime:"选择时间",startDate:"开始日期",startTime:"开始时间",endDate:"结束日期",endTime:"结束时间",prevYear:"前一年",nextYear:"后一年",prevMonth:"上个月",nextMonth:"下个月",year:"年",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},weeksFull:{sun:"星期日",mon:"星期一",tue:"星期二",wed:"星期三",thu:"星期四",fri:"星期五",sat:"星期六"},months:{jan:"一月",feb:"二月",mar:"三月",apr:"四月",may:"五月",jun:"六月",jul:"七月",aug:"八月",sep:"九月",oct:"十月",nov:"十一月",dec:"十二月"}},inputNumber:{decrease:"减少数值",increase:"增加数值"},select:{loading:"加载中",noMatch:"无匹配数据",noData:"无数据",placeholder:"请选择"},dropdown:{toggleDropdown:"切换下拉选项"},mention:{loading:"加载中"},cascader:{noMatch:"无匹配数据",loading:"加载中",placeholder:"请选择",noData:"暂无数据"},pagination:{goto:"前往",pagesize:"条/页",total:"共 {total} 条",pageClassifier:"页",page:"页",prev:"上一页",next:"下一页",currentPage:"第 {pager} 页",prevPages:"向前 {pager} 页",nextPages:"向后 {pager} 页",deprecationWarning:"你使用了一些已被废弃的用法，请参考 el-pagination 的官方文档"},dialog:{close:"关闭此对话框"},drawer:{close:"关闭此对话框"},messagebox:{title:"提示",confirm:"确定",cancel:"取消",error:"输入的数据不合法!",close:"关闭此对话框"},upload:{deleteTip:"按 delete 键可删除",delete:"删除",preview:"查看图片",continue:"继续上传"},slider:{defaultLabel:"滑块介于 {min} 至 {max}",defaultRangeStartLabel:"选择起始值",defaultRangeEndLabel:"选择结束值"},table:{emptyText:"暂无数据",confirmFilter:"筛选",resetFilter:"重置",clearFilter:"全部",sumText:"合计"},tour:{next:"下一步",previous:"上一步",finish:"结束导览"},tree:{emptyText:"暂无数据"},transfer:{noMatch:"无匹配数据",noData:"无数据",titles:["列表 1","列表 2"],filterPlaceholder:"请输入搜索内容",noCheckedFormat:"共 {total} 项",hasCheckedFormat:"已选 {checked}/{total} 项"},image:{error:"加载失败"},pageHeader:{title:"返回"},popconfirm:{confirmButtonText:"确定",cancelButtonText:"取消"},carousel:{leftArrow:"上一张幻灯片",rightArrow:"下一张幻灯片",indicator:"幻灯片切换至索引 {index}"}}};const MI={namespace:"earth-wxt",zIndex:9999999999999,size:"small",locale:Oq},Ya=xe({__name:"ProConfigProvider",setup(e){return(t,r)=>{const n=hC;return K(),Le(n,Aw(Hh(w(MI))),{default:ie(()=>[Ne(t.$slots,"default")]),_:3},16)}}}),Pq={class:"earth-wxt-collect-panel-wrap"},Aq={class:"earth-wxt-collect-panel-button-group"},Eq={key:0,class:"earth-wxt-collect-tips"},DI=Gn(xe({__name:"CollectPanel",props:{inactive:{type:Boolean},source:{}},setup(e){const t=e,{state:r}=Oa(P6,"bottom"),{state:n}=Oa(o_,!1),s=()=>{r.value=r.value==="bottom"?"sidebar":"bottom"},a=()=>{n.value=!n.value},o=In([]);Kt(()=>{gi().then(l=>{o.value=l.sourcePlatformConfigList})});const i=W(()=>{const l=o.value.find(c=>c.source===t.source&&c.disableSamePlatformSend);return l?`温馨提醒：接${l.name}官方通知，所有ERP软件禁止采集${l.name}发布${l.name}，否则将可能封店。建议搜1688同款，采集1688商品。`:""});return(l,c)=>{const u=un;return K(),Le(Ya,null,{default:ie(()=>[Ne(l.$slots,"other",{},void 0,!0),G("div",{class:Z(["earth-wxt-collect-panel",[l.inactive?"inactive":w(r),{"is-disabled":w(n)}]])},[G("div",Pq,[c[0]||(c[0]=G("div",{class:"earth-wxt-collect-panel-button-group"},[G("span",{class:"earth-wxt-collect-panel-title"}," 跨境ERP ")],-1)),w(n)?Ee("",!0):Ne(l.$slots,"default",{key:0},void 0,!0),G("div",Aq,[le(u,{type:"info",plain:"",onClick:a},{default:ie(()=>[ot(ze(w(n)?"启用插件":"停用插件"),1)]),_:1}),!w(n)&&!l.inactive?(K(),Le(u,{key:0,type:"info",plain:"",onClick:s},{default:ie(()=>[ot(" 切换为"+ze(w(r)==="bottom"?"侧边栏":"底栏")+"模式 ",1)]),_:1})):Ee("",!0)])]),w(i)?(K(),ue("div",Eq,ze(w(i)),1)):Ee("",!0)],2)]),_:3})}}}),[["__scopeId","data-v-13dcb98e"]]),$q={class:"earth-wxt-collect-panel-button-group"},Rq=xe({inheritAttrs:!1,__name:"CollectDetailUi",props:{source:{},validatorCollectDetail:{type:Function},validatorCollectList:{type:Function},getCollectDetailSourceInfo:{type:Function},getCollectDetailPageDataSourceInfo:{type:Function},getCollectDetailMainImage:{type:Function}},setup(e){const t=e,{collectPanelDisabled:r,onPushCollectBox:n,onValidatorCollectDetail:s,onValidateAli1688MessageBox:a}=Fv(()=>t.source),o=async(d=!1,m=!1)=>{var y,C;Ka();const b=Wn({text:"加载中"});try{await Ut()}catch(_){console.error(_),b.close();return}try{const _=await((y=t.validatorCollectDetail)==null?void 0:y.call(t));_&&await s(_,m)}catch(_){return b.close(),Promise.reject(_)}const[g,h]=t.getCollectDetailPageDataSourceInfo?await La(t.getCollectDetailPageDataSourceInfo()):[];h&&console.error(h);let v=!1;if(g){const[_]=await La(gi());if(_){const S=(C=_.sourcePlatformConfigList)==null?void 0:C.find(x=>x.source===t.source);console.log(S),v=S==null?void 0:S.isPushToErp}}if(!v){const[_,S]=g?await La(l6(g)):[];if(S&&console.error(S),d)return b.close(),_||S||h}try{const _=await t.getCollectDetailSourceInfo(),{pageContent:S,...x}=v?g:{},I={..._,...x,itemHtml:S};return await n([I])}finally{b.close()}},i=async()=>{var h;const d=await QD();if(!d)return;const[m,b]=await La(o((h=d.extraData)==null?void 0:h.onlyPushPageData,!0)),[g]=await La(t.getCollectDetailSourceInfo());await ZD({data:m,error:b,itemInfo:g})};Kt(()=>{r.value||i()});const l=ee(!1),c=ee(""),u=async()=>{Ka(),await Ut(),await a(),c.value=await t.getCollectDetailMainImage(),l.value=!0};return(d,m)=>{const b=un,g=Mx;return K(),Le(DI,{source:d.source},{other:ie(()=>[t.getCollectDetailMainImage?(K(),Le(g,{key:0,modelValue:w(l),"onUpdate:modelValue":m[1]||(m[1]=h=>ar(l)?l.value=h:null),"source-image-url":w(c)},null,8,["modelValue","source-image-url"])):Ee("",!0)]),default:ie(()=>[G("div",$q,[le(b,{type:"primary",onClick:m[0]||(m[0]=h=>o())},{default:ie(()=>m[2]||(m[2]=[ot(" 采集此商品 ")])),_:1}),t.getCollectDetailMainImage?(K(),Le(b,{key:0,type:"primary",onClick:u},{default:ie(()=>m[3]||(m[3]=[ot(" 搜1688同款 ")])),_:1})):Ee("",!0)])]),_:1},8,["source"])}}}),Lq={key:0,class:"earth-wxt-collect-panel-button-group"},Mq={key:1,class:"earth-wxt-collect-tips"},Dq={key:2,class:"earth-wxt-collect-panel-button-group"},Nq={key:3,class:"earth-wxt-collect-panel-button-group"},Fq={class:"earth-wxt-collect-panel-progress"},Bq=["data-uuid"],jq=["action"],Uq=Gn(xe({inheritAttrs:!1,__name:"CollectListUi",props:{useAutoCollect:{type:Boolean,default:!1},useBatchCollect:{type:Boolean,default:!0},getCollectProductList:{},getCollectListProductLinksByPage:{},getCollectListProductListByPage:{},source:{},validatorCollectDetail:{},validatorCollectList:{},getCollectDetailSourceInfo:{},getCollectDetailPageDataSourceInfo:{},getCollectDetailMainImage:{}},setup(e){const t=e,{collectPanelDisabled:r,onPushCollectBox:n,onValidatorCollectDetail:s,onValidatorCollectList:a}=Fv(()=>t.source),o=new WeakMap,i=In(new Map),l=ee(new Map),c=mc("earthWxtCollectBox"),u=ee({}),d=async(F,N)=>{try{const{sourceInfo:R}=F,H=await S6(R);l.value.set(N,H.hasFetch)}catch(R){console.error("检查商品采集状态失败:",R)}},m=DR(5),b=Jb((F,N)=>{F.querySelector(`[data-uuid="${N}"]`)||(u.value[N]=Date.now());const H=i.value.get(N);H&&!l.value.has(N)&&(l.value.set(N,0),m(()=>d(H,N)))},50,{leading:!1}),g=Jb(async()=>{const F=await t.getCollectProductList(),N=new Map;F.forEach(R=>{o.has(R.node)||o.set(R.node,nO());const H=o.get(R.node);R.node.classList.add("earth-wxt-collect-warp"),R.node.removeEventListener("mouseover",b.bind(null,R.node,H)),R.node.addEventListener("mouseover",b.bind(null,R.node,H)),N.set(H,R)}),i.value=N},200);t.getCollectProductList&&!r.value&&(g(),LI(document.body,g,{childList:!0,subtree:!0}));const{state:h}=Oa(O6,[]),v=In({currentIndex:0,total:0});let y=[];const C=JD(async F=>{const{currentIndex:N,result:R,total:H}=F.data,U=R[N],L=U.error;if(v.value={currentIndex:N,total:H},L)console.error(L),L.antiCode?s(L,!0):St.error(L.reason||L.message||L);else{const D=[U.itemInfo];try{if(await n(D),y!=null&&y[N]){const Y=y[N];l.value.set(Y,1)}}catch(Y){console.error(Y)}}}),_=async(F,N)=>{var U;Ka(),await Ut();const R=await((U=t.validatorCollectList)==null?void 0:U.call(t));if(R&&await a(R),!F.length){St.error("没有需要采集的商品");return}if(t.useAutoCollect){const{autoCollectConfig:{fetchPageDataNeedSelectNewTabSources:L}}=await gi();y=N||[],v.value={currentIndex:-1,total:F.length},XD({itemList:F,extraData:{onlyPushPageData:!0},keepActiveTab:!L.includes(t.source)});return}const H=Wn({text:"加载中"});try{await n(F),N&&N.forEach(L=>{l.value.set(L,1)})}finally{H.close()}},S=ee([]),x=(F=S.value)=>{const N=F.reduce((R,H)=>{const U=i.value.get(H);return U&&R.push(U.sourceInfo),R},[]);_(N,F)},I=F=>{S.value=F?Array.from(i.value.keys()):[]},f=async()=>{var L,D;Ka(),await Ut();const F=await((L=t.validatorCollectList)==null?void 0:L.call(t));F&&await a(F);const N=Wn({text:"加载中"});let R=[];try{R=await((D=t.getCollectListProductListByPage)==null?void 0:D.call(t))??Array.from(i.value.values())}finally{N.close()}const H=R.map(Y=>Y.sourceInfo),U=R.map(Y=>o.get(Y.node)).filter(Boolean);_(H,U)},P=async()=>{var N;Ka();const F=Wn({text:"加载中"});try{await Ut();const R=await((N=t.validatorCollectList)==null?void 0:N.call(t));R&&await a(R);const U=(await t.getCollectListProductLinksByPage()).reduce((D,Y)=>(D[Y]=1,D),{}),L=await f6({copyItemUrls:U});h.value=LR([...h.value,...Object.keys(L.copyItemUrls)])}finally{F.close()}},$=mc("downloadFormRef"),q=async()=>{const F=h.value.reduce((N,R)=>(N[R]=1,N),{});$.value.querySelector("input").value=JSON.stringify(F),$.value.submit()},E=async()=>{Ka(),await Ut(),await pt.confirm("将清除商品链接数据缓存, 确定清除吗？","提示",{confirmButtonText:"确定",type:"warning"}),h.value=[]},M=async()=>{Ka(),await Ut(),await navigator.clipboard.writeText(h.value.join(`
`)),St.success("复制成功")};return Fr(()=>{C()}),(F,N)=>{const R=Ws,H=un,U=jF;return K(),Le(DI,{source:F.source,inactive:!F.useBatchCollect},{other:ie(()=>[le(U,{modelValue:w(S),"onUpdate:modelValue":N[2]||(N[2]=L=>ar(S)?S.value=L:null)},{default:ie(()=>[(K(!0),ue(ht,null,Or(w(i),L=>(K(),Le(g1,{key:`${L[0]}_${w(u)[L[0]]}`,to:L[1].node},[G("div",{ref_for:!0,ref_key:"earthWxtCollectBox",ref:c,class:"earth-wxt-collect-box","data-uuid":L[0]},[G("div",{class:Z(["earth-wxt-collect-status",{"is-collected":w(l).get(L[0])}])},null,2),le(H,{type:"primary",tag:"earth-wxt-button",class:"earth-wxt-collect-button",onClick:$t(D=>x([L[0]]),["stop","prevent"])},null,8,["onClick"]),F.useBatchCollect?(K(),Le(R,{key:0,value:L[0],class:"earth-wxt-collect-checkbox",onClick:N[1]||(N[1]=$t(()=>{},["stop"]))},null,8,["value"])):Ee("",!0)],8,Bq)],8,["to"]))),128))]),_:1},8,["modelValue"]),Vt(G("form",{ref_key:"downloadFormRef",ref:$,method:"post",action:w(T6)},N[9]||(N[9]=[G("input",{name:"copyItemUrls"},null,-1)]),8,jq),[[Pr,!1]])]),default:ie(()=>[F.useBatchCollect?(K(),ue("div",Lq,[w(i).size?(K(),ue(ht,{key:0},[le(R,{class:"earth-wxt-collect-select-all",onChange:I},{default:ie(()=>N[3]||(N[3]=[ot(" 全选 ")])),_:1}),le(H,{type:"primary",onClick:N[0]||(N[0]=$t(L=>x(),["stop","prevent"]))},{default:ie(()=>N[4]||(N[4]=[ot(" 采集选中 ")])),_:1})],64)):Ee("",!0),le(H,{type:"primary",onClick:$t(f,["stop","prevent"])},{default:ie(()=>N[5]||(N[5]=[ot(" 采集本页 ")])),_:1})])):(K(),ue("div",Mq," 此平台不支持使用插件批量采集，请到产品详情页采集 ")),t.getCollectListProductLinksByPage?(K(),ue("div",Dq,[le(H,{type:"primary",onClick:$t(P,["stop","prevent"])},{default:ie(()=>N[6]||(N[6]=[ot(" 获取本页链接 ")])),_:1}),le(H,{type:"primary",disabled:!w(h).length,onClick:$t(M,["stop","prevent"])},{default:ie(()=>[ot(" 复制链接"+ze(w(h).length),1)]),_:1},8,["disabled"]),le(H,{type:"primary",disabled:!w(h).length,onClick:$t(q,["stop","prevent"])},{default:ie(()=>N[7]||(N[7]=[ot(" 下载 ")])),_:1},8,["disabled"]),le(H,{type:"primary",disabled:!w(h).length,onClick:$t(E,["stop","prevent"])},{default:ie(()=>N[8]||(N[8]=[ot(" 清除 ")])),_:1},8,["disabled"])])):Ee("",!0),F.useBatchCollect&&w(v).total?(K(),ue("div",Nq,[G("span",Fq," 采集进度: "+ze(w(v).currentIndex+1)+"/ "+ze(w(v).total),1)])):Ee("",!0)]),_:1},8,["source","inactive"])}}}),[["__scopeId","data-v-39bd3647"]]);function qq(e){const r=["cf.shopee."].some(s=>e.includes(s)),n=new URL(C6);return r&&(e=`${window.location.protocol}//${n.host}${n.pathname}?url=${e}`),e}function Pa(e,t=2){const n=(Number(e)||0).toFixed(t);return Number(n)}function Vq(e,t){const r=e.clientX,n=e.clientY,s=document.getElementById(t),a=s.getBoundingClientRect().left||0,o=s.getBoundingClientRect().top||0;document.addEventListener("mousemove",i),document.addEventListener("mouseup",l);function i(c){let u=c.clientX-r+a,d=c.clientY-n+o;u=u<0?0:u,d=d<0?0:d,s.computedStyleMap().get("width");const m=s.offsetWidth,b=s.offsetHeight,g=document.documentElement.clientWidth,h=document.documentElement.clientHeight;u+m>g&&(u=g-m),d+b>h&&(d=h-b),s.style.top=`${d}px`,s.style.left=`${u}px`,c.preventDefault()}function l(){document.removeEventListener("mouseup",l),document.removeEventListener("mousemove",i)}}const Hq=["yangkeduo","taobao","tmall","1688"],NI=[{platform:"taobao",name:"淘宝",logo:"http://pub.chengji-inc.com/static_common/image/shop/taobao.png",sameItemUrl:"https://s.taobao.com/search?q=",searchTypes:["searchByTitle","searchByImage"]},{platform:"tmall",name:"天猫",logo:"http://pub.chengji-inc.com/static_common/image/shop/tmall.png",sameItemUrl:"https://list.tmall.com/search_product.htm?q=",searchTypes:["searchByTitle"]},{platform:"1688",name:"1688",logo:"http://pub.chengji-inc.com/static_common/image/shop/1688.png",sameItemUrl:"https://s.1688.com/selloffer/offer_search.htm?charset=utf8&keywords=",searchTypes:["searchByTitle","searchByImage"]},{platform:"yangkeduo",name:"拼多多",logo:"http://pub.chengji-inc.com/static_common/image/shop/yangkeduo.png",sameItemUrl:"https://mobile.yangkeduo.com/search_result.html?search_key=",searchTypes:["searchByTitle"]}],zq={taobao:"淘宝",tmall:"天猫",yangkeduo:"拼多多",1688:"1688"},Do={matchSkuConfirm:"match_sku_confirm",matchAddress:"match_address",compareProfit:"compare_profit",autoTriggerSubmitOrder:"auto_trigger_submit_order",manualChangeAddress:"manual_change_address",supportOrderingInLossProfit:"support_ordering_in_loss_profit"};for(var No=256,FI=[],BI=256,Yd;No--;)FI[No]=(No+256).toString(16).substring(1);function Wq(e){var t=0,r=11;if(!Yd||No+r>BI*2)for(Yd="",No=0;t<BI;t++)Yd+=FI[Math.random()*256|0];return Yd.substring(No,No+++r)}var jI="@webext-core/messaging/window",UI="@webext-core/messaging/window/response";function Jr(e){const t=e.namespace,r=Wq();let n=[];const s=(o,i)=>new Promise(l=>{const c=d=>{d.data.type===UI&&d.data.namespace===t&&d.data.instanceId!==r&&d.data.message.type===o.type&&(l(d.data.response),u())},u=()=>window.removeEventListener("message",c);n.push(u),window.addEventListener("message",c),window.postMessage({type:jI,message:o,senderOrigin:location.origin,namespace:t,instanceId:r},i??"*")}),a=vy(mu(hu({},e),{sendMessage(o,i){return s(o,i)},addRootListener(o){const i=l=>gy(this,null,function*(){if(l.data.type!==jI||l.data.namespace!==t||l.data.instanceId===r)return;const c=yield o(l.data.message);window.postMessage({type:UI,response:c,instanceId:r,message:l.data.message,namespace:t},l.data.senderOrigin)});return window.addEventListener("message",i),()=>window.removeEventListener("message",i)},verifyMessageData(o){return structuredClone(o)}}));return mu(hu({},a),{removeAllListeners(){a.removeAllListeners(),n.forEach(o=>o()),n=[]}})}Jr({namespace:"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"}),Jr({namespace:"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"}),Jr({namespace:"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"}),Jr({namespace:"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"}),Jr({namespace:"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"}),Jr({namespace:"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"}),Jr({namespace:"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"}),Jr({namespace:"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"}),Jr({namespace:"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"}),Jr({namespace:"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"}),Jr({namespace:"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"}),Jr({namespace:"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"}),Jr({namespace:"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"}),Jr({namespace:"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"}),Jr({namespace:"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"}),Jr({namespace:"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"}),Jr({namespace:"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"}),Jr({namespace:"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"});function qI(e){const t=e.purchaseItem,r=t.skuId,n=e.skuIdAndManualSelectedSkuSubNameMap||!1,s=t.platformSkuId;let a=t.skuSubName||"";if(n&&(n[r]||n[s])&&(a=(n[r]||n[s]).manualSelectedSkuSubName),qt(t.skuMap))return a;const o=[],i=VI(t);return qt(i)?"":(i.sourceColorName&&o.push(i.sourceColorName),i.sourceSizeName&&o.push(i.sourceSizeName),o.length>0&&(a=o.join(" ")),k.trim(a))}function VI(e){let t={};if(qt(e.skuMap))return t;for(const r in e.skuMap)if(r.toString().length>0&&r===e.skuSubName){t=e.skuMap[r];break}if(!t||qt(t)){let r=function(l){k.each(c(l,0,[]),(u,d)=>{i.push(d)});function c(u,d=0,m=[]){const b=[];b.push(u[d]);for(let h=0;h<m.length;h++)b.push(m[h]+u[d]);const g=[...m,...b];return d+1>=u.length?g:c(u,d+1,g)}},n=function(l,c){const u=l.specList;if(!u)return!0;const d=s(u.join("")),m=s(u.reverse().join(""));return c=s(c),d===c||m===c},s=function(l){return l.replace(/\s+/g,"")};const a=e.skuSubName?e.skuSubName.split("，"):["默认SKU"],o=e.skuSubOriginalName?e.skuSubOriginalName.split(","):["defaultSku"];let i=[];i.push(a.join("")),i.push(o.join("")),e.skuSubName&&i.push(e.skuSubName),e.skuSubOriginalName&&i.push(e.skuSubOriginalName),a.length>1&&r(a),o.length>1&&r(o),i=k.unique(i.sort()),window.console.log("matchSkuNames:",i);for(const l of i){const c=Object.values(e.skuMap).find(u=>n(u,l));if(c){t=c;break}}}return t}function Jd(e,t){e=e||"",t=t||"",e=e.replace(/（/g,"("),e=e.replace(/）/g,")"),e=e.replace(/：/g,":"),e=e.replace(/【/g,"["),e=e.replace(/】/g,"]"),e=e.replace(/，/g,","),e=e.replace(/；/g,";"),e=e.replace(/\|/g," "),e=e.replace(/\[/g," "),e=e.replace(/\]/g," "),t=t.replace(/（/g,"("),t=t.replace(/）/g,")"),t=t.replace(/：/g,":"),t=t.replace(/【/g,"["),t=t.replace(/】/g,"]"),t=t.replace(/，/g,","),t=t.replace(/；/g,";"),t=t.replace(/\|/g," "),t=t.replace(/\[/g," "),t=t.replace(/\]/g," ");const r=e.split(" "),n=t.split(" ");let s=0,a=0,o=0;for(const i in r){const l=r[i];l&&(s++,n.includes(l)&&o++)}k.unique(n);for(const i in n)n[i]&&a++;return a===s&&s===o}function Bv(){return location.hostname.includes(".m.taobao.com")}function jv(){return location.hostname.includes(".m.tmall.com")}function Fi(){return Bv()||jv()}function HI(e){return e=e||"",e=e.replace(/\s/g,""),e=e.replace(/（/g,"("),e=e.replace(/）/g,")"),e=e.replace(/：/g,":"),e=e.replace(/【/g,"["),e=e.replace(/】/g,"]"),e=e.replace(/，/g,","),e=e.replace(/；/g,";"),e}function zI(e,t){return e=HI(e),t=HI(t),e===t}function WI(e,t=!1){const r=qI(e),n=YI(r),s=GI(e);let a=!1;const o=Yq(e);if(window.console.log("selectedSkuSubName",s),window.console.log("purchaseSkuSubName",r),window.console.log("similarPurchaseSkuSubName",n),window.console.log("isSkuIdSame",o),!Jd(r,s)&&!Jd(n,s)&&!o)t&&(St.error({message:"SKU自动匹配不成功，请手动选择",duration:0,showClose:!0}),Fo(e,{action:Do.matchSkuConfirm,actionDesc:`SKU自动匹配不成功 selectedSku：${s} purchaseSku：${r}`}));else if(a=!0,t){St.success({message:"SKU自动匹配成功",duration:0,showClose:!0});let i="";r===s?i=`SKU自动匹配成功 selectedSku：${s} purchaseSku：${r}`:i=`SKU自动匹配成功 selectedSku：${s} similarPurchaseSkuSubName：${n}`,Fo(e,{action:Do.matchSkuConfirm,actionDesc:i})}return a}function GI(e){const t=e.purchasePlatform;let r=[];switch(window.console.log("purchasePlatform",t),t){case Nc:r=Kq(e);break;case Rs:case Ua:r=BD();break;case uo:r=Gq(e);break}let n=r.length>0?r.join(" "):"";return n&&(n=n.replace(/（/g,"("),n=n.replace(/）/g,")"),n=n.replace(/：/g,":"),n=n.replace(/【/g,"["),n=n.replace(/】/g,"]"),n=n.replace(/，/g,","),n=n.replace(/；/g,";")),n}function Gq(e){const t=[];return k(".sku-item,.spec-item ").each((r,n)=>{let s=k.trim(k(n).text()),a=s.indexOf("：");a>-1&&(s=s.substr(a+1)),a=s.indexOf(":"),a>-1&&(s=s.substr(a+1)),s=s.replaceAll(";",""),!e.hasSpecialCharW&&s.lastIndexOf("W")===s.length-1&&(s=s.substring(0,s.length-1)),t.push(s)}),window.console.log("get1688SkuSubName",t),t}function Kq(e){const t=[],r=e.purchaseItem,s=k(".oc-address").next().find("span").filter((a,o)=>{const i=k(o).text().trim();return k(o).children().length===0&&(r.title.includes(i)||i.includes(r.title))});return s[0]&&k(s[0]).parent().next().children().each((o,i)=>{const c=k(i).text().split(":"),u=c[1]?k.trim(c[1]):"";u&&t.push(u)}),t}function Yq(e){if(!e.itemSelectedSkuInfo||!e.confirmSelectedSkuInfo||e.itemSelectedSkuInfo.length<1||e.confirmSelectedSkuInfo.length<1)return!1;window.console.log("itemSelectedSkuInfo",e.itemSelectedSkuInfo),window.console.log("confirmSelectedSkuInfo",e.confirmSelectedSkuInfo);const t=[];for(const r of e.confirmSelectedSkuInfo)t.push(r.specId);for(const r of e.itemSelectedSkuInfo)if(window.console.log("skuInfo",r),r){if(!t.includes(r.specId))return!1}else return!1;return!0}const Jq=(()=>{let e=!1;return(t,r,n=!1)=>{let s=!1;if(e)return window.console.log("already execute autoTriggerSubmitOrder"),s;if(e=!0,!t||qt(t)||!au(t))return s;const a=t.purchaseSetting||!1,o=Number(a.isAutoTriggerSubmitOrder)===1;if(!a||!o||(Xq(t),Qq(t,r),!r))return s;const i=Zq(t);if(!i)return s;const l=WI(t,!0);return!l||n&&tV(t)||r&&i&&l&&(s=!0),s}})();async function Uv(e,t,r=!1){if(Jq(e,t,r)){Fo(e,{action:Do.autoTriggerSubmitOrder});const s=e.purchaseSetting.autoTriggerSubmitOrderWaitSeconds*1e3||3e3;if(await Ye(s),!await Bi(e,"confirm_page"))return!1;e.isClickAutoCommitOrder=!0,await QI(e),nV(e)}}async function Xq(e){const t=e.autoOrderingInfo||{};t.selectedSkuSubName=GI(e),t.fullAddress=qv(e),e.autoOrderingInfo=t,await QI(e)}function qv(e){const t=e.purchasePlatform;let r="";switch(t){case Rs:case Ua:r=MD();break;case"1688":r=Sw();break}return window.console.log("fullAddress",r),r}function Qq(e,t){const r=qv(e);let n="";return t?(n=`地址匹配：【${r}】 `,St.success({message:"地址自动匹配成功",duration:0,showClose:!0})):(n=`地址不匹配：【${r}】 `,St.error({message:"地址自动匹配不成功，请手动选择",duration:0,showClose:!0})),Fo(e,{action:Do.matchAddress,actionDesc:n}),t}function Zq(e){const t=Number(eV(e))||0,r=Number(e.orderPayment),n=Pa(r-t),s=Pa(n/r*100);let a="";const o=e.purchaseSetting||!1,i=e.autoPurchaseSetting||!1,l=Pa(o.autoOrderingMinProfitRate,0),c=Pa(i.skipPurchaseMinProfitNumber,0);let u=!1,d=!1;return window.console.log("profit",n),Number(o.isAutoOrderingInLossProfit)!==1&&(d=!0),d?(u=!0,Fo(e,{action:Do.supportOrderingInLossProfit,actionDesc:`profit: ${n} profitRate: ${s} 支持亏损下单 purchaseSetting: ${JSON.stringify(o)}`}),u):(t?!l&&(n<0||Number.isNaN(n))?(a=`此单亏损! 亏损：【${n}】`,St.error({message:`此单亏损! 亏损金额：${n}`,duration:0,showClose:!0})):l&&(Number.isNaN(n)||s&&s<l)?(a=`此单亏损! 亏损：【利润率低于${l}%】 purchaseProfitRate: ${s} 利润: ${n}`,St.error({message:`此单亏损! 利润率低于：${l}%，当前利润率：${s}%`,duration:0,showClose:!0})):c&&(n<c||Number.isNaN(n))?(a=`此单亏损! 亏损：【利润低于${c}】 利润: ${n}`,St.error({message:`此单亏损! 利润低于${c}，当前利润：${n}`,duration:0,showClose:!0})):(u=!0,a=l?`利润率高于：【${l}%】 purchaseProfitRate: ${s}`:`利润：【${n}】`):(a=`获取平台应付总额异常! 应付总额：${t}`,St.error({message:`获取平台应付总额异常! 应付总额：${t}`,duration:0,showClose:!0})),Fo(e,{action:Do.compareProfit,actionDesc:a}),u)}function eV(e){const t=e.purchasePlatform;let r="0";switch(t){case"yangkeduo":r=GD();break;case Rs:case Ua:r=ND();break;case"1688":r=_w();break}return window.console.log("totalPrice",r),r}function tV(e){const t=rV(e);let r=!1;return t&&(St.error({message:t,duration:0,showClose:!0}),r=!0),r}function rV(e){const t=e.purchasePlatform;let r="";switch(t){case"1688":r=Tw();break}return window.console.log("validErrorMsg",r),r}function nV(e){const t=e.purchaseSetting||{},r=e.purchasePlatform;if(Number(t.isAutoTriggerSubmitOrder)===1)switch(r){case"yangkeduo":WD();break;case Rs:case Ua:DD();break;case"1688":Cw();break}}function sV(e){if(qt(e))return;if(!au(e))return null;const t=e.purchaseSetting||!1,r=Hb(t.isAutoTriggerSubmitOrder)?t.isAutoTriggerSubmitOrder:Number.parseInt(t.isAutoTriggerSubmitOrder);if(!t||!r)return null;const n=qv(e);Fo(e,{action:Do.manualChangeAddress,actionDesc:`手动修改地址：【${n}】 `})}async function Bi(e,t,r={}){if(!e)return!1;if(t==="confirm_page"){delete e.isSkuMatch;const o=WI(e);e.isSkuMatch=o?1:0}await aV(e,r);const n=await Xd(e,t),s=n.result||"",a=n.reason||"";return s==="fail"?(pt.alert(a).then(()=>{Xd(e,"user_confirm_tip",a)}),!1):!0}async function aV(e,t){if(!t.checkAddressCallback||!Cu(t.checkAddressCallback))return null;const r=await t.checkAddressCallback();e.isMatchAddress=r,delete e.isConfirmNotMatchAddress;let n=null;return r||(n=window.confirm(`当前地址与${e.appInfo.platformChineseName}买家地址不一致，确定要提交订单吗？`),e.isConfirmNotMatchAddress=n?1:0),!r&&n!==null&&!n?!1:r}function Xd(e,t,r=null){const n={source:t||"",purchaseSetting:e.purchaseSetting||"",relatedItemSkuIds:e.relatedItemSkuIds||"",appInfo:e.appInfo,operateInfo:e.operateInfo||"",orderId:e.orderId,orderSn:e.orderSn||"",orderCode:e.orderCode||"",purchaseItem:e.purchaseItem,purchaseOrderSn:e.purchaseOrderSn||"",purchasePlatform:e.purchasePlatform||"",hasPurchaseSkuIds:e.hasPurchaseSkuIds||"",skuIdAndPurchaseOrderIdMap:e.skuIdAndPurchaseOrderIdMap||"",purchaseOrders:e.purchaseOrders||"",reason:r||"",isSupplementOrder:e.isSupplementOrder||"",supplementSkuIdAndPurchaseOrderIdMap:e.supplementSkuIdAndPurchaseOrderIdMap||"",supplementPurchaseOrders:e.supplementPurchaseOrders||"",supplementHasPurchaseSkuIds:e.supplementHasPurchaseSkuIds||""};return typeof e.isMatchAddress<"u"&&(n.isMatchAddress=e.isMatchAddress?1:0),typeof e.isSkuMatch<"u"&&(n.isSkuMatch=e.isSkuMatch?1:0),typeof e.isConfirmNotMatchAddress<"u"&&(n.isConfirmNotMatchAddress=e.isConfirmNotMatchAddress),e.venderId&&(n.venderId=e.venderId),e.mallId&&(n.mallId=e.mallId),e.shopId&&(n.shopId=e.shopId),e.sellerId&&(n.sellerId=e.sellerId),e.memberId&&(n.memberId=e.memberId),e.userId&&(n.userId=e.userId),new Promise(s=>{Jt({url:"http://plw.ry-inc.com/open/purchase/checkRelatePurchaseOrder",method:"POST",data:n}).then(a=>s(a)).catch(a=>s(a))})}const{sendMessage:oV,onMessage:XK}=$a(),Vv=e=>(...t)=>oV(e,...t),KI=Vv("getUrlRequestHistory");function Pt(e){return`local:purchaseOrderInfo-${e}`}const iV=Vv("execute1688SearchSamePutImageScript"),lV=Vv("execute1688GetWindowContextScript");function Hv(e){const t=/(\w[\w-]*)\.(?:com\.cn|com|cn|co|net|org|gov|cc|biz|info|sg|vn|ph|global)(\.([a-z]+))?(\/|$)/.exec(e);if(!t)return"";let r=t[1]||"";if((r==="pinduoduo"||r==="toutiaonanren")&&(r="yangkeduo"),(r==="liangxinyao"||r==="95095")&&(r="tmall"),r==="lazada"||r==="shopee"){const n=/(\w[\w-]*)\.(com|cn|com|cn|co|net|org|gov|cc|biz|info|sg|vn|ph|global)(\.([a-z]+))?(\/|$)/.exec(e);r+=`_${n[4]?n[4]:n[2]}`}return r==="taobao"&&t[2]==="global"&&(r="tbglobal"),r==="3e3e"&&(r="3e"),e.includes("market.m.taobao.com/app/ltao-fe/ltao-lite")&&(r="taote"),r}function as(e,t){const r=document.createEvent("HTMLEvents");r.initEvent(t,!0,!0),e.dispatchEvent(r)}function au(e){return e.erpPurchaseType==="cart"?!1:Hq.includes(e.purchasePlatform)}function uV(e,t){if(!e||!e.appInfo||!e.appInfo.host)return window.console.log("参数错误，保存失败"),!1;const r=e,n=r.purchaseItem,s=r.appInfo,a={venderId:r.venderId||0,skuId:n.skuId||"",manualSelectedSkuSubName:t||"",purchaseWareUrlId:r.purchaseWareUrlId||0,opOrderId:r.opOrderId||0,platformItemId:n.platformItemId||"",platformSkuId:n.platformSkuId||"",purchaseItemSourceInfoId:r.purchaseItemSourceInfoId||0};return Jt({url:`${s.host}order/purchase_order/saveManualSelectedSkuSubName`,method:"POST",data:a})}function cV(e){const t=[],r=e.length;for(let n=0;n<r;n++){const s=e[n];s==="XXL"?t.push("2XL"):s==="2XL"?t.push("XXL"):s==="XXXL"?t.push("3XL"):s==="3XL"?t.push("XXXL"):t.push(s)}return t}function YI(e){const t=Ra(e)?e.split(" "):[];return cV(t).join(" ")}function Qd(e,t){const r=[];let n=e.length;for(let s=1;s<n;s++){const a=[];a.unshift(e[s]);for(let o=s-1;o>=0;o--)a.unshift(e[o]),e.push(a.join(" "))}n=e.length;for(let s=0;s<n;s++){let a=e[s];t&&(a=t(a)),r.push(a),a==="XXL"?r.push("2XL"):a==="2XL"?r.push("XXL"):a==="XXXL"?r.push("3XL"):a==="3XL"&&r.push("XXXL")}return r}function ou(e,t){const r=[];if(typeof e.autoFillRemarkTypes<"u"){const n=e.autoFillRemarkTypes||[];for(const s in n)switch(n[s]){case"5":e.consignee&&e.consignee.fullAddress&&r.push(e.consignee.fullAddress);break;case"4":e.purchaseItem&&e.purchaseItem.skuSubName&&r.push(e.purchaseItem.skuSubName);break;case"6":e.venderRemark&&r.push(e.venderRemark);break;case"3":e.customRemark&&r.push(e.customRemark);break;case"2":e.orderRemark&&r.push(e.orderRemark),e.venderRemark&&r.push(e.venderRemark);break;case"1":e.orderRemark&&r.push(e.orderRemark);break}}else e.orderRemark&&r.push(e.orderRemark);return r.join(t||"，")}function JI(e){let t=0;e.purchaseItem&&e.purchaseItem.estimatedCommission&&(t=Pa(e.purchaseItem.estimatedCommission));const[r,n]=XI(e);let s="";return e.purchaseItem&&"cBiz"in e.purchaseItem&&(e.purchaseItem.cBiz===2?s=`精选联盟达人佣金：￥${t}`:s="小店自卖"),s=`${s}  利润：￥${r}  利润率：${n}%`,[r,s]}function XI(e,t){let r=0,n=0,s=0,a="";if(e.purchaseItem&&e.purchaseItem.estimatedCommission&&(n=Pa(e.purchaseItem.estimatedCommission)),t||(t=e.purchaseOrderPayment),!t&&![0,"0"].includes(t))return[0,0];e.orderCustomCost&&(r=Pa(e.orderCustomCost));const o=Number(e.orderPayment);return s=Pa(o-t-n-r),o?a=(s/o*100).toFixed(2):a="-100",[s,a]}function Zd(e={}){const{platformChineseName:t=""}=e;return`当前地址与${t}买家地址不一致，请核对。`}function Ja(e,t={}){if(qt(t)||!t.appInfo||!t.appInfo.host)return window.console.log("参数错误，保存失败"),!1;const r=e||{},n=t.purchaseItem,s=t.appInfo,a=t.purchaseSetting||!1;if(!a||!a.isAutoTriggerSubmitOrder||!a.isAutoTriggerBuyBtn)return!1;if(!au(t)||!a||!a.isAutoTriggerBuyBtn&&!a.isAutoTriggerSubmitOrder)return window.console.log("暂不支持auto ordering"),null;if(r.venderId=t.venderId,r.shopId=t.shopId,r.orderId=t.orderId,t.autoOrderingInfo){const o=t.autoOrderingInfo;r.fullAddress=o.fullAddress?o.fullAddress:"",r.autoSelectedSku=o.selectedSkuSubName?o.selectedSkuSubName:""}return r.purchaseOrderSn=t.purchaseOrderSn?t.purchaseOrderSn:"",r.skuId=(n==null?void 0:n.skuId)||"",r.purchaseUUId=t.purchaseUUId?t.purchaseUUId:"",r.isAutoTriggerBuyBtn=a.isAutoTriggerBuyBtn?1:0,r.isAutoTriggerSubmitOrder=a.isAutoTriggerSubmitOrder?1:0,r.purchasePlatform=t.purchasePlatform?t.purchasePlatform:"",r.purchaseUrl=t.purchaseItem&&t.purchaseItem.purchaseUrl?t.purchaseItem.purchaseUrl:"",r.purchaseType=t.purchaseType?t.purchaseType:"",Jt({url:`${s.host}order/purchase_order/savePurchaseAutoOrderingLog`,method:"POST",data:r})}async function os({purchaseOrderInfo:e,isPurchaseOrderPaid:t=!1}){if(!e)return window.console.log("purchaseOrderInfo is null"),!1;const r=e.purchasePlatform||"",n=e.purchaseSetting||{},s=typeof n.isAutoRelateWaitPay>"u"?void 0:n.isAutoRelateWaitPay;if(window.console.log("isSupportWaitPayPurchasePlatform",r,s,t),typeof s<"u"&&s&&!t&&(e.purchaseOrderStatus="wait_pay"),t&&e.purchaseOrderStatus&&e.purchaseOrderStatus==="wait_pay"&&(e.purchaseOrderStatus="wait_send"),typeof s>"u"&&!t&&(e.purchaseOrderStatus="wait_pay"),typeof s<"u"&&!s&&!t)return window.console.log("purchase order no pay"),null;if(!e.purchaseOrderSn||qt(e.purchaseOrderSn))return pt.alert(`获取${zq[e.purchasePlatform]||""}订单号失败，请手动关联订单`);window.console.log("isRelatePurchaseOrderSuccess",e.isRelatePurchaseOrderSuccess),window.console.log("purchaseStartTabId",e.purchaseStartTabId),a6(e).then(a=>{window.console.log("purchaseSuccess res:",a),window.console.log("purchaseSuccess purchaseOrderInfo:",e),window.console.log("purchaseSuccess purchasePlatform:",r);const o=Wn({text:"正在关联采购单，请等候！！！"});dV(a).finally(()=>{o.close()})})}async function dV(e){var i;const{purchaseOrderInfo:t,erpPurchaseSuccessRes:r}=e;window.console.log("CommonTool._relatePurchaseSuccessCallback"),r&&Xd(t,"relate_result",r.reason);const n=await rr(),s=n==null?void 0:n.id;function a(l){St.success({message:`关联${l.appInfo.platformChineseName}订单成功`,onClose:()=>{const c=l.purchaseSetting||{};s&&Number(c.isAutoClosePurchasePage)===1&&i6(s)}})}const o=await Ze.getItem(Pt(s))||{};if(r.result==="success"||r.result==="timeout"){if(!o){a(t);return}return r.result==="timeout"&&o.relatePurchaseOrderResultHasShown?void 0:(o.isRelatePurchaseOrderSuccess=!0,o.relatePurchaseOrderResultHasShown=!0,Ze.setItem(Pt(s),o),a(t),!0)}o.relatePurchaseOrderResultHasShown=!0,Ze.setItem(Pt(s),o),(i=r==null?void 0:r.reason)!=null&&i.includes("重复")?pt.alert(r.reason,{title:"提示",dangerouslyUseHTMLString:!0}).then(()=>{Xd(t,"user_confirm_tip",r.reason)}):pt.alert(`关联失败原因：${r.reason}`,{type:"error"})}function zv(e){const t=new RegExp(`(^|&)${e}=([^&]*)`,"i"),r=window.location.search.substr(1).match(t);return r?decodeURIComponent(r[2]):null}function ef(e,t=""){if(!e)return{};const r=new URL(e),{searchParams:n}=r;if(t)return n.get(t);const s={};return n.forEach((a,o)=>{s[o]=a}),s}function Wv(e){return fV(Hv(e))}function fV(e){let t="";switch(e){case"taobao":t=k("#J_ShopInfo .tb-shop-name a").attr("title");break;case"tmall":t=k("div[class^=ShopHeader--title]").attr("title");break;case"1688":t=k("div[id=hd_0_container_0] span").eq(0).text(),t&&(t=k("a.shop-company-name").find("h1").attr("title"));break;case"yangkeduo":t=k("div[style='margin-bottom:.02rem']").eq(0).text();break}return t||""}function pV(e,t){if(!e||typeof e!="string"||!e.length)return e;t==="mobile"&&!/^[0-9-\s]{6,}$/.test(e)&&(t="");let r="",n=0;switch(t){case"mobile":r=`${e.substring(0,3)}****${e.substring(7)}`;break;case"pddMobile":r=`${e.substring(0,2)}*******${e.substring(9)}`;break;case"pddWebViewName":n=e.length,n<=2?r=`${e.substring(0,1)}*`:r=`${e.substring(0,1)}*${e.slice(-1)}`;break;case"pddWebViewAddress":r=e.replace(/(\d)+/g,"*");break;default:if(n=e.length,n>=6){const s=e.substring(0,2),a=e.slice(-2);r=`${s}**${a}`}else if(n<=2)r=`${e.substring(0,1)}*`;else{const s=e.substring(0,1),a=e.slice(-1);r=`${s}*${a}`}break}return r}async function QI(e){const t=await rr(),r=t==null?void 0:t.id;Ze.setItem(Pt(r),e)}function Fo(e,t){if(!e||!e.appInfo||!e.appInfo.host)return window.console.log("参数错误，保存失败"),!1;const r=Object.assign({},t||{}),n=e.purchaseItem,s=e.appInfo||{};return au(e)?(r.purchaseUUId=e.purchaseUUId?e.purchaseUUId:"",r.venderId=e.venderId,r.shopId=e.shopId,r.orderId=e.orderId,r.skuId=n!=null&&n.skuId?n.skuId:"",r.purchasePlatform=e.purchasePlatform?e.purchasePlatform:"",r.purchaseUrl=e.purchaseItem&&e.purchaseItem.purchaseUrl?e.purchaseItem.purchaseUrl:"",Jt({url:`${s.host}order/purchase_order/savePurchaseActionLog`,method:"POST",dataType:"text",data:r})):(window.console.log("暂不支持"),null)}function hV(){return{name:"",address:""}}function tf(e,t,r=""){return t&&(e=JSON.parse(JSON.stringify(e)),r==="jingxi"&&!/^[\u4E00-\u9FA5a-z]+$/i.test(t.name)&&(t.name=t.name.replace(/[^\u4E00-\u9FA5a-z]+/i,"")),t.name&&(e.fullname+=t.name),t.address&&(e.fullAddress+=t.address,e.address+=t.address)),e}function mV(e){return/^1\d{10}$/.test(e)}function gV(){return window.top!==window.self?(window.console.log(`iframe url:${window.location.href}`),!0):!1}function vV(e){if(!e)return null;let t="";return e.venderId?t=e.venderId:e.userId?t=e.userId:e.sellerId?t=e.sellerId:e.shopId?t=e.shopId:e.mallId&&(t=e.mallId),t}async function ZI(e){return await v6({stringList:e},{dataType:"json"})}function rf(e){return e.replace(/&#39;|'/g,"").replace(/#/g,"号").replace(/\./g,"·").replace(/—|&mdash;/g,"-")}function ek(e,t){const r=document.createElement("div");r.className=t,e.parentNode.appendChild(r),r.style.position="absolute",r.style.top=`${e.offsetTop}px`,r.style.left=`${e.offsetLeft}px`,r.style.width=`${e.offsetWidth}px`,r.style.height=`${e.offsetHeight}px`}function yV(e,t){let r=[];["taobao","tmall"].includes(t)&&(r=["亲，小二正忙，滑动一下马上回来","霸下通用 web 页面-验证码","被挤爆啦,请稍后重试"]);for(const n of r)if(e.includes(n))return!0;return!1}function tk(e){return e?(e.replace(/[<>& "]/g,t=>{switch(t){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case" ":return"&nbsp;";case'"':return"&quot;"}}),window.btoa(window.encodeURIComponent(e))):""}function bV(){try{const e=navigator.userAgent.toLowerCase(),t=/chrom(e|ium)\/(\d+)/.exec(e);return t?Number.parseInt(t[2],10):0}catch(e){return window.console.log("getChromeVer error",e),0}}function wV(){try{return navigator.userAgent}catch(e){return window.console.log("getUserAgent error",e),""}}const SV=xe({inheritAttrs:!1,__name:"SearchSameUi",props:{skipValidateImage:{type:Function,default:()=>!1},source:{}},setup(e){const t=e,r=mc("searchSameButtonRef"),n=In(),s=ee(!1),a=ee(!1),{onValidateAli1688MessageBox:o}=Fv(()=>"1688"),i=_=>{const S=window.getComputedStyle(_);return S.display!=="none"&&!/collapse|hidden/.test(S.visibility)&&S.opacity!=="0"&&_.clientHeight>100&&_.clientWidth>100},l=["img","picture","video[poster]",'[style*="background"]'].join(","),c=["data-img-src","data-src","currentSrc","src"],u=_=>{var x,I;if(!_)return"";let S="";switch(_.tagName.toUpperCase()){case"IMG":S=_.src;break;case"PICTURE":S=(x=_.querySelector("img"))==null?void 0:x.src;break;case"VIDEO":S=_.poster;break;default:for(const f of c)if(S=(I=_[f]||_.getAttribute(f))==null?void 0:I.trim(),S)break;S||(S=window.getComputedStyle(_).backgroundImage.replace(/url\((['"]?)(.*?)\1\)/gi,"$2"))}return S=(S==null?void 0:S.trim())||"",/^https?:\/\//i.test(S)?S:""},d=(_,S)=>{const{pageX:x,pageY:I}=_;return S.left<=x&&S.right>=x&&S.top<=I&&S.bottom>=I},m=(_,S)=>{const{scrollX:x,scrollY:I}=window;for(const f of S){if(!i(f))continue;const P=u(f);if(!P)continue;const $=f.getBoundingClientRect(),q=$.top+I,E=$.left+x,M=E+$.width,F=q+$.height;if(d(_,{top:q,left:E,bottom:F,right:M}))return{node:f,rect:$,top:q,left:E,bottom:F,right:M,src:P}}},b=_=>{var I;let S=_.target;if(S&&S.shadowRoot){const P=(_.composedPath()||[])[0];P&&(S=P)}const x=new Set;if(S.tagName==="IMG"&&!((I=t.skipValidateImage)!=null&&I.call(t,S)))x.add(S);else for(let f=0;f<3;f++)S=S==null?void 0:S.parentElement,S&&i(S)&&S.querySelectorAll(l).forEach(P=>{var $;($=t.skipValidateImage)!=null&&$.call(t,P)||x.add(P)});return[...x]},g=kq(()=>{var _;return(_=r.value)==null?void 0:_.$el});let h=0;Nv(document,"mousemove",_=>{var f;if(a.value)return;const S=Date.now();if(S-h<50||(h=S,g.value))return;const x=b(_),I=m(_,x);I?((!n.value||((f=n.value)==null?void 0:f.node)!==I.node)&&(n.value=I),s.value=!0):s.value=!1});const v=W(()=>n.value?{display:s.value?"block":"none",position:"absolute",zIndex:"9999999999999999999 !important",left:`${n.value.left}px`,top:`${n.value.top}px`}:{display:"none"}),y=async()=>{var _;Ka(),await Ut(),await o(),a.value=!0,as((_=r.value)==null?void 0:_.$el,"mouseleave")},C=W(()=>t.source==="yangkeduo");return(_,S)=>{const x=Mx,I=un,f=hC;return K(),Le(f,Aw(Hh(w(MI))),{default:ie(()=>[w(n)?(K(),Le(x,{key:0,modelValue:w(a),"onUpdate:modelValue":S[0]||(S[0]=P=>ar(a)?a.value=P:null),"source-image-url":w(n).src},null,8,["modelValue","source-image-url"])):Ee("",!0),w(a)?Ee("",!0):(K(),Le(I,{key:1,ref_key:"searchSameButtonRef",ref:r,type:"primary",style:jt(w(v)),icon:w(hN),onClick:$t(y,["stop","prevent"])},{default:ie(()=>[ot(ze(w(C)?"跨境":"1688")+"搜同款 ",1)]),_:1},8,["style","icon"]))]),_:1},16)}}}),_V=sO(async(e,t)=>{var i,l;const[r]=await La(gi());if(r&&(i=r.sourcePlatformConfigList)!=null&&i.some(c=>c.source===t.source&&c.disabledCollect))throw new Error(`${t.source} is disabled`);const n=Fu(async()=>{const c=As.runtime.getURL("/assets/platform-base-utils.css");return(await fetch(c).then(d=>d.text())).replace(/:root/g,":host")}),s=async()=>gm(e,{name:tp(),position:"inline",anchor:"body",mode:"closed",css:await n(),onMount:c=>{const u=Fs(Rq,{...t});return u.mount(c),u},onRemove:c=>{c==null||c.unmount()}}),a=async()=>{const c=await n();return gm(e,{name:tp(),position:"inline",anchor:"body",mode:"closed",css:c,onMount:u=>{const d=Fs(Uq,{...t,shadowRootStyle:c});return d.mount(u),d},onRemove:u=>{u==null||u.unmount()}})},o=async()=>{(await gm(e,{name:tp(),position:"inline",anchor:"body",mode:"closed",css:await n(),onMount:u=>{const d=Fs(SV,{...t});return d.mount(u),d},onRemove:u=>{u==null||u.unmount()}})).mount()};return(l=r==null?void 0:r.supportSearch1688SameSource)!=null&&l.includes(t.source)&&o(),{createListUi:a,createDetailUi:s}});function ji(e,t){const r=document.createElement(t.tag||"div");r.setAttribute("data-wxt-integrated","");let n;const s=()=>{var i;h_(r,void 0,t),m_(r,t),n=(i=t.onMount)==null?void 0:i.call(t,r)},a=()=>{var i;(i=t.onRemove)==null||i.call(t,n),r.replaceChildren(),r.remove(),n=void 0},o=g_({mount:s,remove:a},t);return e.onInvalidated(a),{get mounted(){return n},wrapper:r,...o}}const rk=()=>{const e=ee({}),t=W(()=>e.value.accountName||e.value.accountId);return{accountInfo:e,accountName:t,getAccountName:async()=>{if(!qt(e.value))return e.value;const n=await _6();n&&(e.value=n)}}},TV=()=>{const{accountInfo:e,accountName:t,getAccountName:r}=rk(),n="https://erp.91miaoshou.com/api",a={getUserInfo:`${`${window.location.protocol}//${window.location.host}`}/sso-prefix/auth/getUser`},{LOCAL_CRAWL_MALL_INFO_LIST:o}=nw,{source:i}=vf,l=ee([]),c=ee([]),u=ee();function d(){return{shopId:null,shopNick:"",platformShopName:""}}const m=async()=>{const P=(await Jt({url:`${n}/platform/shein_choice/stat/crawl/get_crawl_shop_with_bind_mall_list`,method:"GET"})).shopList||[];return l.value=P,P},b=async()=>{const f=a.getUserInfo;try{const P=await _n({url:f,method:"GET",xhrFields:{withCredentials:!0,responseType:"json"}}),$=P?P.msg:"";return($?!+$.includes("子系统登录重定向"):1)?Promise.resolve(P):Promise.reject("未登录Shein后台")}catch{return Promise.resolve({})}},g=async(f=!1)=>{var $;if(qt(e.value))return;const P=await b();if(P!=null&&P.info&&(($=P==null?void 0:P.info)!=null&&$.supplierId)){let q=[],E={};f||(q=await m()),E=P.info||{},E.name=ep(E.supplierUserName),E.id=ep(E.supplierId);let M=q.find(F=>`${F.mallId}`==`${E.supplierId}`);qt(M)&&(M=d()),E.bindShop=M,c.value=[E]}},h=()=>{if(qt(e))return"--";let f="1971-11-11";for(const P of l.value){const $=v(P);$!=="--"&&Ve($).isAfter(Ve(f))&&(f=$)}return Ve(f).unix()===Ve("1971-11-11").unix()?"--":Ve(f).format("YYYY-MM-DD HH:mm:ss")};function v(f){const P=f==null?void 0:f.mallPluginCrawlInfo;if(qt(P))return"--";const $=y(P);return $?Ve($).format("YYYY-MM-DD HH:mm:ss"):"--"}function y(f){const{gmtWaitSettleCrawl:P,gmtLastRsyncSettlement:$}=f,q=[P,$].filter(Boolean);return Qf(q)}const C=async()=>{var P,$,q;const f=[];for(const E of c.value){const{id:M,bindShop:F}=E,N=await t_({source:i,id:M}),R=(F==null?void 0:F.shopId)||((q=($=(P=l.value)==null?void 0:P.filter(H=>!(H.mallId&&H.mallId!==M)))==null?void 0:$[0])==null?void 0:q.shopId);f.push({...E,...N,shopId:R,shopGmtLastRsync:v(F)})}c.value=f,window.console.log(f),Ze.setItem(o,f)};return{accountName:t,authShopList:l,lastRsyncSettlementGmt:u,mallInfoList:c,handleInit:async()=>{await Ut(),await r(),await g(),u.value=h(),ZS({source:i})},bindSheinMall:async({mallId:f,shopId:P,name:$})=>{try{const q=Wn({text:"绑定中..."});(await Jt({url:`${n}/platform/shein_choice/stat/crawl/bind_mall`,method:"POST",data:{mallId:f,shopId:P,name:$}}).finally(()=>{q.close()})).result==="success"&&(await g(),C(),St.success("绑定成功"))}catch(q){St.error((q==null?void 0:q.reason)||"绑定失败")}},unbindSheinMall:({mallId:f,shopId:P})=>{pt.confirm("解绑后，此店铺历史采集数据将被全部清除，建议谨慎操作！","提示",{confirmButtonText:"确定解绑",cancelButtonText:"取消",type:"warning"}).then(async()=>{try{const $=Wn({text:"解绑中..."});(await Jt({url:`${n}/platform/shein_choice/stat/crawl/unbind_mall`,method:"POST",data:{mallId:f,shopId:P}}).finally(()=>{$.close()})).result==="success"&&(await g(),C(),St.success("解绑成功"))}catch($){St.error(($==null?void 0:$.reason)||"解绑失败")}})},handleRunStartCrawl:f=>{var E,M;const{startDate:P,endDate:$,checkedShopList:q}=f;for(const F of q){const N=c.value.find(R=>`${R.id}`==`${F}`);N&&N.bindShop&&e_({source:i,mallInfo:{mallId:F,mallName:N.mallName,mallType:"sheinChoice",bindShopId:(E=N.bindShop)==null?void 0:E.shopId,authAppNameList:Gb(((M=N.bindShop)==null?void 0:M.authAppNameList)||[]),startDate:Ve(P).format("YYYY-MM-DD"),endDate:Ve($).format("YYYY-MM-DD")}})}},refreshCrawlShopList:C}},CV=()=>{const{accountInfo:e,accountName:t,getAccountName:r}=rk(),n="https://erp.91miaoshou.com/api",s=`${window.location.protocol}//${window.location.host}`,a={getUserInfo:`${s}/bg/quiet/api/mms/userInfo`},{LOCAL_CRAWL_MALL_INFO_LIST:o}=nh,{source:i}=Zp,l=ee([]),c=ee([]),u=ee(""),d=ee(),m=ee(!1),b=ee(!1);function g(){return{shopId:null,shopNick:"",platformShopName:""}}const h=async()=>{await Ut(),window.open("https://erp.91miaoshou.com/","_blank")},v=async()=>{let U=a.getUserInfo;b.value&&(U=`${s}/api/seller/auth/userInfo`);try{const L=await _n({url:U,method:"POST",data:JSON.stringify({}),xhrFields:{withCredentials:!0,responseType:"json"},headers:{"content-type":"application/json"}}),D=L?L.errorMsg:"";return(D?!D.includes("登录过期，请重新登录"):1)?Promise.resolve(L):Promise.reject("未登录temu后台")}catch{return Promise.resolve({})}},y=async()=>{const L=(await Jt({url:`${n}/platform/pddkj/stat/crawl/get_crawl_shop_with_bind_mall_list`,method:"GET"})).shopList||[];return l.value=L,L},C=async(U=!1)=>{var ae,ne,he,ve,We;if(qt(e.value))return;if(m.value){if(k("#mms-layout-user-setting").length>0){let Ge=[];U||(Ge=await y());const Te=k("#mms-layout-user-setting > div > div:nth-child(2) > div > div:nth-child(2) > div").text().replace("ID: ",""),He=k("#mms-layout-user-setting > div > div:nth-child(2) > div > div > div").html(),Me=Ge.find(X=>`${X.pddkjMallId}`==`${Te}`),rt={name:He,mallName:He,id:Te,bindShop:Me,isTemuLocal:!0};c.value=[rt]}return}const L=await v(),D=[];let Y=[];U||(Y=await y());let Q=[];b.value?(ne=(ae=L==null?void 0:L.result)==null?void 0:ae.mallList)!=null&&ne.length&&(Q=L.result.mallList):(ve=(he=L==null?void 0:L.result)==null?void 0:he.companyList)!=null&&ve.length&&(Q=((We=L.result.companyList[0])==null?void 0:We.malInfoList)||[]);for(const Ge of Q){const{mallName:Te,mallId:He,isSemiManagedMall:Me,managedType:rt}=Ge,X=Y.find(ge=>`${ge.pddkjMallId}`==`${He}`)||g(),re={name:ep(Te),id:He,bindShop:X,isSemiManagedMall:b.value?`${rt}`=="1":Me,mallName:Te};D.push(re)}c.value=D},_=()=>{if(qt(e))return"--";let U="1971-11-11";for(const L of l.value){const D=S(L);D!=="--"&&Ve(D).isAfter(Ve(U))&&(U=D)}return Ve(U).unix()===Ve("1971-11-11").unix()?"--":Ve(U).format("YYYY-MM-DD HH:mm:ss")};function S(U){const L=U==null?void 0:U.pddkjMallPluginCrawlInfo;if(qt(L))return"--";const D=[];for(const Y in L)Yb(Y,"gmtLast")&&L[Y]&&D.push(L[Y]);return D.length?Qf(D):"--"}function x(U){if(qt(U))return"--";const L=U.pddkjMallPluginCrawlInfo;if(qt(L))return"--";const D=[];for(const Y in L)Yb(Y,"gmtLast")&&L[Y]&&D.push(L[Y]);return D.length?Qf(D):"--"}const I=async()=>{var L,D,Y;const U=[];for(const Q of c.value){const{id:ae,bindShop:ne}=Q,he=await t_({source:i,id:ae}),ve=(ne==null?void 0:ne.shopId)||((Y=(D=(L=l.value)==null?void 0:L.filter(We=>!(We.pddkjMallId&&We.pddkjMallId!==ae)))==null?void 0:D[0])==null?void 0:Y.shopId);U.push({...Q,...he,shopId:ve,shopGmtLastRsync:x(ne)})}c.value=U,window.console.log(U),Ze.setItem(o,U)},f=async U=>{await Ut();let L=k('div[data-testid="beast-core-modal"]'),D=k('div[data-testid="beast-core-modal-mask"]');L.length||(L=k('[class^="MDL_outerWrapper_"]')),D.length||(D=k('[class^="MDL_mask_"]')),L.remove(),D.remove(),k('[class^="PT_outerWrapper_"]').hide(),k('[class^="satisfaction-score_"]').hide(),s_({action:U||"plugin_close_popup",extra:{}})},P=async({mallId:U,shopId:L})=>{const D=c.value.find(Q=>`${Q.id}`==`${U}`),Y=l.value.find(Q=>`${Q.shopId}`==`${L}`);if(D.isSemiManagedMall){if(Y.platform!=="pddkjChoice"){St.error("绑定的店铺类型不正确");return}}else if(m.value){if(Y.platform!=="pddkjLocal"){St.error("绑定的店铺类型不正确");return}}else if(Y.platform!=="pddkj"){St.error("绑定的店铺类型不正确");return}try{const Q=Wn({text:"绑定中..."});(await Jt({url:`${n}/platform/pddkj/shop/shop/bind_pddkj_mall`,method:"POST",data:{mallId:U,shopId:L}}).finally(()=>{Q.close()})).result==="success"&&(await C(),I(),St.success("绑定成功"))}catch(Q){St.error((Q==null?void 0:Q.reason)||"绑定失败")}},$=({mallId:U,shopId:L})=>{pt.confirm("解绑后，此店铺历史采集数据将被全部清除，建议谨慎操作！","提示",{confirmButtonText:"确定解绑",cancelButtonText:"取消",type:"warning"}).then(async()=>{try{const D=Wn({text:"解绑中..."});(await Jt({url:`${n}/platform/pddkj/shop/shop/unbind_pddkj_mall`,method:"POST",data:{mallId:U,shopId:L}}).finally(()=>{D.close()})).result==="success"&&(await C(),I(),St.success("解绑成功"))}catch(D){St.error((D==null?void 0:D.reason)||"解绑失败")}})},q=async()=>{if(await Ut(),f("plugin_reject_adjust_price"),!!(location.href.includes("price-adjustment")||location.href.includes("order-price")))try{const U=F();if(!(U!=null&&U.length))return;if(c.value.length||await C(!0),U){for(const L of c.value)if(U&&k.trim(L.name)===U){L.isSemiManagedMall?M(L):E(L);break}}}catch(U){St.error(N(U))}};async function E(U){var Q;const L=[];let D=null,Y;try{let ae=1;const ne=10;let he=0;const ve=[],We=`${s}/api/kiana/mms/magneto/price-adjust/page-query`,Ge=`${s}/api/kiana/mms/gmp/bg/magneto/api/price-adjust/batch/adjust`;do{const Te=await Ct({mallId:U.id,url:We,antiContentStr:d.value,data:{pageInfo:{pageSize:ne,pageNo:ae},status:1,quickSearch:[]}});if(L.push(Te),Te.errorMsg)throw new Error(Te.errorMsg);const He=Te==null?void 0:Te.result,Me=He==null?void 0:He.list;Me&&(Me!=null&&Me.length)&&ve.push(...Me),he=(He==null?void 0:He.total)||0,ae++,await Ye(2e3)}while(ve.length<he);if(ve.length){const Te={},Me={adjustList:ve.reduce((rt,X)=>{const{id:re}=X;return Te[re]||(Te[re]=!0,rt.push({adjustId:re,result:2,reason:"拒绝"})),rt},[])};Y=Me,D=await Ct({mallId:U.id,url:Ge,antiContentStr:d.value,data:Me}),window.location.reload()}}catch(ae){St.error(N(ae)),await Jt({url:`${n}/platform/pddkj/stat/crawl/savePddkjRejectPriceLog`,method:"POST",data:{mallId:U.id,shopId:(Q=U.bindShop)==null?void 0:Q.shopId,allRet:L,rejectRet:D,rejectParams:Y,errorMsg:N(ae)}})}}async function M(U){try{let L=1;const D=50;let Y=0;const Q=[];let ae=0;const ne=`${s}/api/kiana/magnus/mms/price-adjust/page-query`,he=`${s}/api/kiana/magnus/mms/price-adjust/batch-review`;do{const ve=await Ct({mallId:U.id,url:ne,antiContentStr:d.value,data:{pageInfo:{pageSize:D,pageNo:L},status:1,quickSearch:[]}});if(ve.errorMsg)throw new Error(ve.errorMsg);const We=ve==null?void 0:ve.result,Ge=We==null?void 0:We.list;Ge&&(Ge!=null&&Ge.length)&&Q.push(...Ge),Y=(We==null?void 0:We.total)||0,L++,await Ye(2e3)}while(Q.length<Y);if(Q.length){const ve=Q.filter(Ge=>[5,9,11,32,6].includes(Ge.sourceInt)),We=qf(ve,D);for(const Ge of We){const Te={batchResult:2,rejectReasons:Ge.reduce((He,Me)=>(He[Me.id]="拒绝",He),{}),submitOrders:Ge.map(He=>He.id)};await Ct({mallId:U.id,url:he,antiContentStr:d.value,data:Te}),ae++,await Ye(1e3)}ae&&window.location.reload()}}catch(L){St.error(N(L))}}function F(){let U=k('div[class^="layout-main_mallInfo"]');return U.length||(U=k('div[class^="account-info_mallInfo_"]')),k.trim(U.find("span[data-testid]").eq(0).text())}function N(U){switch(typeof U){case"string":return U;case"object":return U.message;default:return"未知错误"}}return{accountName:t,lastRsyncSettlementGmt:u,authShopList:l,mallInfoList:c,isTemuLocal:m,handleInit:async()=>{await Ut(),m.value=/(\w+\.)?seller(-eu)?.temu.com/.test(window.location.host),b.value=window.location.host.includes("agentseller"),b.value&&(m.value=!1);const{LOCAL_TEMU_ANTI_CONTENT:U}=nh;await r(),await C(),u.value=_(),d.value=await Ze.getItem(U),ZS({source:i})},handleGoLogin:h,closeTemuPopup:f,refreshCrawlShopList:I,bindTemuMallV2:P,unbindTemuMallV2:$,rejectModifyPrice:q,handleRunStartCrawl:U=>{var Q,ae;const{startDate:L,endDate:D,checkedShopList:Y}=U;for(const ne of Y){const he=c.value.find(ve=>`${ve.id}`==`${ne}`);if(he&&he.bindShop){let ve="pddkj";m.value?ve="pddkjLocal":he.isSemiManagedMall&&(ve="pddkjChoice"),e_({source:i,mallInfo:{mallId:ne,mallName:he.mallName,mallType:ve,bindShopId:(Q=he.bindShop)==null?void 0:Q.shopId,authAppNameList:Gb(((ae=he.bindShop)==null?void 0:ae.authAppNameList)||[]),startDate:Ve(L).format("YYYY-MM-DD"),endDate:Ve(D).format("YYYY-MM-DD"),host:`${window.location.protocol}//${window.location.host}`},antiContentStr:d.value})}}}}},xV={class:"svg-icon"},IV={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",width:"16",height:"16"},kV={key:1,viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},OV={key:2,viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},PV={key:3,viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},AV={key:4,viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},EV={key:5,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},Ui=Gn(xe({name:"SvgIcon",inheritAttrs:!1,__name:"SvgIcon",props:{icon:{type:String,default:""}},setup(e){return(t,r)=>(K(),ue("div",xV,[e.icon==="question"?(K(),ue("svg",IV,r[0]||(r[0]=[G("path",{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64z m0 64c-212.054 0-384 171.946-384 384s171.946 384 384 384 384-171.946 384-384-171.946-384-384-384z m-0.014 576c11.046-0.02 20.65 3.921 28.37 11.66C548.063 723.389 552 732.98 552 744c0 11.019-3.936 20.611-11.645 28.34-7.718 7.739-17.323 11.68-28.369 11.66-11.028-0.02-20.616-3.954-28.327-11.646-7.72-7.7-11.659-17.3-11.659-28.354 0-11.054 3.938-20.653 11.659-28.354 7.576-7.557 16.963-11.487 27.748-11.641l0.58-0.005z m-0.03-448c43.084 0 79.923 13.897 110.154 41.567l0.988 0.913 0.188-0.374 7.548 7.948c29.472 31.036 43.192 67.244 40.925 108.16l-0.074 1.241-0.051 0.982c-1.18 21.04-6.53 41.103-16.03 60.125-9.547 19.114-29.438 43.72-59.759 74.142l-0.922 0.924c-33.189 33.197-50.54 58.016-52.131 73.036l-0.044 0.452-0.019 0.22-0.031 0.217c-1.254 8.72-5.09 16.078-11.407 21.768-6.256 5.636-13.864 8.556-22.48 8.679h-3.794l-0.261-0.018c-9.555-0.652-17.598-4.759-23.668-12.097-5.983-7.234-8.47-15.783-7.342-25.153l0.056-0.45 0.086-0.783c2.179-19.236 9.06-37.48 20.576-54.649l0.56-0.83 0.569-0.828c11.778-17.046 28.257-36.183 49.452-57.464l2.633-2.638 1.636-1.652c15.682-15.9 27.57-29.777 35.645-41.571l0.408-0.598c8.473-12.502 13.393-21.295 14.593-25.676 1.25-4.563 2.141-10.745 2.633-18.533l0.09-1.528c1.36-21.69-5.809-40.733-21.744-57.576-18.232-19.155-40.545-28.74-67.404-28.93l-0.815-0.003h-0.74c-24.793 0-45.821 8.752-63.51 26.444-17.51 17.516-26.262 38.306-26.435 62.785l-0.003 0.743c0 9.49-3.412 17.785-10.073 24.447-6.66 6.662-14.954 10.076-24.443 10.076-9.49 0-17.782-3.414-24.443-10.076-6.66-6.662-10.073-14.957-10.073-24.447 0-43.785 15.588-81.394 46.585-112.398C430.582 271.592 468.182 256 511.957 256z"},null,-1)]))):e.icon==="shrink"?(K(),ue("svg",kV,r[1]||(r[1]=[G("path",{d:"M0.000323 25.6A25.374236 25.374236 0 0 1 25.705141 0.104819h971.130961c14.206992 0 25.704819 11.288189 25.704819 25.495181v465.395906c0 14.005417-11.497827 25.495181-25.704819 25.495181-14.215055 0-25.704819-11.288189-25.704819-25.495181V51.095181H51.200323V971.026142h442.617952a25.688693 25.688693 0 0 1 25.704819 25.704819 25.688693 25.688693 0 0 1-25.704819 25.704819H25.705141A25.688693 25.688693 0 0 1 0.000323 996.730961V25.6zM996.626464 1022.226142v0.209638h-355.900472a25.688693 25.688693 0 0 1-25.696756-25.704819V640.628913a25.688693 25.688693 0 0 1 25.704819-25.704819h355.892409a25.688693 25.688693 0 0 1 25.704819 25.704819v355.89241a25.688693 25.688693 0 0 1-25.704819 25.704819zM666.229236 666.124094v304.902048h304.902047V666.124094H666.229236zM284.003094 538.446614a25.688693 25.688693 0 0 1 25.704819-25.704819H476.684417L186.81985 222.877228a25.479055 25.479055 0 0 1 0-36.154456 25.479055 25.479055 0 0 1 36.154457 0l289.856504 289.864567v-166.984567a25.688693 25.688693 0 0 1 25.704819-25.704819 25.688693 25.688693 0 0 1 25.704819 25.704819v228.827716a25.688693 25.688693 0 0 1-25.704819 25.712882H309.69985a25.688693 25.688693 0 0 1-25.704819-25.704819z"},null,-1)]))):e.icon==="expand"?(K(),ue("svg",OV,r[2]||(r[2]=[G("path",{d:"M0 25.704819A25.688693 25.688693 0 0 1 25.704819 0h971.130961a25.688693 25.688693 0 0 1 25.704818 25.704819v465.395905a25.688693 25.688693 0 0 1-25.704818 25.704819 25.688693 25.688693 0 0 1-25.704819-25.704819V51.2H51.2v919.930961h442.617953a25.688693 25.688693 0 0 1 25.704819 25.704819 25.688693 25.688693 0 0 1-25.704819 25.704818H25.704819A25.688693 25.688693 0 0 1 0 996.827717V25.704819z m1022.330961 970.921323a25.962835 25.962835 0 0 1-25.495181 25.914456H640.733732a25.688693 25.688693 0 0 1-25.704819-25.704818V640.733732a25.688693 25.688693 0 0 1 25.704819-25.704819h355.89241a25.688693 25.688693 0 0 1 25.704819 25.704819v355.89241z m-51.2-25.495181V666.228913H666.228913v304.902048h304.902048zM459.340598 205.009638c0 13.997354-11.497827 25.495181-25.704818 25.495181H266.64315l290.275779 289.856504a25.479055 25.479055 0 0 1 0 36.154457 25.454866 25.454866 0 0 1-18.173984 7.522771c-6.692283 0-13.166866-2.507591-18.182047-7.522771l-289.864567-289.864567v167.194204a25.688693 25.688693 0 0 1-25.696756 25.696756 25.688693 25.688693 0 0 1-25.704819-25.696756V205.009638a25.688693 25.688693 0 0 1 25.704819-25.704819H433.627717a25.688693 25.688693 0 0 1 25.704818 25.704819z"},null,-1)]))):e.icon==="close"?(K(),ue("svg",PV,r[3]||(r[3]=[G("path",{d:"M196.48 149.376L874.624 827.52l-47.104 47.104L149.376 196.48z"},null,-1),G("path",{d:"M149.376 827.52L827.52 149.44l47.168 47.104L196.544 874.688z"},null,-1)]))):e.icon==="more"?(K(),ue("svg",AV,r[4]||(r[4]=[G("path",{d:"M344.832 474.112H98.048a61.632 61.632 0 0 1-61.44-61.44V165.888c0-33.792 27.648-61.44 61.44-61.44h247.296c33.792 0 61.44 27.648 61.44 61.44v247.296a61.632 61.632 0 0 1-61.952 60.928zM98.048 165.888v247.296h247.296V165.888H98.048z m609.792 359.424a60.8 60.8 0 0 1-43.52-17.92L489.728 332.8a60.8 60.8 0 0 1-17.92-43.52 60.8 60.8 0 0 1 17.92-43.52L664.32 71.168a60.8 60.8 0 0 1 43.52-17.92 60.8 60.8 0 0 1 43.52 17.92l174.592 174.592a60.8 60.8 0 0 1 17.92 43.52 60.8 60.8 0 0 1-17.92 43.52L751.36 507.392a60.8 60.8 0 0 1-43.52 17.92z m0-411.136L533.248 288.768 707.84 463.36l174.592-174.592-174.592-174.592zM344.832 960.512H98.048a61.632 61.632 0 0 1-61.44-61.44v-247.296c0-33.792 27.648-61.44 61.44-61.44h247.296c33.792 0 61.44 27.648 61.44 61.44v247.296a61.76 61.76 0 0 1-61.952 61.44z m-246.784-308.224v247.296h247.296v-247.296H98.048z m733.184 308.224H583.936a61.632 61.632 0 0 1-61.44-61.44v-247.296c0-33.792 27.648-61.44 61.44-61.44h247.296c33.792 0 61.44 27.648 61.44 61.44v247.296c0 34.304-27.136 61.44-61.44 61.44z m-246.784-308.224v247.296h247.296v-247.296H584.448z",fill:"#333333","p-id":"1455"},null,-1)]))):e.icon==="back"?(K(),ue("svg",EV,r[5]||(r[5]=[G("g",{transform:"translate(-30.087 -12.136)"},[G("path",{class:"a",d:"M45.926,24.8A3.582,3.582,0,0,1,42.3,28.136h-8.58A3.581,3.581,0,0,1,30.089,24.8h0V15.471h0a3.583,3.583,0,0,1,3.629-3.335h8.912L41.4,13.408H33.72a2.276,2.276,0,0,0-2.313,2.228v9a2.276,2.276,0,0,0,2.313,2.228H42.3c1.274,0,3.326-1,3.326-2.228v-.461l-.676-.013.676-2.226-.676-2.619.983-1.252V24.8h0Zm.16-10.99",transform:"translate(0 0)"}),G("path",{class:"a",d:"M33.873,12.274h8.58a3.581,3.581,0,0,1,3.629,3.333h0v9.33h0a3.581,3.581,0,0,1-3.629,3.333H33.541L34.77,27h7.686a2.274,2.274,0,0,0,2.311-2.228V15.776a2.274,2.274,0,0,0-2.311-2.228H33.873M30.087,26.6",transform:"translate(0 -0.135)"}),G("path",{class:"a",d:"M301.622,251.811l-2.822-2.646,2.822-2.666v1.365c.588,0,4.244.028,4.244,3.361a3.567,3.567,0,0,1-3.148,3.5,2.38,2.38,0,0,0,1.937-2.316c0-2.181-2.177-2.2-3.031-2.2v1.6Z",transform:"translate(-264.246 -230.48)"})],-1)]))):Ee("",!0)]))}}),[["__scopeId","data-v-008727ad"]]),$V={class:"model-layout"},RV={class:"model-layout-left"},LV={class:"crawl-table"},MV={class:"text-secondary"},DV={class:"custom-header"},NV={class:"shop-bind-column"},FV={key:0},BV={class:"text-secondary"},jV={class:"model-layout-right"},UV={class:"crawl-config"},qV={class:"crawl-config-time"},VV={class:"model-layout-footer"},nk=Gn(xe({name:"CrawlDetailDialog",inheritAttrs:!1,__name:"CrawlDetailDialog",props:{authShopList:{type:Array,default:()=>[]},localStorageKey:{type:String,default:""},platformName:{type:String,default:"Temu"},platform:{type:String,default:"temu"}},emits:["closed","bind","unbind","startCrawl"],setup(e,{expose:t,emit:r}){const n=e,s=r,{state:a}=Oa(n.localStorageKey,[]),{source:o}=vf,{source:i}=Zp,l=ee(!1),c=ee(),u=ee([]),d=ee({startDate:Ve().subtract(30,"day").format("YYYY-MM-DD"),endDate:Ve().format("YYYY-MM-DD")}),m=_=>{var S;return(_==null?void 0:_.status)==="processing"?!1:!!((S=_.bindShop)!=null&&S.shopId)},b=_=>{u.value=_},g=()=>{const _=u.value.map(f=>f.id),{startDate:S,endDate:x}=d.value,I={startDate:new Date(S),endDate:new Date(x),checkedShopList:_};if(s_({action:"plugin_data_crawl",extra:I}),!_.length){St.error("请选择要采集的店铺");return}if(Ve(S).isAfter(Ve(x))){St.error("采集开始时间不能小于结束时间");return}if(Ve(S).isBefore(Ve().subtract(90,"day"))){St.error("采集开始时间不能早于90天前");return}if(Ve(x).isAfter(Ve(S).add(90,"day"))){St.error("时间范围不能超过90天");return}s("startCrawl",I),u.value=[],c.value.clearSelection()},h=({shop:_,row:S})=>{const{platform:x}=n;return x===i?_.pddkjMallId&&_.pddkjMallId!==S.id:x===o?_.mallId&&_.mallId!==S.id:!1},v=()=>{l.value=!1},y=()=>{s("closed")};return t({openDialog:()=>{l.value=!0}}),(_,S)=>{const x=CN,I=Ax,f=fC,P=Eo,$=ZC,q=QC,E=un,M=o7,F=Px,N=o9,R=Ij,H=xj,U=fg;return K(),Le(Ya,null,{default:ie(()=>[le(U,{modelValue:l.value,"onUpdate:modelValue":S[2]||(S[2]=L=>l.value=L),class:"crawl-temu-detail-dialog","show-close":!1,width:"80vw",onClosed:y},{header:ie(()=>[G("span",{class:"crawl-temu-detail-dialog-close",onClick:v})]),footer:ie(()=>[G("div",VV,[le(E,{onClick:v},{default:ie(()=>S[10]||(S[10]=[ot(" 关闭 ")])),_:1}),le(E,{type:"primary",disabled:!u.value.length,onClick:g},{default:ie(()=>S[11]||(S[11]=[ot(" 开始采集 ")])),_:1},8,["disabled"])])]),default:ie(()=>[G("div",$V,[G("div",RV,[le(x,{type:"warning","show-icon":"",closable:!1},{default:ie(()=>S[3]||(S[3]=[ot(" 为保障数据关联正确，请您务必选对绑定在ERP上的店铺 ")])),_:1}),G("div",LV,[le(F,{ref_key:"tableRef",ref:c,"max-height":"450px",data:w(a),"row-key":"id",onSelectionChange:b},{default:ie(()=>[le(I,{type:"selection",width:"55",selectable:m}),le(I,{label:"我的店铺"},{default:ie(({row:L})=>[G("div",null,[ot(ze(L.name)+" ",1),L.isSemiManagedMall||L.isTemuLocal?(K(),Le(f,{key:0,type:"warning"},{default:ie(()=>[ot(ze(L.isSemiManagedMall?"半托管":"本土"),1)]),_:2},1024)):Ee("",!0)]),G("div",MV," 店铺ID： "+ze(L.id),1)]),_:1}),le(I,null,{header:ie(()=>[G("div",DV,[S[4]||(S[4]=ot(" 已绑定店铺 ")),le(P,{placement:"top",effect:"light"},{content:ie(()=>[ot(" 指当前"+ze(e.platformName)+"店铺对应授权在ERP上的店铺，系统会默认按店铺ID自动匹配，建议您再次核对，若绑定错误，可手动重绑 ",1)]),default:ie(()=>[le(Ui,{icon:"question"})]),_:1})])]),default:ie(({row:L})=>{var D,Y;return[G("div",NV,[le(q,{modelValue:L.shopId,"onUpdate:modelValue":Q=>L.shopId=Q,placeholder:"请选择",disabled:!!((D=L.bindShop)!=null&&D.shopId)},{default:ie(()=>[(K(!0),ue(ht,null,Or(e.authShopList,Q=>(K(),Le($,{key:Q.shopId,value:Q.shopId,label:Q.shopNick||Q.platformShopName,disabled:h({shop:Q,row:L})},null,8,["value","label","disabled"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","disabled"]),(Y=L.bindShop)!=null&&Y.shopId?(K(),Le(E,{key:0,link:"",type:"primary",disabled:L.status==="processing",onClick:Q=>s("unbind",{...L,mallId:L.id})},{default:ie(()=>S[5]||(S[5]=[ot(" 解绑 ")])),_:2},1032,["disabled","onClick"])):(K(),Le(E,{key:1,link:"",type:"primary",disabled:L.status==="processing",onClick:Q=>s("bind",{...L,mallId:L.id})},{default:ie(()=>S[6]||(S[6]=[ot(" 保存 ")])),_:2},1032,["disabled","onClick"]))])]}),_:1}),le(I,{label:"采集进度"},{default:ie(({row:L})=>[L.progressText?(K(),ue("div",FV,ze(L.progressText),1)):Ee("",!0),le(M,{percentage:+L.progressRate,"show-text":!1},null,8,["percentage"]),G("div",BV," 最近采集时间： "+ze(L.shopGmtLastRsync),1)]),_:1})]),_:1},8,["data"])])]),G("div",jV,[G("div",UV,[G("div",qV,[S[7]||(S[7]=G("div",{class:"crawl-config-time-title"}," 采集时间范围 ",-1)),S[8]||(S[8]=G("div",{class:"crawl-config-time-desc"}," *此时间指平台对账或结算数据生成的时间 ",-1)),le(H,{"label-suffix":"："},{default:ie(()=>[le(R,{label:"开始时间"},{default:ie(()=>[le(N,{modelValue:d.value.startDate,"onUpdate:modelValue":S[0]||(S[0]=L=>d.value.startDate=L),type:"date",clearable:!1},null,8,["modelValue"])]),_:1}),le(R,{label:"结束时间"},{default:ie(()=>[le(N,{modelValue:d.value.endDate,"onUpdate:modelValue":S[1]||(S[1]=L=>d.value.endDate=L),type:"date",clearable:!1},null,8,["modelValue"])]),_:1})]),_:1})]),S[9]||(S[9]=G("div",{class:"crawl-tip"},[G("div",{class:"crawl-tip-title"},[G("span",{class:"crawl-tip-title-divider"}),G("span",{class:"crawl-tip-title-text"},"重要提示"),G("span",{class:"crawl-tip-title-divider"})]),G("div",{class:"crawl-tip-content"},[ot(" 1、采集过程中，请不要刷新页面、在其他浏览器或设备登录此账号，也不要关闭插件打开的标签页（标签页将在数据项采集完成后自动关闭） "),G("br"),ot(" 2、请保持登录正在采集的店铺，直到任务完成 "),G("br"),ot(" 3、高峰时段平台可能会限流，因此会出现采集进度缓慢状况，请耐心等待 "),G("br")])],-1))])])])]),_:1},8,["modelValue"])]),_:1})}}}),[["__scopeId","data-v-3f3e0acf"]]),HV={class:"crawl-header-right"},sk=Gn(xe({name:"CrawlHeader",inheritAttrs:!1,__name:"CrawlHeader",props:{height:{type:String,default:"42px"}},setup(e){return(t,r)=>(K(),ue("div",{class:"crawl-header",style:jt({height:e.height})},[r[0]||(r[0]=G("div",{class:"crawl-header-left"},[G("span",{class:"crawl-header-title"},"数据助手")],-1)),G("div",HV,[Ne(t.$slots,"right",{},void 0,!0)])],4))}}),[["__scopeId","data-v-aa0939ca"]]),zV={class:"operate"},WV={class:"earth-crawl-window-header-tip"},GV={class:"earth-crawl-window"},KV={class:"earth-crawl-window-content"},YV={class:"earth-crawl-window-footer"},ak=Gn(xe({name:"CrawlPanel",inheritAttrs:!1,__name:"CrawlPanel",props:{accountName:String,lastRsyncSettlementGmt:String,platformName:{type:String,default:"Temu"}},emits:["refreshLogin"],setup(e,{emit:t}){const r=t,n=ee(!1),{state:s}=Oa(E6,!1),a=()=>{n.value=!0},o=()=>{const c=document.getElementById("J_earthCrawlFixPanel");c.style.top="unset",c.style.left="unset",s.value=!s.value},i=async()=>{await Ut(),window.open("https://erp.91miaoshou.com/","_blank")},l=()=>{r("refreshLogin")};return(c,u)=>{const d=Eo,m=un,b=FC;return K(),ue("div",{id:"J_earthCrawlFixPanel",class:Z(["earth-crawl-window-fix-panel",{"is-closed":n.value,"is-collapsed":w(s)}])},[G("div",{class:"earth-crawl-window-header J_earthfixPanelHeader",onMousedown:u[0]||(u[0]=g=>w(Vq)(g,"J_earthCrawlFixPanel"))},[le(sk,null,{right:ie(()=>[G("div",zV,[G("div",null,[le(d,{placement:"top",effect:"light"},{content:ie(()=>[G("div",WV,[ot(" 采集"+ze(e.platformName)+"各店铺对账数据步骤： ",1),u[1]||(u[1]=G("br",null,null,-1)),u[2]||(u[2]=ot(" 1、打开【采集对账数据】界面，勾选要采集的店铺；")),u[3]||(u[3]=G("br",null,null,-1)),u[4]||(u[4]=ot(" 2、选择要采集的时间范围，点击【开始采集】按钮，等待完成即可。")),u[5]||(u[5]=G("br",null,null,-1)),ot(" 注意：采集过程中，需同时保持登陆正在采集的"+ze(e.platformName)+"店铺和ERP数据助手 ",1)])]),default:ie(()=>[le(Ui,{icon:"question"})]),_:1})]),G("div",{onClick:o},[le(Ui,{icon:w(s)?"expand":"shrink"},null,8,["icon"])]),G("div",{onClick:a},[le(Ui,{icon:"close"})])])]),_:1})],32),G("div",GV,[G("div",KV,[G("div",null,[u[8]||(u[8]=ot(" 当前登录账号： ")),e.accountName?(K(),ue(ht,{key:0},[ot(ze(e.accountName),1)],64)):(K(),ue(ht,{key:1},[le(m,{type:"primary",link:"",onClick:i},{default:ie(()=>u[6]||(u[6]=[ot(" 登录 ")])),_:1}),le(b,{direction:"vertical"}),le(m,{type:"primary",link:"",onClick:l},{default:ie(()=>u[7]||(u[7]=[ot(" 已登录，刷新 ")])),_:1})],64))]),G("div",null," 最近采集时间："+ze(e.lastRsyncSettlementGmt),1)]),G("div",YV,[Ne(c.$slots,"footer",{},void 0,!0)])])],2)}}}),[["__scopeId","data-v-d17ffbd7"]]),JV=xe({name:"CrawlSheinChoiceUi",inheritAttrs:!1,__name:"CrawlSheinChoiceUi",props:{setupMain:{type:Function,required:!0}},setup(e){const t=e,r=ee(),{accountName:n,authShopList:s,lastRsyncSettlementGmt:a,mallInfoList:o,handleInit:i,bindSheinMall:l,unbindSheinMall:c,handleRunStartCrawl:u,refreshCrawlShopList:d}=TV(),{LOCAL_CRAWL_MALL_INFO_LIST:m}=nw,{source:b}=vf,g=async()=>{await i(),n.value&&o.value.length&&t.setupMain()},h=async()=>{var v;if(await Ut(),!n.value){St.warning("请先登陆ERP账号");return}if(!o.value.length){St.warning("请先登陆SHEIN账号");return}d(),(v=r.value)==null||v.openDialog()};return Kt(()=>{window.console.log("sheinChoice Plugin"),g()}),(v,y)=>{const C=un;return K(),Le(Ya,null,{default:ie(()=>[le(ak,{"platform-name":"Shein","account-name":w(n),"last-rsync-settlement-gmt":w(a),onRefreshLogin:g},{footer:ie(()=>[le(C,{type:"primary",onClick:h},{default:ie(()=>y[0]||(y[0]=[ot(" 采集对账数据 ")])),_:1})]),_:1},8,["account-name","last-rsync-settlement-gmt"]),le(nk,{ref_key:"crawlSheinDetailDialogRef",ref:r,"platform-name":"Shein",platform:w(b),"auth-shop-list":w(s),"local-storage-key":w(m),onBind:w(l),onUnbind:w(c),onStartCrawl:w(u)},null,8,["platform","auth-shop-list","local-storage-key","onBind","onUnbind","onStartCrawl"])]),_:1})}}}),XV={id:"earth-crawl-temu-tools-popup"},QV={class:"earth-crawl-temu-tools-popup-header"},ZV={class:"operate"},eH={class:"earth-crawl-temu-tools-popup-content"},tH={class:"earth-crawl-temu-tools-popup-content-button"},rH=Gn(xe({name:"CrawlTemuUi",inheritAttrs:!1,__name:"CrawlTemuUi",props:{setupMain:{type:Function,required:!0}},setup(e){const t=e,{accountName:r,lastRsyncSettlementGmt:n,authShopList:s,mallInfoList:a,isTemuLocal:o,handleInit:i,closeTemuPopup:l,refreshCrawlShopList:c,bindTemuMallV2:u,unbindTemuMallV2:d,rejectModifyPrice:m,handleRunStartCrawl:b}=CV(),g=ee(!1),h=ee(),{LOCAL_CRAWL_MALL_INFO_LIST:v}=nh,{source:y}=Zp,C=()=>{g.value=!g.value},_=async()=>{var I;if(await Ut(),!r.value){St.warning("请先登陆ERP账号");return}if(!a.value.length){St.warning("请先登陆TEMU账号");return}c(),(I=h.value)==null||I.openDialog()},S=()=>{g.value=!1,m()},x=async()=>{await i(),r.value&&a.value.length&&t.setupMain()};return Kt(()=>{window.console.log("pdd Plugin"),x()}),(I,f)=>{const P=un,$=tx;return K(),Le(Ya,null,{default:ie(()=>[le(ak,{"last-rsync-settlement-gmt":w(n),"account-name":w(r),onRefreshLogin:x},{footer:ie(()=>[le(P,{type:"primary",onClick:_},{default:ie(()=>f[1]||(f[1]=[ot(" 采集对账数据 ")])),_:1}),le(P,{onClick:f[0]||(f[0]=()=>w(l)())},{default:ie(()=>f[2]||(f[2]=[ot(" 关闭Temu弹框 ")])),_:1}),le($,{visible:g.value,placement:"left-end",width:430,"show-arrow":!1,"popper-class":"earth-crawl-temu-tools-popover"},{reference:ie(()=>[w(o)?Ee("",!0):(K(),Le(P,{key:0,onClick:C},{default:ie(()=>[le(Ui,{icon:"more"})]),_:1}))]),default:ie(()=>[G("div",XV,[G("div",QV,[le(sk,{height:"50px"},{right:ie(()=>[G("div",ZV,[G("div",{class:"operate-popup-close",onClick:C},[le(Ui,{icon:"back"})])])]),_:1})]),G("div",eH,[G("div",tH,[le(P,{type:"primary",plain:"",onClick:S},{default:ie(()=>f[3]||(f[3]=[ot(" 一键拒绝调价 ")])),_:1})]),f[4]||(f[4]=G("div",{class:"earth-crawl-temu-tools-popup-content-text"},[G("div",{class:"earth-crawl-temu-tools-popup-content-text-title"}," 功能使用说明： "),G("div",{class:"earth-crawl-temu-tools-popup-content-text-content"},[G("div",null," 1.进入调价管理->待卖家确认页面，点击此按钮，可一次性拒绝全部调价单； "),G("div",null," 2.若页面显示营销活动申报价调整弹窗，点击此按钮，可一次性不接受全部商品调价； ")])],-1))])])]),_:1},8,["visible"])]),_:1},8,["last-rsync-settlement-gmt","account-name"]),le(nk,{ref_key:"crawlTemuDetailDialogRef",ref:h,platform:w(y),"auth-shop-list":w(s),"local-storage-key":w(v),onBind:w(u),onUnbind:w(d),onStartCrawl:w(b)},null,8,["platform","auth-shop-list","local-storage-key","onBind","onUnbind","onStartCrawl"])]),_:1})}}}),[["__scopeId","data-v-895e6c68"]]),nH=vO(e=>({createCrawlTemuUi:({setupMain:n})=>ji(e,{position:"inline",anchor:"body",onMount:s=>{const a=Fs(rH,{setupMain:n});return a.mount(s),a},onRemove:s=>{s==null||s.unmount()}}),createCrawlSheinChoiceUi:({setupMain:n})=>ji(e,{position:"inline",anchor:"body",onMount:s=>{const a=Fs(JV,{setupMain:n});return a.mount(s),a},onRemove:s=>{s==null||s.unmount()}})})),sH=xe({__name:"EarthContentUi",props:{setupMain:{type:Function,required:!0}},setup(e){return e.setupMain(),(r,n)=>(K(),Le(Ya))}});async function qi(){var t;let e=sn(window,"__INIT_DATA.globalData",null);if(!e){const r=await lV(),n=(t=r==null?void 0:r[0])==null?void 0:t.result;e=sn(n,"result.data.Root.fields.dataJson",null)}if(!e)try{k("script").each((r,n)=>{const s=k(n).html();if(s.includes("window.context=")){let a=s.trim();return a=a.substring(a.indexOf("window.contextPath,")+19,a.length-2),a=Al.parse(a),e=sn(a,"result.data.Root.fields.dataJson",null),!1}else if(s.includes("window.__INIT_DATA=")){let a=s.substring(s.indexOf("window.__INIT_DATA=")+19);a=a.trim();for(let o=a.length-1;o>=0&&a.substring(o,o+1)===";";o--)a=a.substring(0,o+1);return a=JSON.parse(a),e=sn(a,"globalData",null),!1}})}catch(r){window.console.error(r),e=null}return e}async function aH(){const e=[],t=await qi();if(!t)return window.console.error("get1688DetailPageWindowGlobalData fail in function getUserChooseSkuInfo"),e;const r=t.skuModel.skuInfoMap,n=t.offerBaseInfo.offerId;if(!r||!n)return window.console.error("get1688DetailPageWindowGlobalData fail in function getUserChooseSkuInfo"),e;const s=t.orderParamModel.orderParam.flow||"general";if(k(".order-has-select-button").length>0)k(".selected-list-wrapper").length?k(".selected-list button.expandedBtn")[0].click():k(".order-has-select-button")[0].click();else if(k(".list-btn").length>0)k(".list-btn button.expandedBtn")[0].click();else if(k(".sku-prop-module-name").length===1&&k(".sku-prop-module-name").text()==="采购量"&&k(".next-input-group input").length>0)return window.console.log("采购量"),Number(k(".next-input-group input").val())===0||e.push({quantity:k(".next-input-group input").val(),specId:"",flow:s,offerId:n}),e;const a=k(".selected-list-wrapper .selected-item-wrapper");return a.length===0?await iH():(a.each((o,i)=>{const l=k(i).find(".name").text();k(i).find(".children-wrapper ").each(()=>{const u=k(i).find(".children-wrapper-name").attr("title"),d=k(i).find(".next-input-group input").val();window.console.log("skuName",l),window.console.log("quantity",d),window.console.log("skuNameSub",u);const m=u?`${l}&gt;${u}`:l;if(!d||!m)return!0;e.push({quantity:d,specId:r[m].specId,flow:s,offerId:n})})}),window.console.log("skuInfo",e),e)}async function oH(){const e=[],t=k(".gyp-order-list-wrap tr.next-table-row");if(!t.length)return e;const r=k(".gyp-order-list-wrap"),n=await qi();if(!n)return window.console.error("get1688DetailPageWindowGlobalData fail in function getUserChooseGypSkuInfo"),e;const s=n.skuModel.skuInfoMap,a=n.offerBaseInfo.offerId;if(!s||!a)return window.console.log("getSkuInfoMapByWindowInitData false"),e;const o=n.orderParamModel.orderParam.flow||"general";let i=0,l=!1,c=4;return r.find("th").each((u,d)=>{k(d).text()==="颜色"?i=u:k(d).text()==="规格"?l=u:k(d).text()==="数量"&&(c=u)}),t.each((u,d)=>{let m=k(d).find("td").eq(i).text();const b=k(d).find("td").eq(c).find("input").val(),g=l!==!1?k(d).find("td").eq(l).text():"";if(m=g?`${m};${g}`:m,!b||!m)return!0;window.console.log(m),window.console.log(s),e.push({quantity:b,specId:s[m].specId,flow:o,offerId:a})}),window.console.log("skuInfo",e),e}async function iH(){const e=[],t=k(".list-table.show-all tr.next-table-row");if(!t.length)return e;const r=await qi();if(!r)return window.console.error("get1688ItemWindowInitData fail in function getUserChooseSkuInfo2"),e;const n=r.skuModel.skuInfoMap,s=r.offerBaseInfo.offerId;if(!n||!s)return window.console.error("get1688ItemWindowInitData fail in function getUserChooseSkuInfo2"),e;const a=r.orderParamModel.orderParam.flow||"general";return t.each((o,i)=>{let l=k(i).find(".specification-cell span").attr("title");const c=k(i).find(".next-input-group input").val(),u=k(i).find(".children-wrapper-name").attr("title");if(l=u?`${l}&gt;${u}`:l,!c||!l)return!0;e.push({quantity:c,specId:n[l].specId,flow:a,offerId:s})}),e}const lH={class:"earth-wxt-purchase-button-box"},uH=["src"],cH=Gn(xe({name:"PurchaseDetailUi",inheritAttrs:!1,__name:"PurchaseDetailUi",setup(e){const t=ee(!1),r=ee(""),n=ee();let s=()=>{};const a={};async function o(){let u=[];if(k("#submitOrder").length?u=Object.values(a):k(".gyp-order-list-wrap").length>0?u=await oH():u=await aH(),!u||!u.length){St({offset:400,type:"error",message:"采购数量不能为0"});return}let d="";await p6({tag:cm,tabUrl:window.location.href}).then(g=>{d=g.tsGlobal}).catch(()=>{d=""});const m="https://erp.91miaoshou.com/";let b=`${m}find_source/purchase`;d&&(b+=`?ts=${d}`),r.value=b,t.value=!0,s=async()=>{var I;const{getSpecIdAndSkuInfoMap:g,getPriceInfo:h}=JL,v=await qi(),y=v.offerBaseInfo.sellerLoginId,C=g(v),_=h(),x={type:"alibabaPurchase",data:{userChooseSkuInfo:u,specIdAndSkuInfoMap:C,priceInfo:_,sellerLoginId:y}};window.console.log("postData",x),(I=n.value)==null||I.contentWindow.postMessage(JSON.stringify(x),m)}}function i(){s==null||s()}async function l(){const u=await qi();window.console.log("globalData: ",u);const d=u.skuModel.skuInfoMap||{},m=u.offerBaseInfo.offerId,b=u.orderParamModel.orderParam.flow||"general",h=k("#skuSelection").find(".feature-item"),v=oa((y,C)=>{var $,q;const _=y.parents(".expand-view-item"),x=($=c().find("span.label-name").text())==null?void 0:$.trim(),I=(q=_.find(".v-flex span.item-label").text())==null?void 0:q.trim(),f=[x,I].filter(Boolean).join("&gt;"),P=d[f];if(P){const E=_.find("input.ant-input-number-input").val();Number(E)>0?a[f]={quantity:E,specId:P.specId,flow:b,offerId:m}:delete a[f],window.console.log(a)}else if(C.find(".feature-item-label").length===1&&C.find(".feature-item-label").text()==="购买数量"){const E=_.find("input.ant-input-number-input").val();Number(E)>0?a[f]={quantity:E,specId:"",flow:b,offerId:m}:delete a[f],window.console.log(a)}},200);h.length&&h.each((y,C)=>{k(C).find(".expand-view-list").length&&(k(C).on("click",".ant-input-number-group-addon",_=>{const S=k(_.currentTarget);v(S,k(C))}),k(C).on("change","input.ant-input-number-input",_=>{const S=k(_.currentTarget);v(S,k(C))}))})}function c(){const d=k("#skuSelection").find(".feature-item");return k(d[0]).find("button.sku-filter-button.active")}return Kt(()=>{k("#submitOrder").length&&l()}),(u,d)=>{const m=un,b=BC;return K(),Le(Ya,null,{default:ie(()=>[G("div",lH,[le(m,{type:"primary",size:"large",class:"purchase-button",onClick:o},{default:ie(()=>d[1]||(d[1]=[G("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAOCAYAAADABlfOAAAABHNCSVQICAgIfAhkiAAAAVZJREFUOE99lIFRwzAMResJYIRsQJmgdALKBIQN2KBlAroBYQLYgI7QjtAJKBOE/3xSTk6c+k7nRpaeZEluWsysvu+XOmpSSt/RRPpG37fSH+d8U+3AgD84S14E6LALej7RFwGdNYHKcaPDDwOetV/kvBwF+pP+JgaMyRVQObYGzJlIPBOu7Jl/6ver5CC5q4EHqIAYvkvIYqPscMpLZ9QPwFH6e9NRmio4Q+XUaXs24IM3QXoacmEPgE46boFfFZwC8CS7NgAJRHbrAKYcK8lVMNBWRnvJr+QpQHf63nJlB4dbNfpNifwW1JsRPNFUvz4K6tMbIM9gaFwB5szOgX8ZMDeQQLFRc+BOxtR7aJIBsR8mQrDWg41HqgBbBswsKz8Cf1EB+Cb9zoHsteGPYLobgWT9aLritV2FhqsdzDCOmAfkiPoRZLKqbz+AF+M/DnuuE30k/wM9CMEPhlzcrwAAAABJRU5ErkJggg=="},null,-1),ot(" 妙手代发采购 ")])),_:1}),d[2]||(d[2]=G("div",{class:"purchase-tip"}," 一键下单，自动关联并同步采购单至货代 ",-1))]),le(b,{modelValue:w(t),"onUpdate:modelValue":d[0]||(d[0]=g=>ar(t)?t.value=g:null),size:"50%","append-to-body":"","close-on-click-modal":!1,"close-on-press-escape":!1,class:"earth-wxt-find-source-purchase-drawer"},{default:ie(()=>[G("iframe",{ref_key:"frameRef",ref:n,src:w(r),style:{width:"100%",height:"100%",border:"none"},class:"earth-wxt-find-source-purchase-iframe",onLoad:i},null,40,uH)]),_:1},8,["modelValue"])]),_:1})}}}),[["__scopeId","data-v-c2230f3f"]]),dH={id:"J_purchaseOrderFixPanel",class:"purchase-order-fixed-panel-container"},fH={class:"purchase-search-same-box"},pH={class:"same-goods-box"},hH={class:"left-side"},mH=["src"],gH=["src"],vH={class:"right-side"},yH=["src"],bH=["src"],wH={class:"platform-shop-link-box"},SH={class:"purchase-order-info-box"},_H={class:"order-info-box"},TH={class:"info-base-line"},CH={class:"content"},xH={class:"info-base-line"},IH={class:"content"},kH={class:"info-base-line"},OH={class:"content"},PH={class:"info-base-line"},AH={class:"content"},EH={class:"info-base-line"},$H={class:"content"},RH={class:"order-info-box-footer"},LH={class:"goods-info-box"},MH={class:"info-base-line"},DH={key:0,class:"content lighter"},NH={class:"info-base-line"},FH={class:"content lighter"},BH={class:"info-base-line-flex-box"},jH={class:"info-base-line"},UH={class:"content lighter"},qH={class:"info-base-line item-total"},VH={class:"content"},HH={class:"info-base-line-flex-box"},zH={class:"info-base-line"},WH={class:"content lighter"},GH={class:"info-base-line"},KH={class:"content lighter"},YH={class:"info-base-line"},JH={class:"content"},XH={class:"info-base-line"},QH={class:"content"},ZH=Gn(xe({name:"PurchaseOrderFixedPanelUi",__name:"PurchaseOrderFixPanelUi",props:{tabId:{}},setup(e){const t=e,r=ee(!0),{state:n}=Oa(Pt(t.tabId),{}),s=W(()=>n.value.purchasePlatform||""),a=W(()=>sn(n.value,"purchaseItem",{})),o=W(()=>n.value.consignee||{}),i=W(()=>{const{picUrl:h}=a.value;return h&&qq(h)}),l=W(()=>NI.reduce((h,v)=>{const{searchTypes:y}=v;return y.includes("searchByTitle")&&h.titleOptions.push(v),y.includes("searchByImage")&&h.imageOptions.push(v),h},{titleOptions:[],imageOptions:[]}));function c(){const{shopNick:h,platformShopName:v}=n.value;return h||v||""}function u(){const{mobile:h,telephone:v}=o.value;return h||v||""}function d(){r.value=!r.value}function m(h){const v=h.clientX,y=h.clientY,C=document.getElementById("J_purchaseOrderFixPanel"),_=C.getBoundingClientRect().left||0,S=C.getBoundingClientRect().top||0;document.addEventListener("mousemove",x),document.addEventListener("mouseup",I);function x(f){let P=f.clientX-v+_,$=f.clientY-y+S;P=P<0?0:P,$=$<0?0:$,C.computedStyleMap().get("width");const q=C.offsetWidth,E=C.offsetHeight,M=document.documentElement.clientWidth,F=document.documentElement.clientHeight;P+q>M&&(P=M-q),$+E>F&&($=F-E),C.style.top=`${$}px`,C.style.left=`${P}px`,f.preventDefault()}function I(){document.removeEventListener("mouseup",I),document.removeEventListener("mousemove",x)}}async function b(){try{const{fullname:h,fullAddress:v}=o.value,y=`${h||""} ${u()||""} ${v||""}`;await navigator.clipboard.writeText(y),St.success("复制成功")}catch(h){window.console.error("复制失败:",h)}}function g(h,v){const y=eR(NI,{platform:h});let C=y==null?void 0:y.sameItemUrl;v==="searchByTitle"&&(C+=encodeURIComponent((a.value.title||a.value.goodsName||"").trim())),So({url:C,selected:!0}).then(_=>{Ze.setItem(Pt(_.id),{...n.value,searchType:v,tabId:_.id})})}return(h,v)=>{const y=ZC,C=QC,_=tx,S=KC,x=un;return K(),Le(Ya,null,{default:ie(()=>[G("div",dH,[G("div",{class:"header-box",onMousedown:m},[v[2]||(v[2]=ot(" 商品信息 ")),G("div",{class:"toggle-visible-button",onClick:$t(d,["prevent"])},ze(w(r)?"收起":"展开"),1)],32),G("div",fH,[G("div",pH,[G("div",hH,[le(C,{placeholder:"查找标题同款",onChange:v[0]||(v[0]=I=>g(I,"searchByTitle"))},{default:ie(()=>[(K(!0),ue(ht,null,Or(l.value.titleOptions,I=>(K(),Le(y,{key:I.platform,value:I.platform},{default:ie(()=>[G("img",{src:I.logo,class:"search-same-option-logo"},null,8,mH),ot(" "+ze(I.name),1)]),_:2},1032,["value"]))),128))]),_:1}),le(C,{placeholder:"查找图片同款",onChange:v[1]||(v[1]=I=>g(I,"searchByImage"))},{default:ie(()=>[(K(!0),ue(ht,null,Or(l.value.imageOptions,I=>(K(),Le(y,{key:I.platform,value:I.platform},{default:ie(()=>[G("img",{src:I.logo,class:"search-same-option-logo"},null,8,gH),ot(" "+ze(I.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),G("div",vH,[le(S,{href:a.value.url,target:"_blank",type:"primary",underline:!1},{default:ie(()=>[le(_,{placement:"left-start",width:"auto"},{reference:ie(()=>[G("img",{class:"purchase-item-image",src:i.value},null,8,yH)]),default:ie(()=>[G("img",{src:i.value,style:{width:"300px",height:"300px"}},null,8,bH)]),_:1})]),_:1},8,["href"])])]),G("div",wH,[le(S,{href:a.value.url,type:"primary",underline:!1},{default:ie(()=>v[3]||(v[3]=[ot(" 查看我的店铺宝贝 ")])),_:1},8,["href"]),["taobao","tmall"].includes(s.value)?(K(),Le(S,{key:0,href:`https://pub.alimama.com/portal/v2/pages/promo/goods/index.htm?q=${encodeURIComponent(a.value.purchaseUrl)}`,type:"primary",underline:!1},{default:ie(()=>v[4]||(v[4]=[ot(" 淘宝联盟查找 ")])),_:1},8,["href"])):Ee("",!0)])]),Vt(G("div",SH,[G("div",_H,[v[11]||(v[11]=G("div",{class:"title"}," 订单信息 ",-1)),v[12]||(v[12]=G("div",{class:"purchase-tip"},[ot(" 重要提示：若当前商品不是你想下单的商品，请回到软件的 “一键下单”重新保存新的商品链接去下单。"),G("br"),ot(" 下单过程中请勿新开任何窗口去下单，否则数据会丢失 ")],-1)),G("div",TH,[v[5]||(v[5]=G("div",{class:"label"}," 店铺 ",-1)),G("div",CH,ze(w(n).isCb===1?"跨境":"本土")+" "+ze(w(n).siteName)+" "+ze(c()),1)]),G("div",xH,[v[6]||(v[6]=G("div",{class:"label"}," 平台订单号 ",-1)),G("div",IH,ze(w(n).platformOrderSn),1)]),G("div",kH,[v[7]||(v[7]=G("div",{class:"label"}," 收货人 ",-1)),G("div",OH,ze(o.value.fullname),1)]),G("div",PH,[v[8]||(v[8]=G("div",{class:"label"}," 电话 ",-1)),G("div",AH,ze(u()),1)]),G("div",EH,[v[9]||(v[9]=G("div",{class:"label"}," 地址 ",-1)),G("div",$H,ze(o.value.fullAddress),1)]),G("div",RH,[le(x,{onClick:b},{default:ie(()=>v[10]||(v[10]=[ot(" 复制收件人信息 ")])),_:1})])]),G("div",LH,[G("div",MH,[v[13]||(v[13]=G("div",{class:"label"}," 规格 ",-1)),a.value.skuSubOriginalName?(K(),ue("div",DH,ze(a.value.skuSubCnName)+" ("+ze(a.value.skuSubOriginalName)+") ",1)):Ee("",!0)]),G("div",NH,[v[14]||(v[14]=G("div",{class:"label"}," SKU ",-1)),G("div",FH,ze(a.value.platformOuterSkuId),1)]),G("div",BH,[G("div",jH,[v[15]||(v[15]=G("div",{class:"label"}," 单价 ",-1)),G("div",UH," ￥ "+ze(a.value.discountedPrice),1)]),G("div",qH,[v[16]||(v[16]=G("div",{class:"label"}," 数量 ",-1)),G("div",VH,ze(a.value.itemTotal),1)])]),G("div",HH,[G("div",zH,[v[17]||(v[17]=G("div",{class:"label"}," 运费 ",-1)),G("div",WH," ￥ "+ze(w(n).freightPrice),1)]),G("div",GH,[v[18]||(v[18]=G("div",{class:"label"}," 实付款 ",-1)),G("div",KH," ￥ "+ze(w(n).orderPayment),1)])]),G("div",YH,[v[19]||(v[19]=G("div",{class:"label"}," 买家备注 ",-1)),G("div",JH,ze(w(n).orderRemark),1)]),G("div",XH,[v[20]||(v[20]=G("div",{class:"label"}," 商家备注 ",-1)),G("div",QH,ze(w(n).venderRemark),1)])])],512),[[Pr,w(r)]])])]),_:1})}}}),[["__scopeId","data-v-106ef379"]]),ez=yO(e=>({createEarthContentUi:({setupMain:s})=>ji(e,{position:"inline",anchor:"body",onMount:a=>{const o=Fs(sH,{setupMain:s});return o.mount(a),o},onRemove:a=>{a==null||a.unmount()}}),createPurchaseDetailUi:()=>ji(e,{position:"inline",anchor:()=>{let s=document.querySelector(".order-button-children .order-button-children-list");return s||(s=document.querySelector("#chromePlugin")),s},append:"after",onMount:s=>{const a=Fs(cH);return a.mount(s),a},onRemove:s=>{s==null||s.unmount()}}),createPurchaseOrderFixedPanelUi:s=>ji(e,{position:"inline",anchor:"body",onMount:a=>{const o=Fs(ZH,{...s});return o.mount(a),o},onRemove:a=>{a==null||a.unmount()}})}));var nf={exports:{}},tz=nf.exports,ok;function rz(){return ok||(ok=1,function(e){(function(t){function r(x,I){var f=(x&65535)+(I&65535),P=(x>>16)+(I>>16)+(f>>16);return P<<16|f&65535}function n(x,I){return x<<I|x>>>32-I}function s(x,I,f,P,$,q){return r(n(r(r(I,x),r(P,q)),$),f)}function a(x,I,f,P,$,q,E){return s(I&f|~I&P,x,I,$,q,E)}function o(x,I,f,P,$,q,E){return s(I&P|f&~P,x,I,$,q,E)}function i(x,I,f,P,$,q,E){return s(I^f^P,x,I,$,q,E)}function l(x,I,f,P,$,q,E){return s(f^(I|~P),x,I,$,q,E)}function c(x,I){x[I>>5]|=128<<I%32,x[(I+64>>>9<<4)+14]=I;var f,P,$,q,E,M=1732584193,F=-271733879,N=-1732584194,R=271733878;for(f=0;f<x.length;f+=16)P=M,$=F,q=N,E=R,M=a(M,F,N,R,x[f],7,-680876936),R=a(R,M,F,N,x[f+1],12,-389564586),N=a(N,R,M,F,x[f+2],17,606105819),F=a(F,N,R,M,x[f+3],22,-1044525330),M=a(M,F,N,R,x[f+4],7,-176418897),R=a(R,M,F,N,x[f+5],12,1200080426),N=a(N,R,M,F,x[f+6],17,-1473231341),F=a(F,N,R,M,x[f+7],22,-45705983),M=a(M,F,N,R,x[f+8],7,1770035416),R=a(R,M,F,N,x[f+9],12,-1958414417),N=a(N,R,M,F,x[f+10],17,-42063),F=a(F,N,R,M,x[f+11],22,-1990404162),M=a(M,F,N,R,x[f+12],7,1804603682),R=a(R,M,F,N,x[f+13],12,-40341101),N=a(N,R,M,F,x[f+14],17,-1502002290),F=a(F,N,R,M,x[f+15],22,1236535329),M=o(M,F,N,R,x[f+1],5,-165796510),R=o(R,M,F,N,x[f+6],9,-1069501632),N=o(N,R,M,F,x[f+11],14,643717713),F=o(F,N,R,M,x[f],20,-373897302),M=o(M,F,N,R,x[f+5],5,-701558691),R=o(R,M,F,N,x[f+10],9,38016083),N=o(N,R,M,F,x[f+15],14,-660478335),F=o(F,N,R,M,x[f+4],20,-405537848),M=o(M,F,N,R,x[f+9],5,568446438),R=o(R,M,F,N,x[f+14],9,-1019803690),N=o(N,R,M,F,x[f+3],14,-187363961),F=o(F,N,R,M,x[f+8],20,1163531501),M=o(M,F,N,R,x[f+13],5,-1444681467),R=o(R,M,F,N,x[f+2],9,-51403784),N=o(N,R,M,F,x[f+7],14,1735328473),F=o(F,N,R,M,x[f+12],20,-1926607734),M=i(M,F,N,R,x[f+5],4,-378558),R=i(R,M,F,N,x[f+8],11,-2022574463),N=i(N,R,M,F,x[f+11],16,1839030562),F=i(F,N,R,M,x[f+14],23,-35309556),M=i(M,F,N,R,x[f+1],4,-1530992060),R=i(R,M,F,N,x[f+4],11,1272893353),N=i(N,R,M,F,x[f+7],16,-155497632),F=i(F,N,R,M,x[f+10],23,-1094730640),M=i(M,F,N,R,x[f+13],4,681279174),R=i(R,M,F,N,x[f],11,-358537222),N=i(N,R,M,F,x[f+3],16,-722521979),F=i(F,N,R,M,x[f+6],23,76029189),M=i(M,F,N,R,x[f+9],4,-640364487),R=i(R,M,F,N,x[f+12],11,-421815835),N=i(N,R,M,F,x[f+15],16,530742520),F=i(F,N,R,M,x[f+2],23,-995338651),M=l(M,F,N,R,x[f],6,-198630844),R=l(R,M,F,N,x[f+7],10,1126891415),N=l(N,R,M,F,x[f+14],15,-1416354905),F=l(F,N,R,M,x[f+5],21,-57434055),M=l(M,F,N,R,x[f+12],6,1700485571),R=l(R,M,F,N,x[f+3],10,-1894986606),N=l(N,R,M,F,x[f+10],15,-1051523),F=l(F,N,R,M,x[f+1],21,-2054922799),M=l(M,F,N,R,x[f+8],6,1873313359),R=l(R,M,F,N,x[f+15],10,-30611744),N=l(N,R,M,F,x[f+6],15,-1560198380),F=l(F,N,R,M,x[f+13],21,1309151649),M=l(M,F,N,R,x[f+4],6,-145523070),R=l(R,M,F,N,x[f+11],10,-1120210379),N=l(N,R,M,F,x[f+2],15,718787259),F=l(F,N,R,M,x[f+9],21,-343485551),M=r(M,P),F=r(F,$),N=r(N,q),R=r(R,E);return[M,F,N,R]}function u(x){var I,f="",P=x.length*32;for(I=0;I<P;I+=8)f+=String.fromCharCode(x[I>>5]>>>I%32&255);return f}function d(x){var I,f=[];for(f[(x.length>>2)-1]=void 0,I=0;I<f.length;I+=1)f[I]=0;var P=x.length*8;for(I=0;I<P;I+=8)f[I>>5]|=(x.charCodeAt(I/8)&255)<<I%32;return f}function m(x){return u(c(d(x),x.length*8))}function b(x,I){var f,P=d(x),$=[],q=[],E;for($[15]=q[15]=void 0,P.length>16&&(P=c(P,x.length*8)),f=0;f<16;f+=1)$[f]=P[f]^909522486,q[f]=P[f]^1549556828;return E=c($.concat(d(I)),512+I.length*8),u(c(q.concat(E),640))}function g(x){var I="0123456789abcdef",f="",P,$;for($=0;$<x.length;$+=1)P=x.charCodeAt($),f+=I.charAt(P>>>4&15)+I.charAt(P&15);return f}function h(x){return unescape(encodeURIComponent(x))}function v(x){return m(h(x))}function y(x){return g(v(x))}function C(x,I){return b(h(x),h(I))}function _(x,I){return g(C(x,I))}function S(x,I,f){return I?f?C(I,x):_(I,x):f?v(x):y(x)}e.exports?e.exports=S:t.md5=S})(tz)}(nf)),nf.exports}var nz=rz();const ik=pn(nz),sz="_m_h5_tk";async function lk(e=!1){const t={name:sz};e&&xw(t);let r="";const n=await jc(t);if(window.console.log("get1688MtopApiToken getAllCookie: ",n),n&&n.length){let s=n.find(a=>a.domain==="h5api.m.1688.com");s||(s=n.find(a=>a.domain.includes("1688.com"))),s&&(r=s.value)}return window.console.log("get1688MtopApiToken mTopApiToken: ",r),r!=null&&r.length?r=r.split("_")[0]:e||(r=await lk(!0),window.console.log(`get mtopApiToken by partitionKey:${r}`)),r}async function az(e){const{apiPath:t,api:r,reqData:n,needRetryWhenMTopTokenInvalid:s=!0}=e,a="12574478",o=await lk();if(!o&&(window.console.log("get mtopApiToken fail"),!s))return je.failResult("获取1688信息失败，请重新登录或者滑动验证码验证");window.console.log("mTopApiToken: ",o);const i=JSON.stringify(n),l=new Date().getTime(),u=ik([o,l,a,i].join("&")),d={jsv:"2.7.4",appKey:a,t:l,sign:u,api:r,ecode:1,v:"1.0",type:"json",valueType:"string",dataType:"jsonp",preventFallback:!0,trackerConfig:"[object Object]"},m=[];for(const h in d){const v=d[h];m.push(`${h}=${v}`)}const b=`https://h5api.m.1688.com/h5/${t}/1.0/?${m.join("&")}`;window.console.log(b),await s6(b);const g=await $r({url:b,method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},body:Ma.stringify({data:i}),credentials:"include"});if(window.console.log(g),!g){window.console.log("mtop response empty");return}return g}async function oz(e){const t=await az({api:"mtop.1688.trade.receiveaddress.addReceiveAddress",apiPath:"mtop.1688.trade.receiveaddress.addreceiveaddress",reqData:e});return window.console.log("fetchSaveAddressMtopApi res: ",t),t}let uk=class{constructor(){me(this,"tabId");me(this,"purchaseOrderInfo",{});me(this,"csrf_token")}async initAddress(t){const r=await rr();this.tabId=r.id;try{this.purchaseOrderInfo=t,await this._checkLogin(),this._setPurchaseOrderInfoToStorage();const{consignee:n}=this.purchaseOrderInfo;if(!mV(n.mobile))return pt.alert("解密收件人信息失败",{title:"提示"}),Promise.reject("解密收件人信息失败");const s=await this._validateAddress(n);await this._processAddress(s)}catch(n){return window.console.error("initAddress: ",n),Promise.reject(n)}}_setPurchaseOrderInfoToStorage(){Ze.setItem(Pt(this.tabId),this.purchaseOrderInfo)}async _checkLogin(){const t=await sh();if(!qt(t)){window.console.log(`buyerName from cookie: ${t}`),this.purchaseOrderInfo.purchaseOrderBuyer=t,this._setPurchaseOrderInfoToStorage();return}if((await $r({url:"https://work.1688.com/?_path_=buyer2017Base/2017buyerbase_index/buyer_2017indexpage",method:"GET",dataType:"text"})).match("enableWwSsoPluginLogin")){window.alert("您还没有登录1688账号，请登录后刷新页面！");const s=window.location.href.toLowerCase();return window.location.href=`https://login.1688.com/member/signin.htm?spm=a261y.7663282.0.d3.6b1b40855ChrFG&Done=${encodeURIComponent(s)}`,Promise.reject("您还没有登录1688账号，请登录后刷新页面！")}const n=window.setInterval(async()=>{if(this.purchaseOrderInfo.purchaseOrderBuyer){clearInterval(n);return}let s=k("ali-bar-user-info span").attr("title");const a=await qi();a&&(s=a.offerBaseInfo.buyerLoginId),s||(s=await sh()),this.purchaseOrderInfo.purchaseOrderBuyer=s,this._setPurchaseOrderInfoToStorage()},1e3)}async _validateAddress(t){const r=await ah(),n=/data-csrftoken="(.*?)"/.exec(r);this.csrf_token=n?n[1]:"";const s=r.match(/<tr class="single-address"[^>]*data-address='(.*)'[^>]*>/gi);if(s){for(const a of s){const o=this._parseAddressInfoFromAddressHtml(a);if(o&&o.mobile===t.mobile&&o.fullName===t.fullname&&t.fullAddress.includes(o.address)){t.deliverId=o.addressId,t.tradeAddress={},t.tradeAddress.address=o.address,t.tradeAddress.addressCode=o.addressCode,t.tradeAddress.addressCodeText=o.addressCodeText,t.tradeAddress.addressId=o.addressId,t.tradeAddress.fullName=o.fullName,t.tradeAddress.isDefault=o.isDefault,t.tradeAddress.isLatest=o.isLatest,t.tradeAddress.mobile=o.mobile,t.tradeAddress.postCode=o.postCode;break}}if(!t.deliverId&&s.length>=100){const a=s.pop(),o=this._parseAddressInfoFromAddressHtml(a);o.addressId&&await this.deleteAddress(o.addressId)}}return t}_parseAddressInfoFromAddressHtml(t){const r=/data-address='(.*?)'/.exec(t);if(!r)return null;let n=document.createElement("div");n.innerHTML=r[1];const s=n.textContent;return n=null,s?JSON.parse(s):!1}deleteAddress(t){return _n({url:"https://wuliu.1688.com/foundation/ajax/operate_receive_address.jsx?_input_charset=UTF-8",method:"POST",headers:{"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},xhrFields:{withCredentials:!0},data:{addressId:t,operateType:"delete",_csrf_token:this.csrf_token}})}async _processAddress(t){const r=tf(t,this.purchaseOrderInfo.consigneeSuffixMap,this.purchaseOrderInfo.purchasePlatform),{consignee:n}=this.purchaseOrderInfo,s=`${r.fullname} ${r.mobile} ${r.fullAddress}`,a=await $r({url:"https://wuliu.1688.com/address/ajax/address_parse.jsx",method:"GET",dataType:"text",params:{callback:"jQuery17209390225001079777_1538036004820",address:encodeURIComponent(s),_csrf_token:this.csrf_token,_input_charset:"utf-8"}}),o=/jQuery17209390225001079777_1538036004820\((.*)\)/.exec(a),i=JSON.parse(o[1]),{purchaseSetting:l}=this.purchaseOrderInfo;if(l.purchase1688MobileStyleVirtualNum&&l.purchase1688MobileStyleVirtualNum>=1&&r.virtualNumberSuffix&&this.purchaseOrderInfo.originalMobileType==="virtual"&&(r.mobile+=`-${r.virtualNumberSuffix}`),!i.data.districtCode||i.data.city&&!i.data.city.includes(r.city.substr(0,2))||!i.data.district.includes(r.city.substr(0,2))&&!i.data.district.includes(r.county.substr(0,2)))this.validateAddressFromDb().then(c=>{if(!c)return Promise.reject("get address code from db fail");c.personalName=r.fullname,c.mobileNO=r.mobile,c.addressDetail=r.address,this.saveAddress(c,n.deliverId)});else{const[c,u]=await this.get1688TownCode(i.data.districtCode,r);i.data.townCode=c,i.data.town=u,i.data.personalName=r.fullname,i.data.mobileNO=r.mobile,i.data.addressDetail=r.address,this.saveAddress(i.data,n.deliverId)}}async validateAddressFromDb(){const{consignee:t}=this.purchaseOrderInfo,r={province:t.province,city:t.city,county:t.county},n=await Jt({url:"/order/purchase_order/get_tb_area_ids",method:"GET",params:r}),s={personalName:t.fullname,mobileNO:t.mobile,addressDetail:t.address};s.province=n.province,s.provinceCode=n.provinceId,s.city=n.city,s.cityCode=n.cityId,s.district=n.county,s.districtCode=n.countyId,s.divisionZip=n.zip?n.zip:"000000",s.addressCode=n.cityId;let a=n.cityId;n.countyId>0&&(a=n.countyId,n.countyId.length===6&&(s.addressCode=n.countyId));const[o,i]=await this.get1688TownCode(a,t);if(s.townCode=o,s.town=i,qt(s.townCode)){const c=await this.get1688ChildrenAddressList(s.cityCode)||[];for(const u in c){const d=c[u];if(d.l<=4)break;if(d.a===s.districtCode){s.districtCode="",s.district="",s.townCode=d.a,s.town=d.n;break}}return s}else return s}get1688TownCode(t,r){return this.get1688ChildrenAddressList(t).then(n=>{if(!n)return window.console.log("获取城镇列表失败"),["",""];let s="",a="";return k.each(n,(o,i)=>{if(i.n===r.county||r.address.includes(i.n)||i.n===r.town)return s=i.a,a=i.n,!1}),s===""?["",""]:[s,a]})}get1688ChildrenAddressList(t){return $r({url:"https://wuliu.1688.com/address/ajax/get_children_address_list.jsx",method:"GET",dataType:"text",params:{_input_charset:"UTF-8",callback:"jQuery17209390225001079777_1538036004820",code:t,_:1546587656739}}).then(r=>{const n=/jQuery17209390225001079777_1538036004820\((.*)\)/.exec(r);if(!n||n.length<2)return!1;try{return JSON.parse(n[1]).data}catch(s){return window.console.log(s),!1}})}async saveAddress(t,r){const n=!(+r>0),s=n?"add":"update",a=this.buildAddressPath(t),o=this.buildAddressCodeText(a);let i;try{const l=await _n({url:"https://wuliu.1688.com/foundation/ajax/operate_receive_address.jsx?_input_charset=UTF-8",method:"POST",dataType:"text",headers:{"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},xhrFields:{withCredentials:!0},data:{addressPath:a,isNew:n,fullName:t.personalName.length===1?`${t.personalName} *`:t.personalName,address:t.addressDetail,addressCode:t.addressCode?t.addressCode:t.districtCode,mobile:t.mobileNO,phone:"",phoneCode:"",phoneNumber:"",phoneSubCode:"",postCode:t.divisionZip?t.divisionZip:"000000",addressCodeText:o,provinceCode:t.provinceCode,cityCode:t.cityCode,areaCode:t.districtCode?t.districtCode:"",townCode:t.townCode?t.townCode:"",provinceName:t.province,cityName:t.city,areaName:t.district?t.district:"",townName:t.town?t.town:"",isDefault:!0,isInland:!0,addressNamePath:`${t.province} ${t.city} ${t.district}`?t.district:` ${t.town}`?t.town:"",addressId:r,bizType:"",isLatest:!0,operateType:s,_csrf_token:this.csrf_token}});i=JSON.parse(l)}catch(l){window.console.log(l),i=null}try{if(!(i!=null&&i.data)){const c={addressCode:t.addressCode?t.addressCode:t.districtCode,addressCodeText:o,townCode:t.townCode?t.townCode:"",townName:t.town?t.town:"",address:t.addressDetail,countryCode:"CN",fullName:t.personalName.length===1?`${t.personalName} *`:t.personalName,post:t.divisionZip?t.divisionZip:"000000",mobilePhone:t.mobileNO,phone:"",default:!0,temp:!1,overseasAddress:!1};n||(c.id=r),i=await oz(c)}let l=r;i.data&&(l=i.data.addressId),this.purchaseOrderInfo.consignee.deliverId=l,this._setPurchaseOrderInfoToStorage(),this.autoAddAddressCallback(n)}catch(l){window.console.log("修改地址失败: ",l)}}autoAddAddressCallback(t=!1){t&&window.location.href.includes("cart.1688.com/cart.htm")&&window.location.reload()}buildAddressPath(t){const r=[];return t.provinceCode&&r.push({code:t.provinceCode,name:t.province,level:1}),t.cityCode&&r.push({code:t.cityCode,name:t.city,level:2}),t.districtCode&&r.push({code:t.districtCode,name:t.district,level:3}),t.townCode&&r.push({code:t.townCode,name:t.town,level:4}),r}buildAddressCodeText(t){const r=[];let n="";if(t){for(const s of t){if(s.level===4)break;r.push(s.name)}n=r.join(" ")}return n}};class iz{constructor(){me(this,"tabId");me(this,"purchaseOrderInfo",{})}async init(){const t=await rr();if(this.tabId=t==null?void 0:t.id,this.purchaseOrderInfo=await this._getPurchaseOrderInfoFromStorage(),!this.purchaseOrderInfo)return Promise.reject("no purchase order info.");await Ut();try{await new uk().initAddress(this.purchaseOrderInfo).catch(n=>{window.console.error("initAddress: ",n)}),this._buildEvent()}catch(r){window.console.error(r)}}_getPurchaseOrderInfoFromStorage(){return Ze.getItem(Pt(this.tabId))}_buildEvent(){k(()=>{k('#ice-container button[class*="bottom-bar--submitBtn--"]').on("click",t=>{const r=new Set;k("#ice-container").find('div[class*="cart--content--"] label[class*="item--checkbox--"]').find("input:checked").each((n,s)=>{const a=k(s).parents('div[class*="shop-container--container--"]').find(".J_WangWang").data("nick");r.add(a)}),r.size>1&&(St.error({message:"仅支持单个店铺同时结算，请保证当前结算的商品来源同一个店铺。",duration:0,showClose:!0}),t.preventDefault(),t.stopPropagation())})})}}function lz(){return new iz().init()}const Kn=async({appHost:e,url:t,header:r,responseText:n,responseType:s,errorMsg:a=""})=>{const o={appHost:e,url:t,header:r,responseType:s,errorMsg:tk(a),userAgent:wV(),chromeVersion:bV(),pluginName:As.runtime.getManifest().name,pluginVersion:As.runtime.getManifest().version,encodeType:"base64",failResponse:["fail","match_fail"].includes(s)?tk(n):""};g6(o)},ck=async({purchaseOrderInfo:e})=>{const{consignee:t={},appInfo:r={}}=e,n={appName:r.appName??"",province:t.province??"",city:t.city??"",county:t.county??"",town:t.town??""},s=["市","自治区","省"];for(const o in s){const i=s[o];if(n.province.includes(i)){n.province=n.province.replace(i,"");break}}k.inArray(n.province,["台湾","港澳"])>=0&&(n.province=t.city??"",n.city=t.county??"",n.county=t.town??""),n.province.includes("广东")&&n.city.includes("中山")&&(n.county="中山市",n.town=t.county??"");const a=await w6({valueMap:n}).catch(o=>{window.console.log("getTbAreaIdsFromDb fail",o)});return je.isFail(a)?Promise.reject("获取地址的行政区域出错"):!je.isSuccess(a)&&typeof a=="string"&&a.includes("<head>")?(pt.alert("与软件失联：请重新采购下单"),Promise.reject("与软件失联:请重新采购下单")):{...e,tbAreaInfo:a}};function Gv(e){const t=e,r=t.purchaseItem,n=r.skuId,s=t.skuIdAndManualSelectedSkuSubNameMap||{},a=r.platformSkuId||"";let o=[],i=[];const l=VI(r);if(qt(l)||(l.sourceColorName&&i.push(l.sourceColorName),l.sourceSizeName&&i.push(l.sourceSizeName)),window.console.log("采购弹窗货源链接配置的sku映射(purchaseItem.skuMap): ",r.skuMap),window.console.log("尝试找到的当前产品规格映射的货源SKU信息: ",l),qt(i)&&!qt(s)){const c=s[n]||s[a],u=c==null?void 0:c.manualSelectedSkuSubName;u&&(i=u.split("|"))}return window.console.log("自动勾选的sku: ",i),i.length>0&&(o=Qd(i)),o.length>0?o:!1}async function Kv(e,t={}){if(t.isBindBuyerBtnEvent||(t.isBindBuyerBtnEvent=!1),t.isExecuteAutoTriggerBuyBtn||(t.isExecuteAutoTriggerBuyBtn=!1),t.isBindBuyerBtnEvent||(uz(e),t.isBindBuyerBtnEvent=!0),!a(e))return;const r=await fz(e),n=e.purchaseSetting||{},s=Number(n.isAutoTriggerBuyBtn)===1;r&&s&&(await Ye(2e3),pz(e));function a(o){return t.isExecuteAutoTriggerBuyBtn?(window.console.log("already execute autoTriggerBuyBtn"),!1):(t.isExecuteAutoTriggerBuyBtn=!0,qt(o)||!au(o)?!1:o.purchasePlatform===uo&&k(document).find(".do-remind").length>0?(pt.alert("商品正在等待开团",{title:"提示",type:"error",showCancelButton:!1}),!1):!0)}}function uz(e){const t=e.purchasePlatform;t===uo&&k(document).on("click",".do-purchase, .J_OrderAction_Btn_DoApplyConsign, .J_OrderAction_Btn_DoPurchase",()=>{sf(e)}),t===Rs&&(k(".J_LinkBuy").length>0?k(document).on("click",".J_LinkBuy",()=>{sf(e)}):window.console.log("taobao buy btn not found"),k.each(k(document).find('button span[class=""]'),(r,n)=>{const s=k(n).text()||"";if(["立即购买","领券购买"].includes(s))return k(document).on("click",k(n).parent(),()=>{sf(e)}),!0})),t===Ua&&k("#J_LinkBuy").length>0&&k(document).on("click","#J_LinkBuy",()=>{sf(e)})}function sf(e){const t=dk(e);window.console.log("我被触发点击了",t),uV(e,t)}function dk(e){let t=[];const{purchasePlatform:r}=e;switch(r){case Nc:t=dz();break;case Rs:case Ua:t=FD(),t.length||(t=UD());break;case uo:t=cz();break}let n=t.length>0?t.join("|"):!1;return n&&(n=n.replace(/（/g,"("),n=n.replace(/）/g,")"),n=n.replace(/：/g,":"),n=n.replace(/【/g,"["),n=n.replace(/】/g,"]"),n=n.replace(/，/g,","),n=n.replace(/；/g,";")),n}function cz(){const e=[],r=k("#skuSelection").find(".feature-item");if(r.length){let n;r.each((a,o)=>{k(o).find(".transverse-filter").length&&(n=k(o).find(".transverse-filter"))});const s=n==null?void 0:n.find("button.sku-filter-button");s!=null&&s.length&&s.each((a,o)=>{if(k(o).hasClass("active")){const i=k(o).find("span.label-name").text();e.push(k.trim(i))}})}else k(document).find(".unit-detail-spec-operator").length>0?k(document).find(".unit-detail-spec-operator").each((n,s)=>{const a=k(s).find("a");if(a.hasClass("selected")){let o=a.attr("title");o||(o=a.find(".vertical-img-title").text()),e.push(k.trim(o))}}):k(document).find(".prop-item-inner-wrapper").each((n,s)=>{if(k(s).hasClass("active")){const a=k(s).find("div.prop-name").attr("title");e.push(k.trim(a))}});if(r.length){let n;r.each((a,o)=>{k(o).find(".expand-view-list").length&&(n=k(o).find(".expand-view-list"))});const s=n==null?void 0:n.find(".expand-view-item");s!=null&&s.length&&s.each((a,o)=>{if((Number(k(o).find("input.ant-input-number-input").val())||0)>0){const l=k(o).find(".v-flex span.item-label").text();e.push(k.trim(l))}})}else k(document).find(".table-sku").length>0?k(document).find(".table-sku").find("tbody > tr").each((n,s)=>{const a=k(s),o=a.find(".amount-input").val(),i=a.find(".name");let l;i.find("img").length>0?l=k.trim(i.find("img").attr("alt")):l=k.trim(i.text()),o>0&&e.push(l)}):k("#sku-count-widget-wrapper .sku-item-wrapper").each((n,s)=>{const a=k(s).find(".sku-item-name").text().trim();k(s).find(".next-input-group-auto-width input").val()>0&&e.push(a)});return k(document).find(".J_SkuSelector_1st_PropItem").each((n,s)=>{if(!k(s).hasClass("active-sku-item"))return!0;e.push(k(s).attr("data-sku-1st-prop-name"))}),k(document).find(".J_SkuSelector_2nd_PropItem").each((n,s)=>{const a=k(s).find(".J_SkuItem_AmountInput");if(k.trim(a.val()).toNumber(0)>0)return e.push(k(s).attr("data-sku-2nd-prop-name")),!1}),e}function dz(){const e=[];return k(document).find("div[sku-spec-value-selected=1]").each((t,r)=>{const n=k.trim(k(r).attr("aria-label"));e.push(n)}),e}function fz(e){const t=dk(e),r=qI(e),n=YI(r),s=e.purchaseSetting||!1;let a=!1;window.console.log("selectedSkuSubName",t),window.console.log("purchaseSkuSubName",r),window.console.log("similarPurchaseSkuSubName",n);const o=Number(s.isAutoTriggerBuyBtn)===1;return!Jd(r,t)&&!Jd(n,t)?o&&St.error({message:"SKU自动匹配不成功，请手动选择",duration:0,showClose:!0}):(a=!0,o&&St.success({message:"SKU自动匹配成功",duration:0,showClose:!0})),a}async function pz(e){try{const t=e.purchaseSetting||{},r=e.purchasePlatform;if(!(Number(t.isAutoTriggerBuyBtn)===1))return null;if(r===Nc)k(document).find("div[data-active]").each((s,a)=>{if(k.trim(k(a).text()).includes("确定"))return k(a).trigger("click"),!1});else if([Rs,Ua].includes(r))Bv()?k(".sku-btn.gobuy").length>0?k(".sku-btn.gobuy").trigger("click"):k(".bottom-bar .buy").length>0&&k(".bottom-bar .buy").trigger("click"):jv()?as(k(".sku-wrap .ok")[0],"click"):k(document).find(".J_LinkBuy").length>0?k(document).find(".J_LinkBuy")[0].click():k(document).find("#J_LinkBuy").length>0?k(document).find("#J_LinkBuy")[0].click():(window.console.log("taobao buy btn not found"),k.each(k(document).find('button span[class=""]'),(s,a)=>{const o=k(a).text()||"";if(["立即购买","领券购买"].includes(o))return k(a).parent()[0].click(),!0}));else if(r===uo){const s=new RegExp(`(${["立即订购","代发下单","立即下单","下单"].join("|")})`,"g");await Ye(1e3);const a=k(document).find(".do-purchase"),o=k(document).find(".J_OrderAction_Btn_DoApplyConsign"),i=k(document).find(".J_OrderAction_Btn_DoPurchase"),l=k(document).find(".order-normal-button"),c=k(document).find("#submitOrder .action-button-list .action-button");a.length>0?a[0].click():o.length>0?o[0].click():i.length>0?i[0].click():l.length>0?l.each((u,d)=>{const m=k(d).text()||"";if(["快速铺货享专属价","加铺货单享专属价"].includes(m))return!0;if(s.test(m))return k(d).click(),!1}):c.length&&c.each((u,d)=>{const m=k(d).text()||"";if(["快速铺货享专属价","加铺货单享专属价"].includes(m))return!0;if(s.test(m))return k(d).find("button").click(),!1}),k(document).find(".order-button-tip-content").length>0&&hz(e)}}catch(t){window.console.error(t),pt.alert("自动购买失败，请手动购买",{title:"提示",type:"error"})}}function hz(e){const t=mz(e);let r="",n=!1;return t&&e.purchaseItem.itemTotal<t&&(n=!0,r=`有起批量限制，最低起批量是：${t}`),n&&pt.alert(r,{title:"提示",type:"error"}),!n}function mz(e){const t=e.purchasePlatform;let r=0;switch(t){case uo:r=ww();break}return window.console.log("minPurchaseNum",r),r}function gz(e){const t=e.purchaseSetting||!1;return Number(t.isAutoTriggerBuyBtn)===1}function vz(e){return/(\.coupangcdn\.com|\/\/cf\.shopee\.)/i.test(e)?bz(e):new Promise((t,r)=>{const n=new Image;n.setAttribute("crossOrigin","Anonymous"),n.src=e,n.onload=function(){const s=document.createElement("canvas");s.width=n.width,s.height=n.height,s.getContext("2d").drawImage(n,0,0,n.width,n.height);const o=n.src.substring(n.src.lastIndexOf(".")+1).toLowerCase(),i=s.toDataURL(`images/${o}`);t({base64Code:i,width:n.width,height:n.height})},n.onerror=s=>{r(s)}})}function yz(e,t){const r=e.split(","),n=r[0].match(/:(.*?);/)[1],s=atob(r[1]);let a=s.length;const o=new Uint8Array(a);for(;a--;)o[a]=s.charCodeAt(a);return new File([o],t,{type:n})}function bz(e){return new Promise(t=>{b6({url:e}).then(r=>{t({base64Code:r.base64Code?`data:image/png;base64,${r.base64Code}`:""})})})}class wz{constructor(){me(this,"tabId");me(this,"purchaseOrderInfo",{});me(this,"selectedContent","");me(this,"isFirstCheckAddress",!0);me(this,"hasTryAutoSelectAddress",!1)}async init(){const t=await rr();this.tabId=t==null?void 0:t.id,await this._waitOrderGroupListReady(),await this._initPurchaseOrderInfo(),await Ut(),this._initSelectedSkuInfo(),this._buildEvent(),this._initAddress()}_getPurchaseOrderInfoFromStorage(){return Ze.getItem(Pt(this.tabId))}_setPurchaseOrderInfoToStorage(){Ze.setItem(Pt(this.tabId),this.purchaseOrderInfo)}async _waitOrderGroupListReady(){const{promise:t,resolve:r,reject:n}=Xb();let s=200;for(;s>0;s--)if(await Ye(50),k(".order-group-list").length>0){window.console.log("purchase1688ConfirmV2 init success"),r(!0);break}return n("purchase1688ConfirmV2 init fail"),t}async _initPurchaseOrderInfo(){if(this.purchaseOrderInfo=await this._getPurchaseOrderInfoFromStorage(),!this.purchaseOrderInfo)return Promise.reject("no purchase order info.");window.console.log("purchaseOrderInfo: ",this.purchaseOrderInfo);const t=k(".offer-link").text();t&&(this.purchaseOrderInfo.purchaseItem.title=t,await this._setPurchaseOrderInfoToStorage())}async _initSelectedSkuInfo(){const t=await this._getSkuInfoByOrderView();t&&(window.console.log("initSelectedSkuInfo",t),this.purchaseOrderInfo.confirmSelectedSkuInfo=t.map(r=>({specId:r})),this._setPurchaseOrderInfoToStorage())}async _getSkuInfoByOrderView(){const t=await this._getOrderView(),r=/"specId":"([^"]+)"/g,n=Array.from(t.matchAll(r),s=>s[1]);return window.console.log("_getOrderView matches: ",n),n}async _getOrderView(){try{let t=null;k("script").each((n,s)=>{const a=k(s).html();if(a.includes("__INITIAL_PARAMS__ = ")){let o=a.substring(a.indexOf("__INITIAL_PARAMS__ = ")+21);return o=o.replace(/;\n(\s)*/g,""),window.console.log("initData1",o),o=JSON.parse(o),o.fromWhere="confirmOrder",window.console.log("initData2",o),t=o,!1}});const r=k("input[name=_csrf_token]").attr("value");return await $r({url:"https://order.1688.com/order/make_order_view.jsx?_input_charset=utf-8",method:"POST",dataType:"text",headers:{"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:Ma.stringify({_csrf_token:r,smartGeneralQueryParam:JSON.stringify(t)})})}catch(t){window.console.error("_getOrderView fail: ",t)}}_buildEvent(){this._checkPurchaseOrderCount(),this._processPurchaseOrderInfo(),setInterval(()=>{this._rebuildPurchaseOrderInfo()},500),setInterval(()=>{const t=k(".address-content").text();t&&this.selectedContent!==t&&(window.console.log("selectedContent change",this.selectedContent),!k(".ant-modal-content").length&&!k(".J_realMobile").length&&(this.selectedContent=t,window.console.log("selectedContent change to check",this.selectedContent),this._checkAddress(!1)))},1e3),this._bindPurchasePlatformOrderingBtnEvent()}async _initAddress(){window.console.log("purchaseOrderInfo.purchaseSetting",this.purchaseOrderInfo.purchaseSetting),await Ye(3e3),this._checkAddress(!0)}_checkPurchaseOrderCount(){k(".order-group-container").length>1&&pt.alert(`
          <strong style="color:red; font-size: 18px;">温馨提示：</strong>
          <br>
          当前结算的商品属于多个店铺，将会产生多笔订单
        `,{dangerouslyUseHTMLString:!0})}async _processPurchaseOrderInfo(){const t=ou(this.purchaseOrderInfo,"，"),r=document.querySelector(".leave-message-textarea q-textarea"),n=r==null?void 0:r.shadowRoot;if(n){const s=n.querySelector(".q-textarea textarea");if(s){const a=new InputEvent("input",{inputType:"insertText"});s.value+=t,s.dispatchEvent(a)}else console.error("q-textarea not found in Shadow Root")}else console.error("Shadow Root not found");this.purchaseOrderInfo.pluginName&&(await Ye(500),k(".commit-container").append(`
        <div
          style="
            width: 370px;
            text-align: left;
            background-color: yellow;
            color: red;
            font-size: 16px;
            font-weight: 600;
            padding: 3px;
            margin-top: 20px;
          "
        >
          ${this.purchaseOrderInfo.pluginName}提示：提交订单且提示关联成功后您可以暂时不支付，待全部订单下完后再统一支付
        </div>
      `))}_rebuildPurchaseOrderInfo(){var i;const t=k(".shop-title").text().trim();this.purchaseOrderInfo.purchaseOrderSeller=t||"",this.purchaseOrderInfo.purchasePlatform=uo;const r=k(".total-amount-wrapper .amount-inner"),n=k(".q-inputnumber-wrap").eq(0).find('input[type="text"]');if(!r.length&&!n.length)return;const s=(r==null?void 0:r.text().trim().replace(",","").replace("￥",""))||"0",a=Pa(s),o=(i=n==null?void 0:n.val())==null?void 0:i.trim();this.purchaseOrderInfo.purchaseOrderPayment=a,this.purchaseOrderInfo.purchaseItem.purchaseNum=o,this.purchaseOrderInfo.purchaseItem.purchasePrice=Number((a/o).toFixed(2)),this._setPurchaseOrderInfoToStorage(),this._viewProfit()}_viewProfit(){const[t,r]=JI(this.purchaseOrderInfo),n=k(".J_purchaseProfit");n&&n.length?n.html(`<span>${r}</span>`):k(".commit-container").append(`
        <strong
          class="J_purchaseProfit"
          style="
            display: inline-block;
            height: 60px;
            line-height: 60px;
            background-color: yellow;
            color: red;
            padding: 0 20px;
            font-size: 18px;
          "
        >
          <span>${r}</span>
        </strong>
      `)}async autoSelectAddress(){if(this.hasTryAutoSelectAddress)return;this.hasTryAutoSelectAddress=!0;let t,r=0,n;function s(){t&&(clearInterval(t),t=null)}try{let a=function(){let b;return k(".address-container").find(".address-actions").find(".address-action").each((g,h)=>{if(k(h).text().includes("更改地址"))return b=k(h),!1}),b},o=function(){let b;n.find(".receive-address-list").find(".address-item").each((g,h)=>{const v=k(h).find(".address-name").text().replace(/\s+/g,""),y=k(h).find(".address-mobile").text().replace(/\s+/g,""),C=k(h).find(".address-body").text().replace(/\s+/g,"");if(!v||!y||!C)return!0;if(v===u&&y===d&&C===m)return b=k(h),!1}),b?(b.trigger("click"),window.console.log("自动选中地址！！！！！！！！"),i()):pt.alert("匹配地址失败，请手动选择地址")},i=function(){let b;n.find(".ant-modal-footer").find("button.ant-btn").each((g,h)=>{if(k(h).text().replace(/\s+/g,"").includes("确定"))return b=k(h),!1}),b?(b.trigger("click"),window.console.log("自动确定地址！！！！！！！！")):pt.alert("匹配地址失败，请手动选择地址")};const l=a(),c=this.purchaseOrderInfo.consignee||{},u=(c.fullname||"").replace(/\s+/g,""),d=(c.mobile||c.telephone||"").replace(/\s+/g,""),m=(c.fullAddress||"").replace(/\s+/g,"");if(!l||!u||!d||!m)return;t=setInterval(()=>{r++,r>=20&&s(),n=k(".ant-modal.receive-address-list-modal"),n&&(s(),o())},200),l.trigger("click")}catch{s()}}async _checkAddress(t=!1,r=!0,n=2){if(k(".address-place").length<=0&&n>=0)return await Ye(500),window.console.log("delay check address"),this._checkAddress(t,r,n-1);window.console.log("isFirstCheck",t),this.isFirstCheckAddress&&(this.isFirstCheckAddress=!1,t=!0),k(".J_purchaseAddressTip").remove();let s="",a="";k(".address-place").length>0&&(s=a=k.trim(k(".address-place").text())),s||pt.alert("获取网页地址信息失败，请刷新重试");const o=this.purchaseOrderInfo.consignee.address,i=this._isOrderingAddress(s,o);if(this.purchaseOrderInfo.isMatchAddress=i,!i){t&&(this.autoSelectAddress(),bw(this.purchaseOrderInfo,JSON.stringify({purchaseAddress:s,orderAddress:o})));const m=`
        <div
          class="J_purchaseAddressTip"
          style="
            position:absolute;
            padding:5px 10px;
            font-size:24px;
            font-weight:600;
            z-index:1000000;
            left: 0px;
            color:#fff;
            background-color: #ff4400;
            border:1px solid red;
            box-shadow: 0 0 4px #000;
          "
        >
          ${Zd(this.purchaseOrderInfo.appInfo)}
          <a href="javascript:;" class="J_closePurchaseAddressTip" style="color:blue; margin-left: 20px;">
            X 关闭
          </a>
        </div>
      `;k(".address-container").css("position","relative").append(m),k(".J_closePurchaseAddressTip").unbind().click(()=>{k(".J_purchaseAddressTip").remove()})}const l=s.includes("地址需要升级，请重新编辑");t&&(this.purchaseOrderInfo.isClickAutoCommitOrder?(window.console.log("auto commit order repeat click"),k(".J_checkRelatePurchaseBtn").hide(),pt.alert("已自动提交过订单,无法继续提交订单。")):(Uv(this.purchaseOrderInfo,i,l),window.console.log("auto commit order click"))),l&&t&&this._upgradeErrorAddress();const c=a,u=k(".address-subject span").eq(0).text(),d=k(".address-subject span").eq(1).text();return this._setPurchaseConsigneeInfo(c,u,d),i}_isOrderingAddress(t,r){t=t.replace(/\s+/g,""),r=r.replace(/\s+/g,""),window.console.log("orderAddress",r),window.console.log("purchaseAddress",t);const n=this.purchaseOrderInfo.consignee||{},{province:s}=n;return!s||!s.includes(t.substring(0,2))?!1:!!t.includes(r)}async _upgradeErrorAddress(){var t,r,n,s,a;(t=k(".edit-address .edit-address-info")[0])==null||t.click(),await Ye(50),(r=k(".address-list li.checked .edit")[0])==null||r.click(),await Ye(500),(n=k(".zone-editaddress .address-select-block input")[0])==null||n.click(),await Ye(100),(s=k(".fui-address-chooser .fui-address-chooser-ok")[0])==null||s.click(),await Ye(100),(a=k(".address-list-block .save")[0])==null||a.click()}_setPurchaseConsigneeInfo(t,r,n){const s=t.replace(/\s+/g,"");!s||!r||!n||(this.purchaseOrderInfo.purchaseOrderFullAddress=s,this.purchaseOrderInfo.purchaseOrderFullname=r,this.purchaseOrderInfo.purchaseOrderMobile=n,this._setPurchaseOrderInfoToStorage())}async _bindPurchasePlatformOrderingBtnEvent(){const t=k(".commit-container q-button");if(t.length>0){const r=document.querySelector(".button-wrapper");await Ye(1500),this._overlaySubmitButton(r)}t.length>0&&k(document).on("click",".J_checkRelatePurchaseBtn",r=>{if(k(r.currentTarget).attr("disabled")&&k(r.currentTarget).attr("disabled")==="disabled")return window.console.log("提交订单按钮禁用"),null;this._triggerBtnEvent(t)})}_overlaySubmitButton(t){const r=document.createElement("div");r.className="overlay J_checkRelatePurchaseBtn",t.parentNode.appendChild(r),r.style.position="absolute",r.style.top=`${t.offsetTop}px`,r.style.left=`${t.offsetLeft}px`,r.style.width=`${t.offsetWidth}px`,r.style.height=`${t.offsetHeight}px`}async _triggerBtnEvent(t){var n;return window.console.log("触发虚拟按钮"),await Bi(this.purchaseOrderInfo,"confirm_page",{checkAddressCallback:()=>this._checkAddress(!1,!1)})?((n=t[0])==null||n.click(),!0):!1}}function Sz(){return new wz().init()}class _z{constructor(){me(this,"tabId");me(this,"purchaseOrderInfo",{});me(this,"targetGuessProps",[]);me(this,"selectedSkuLoop",0);me(this,"_checkIsFinishSelectedSkuTimer",oa(async()=>{window.console.log("触发checkIsFinishSelectedSkuTimer"),this.selectedSkuLoop>0&&this.targetGuessProps.length<=this.selectedSkuLoop?(await Ye(500),Kv(this.purchaseOrderInfo)):this._checkIsFinishSelectedSkuTimer()},200))}async init(){const t=this._isMobileLinkToPc();if(t)return window.location.href=t,Promise.reject(t);const r=await rr();if(this.tabId=r==null?void 0:r.id,this.purchaseOrderInfo=await this._getPurchaseOrderInfoFromStorage(),!this.purchaseOrderInfo)return Promise.reject(je.failResult({reason:"no purchase order info.",code:"noPurchaseOrderInfo"}));this._rebuildPurchaseTypeAttrTarget(),await Ut();try{await this._initPurchaseOrderInfo(),this._autoSelectSku(),await new uk().initAddress(this.purchaseOrderInfo).then(()=>{this._checkIsFinishSelectedSkuTimer()}).catch(s=>{window.console.error("initAddress: ",s)}),this._setViewCartClickTargetSelf()}catch(n){window.console.error("purchase_order init error: ",n)}}_getPurchaseOrderInfoFromStorage(){return Ze.getItem(Pt(this.tabId))}_setPurchaseOrderInfoToStorage(){Ze.setItem(Pt(this.tabId),this.purchaseOrderInfo)}_isMobileLinkToPc(){if(location.href.includes("m.1688.com")){const t=location.href.match(/offer\/(\d+)\.html/);if(t&&t.length>1)return`https://detail.1688.com/offer/${t[1]}.html`}return""}_rebuildPurchaseTypeAttrTarget(){k("a.od-pc-offer-tab-item").attr({target:"_self"});const t=k(".trade-type-menu-item").find("a");t.length>0&&t.attr({target:"_self"});const r=k(".active-type-for-bigMarket").find("a");r.length>0&&r.attr("target","_self");const n=k(".trade-tab-name-consign").find("a");n.length>0&&n.attr("target","_self")}async _initPurchaseOrderInfo(){const t=location.href;this.purchaseOrderInfo.purchaseItem.purchaseUrl=t;const r=k("#productTitle .title-content h1").text()||k(".mod-detail-title .d-title").text()||k(".title-text").text();this.purchaseOrderInfo.purchaseItem.title=r;const n=Hv(t);n&&(this.purchaseOrderInfo.purchasePlatform=n);const s=Wv(t);window.console.log("this.purchaseOrderInfo.purchaseOrderSeller",s),s&&(this.purchaseOrderInfo.purchaseOrderSeller=s),await this._setPurchaseOrderInfoToStorage(),window.console.log("_initPurchaseOrderInfo：",this.purchaseOrderInfo)}_setViewCartClickTargetSelf(){new MutationObserver(r=>{r.forEach(n=>{if(n.type==="childList"&&n.addedNodes.length>0){const s=k(n.addedNodes).find(".btn.btn-orange.view-cart");s.length>0&&s.attr("target")!=="_self"&&s.attr("target","_self")}})}).observe(document,{childList:!0,subtree:!0})}_filterSpecialString(t){return t.replace(/(\(|\)|（|）|【|】|\[|\]|，|,|；|;|《|》|<|>)*/g,"")}async _autoSelectSku(){var i;if(k(".mod-detail-offline-title").length>0&&k(".mod-detail-offline-title").text().includes("商品已下架"))return;const{purchaseItem:t}=this.purchaseOrderInfo,{skuSubName:r,itemTotal:n}=t,s=r&&Ra(r)?r.split(" "):[],a=Qd(s,this._filterSpecialString);this.targetGuessProps=Gv(this.purchaseOrderInfo)||a,window.console.log("this.targetGuessProps",this.targetGuessProps),await Ye(300),this.purchaseOrderInfo.hasSpecialCharW=!1;const o=this.targetGuessProps.length;for(let l=0;l<o;l++){const c=this.targetGuessProps[l].trim();let u=!1,d=!1;const b=k("#skuSelection").find(".feature-item");if(b.length){let g;b.each((v,y)=>{k(y).find(".transverse-filter").length&&(g=k(y).find(".transverse-filter"))});const h=g==null?void 0:g.find("button.sku-filter-button");h!=null&&h.length&&(u=!0,h.each((v,y)=>{var _;const C=(_=k(y).find("span.label-name").text())==null?void 0:_.trim();if(C.lastIndexOf("W")===C.length-1&&(this.purchaseOrderInfo.hasSpecialCharW=!0),this._filterSpecialString(C)===this._filterSpecialString(c))return window.console.log(`trigger click:${C}|${c}`),k(y).click(),d=!0,!1}))}else k("ul.list-leading li").length>1?(u=!0,k("ul.list-leading li").each((g,h)=>{let v=k(h).find("span").text().trim();if(v||(v=k(h).find("a").attr("title").trim()),v.lastIndexOf("W")===v.length-1&&(this.purchaseOrderInfo.hasSpecialCharW=!0),this._filterSpecialString(v)===this._filterSpecialString(c))return window.console.log(`trigger click:${v}|${c}`),k(h).find("div").click(),d=!0,!1})):k("div.prop-item-inner-wrapper").length&&(u=!0,k("div.prop-item-inner-wrapper").each((g,h)=>{let v=k(h).find("div.prop-name").text().trim();if(v||(v=k(h).find("div.prop-name").attr("title").trim()),v.lastIndexOf("W")===v.length-1&&(this.purchaseOrderInfo.hasSpecialCharW=!0),this._filterSpecialString(v)===this._filterSpecialString(c))return window.console.log(`trigger click:${v}|${c}`),k(h).find("div").click(),d=!0,!1}));if(this._setPurchaseOrderInfoToStorage(),await Ye(100),this.selectedSkuLoop++,!(u&&!d))if((i=k(".obj-expand a")[0])==null||i.click(),b.length){let g;b.each((v,y)=>{k(y).find(".expand-view-list").length&&(g=k(y).find(".expand-view-list"))});const h=g==null?void 0:g.find(".expand-view-item");h!=null&&h.length&&h.each((v,y)=>{var S;const C=(S=k(y).find(".v-flex span.item-label").text())==null?void 0:S.trim();C.lastIndexOf("W")===C.length-1&&(this.purchaseOrderInfo.hasSpecialCharW=!0,this._setPurchaseOrderInfoToStorage());const _=this._filterSpecialString(C);for(let x=0;x<o;x++)if(_===this._filterSpecialString(this.targetGuessProps[x])){const I=k(y).find(".ant-input-number.ant-input-number-sm ~ .ant-input-number-group-addon .anticon-plus.enable");if(I.length){const f=Number(k(y).find("input.ant-input-number-input").val())||0,P=Number(n)||0;f<P&&I.click()}}})}else if(k(".table-sku tr").length>0)k(".table-sku tr").each((g,h)=>{const y=JSON.parse(k(h).attr("data-sku-config")).skuName;y.lastIndexOf("W")===y.length-1&&(this.purchaseOrderInfo.hasSpecialCharW=!0,this._setPurchaseOrderInfoToStorage());const C=this._filterSpecialString(y);for(let _=0;_<o;_++)C===this._filterSpecialString(this.targetGuessProps[_])&&k(h).find(".amount-input").focus().val(n).blur()});else{let g=".pc-sku-wrapper";k("#sku-count-widget-wrapper").length>0&&(g="#sku-count-widget-wrapper"),k(`${g} .sku-item-wrapper`).each((h,v)=>{const y=k(v).find(".sku-item-name").text().trim();y.lastIndexOf("W")===y.length-1&&(this.purchaseOrderInfo.hasSpecialCharW=!0,this._setPurchaseOrderInfoToStorage());for(let C=0;C<o;C++)if(this._filterSpecialString(y)===this._filterSpecialString(this.targetGuessProps[C].trim())){const _=k(v).find(".next-input-group-auto-width:not(.next-disabled) input");_==null||_.val(n),k(v).find(".next-input-group-auto-width input").length>0&&(as(k(v).find(".next-input-group-auto-width input")[0],"input"),as(k(v).find(".next-input-group-auto-width input")[0],"blur"))}})}}qt(this.targetGuessProps)&&(k(".table-sku").length===0&&k(".amount-input").length>0?(this.selectedSkuLoop++,k(".amount-input").focus().val(n),k(".amount-input").blur()):k(".pc-sku-wrapper").length>0&&(this.selectedSkuLoop++,k(".sku-item-wrapper").find("input").val(n),k(".sku-item-wrapper").find("input").length>0&&(as(k(".sku-item-wrapper").find("input")[0],"input"),as(k(".sku-item-wrapper").find("input")[0],"blur")))),this._buildPurchaseToolInfo()}_buildPurchaseToolInfo(){this._buildColorName()}async _buildColorName(){let t=await n(this.tabId);t&&s();let r=k(".table-sku span.image").closest(".d-content");r.length||(r=k(".unit-detail-spec-operator").closest(".d-content")),r.length>0&&(r.prepend(`
          <div style="margin-left: 16px" class="od-sku-text-switch">
            <div class="J_odSkuTextSwitch od-sku-text-radio ${t?"od-radio-open":"od-radio-close"}">
              <div></div>
            </div>
            <div>${t?"关闭":"展开"}SKU文字</div>
          </div>
        `),r.find(".J_odSkuTextSwitch").on("click",async()=>{t=await n(this.tabId),t=t?0:1,Ze.setItem(`local:openColorName-${this.tabId}`,t?"1":"0"),k(".J_odSkuTextSwitch").siblings("div").html(`${t?"关闭":"展开"}SKU文字`),t?(k(".J_odSkuTextSwitch").addClass("od-radio-open").removeClass("od-radio-close"),s()):(k(".J_odSkuTextSwitch").removeClass("od-radio-open").addClass("od-radio-close"),k(".od-color-container").removeClass("od-color-container"),k(".J_appendColorName").remove())}));async function n(a){const o=await Ze.getItem(`local:openColorName-${a}`);return o===null||+o==1?1:0}function s(){k(".table-sku span.image,.unit-detail-spec-operator").each((a,o)=>{const i=k(o);if(i.find("img").length===0)return!0;const l=i.find("img").attr("alt");i.addClass("od-color-container"),i.find(".J_appendColorName").length>0?i.find(".J_appendColorName").html(l):i.append(`<div style="padding: 0 10px" class="J_appendColorName">${l}</div>`)})}}}function Tz(){return new _z().init()}class Cz{constructor(){me(this,"tabId");me(this,"purchaseOrderInfo",{})}async init(){const t=await rr();this.tabId=t==null?void 0:t.id,await this._initPurchaseOrderInfo(),await Ut(),this._buildEvent()}_getPurchaseOrderInfoFromStorage(){return Ze.getItem(Pt(this.tabId))}async _initPurchaseOrderInfo(){if(this.purchaseOrderInfo=await this._getPurchaseOrderInfoFromStorage(),!this.purchaseOrderInfo)return Promise.reject("no purchase order info.")}_buildEvent(){this._get1688BizOrderId()}_get1688BizOrderId(){if(this.purchaseOrderInfo.purchaseOrderSn&&typeof(this.purchaseOrderInfo.purchaseSetting||{}).isAutoRelateWaitPay>"u")return;const t=window.location.href;let r=!1;const n=/orderId=(\d+)/.exec(t);if((!n||n.length<2)&&(r=!0),!r){const s=(n==null?void 0:n[1])||"";this.purchaseOrderInfo.purchaseOrderSn=s}return Ja({status:r?"fail":"success",reason:r?"没有匹配到采购单号":""},this.purchaseOrderInfo),r?pt.alert("获取1688订单号失败，请手动关联订单"):(os({purchaseOrderInfo:this.purchaseOrderInfo,isPurchaseOrderPaid:!0}),!0)}}function xz(){return new Cz().init()}class Iz{constructor(){me(this,"tabId");me(this,"purchaseOrderInfo",{})}async init(){var n;const t=await rr();if(this.tabId=t==null?void 0:t.id,this.purchaseOrderInfo=await this._getPurchaseOrderInfoFromStorage(),!this.purchaseOrderInfo)return Promise.reject(je.failResult({reason:"no purchase order info.",code:"noPurchaseOrderInfo"}));await Ut();const r=this.purchaseOrderInfo.searchType;if(r==="searchByImage")this.searchGoodsByImage();else if(r==="searchByTitle"&&!/keywords=[^& ]+/.test(window.location.href)){k(".sm-widget-input").val(((n=this.purchaseOrderInfo.purchaseItem)==null?void 0:n.title)||"");const s=k(".sm-widget-search a")[0],a=document.createEvent("HTMLEvents");a.initEvent("click",!1,!0),s.dispatchEvent(a)}if(!this.purchaseOrderInfo.purchaseItem)return Promise.reject(je.failResult({reason:"only search",code:"only search"}));this.buildGoPurchaseEvent()}_getPurchaseOrderInfoFromStorage(){return Ze.getItem(Pt(this.tabId))}async searchGoodsByImage(){if(window.location.href.includes("youyuan/index.htm?tab=imageSearch"))return;const t=Wn({text:"正在搜索同款商品..."}),r=this.purchaseOrderInfo.purchaseItem,n=(r==null?void 0:r.picUrl)||this.purchaseOrderInfo.searchImageUrl;window.console.log(`purchaseItem.picUrl: ${n}`);const s=new RegExp("https://.*alicdn.com.*/imgextra/i\\d/\\d*/");if(s.test(n))return o(je.successResult({fileKey:n.replace(s,"")}));try{const i=await Jt({url:"/open/common/getImgBase64Code",method:"GET",params:{url:n}});if(window.console.log("上传成功：",i),je.isFail(i)){i.reason&&pt.alert(i.reason,{type:"error"});return}if(!i.base64Code){pt.alert("获取图片数据失败",{type:"error"});return}a(i)}catch(i){window.console.log("searchGoodsByImage: ",i),o(je.failResult("上传失败"))}finally{t.close()}async function a(i){var l,c;try{const u=await iV(i.base64Code),d=(l=u==null?void 0:u[0])==null?void 0:l.result,m=(c=d==null?void 0:d.data)==null?void 0:c.imageId;m?location.href=`https://s.1688.com/youyuan/index.htm?tab=imageSearch&imageId=${m}`:pt.alert("上传图片失败",{type:"error"})}catch{pt.alert("上传图片失败",{type:"error"})}}async function o(i){if(i.result!=="success"){pt.alert(i.reason,{type:"error"});return}await Ye(1e3),location.href=`https://s.1688.com/youyuan/index.htm?tab=imageSearch&imageType=&imageAddress=${i.fileKey}&spm=`}}buildGoPurchaseEvent(){const t=["#sm-maindata li .sw-dpl-offer-photo",'#sm-maindata li a[t-click-item="title"]',"#sm-offer-list .common-offer-card","#sm-offer-list .img-container","#sm-offer-list .desc-container"];k(document).on("click",t.join(","),this.goPurchase.bind(this))}goPurchase(t){t.stopPropagation(),t.preventDefault();let r=k(t.currentTarget).closest("li").find('a[t-click-item="title"]').attr("href");r||(r=k(t.currentTarget).find("a").attr("href")),window.console.log("goodsUrl: ",r),r&&(r.indexOf("//")===0&&(r=location.protocol+r),So({url:r,selected:!0}).then(n=>{Ze.setItem(Pt(n.id),{...this.purchaseOrderInfo,tabId:n.id})}))}}function kz(){return new Iz().init()}class Oz{constructor(){me(this,"tabId");me(this,"purchaseOrderInfo",{});me(this,"csrf_token");me(this,"check1688shegouAgreementDomLoadTimerIndex")}async init(){const t=await rr();this.tabId=t==null?void 0:t.id,await this._initPurchaseOrderInfo(),await Ut(),await this._getCsrfToken(),this._buildEvent()}_getPurchaseOrderInfoFromStorage(){return Ze.getItem(Pt(this.tabId))}async _initPurchaseOrderInfo(){if(this.purchaseOrderInfo=await this._getPurchaseOrderInfoFromStorage(),!this.purchaseOrderInfo)return Promise.reject("no purchase order info.")}_getCsrfToken(){ah().then(t=>{const r=/data-csrftoken="(.*?)"/.exec(t);this.csrf_token=r?r[1]:""})}_buildEvent(){this._bindPurchasePlatformPayBtnEvent(),this._get1688BizOrderId()}_bindPurchasePlatformPayBtnEvent(){const t=k(".pay-btn");if(t&&t.length>0){const r=t.clone(!0);r.attr("style","border-radius: 10px;").removeClass("pay-btn").addClass("J_checkRelatePurchaseBtn"),t.after(r),t.hide(),k(document).find(".J_checkRelatePurchaseBtn").off("click").on("click",async()=>{this._triggerBtnEvent(t)})}this._bind1688PayPageSwitchPayChannelEvent()}_bind1688PayPageSwitchPayChannelEvent(){if(!window.location.href.includes("1688.com/order/trade_flow.htm"))return null;this._render1688PayPageCheckRelatePurchaseBtn(),k(".channel-card").on("click",async()=>{await Ye(100),this._render1688PayPageCheckRelatePurchaseBtn()})}_render1688PayPageCheckRelatePurchaseBtn(){const t=k(".pay-btn"),r=k(".J_checkRelatePurchaseBtn");r.text(t.text());let n={};t.prop("disabled")?n={"border-color":"#f3f3f3","background-color":"#f3f3f3",color:"#c5c5c5"}:n={"border-color":"#ff7300","background-color":"#ff7300",color:"white"},r.prop("disabled",t.prop("disabled")),r.css(n),k(".channel-card.selected").data("channel")==="shegou"&&this._check1688shegouAgreementDomLoadTimer()}_check1688shegouAgreementDomLoadTimer(){window.console.log("checkshegouAgreementDomLoadTimer");const t=k(document).find(".agreement-checkbox");if(this.check1688shegouAgreementDomLoadTimerIndex&&clearTimeout(this.check1688shegouAgreementDomLoadTimerIndex),!t.length){this.check1688shegouAgreementDomLoadTimerIndex=setTimeout(()=>{this._check1688shegouAgreementDomLoadTimer()},50);return}k(document).find('.agreement-checkbox input[type="checkbox"]').off("click").on("click",async()=>{await Ye(100),this._render1688PayPageCheckRelatePurchaseBtn()})}async _triggerBtnEvent(t){return window.console.log("触发虚拟按钮"),await Bi(this.purchaseOrderInfo,"confirm_page")?(t[0].click(),!0):!1}async _get1688BizOrderId(){var a;if(this.purchaseOrderInfo.purchaseOrderSn)return;this._deleteAddress((a=this.purchaseOrderInfo.consignee)==null?void 0:a.deliverId);const t=window.location.href;let r=!1,n="";const s=/orderId=(\d+)/.exec(t);return(!s||s.length<2)&&(r=!0),r||(n=(s==null?void 0:s[1])||"",this.purchaseOrderInfo.purchaseOrderSn=n),Ja({status:r?"fail":"success",reason:r?"没有匹配到采购单号":""},this.purchaseOrderInfo),r?pt.alert("获取1688订单号失败，请手动关联订单"):(os({purchaseOrderInfo:this.purchaseOrderInfo}),!0)}_deleteAddress(t){return $r({url:"https://tradeconfig.1688.com/foundation/ajax/operate_receive_address.jsx?_input_charset=UTF-8",method:"POST",headers:{"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:Ma.stringify({addressId:t,operateType:"delete",_csrf_token:this.csrf_token})})}}function Pz(){return new Oz().init()}class Az{constructor(){me(this,"purchaseOrderInfo",{});me(this,"tabId");me(this,"currentAddCartProductId")}async init(){window.console.log("initPurchaseTaoBaoAddCartSucceedPage");const t=await rr();return this.tabId=t==null?void 0:t.id,this.purchaseOrderInfo=await this._getPurchaseOrderInfoFromStorage(),this.purchaseOrderInfo?(await Ut(),await Ye(1e3),this._buildEvent(),Promise.resolve()):Promise.reject("no purchase order info.")}_buildEvent(){this._handleAddCartSucceed()}_handleAddCartSucceed(){k("#mc-menu-hd").length>0&&(k("#mc-menu-hd").attr({href:"javascript:void(0);",target:"_self"}),k("#mc-menu-hd").on("click",this._goTaoBaoAndTMallCart)),k(".op-cart").attr("href","javascript:void(0);"),k(".op-cart").on("click",this._goTaoBaoAndTMallCart),window.location.href.includes("cart.taobao.com/add_cart_succeed.htm")&&this._getProductIdByAddTaoBaoCart()}_goTaoBaoAndTMallCart(){let t="http://cart.taobao.com/cart.htm";this.currentAddCartProductId&&(t=`${t}?productId=${this.currentAddCartProductId}`),window.location.href=t}_getProductIdByAddTaoBaoCart(){const t=k("#J_ResultSummary").find(".op-return");if(t.length>0){const r=/id=(\d+)/i.exec(t.attr("href"));r!=null&&!this.currentAddCartProductId&&(this.currentAddCartProductId=r[1])}}_getPurchaseOrderInfoFromStorage(){return Ze.getItem(Pt(this.tabId))}}function Ez(){return new Az().init()}class $z{constructor(){me(this,"purchaseOrderInfo",{});me(this,"tabId");me(this,"addressSelectContent","")}async init(){window.console.log("initPurchaseTaoBaoAddTempAddressPage");const t=await rr();return this.tabId=t==null?void 0:t.id,this.purchaseOrderInfo=await this._getPurchaseOrderInfoFromStorage(),this.purchaseOrderInfo?(await Ut(),await this._initPurchaseOrderInfo(),await Ye(500),this._initAddress(),Promise.resolve()):Promise.reject("no purchase order info.")}async _initPurchaseOrderInfo(){const t=new Date().getTime(),r=this.purchaseOrderInfo.useIframeAddAddressTimeForEmptyAddress;if(this.purchaseOrderInfo.useIframeAddAddress&&this.purchaseOrderInfo.isTaobaoEmptyAddress&&t-r<6e3&&(window.console.log("none address init, useIframeAddAddressTimeForEmptyAddress"),this.purchaseOrderInfo.useIframeAddAddressTime=t+1500),!this.purchaseOrderInfo.useIframeAddAddressTime)return Promise.reject(" no useIframeAddAddressTime ");const n=this.purchaseOrderInfo.useIframeAddAddressTime;return this.purchaseOrderInfo.useIframeAddAddressTime&&t-n>3e3?(window.console.log("no agent",this.purchaseOrderInfo.useIframeAddAddressTime,t),Promise.reject(" no agent ")):window.console.log("into full",t,this.purchaseOrderInfo.useIframeAddAddressTime),Promise.resolve()}async _initAddress(){try{this.purchaseOrderInfo=await ck({purchaseOrderInfo:this.purchaseOrderInfo}),await this._startAddAddress()}catch(t){return Promise.reject(t)}}async _startAddAddress(){const t=this.purchaseOrderInfo.consignee;return await this._addAddress(t)||pt.alert("添加收货地址失败"),Promise.resolve()}_addAddress(t,r=1){return new Promise(n=>{(async()=>{window.console.log("addAddress cycle",r);const s=this.purchaseOrderInfo.tbAreaInfo;let a="";t=tf(t,this.purchaseOrderInfo.consigneeSuffixMap),s.useOtherCounty?a=t.fullAddress:(a=t.address,a.indexOf(s.town)===0&&(a=a.replace(s.town,"")));let o=t.county;s.county&&(window.console.log("change tbAreaInfo.county"),o=s.county);let i=t.town;i===""&&t.townAreaId===0&&["上海","北京","重庆","天津"].includes(s.province)&&(window.console.log("change spec tbAreaInfo.county"),i=t.county),a=a.replace(/农村淘宝/g,"村a淘宝").replace(/村小二/g,"村a小二").replace(/·/g,"."),a=a.replace(/[‘’“”]/g,""),a=k.trim(a),a.length<5&&(a=(t.town||s.town)+a,a.length<5&&(a=t.county+a));let l=t.fullname.length===1?`${t.fullname} `:t.fullname;l=k.trim(l);const c=`${t.mobile?t.mobile:t.telephone}`;k(".cndzk-entrance-division-header-click").click(),await Ye(100),k(".cndzk-entrance-division-box-title-level").length>1&&(await Ye(300),k(".cndzk-entrance-division-box-title-level")[0].click(),await Ye(100)),await this._awaitAddressSelectChange(),await u(t.province.replace("市","")),await this._awaitAddressSelectChange(),await u(t.city),await this._awaitAddressSelectChange(),await u(o,t.county),await this._awaitAddressSelectChange(),await u(i);function u(m,b=""){if(qt(m)){window.console.log("empty matchAddressFromDom",m);return}const g=k(".cndzk-entrance-division-box-content-tag");window.console.log("begin matchAddressFromDom",m,b);let h=!1;g.length>0&&k.each(g,(v,y)=>{const C=k.trim(k(y).text());if(window.console.log("loopTown",C,m,C.indexOf(m)),C.includes(m))return window.console.log("bingo",C,m),k(y).click(),h=!0,!1}),b&&!h&&b!==m&&g.length>0&&k.each(g,(v,y)=>{const C=k.trim(k(y).text());if(window.console.log("loopTown2",C,b,C.indexOf(b)),C.includes(b))return window.console.log("bingo2",C,b),k(y).click(),!1})}const d=function(m,b){m.value=b;const g=document.createEvent("Events");g.initEvent("change",!0,!0),m.dispatchEvent(g)};d(k(".cndzk-entrance-associate-area-textarea")[0],a.replace("^","")),d(k("#fullName")[0],l),d(k("#mobile")[0],c),await Ye(100),!this._isSelectedAddressRegion(t)&&r&&(window.console.log(" not isSelectedAddressRegion to cycle",r),await this._addAddress(t,0)),k("#myForm button[type=submit]").click(),n(!0)})()})}_awaitAddressSelectChange(t=10){return new Promise(r=>{const n=setInterval(()=>{const s=k(".cndzk-entrance-division-box-content-tag").length,a=k(".cndzk-entrance-division-box-content").text();if(window.console.log("length",s,a),a&&s&&this.addressSelectContent!==a&&`暂不选择${this.addressSelectContent}`!==a)return this.addressSelectContent=a,clearInterval(n),r(!0),!0;if(t<0)return clearInterval(n),r(!0),!1;t--},50)})}_isSelectedAddressRegion(t){const r=k(".cndzk-entrance-division-header-click-input").text().split("/");if(r.length<1)return!1;window.console.log("isSelectedAddressRegion addressRegionText",r);const n=r[0]?r[0]:"";let s=r[1]?r[1]:"",a=r[2]?r[2]:"";const o=["北京","天津","重庆","上海"];return k.inArray(r[0].substr(0,2),o)>=0&&(s=r[2]?r[2]:"",a=r[3]?r[3]:""),!n.includes(t.province.substr(0,2))||s&&!s.includes(t.city.substr(0,2))||a&&!a.includes(t.county.substr(0,2))?!1:(window.console.log("isSelectedAddressRegion true"),!0)}_getPurchaseOrderInfoFromStorage(){return Ze.getItem(Pt(this.tabId))}}function Rz(){return new $z().init()}class Lz{constructor(){me(this,"purchaseOrderInfo",{});me(this,"tabId");me(this,"alipayNo")}async init(){window.console.log("initPurchaseTaoBaoAlipaySuccessPage");const t=await rr();if(this.tabId=t==null?void 0:t.id,this.purchaseOrderInfo=await this._getPurchaseOrderInfoFromStorage(),!this.purchaseOrderInfo)return Promise.reject("no purchase order info.");const{purchasePlatform:r}=this.purchaseOrderInfo;if(!["taobao","tmall"].includes(r))return Promise.resolve();try{await this._getAlipayNo(),await this._matchTaobaoMainOrder(),await this._savePurchaseOrderInfo()}catch(s){return this._handleError(s),Promise.reject(s)}return Promise.resolve()}_getAlipayNo(){return new Promise((t,r)=>{(async()=>{if(this._checkIsMobilePayPage()){let s=this._getBizOrderIdByMobilePayPage();if(s.indexOf(",")&&(s=s.split(",")[0]),this.purchaseOrderInfo.purchaseOrderSn=s,this.purchaseOrderInfo.purchaseOrderSn){setTimeout(t,500);return}}let n=await this._getAlipayNoByUrlRequestHistory();n&&(this.alipayNo=k.trim(n),setTimeout(t,500),window.console.log("getAlipayNoByUrlRequestHistory alipayNo",n)),!n&&this._checkIsFriendPayPage()?(n=this._getAlipayNoByFriendPayPage(),n||r("no alipay no."),this.alipayNo=k.trim(n),setTimeout(t,500)):n||(n=this._getAlipayNoBySelfPayUrl(),n||(n=this._getAlipayNoBySelfPayContent(),window.console.log("content alipay no.",n)),n||(n=await this._getAlipayNoByFriendPayInSelfPayContent(),window.console.log("content alipay no.",n)),n||r("no alipay no."),this.alipayNo=k.trim(n),this._resetAlipayNo(),setTimeout(t,500)),this.purchaseOrderInfo.alipayNo=k.trim(this.alipayNo),this._setPurchaseOrderInfoToStorage()})()})}_matchTaobaoMainOrder(){return new Promise((t,r)=>{(async()=>{if(this.purchaseOrderInfo.purchaseOrderSn){window.console.log("has purchaseOrderSn"),t(!0);return}try{const n=await this._getFirstPageTaobaoMainOrders();if(qt(n)){r("获取淘宝订单列表失败");return}let s,a="";for(let o=0;o<n.length;o++){const i=n[o],l=await this._matchTaobaoMainOrderByAlipayNo(i),c=l==null?void 0:l.isMatchOrder;if(l.errorMsg&&(a=l.errorMsg),l.needVerify)break;if(c){s=i;break}}if(!s){r(a?`匹配淘宝订单失败，${a}`:"匹配淘宝订单失败");return}this.purchaseOrderInfo.purchaseOrderSn=s.id,this.purchaseOrderInfo.purchaseOrderStartTime=s.orderInfo.createTime,this.purchaseOrderInfo.purchaseOrderSeller=s.seller.nick,this.purchaseOrderInfo.purchaseOrderPayment=s.payInfo.actualFee,this._setPurchaseOrderInfoToStorage(),t(!0)}catch(n){r(n)}})()})}_checkIsMobilePayPage(){const t=window.location.href;return!!(t.includes("maliprod.alipay.com/w/trade_pay.do")||t.includes("maliprod.alipay.com/batch_payment.do"))}_getBizOrderIdByMobilePayPage(){const t=/pay_order_id=([^&]+)/.exec(window.location.href);return!t||!t[1]?!1:k.trim(t[1])}_getAlipayNoByUrlRequestHistory(){return new Promise(t=>{(async()=>{let r;const n=["https://cashiersa128.alipay.com/business/acceptPay.htm","https://cashierea179.alipay.com/business/acceptPay.htm","https://tbapi.alipay.com/trade/batch_payment.htm"],s=["trade_no","tradeNo","tradeList"];for(let a=0;a<n.length;a++){try{window.console.log("tryUrlParams alipayNo",n[a]);const o=await KI(n[a]);if(o)for(let i=0;i<s.length&&(r=ef(o.url)[s[i]],window.console.log("tryUrlParams alipayNo",s[i],r),!r);i++);}catch(o){console.error("Error in getUrlRequestHistory:",o)}if(r)break}t(r)})()})}_checkIsFriendPayPage(){return!!window.location.href.includes("alipay.com/peerpaycore/peerpayApply.htm")}_getAlipayNoByFriendPayPage(){const t=/data-bizno\s*=\s*"(.*)"\s*data-biztype/.exec(k("body").html());return!t||!t[1]?!1:(window.console.log("friend pay alipayNo ",t[1]),k.trim(t[1]))}_getAlipayNoBySelfPayUrl(){const t=window.location.href,r=/(outBizNo|tradeNo)=([a-zA-Z\d]+)/.exec(t);return!r||r.length<3?!1:r[2]}_getAlipayNoBySelfPayContent(){const t=/outBizNo:\s*"(.*)",/.exec(k("body").html());return!t||t.length<2?!1:t[1]}_getAlipayNoByFriendPayInSelfPayContent(){return new Promise(t=>{(async()=>{await this._checkDomRenderComplete();const r=/biz_no=(\d+)/.exec(document.body.innerHTML);return!r||r.length<2?t(!1):t(r[1])})()})}_checkDomRenderComplete(){return new Promise(t=>{(async()=>{await Ye(1e3);let r=1;for(;!(r>10);){window.console.log("tryTimes",r);const n=document.body.innerHTML;if(n.includes("收银台正在加载中，请稍后")){await Ye(1e3),r++;continue}if(n.includes("找人代付")||n.includes("biz_no"))return t(!0);r++}t(!1)})()})}_resetAlipayNo(){const t=/<!-- hihihi:\s*(.*)\s*-->/.exec(k("body").html()),r=!t||t.length<2?"":t[1];window.console.log(`possible alipayNo: ${r}`),this.alipayNo&&this.alipayNo.substr(0,1)==="P"&&this.alipayNo.length===19&&r&&(this.alipayNo=r),window.console.log(`alipayNo: ${this.alipayNo}`)}_getFirstPageTaobaoMainOrders(){return new Promise((t,r)=>{(async()=>{if(this.purchaseOrderInfo.purchaseOrderSn){window.console.log("has purchaseOrderSn"),t(!0);return}try{const n=await this._getFirstPageTaobaoMainOrdersByAsyncBought();t(n)}catch(n){r(n)}})()})}_getFirstPageTaobaoMainOrdersByAsyncBought(){return new Promise((t,r)=>{(async()=>{var i,l,c,u;const n="https://buyertrade.taobao.com/trade/itemlist/asyncBought.htm?action=itemlist/BoughtQueryAction&event_submit_do_query=1&_input_charset=utf8",s={};let a="",o={};try{const d={"content-type":"application/x-www-form-urlencoded;charset=UTF-8"};if(s.headers=d,a=await _n({url:n,headers:d,method:"POST",data:{buyerNick:"",dateBegin:0,dateEnd:0,itemTitle:"",lastStartRow:"",logisticsService:"",options:0,orderStatus:"",pageNum:1,pageSize:15,queryBizType:"",queryOrder:"desc",rateStatus:"",refund:"",sellerNick:"",auctionTitle:"",prePageNo:1},xhrFields:{withCredentials:!0,responseType:"text"}}),!a){Kn({appHost:(i=this.purchaseOrderInfo.appInfo)==null?void 0:i.host,url:n,header:s.headers,responseText:a,responseType:"fail"}),r("获取淘宝订单列表失败");return}const m=JSON.parse(a);if(m.url&&(Kn({appHost:(l=this.purchaseOrderInfo.appInfo)==null?void 0:l.host,url:n,header:s.headers,responseText:a,responseType:"verify"}),r(`出现淘宝滑块，<a href="${m.url}" target="_blank">点此去滑动</a>`)),!m||!m.mainOrders){r("获取淘宝订单列表失败");return}o=m.mainOrders,Kn({appHost:(c=this.purchaseOrderInfo.appInfo)==null?void 0:c.host,url:n,header:null,responseText:a,responseType:"success"}),t(o)}catch(d){window.console.log("getFirstPageTaobaoMainOrdersByAsyncBought error",d),Kn({appHost:(u=this.purchaseOrderInfo.appInfo)==null?void 0:u.host,url:n,header:s.headers,responseText:a,responseType:"fail",errorMsg:d}),r("获取淘宝订单列表失败")}})()})}_matchTaobaoMainOrderByAlipayNo(t){return new Promise(r=>{(async()=>{var i,l,c,u,d,m;const n="";if(t.statusInfo.text!=="等待买家付款"){r({isMatchOrder:!1,errorMsg:n});return}const s=`https://buyertrade.taobao.com/trade/pay.htm?bizOrderId=${t.id}&bizType=200&ispayforanother=false`,a={url:s,headers:{"User-Agent":"Mozilla/5.0 (Windows NT 6.1; Win64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.2171.95 Safari/537.36"}};let o="";try{if(o=await $r({...a,dataType:"text"}),!o){Kn({appHost:(i=this.purchaseOrderInfo.appInfo)==null?void 0:i.host,url:s,header:null,responseText:o,responseType:"fail"}),r({isMatchOrder:!1,errorMsg:n});return}const b=/trade_no=([^&]+)/.exec(o),g=/window.location\s*=\s*"(.*)"/.exec(o);let h;if(g&&g[1]){const C=this._parseParam(g[1],"tradeList");C&&(h=decodeURIComponent(C))}if(window.console.log("locationTradeNo",h),(!b||b.length<2)&&!h)if(yV(o,"taobao")){Kn({appHost:(l=this.purchaseOrderInfo.appInfo)==null?void 0:l.host,url:s,header:null,responseText:o,responseType:"verify"}),r({isMatchOrder:!1,errorMsg:`出现淘宝滑块，<a href="${s}" target="_blank">点此去滑动</a>，成功后返回当前页面刷新`,needVerify:!0});return}else{Kn({appHost:(c=this.purchaseOrderInfo.appInfo)==null?void 0:c.host,url:s,header:null,responseText:o,responseType:"match_fail"}),r({isMatchOrder:!1,errorMsg:"请手动关联"});return}const v=b&&b[1]?b[1]:h;Kn({appHost:(u=this.purchaseOrderInfo.appInfo)==null?void 0:u.host,url:s,header:null,responseText:o,responseType:"success"});let y=v&&v===this.purchaseOrderInfo.alipayNo;if(!y&&v.includes(";")&&(d=this.purchaseOrderInfo.alipayNo)!=null&&d.includes(";")){let C=v.split(";"),_=this.purchaseOrderInfo.alipayNo.split(";");C=C.sort(),_=_.sort(),C.toString()===_.toString()&&(y=!0)}if(!y){r({isMatchOrder:!1,errorMsg:n});return}r({isMatchOrder:!0,errorMsg:n})}catch(b){window.console.log("getFirstPageTaobaoMainOrdersByOrderListPage error",b),Kn({appHost:(m=this.purchaseOrderInfo.appInfo)==null?void 0:m.host,url:s,header:a.headers,responseText:o,responseType:"fail",errorMsg:b}),r({isMatchOrder:!1,errorMsg:b})}})()})}_parseParam(t,r){const n=new RegExp(`(^|&)${r}=([^&]*)(&|$)`,"i"),s=t.substr(1).match(n);return s!==null?decodeURI(s[2]):null}async _savePurchaseOrderInfo(t=!0){var s;const r=this.purchaseOrderInfo;this._deleteTbAddress((s=r.consignee)==null?void 0:s.deliverId);let n=!1;if(qt(r.purchaseOrderSn)&&(n=!0),Ja({status:n?"fail":"success",reason:n?"没有匹配到采购单号":""},r),n)return pt.alert("关联淘宝订单失败，请手动关联");if(t){const a=await this._checkAddressIsChanged();if(a&&a.purchaseOrderFullAddress){const o=a.purchaseOrderFullAddress,i=`检测到提交地址变更，请重新采购并检查订单。显示地址:${this.purchaseOrderInfo.purchaseOrderFullAddress}, 变更后实际地址：${o}`;return pt.confirm(i,{confirmButtonText:"继续关联",cancelButtonText:"取消"}).then(()=>{this.purchaseOrderInfo.purchaseOrderFullAddress=o.replaceAll(" ",""),this.purchaseOrderInfo.purchaseOrderFullname=a.purchaseOrderFullname,this.purchaseOrderInfo.purchaseOrderMobile=a.purchaseOrderMobile,this._setPurchaseOrderInfoToStorage(),this._savePurchaseOrderInfo(!1)})}}await os({purchaseOrderInfo:r}),r.autoFillOrderMemo&&this._addOrderMemo(r.purchaseOrderSn,r.autoFillOrderMemo)}async _deleteTbAddress(t){if(!t)return!1;const r=await Bs({url:"https://member1.taobao.com/member/fresh/deliver_address.htm",name:"_m_h5_tk"}).then(u=>u==null?void 0:u.value),n={deliverId:t},s=new Date().getTime(),a=JSON.stringify(n),o=El({now:s,dataStr:a,cookie:r}),c=await _n({url:"https://h5api.m.taobao.com/h5/mtop.taobao.mbis.deletedeliveraddressbyid/1.0/",method:"GET",params:{jsv:"2.4.2",appKey:"12574478",t:s,sign:o,api:"mtop.taobao.mbis.deletedeliveraddressbyid",v:"1.0",ecode:"1",needLogin:!0,timeout:2e4,dataType:"jsonp",type:"jsonp",data:a},xhrFields:{withCredentials:!0,responseType:"text"}});window.console.log("deleteTbAddress",c)}_checkAddressIsChanged(){return new Promise(t=>{(async()=>{let r=!1,n={};if(!this.purchaseOrderInfo.purchaseOrderFullAddress){t(!1);return}const s=new jD;this.purchaseOrderInfo.purchasePlatform===Ua?r=!0:(n=await s.getTaoBaoPurchaseOrderInfo({purchaseOrderSn:this.purchaseOrderInfo.purchaseOrderSn,forceDetail:!0}),this.purchaseOrderInfo.purchasePlatform===Rs&&n.reason==="该订单平台是天猫"&&(r=!0)),r&&(n=await s.getTMallPurchaseOrderInfo({purchaseOrderSn:this.purchaseOrderInfo.purchaseOrderSn,forceDetail:!0}));const a=n.purchaseOrderInfo||{};if(window.console.log("checkAddressIsChanged",a.purchaseOrderFullAddress,this.purchaseOrderInfo.purchaseOrderFullAddress),!a.purchaseOrderFullAddress){t(!1);return}if(a.purchaseOrderFullAddress&&a.purchaseOrderFullAddress.replaceAll(" ","")===this.purchaseOrderInfo.purchaseOrderFullAddress.replaceAll(" ","")){t(!1);return}const o=rf(this.purchaseOrderInfo.purchaseOrderFullAddress),i=a.purchaseOrderFullAddress.split(/\s+/);for(let l=0;l<i.length;l++){const c=rf(i[l]);if(!o.includes(c)){t(a);return}}t(!1)})()})}async _getCookieValue(){const t="https://trade.taobao.com/trade/memo/update_buy_memo.htm";return new Promise(r=>{Promise.all([Bs({url:t,name:"_tb_token_"}).then(n=>n==null?void 0:n.value),Bs({url:t,name:"unb"}).then(n=>n==null?void 0:n.value)]).then(([n,s])=>{r({_tb_token_:n,unb:s})})})}_addOrderMemo(t,r){return new Promise(n=>{(async()=>{var u,d,m;const s=await this._getCookieValue();let a=await ZI([r]);typeof a=="string"&&(a=JSON.parse(a));const o=a.urlGbkEncodeMap||{},i="https://trade.taobao.com/trade/memo/update_buy_memo.htm",l=`_tb_token_=${s._tb_token_}&event_submit_do_query=1&action=memo/UpdateBuyMemoAction&user_type=0&pageNum=1&isArchive=false&biz_order_id=${t}&buyer_id=${s.unb}&flag=1&memo=${o[ik(r)]||r}`;let c="";try{if(c=await $r({url:i,headers:{"User-Agent":"Mozilla/5.0 (Windows NT 6.1; Win64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.2171.95 Safari/537.36","content-type":"application/x-www-form-urlencoded"},method:"POST",body:l,dataType:"text"}),!c){Kn({appHost:(u=this.purchaseOrderInfo.appInfo)==null?void 0:u.host,url:i,header:null,responseText:c,responseType:"fail"}),n(!1);return}Kn({appHost:(d=this.purchaseOrderInfo.appInfo)==null?void 0:d.host,url:i,header:null,responseText:c,responseType:"success"}),window.console.log("addOrderMemo"),n(!0)}catch(b){window.console.log("addOrderMemoFail",b),Kn({appHost:(m=this.purchaseOrderInfo.appInfo)==null?void 0:m.host,url:i,header:null,responseText:c,responseType:"fail",errorMsg:b}),n(!1)}})()})}_handleError(t){if(this.purchaseOrderInfo){const r=t.message||t;return r&&r.includes("滑块")?pt.alert(r,{dangerouslyUseHTMLString:!0}):pt.alert("关联淘宝订单失败，请手动关联")}}_getPurchaseOrderInfoFromStorage(){return Ze.getItem(Pt(this.tabId))}_setPurchaseOrderInfoToStorage(){Ze.setItem(Pt(this.tabId),this.purchaseOrderInfo)}}function Mz(){return new Lz().init()}class fk{constructor(){me(this,"purchaseOrderInfo",{});me(this,"tabId");me(this,"hasSliderVerify",!1);me(this,"sliderVerifyUrl",null);me(this,"isTaobaoCurlInvalidFail",!1);me(this,"needLogin",!1);me(this,"needAlertAddrMsg",!1);me(this,"token");me(this,"_cookies",{});me(this,"_allCookies",{})}initAddress(t){return new Promise((r,n)=>{(async()=>{try{window.console.log("initTaoBaoAddress");const s=await rr();this.tabId=s.id,this.purchaseOrderInfo=t,await this._checkCookie(),await this._getSellerName(),await this._getTbAreaIdsFromDb(),await this._startAddAddress(),this.purchaseOrderInfo.useIframeAddAddressTimeForEmptyAddress=new Date().getTime(),this._setPurchaseOrderInfoToStorage(),r(!0)}catch(s){n(s)}})()})}_checkCookie(){return new Promise((t,r)=>{(async()=>{const n=await this._getCookies();this._cookies=n,window.console.log("checkCookie",n);let s=!1;n&&n._nk_&&(s=!0),n&&n._m_h5_tk?this.token=n._m_h5_tk.split("_")[0]:n&&n.cookie2&&(this.token=n.cookie2),window.console.log("token",this.token),s?this.token||(window.location.href="https://member1.taobao.com/member/fresh/deliver_address.htm",r()):(pt.alert("您还没有登录淘宝账号，请登录后刷新页面！",{title:"提示",type:"error"}).then(async()=>{await this._removeCookies();const a="https://member1.taobao.com/member/fresh/deliver_address.htm";window.location.href=`https://login.taobao.com/member/login.jhtml?f=top&redirectURL=${encodeURIComponent(a)}`}),r()),n.dnk?this.purchaseOrderInfo.purchaseOrderBuyer=unescape(decodeURI(n.dnk).replace(/\\/g,"%")):this.purchaseOrderInfo.purchaseOrderBuyer=unescape(decodeURI(n._nk_).replace(/\\/g,"%")),this._setPurchaseOrderInfoToStorage(),t(!0)})()})}_getSellerName(){return new Promise(t=>{let r=k.trim(k(".tb-seller-name").text());if(!r){const n=k('[data-spm="dshopinfo"]').find('span[class*="--shopName--"]');r=k.trim(n.text())}this.purchaseOrderInfo.purchaseOrderSeller=r.length>0?r:this.purchaseOrderInfo.purchaseOrderSeller,this._setPurchaseOrderInfoToStorage(),t(!0)})}async _getTbAreaIdsFromDb(){this.purchaseOrderInfo=await ck({purchaseOrderInfo:this.purchaseOrderInfo})}_hasPurchaseAddress(t){const{tbAddressList:r=[]}=this.purchaseOrderInfo,{fullname:n,mobile:s,province:a,city:o,county:i,address:l}=t;return r.some(c=>n===c.fullName&&s===c.mobile&&a===c.province&&o===c.city&&i===c.town&&l===c.addressDetail)}_startAddAddress(){return new Promise(t=>{(async()=>{var r;try{await this._getDeliverAddressList();const n=this.purchaseOrderInfo.consignee;if(await this._validateAddress(n),await this._completeTbAreaInfo(),window.console.log("采购地址：",n),((r=this.purchaseOrderInfo)==null?void 0:r.useIframeAddAddress)===!1||this._hasPurchaseAddress(n)){window.console.log("不重复添加"),t(!0);return}await this._addAddress(n)?(this.purchaseOrderInfo.useIframeAddAddress=!1,this._setPurchaseOrderInfoToStorage()):pt.alert("添加收货地址失败"),t(!0)}catch(n){window.console.log("startUpdateAddress error",n),this.hasSliderVerify?this.sliderVerifyUrl&&pt.alert(`出现滑条，请<a href="${this.sliderVerifyUrl}" target="_blank">点击这里前往验证</a>，然后回来刷新页面！如果一直出现该提示，请过一段时间再进行下单。`,{dangerouslyUseHTMLString:!0}):this.needLogin?this.isTaobaoCurlInvalidFail?(this.purchaseOrderInfo.useIframeAddAddress=!0,this._setPurchaseOrderInfoToStorage()):(pt.alert("您的账号登录过期，请在新打开的页面登录，然后回来刷新页面！"),await Ye(500),So({url:"https://member1.taobao.com/member/fresh/deliver_address.htm",selected:!0})):this.needAlertAddrMsg&&(this.isTaobaoCurlInvalidFail?pt.alert("添加地址失败: 非法请求，相关凭证失效，请清除浏览器数据(cookie)后登陆重试"):pt.alert(n)),t(!0)}})()})}_getDeliverAddressList(){return new Promise((t,r)=>{(async()=>{const n="https://member1.taobao.com/member/deliveraddress/get_deliver_address_list.json",s=await $r({url:n,dataType:"text"});try{if(!s){this._saveTaobaoRequestLog({url:n,header:null,responseText:s,responseType:"fail"}),r("请求失败");return}if(s.includes("哎哟喂,被挤爆啦,请稍后重试")){this._saveTaobaoRequestLog({url:n,header:null,responseText:s,responseType:"verify"}),this.hasSliderVerify=!0;const l=JSON.parse(s).data.url;l&&(this.sliderVerifyUrl=l),r("哎哟喂,被挤爆啦,请稍后重试");return}const a=JSON.parse(s),o=JSON.parse(a.content.returnValue);this.purchaseOrderInfo.tbAddressList=o,this._saveTaobaoRequestLog({url:n,header:null,responseText:s,responseType:"success"}),t(!0)}catch(a){this._saveTaobaoRequestLog({url:n,header:null,responseText:s,responseType:"fail",errorMsg:a}),window.console.log("getDeliverId error",a),t(!0)}})()})}async _checkAndDeleteAddress(){var s;const t=((s=this.purchaseOrderInfo)==null?void 0:s.tbAddressList)||[];if(qt(t))return!1;const r=t.length;if(r<2)return!1;const n=this._getTbAddressCheckCountForDelete();if(window.console.log("checkCount",n),n&&r<n)return!1;for(let a=0;a<2;a++){const i=t.shift().deliverId;i&&await this._deleteAddressByDeliverId(i)}}async _validateAddress(t){if(this.purchaseOrderInfo.tbAreaInfo.useOtherCounty&&(this.purchaseOrderInfo.tbAreaInfo.townId=0,this.purchaseOrderInfo.tbAreaInfo.town=""),!this.purchaseOrderInfo.tbAreaInfo.countyId||!this.purchaseOrderInfo.tbAreaInfo.townId){const r=this.purchaseOrderInfo.tbAreaInfo,n=await this._getAddressDistrictAndTownFromTb({addressDetail:t.fullAddress,province:r.province,provinceId:r.provinceId,city:r.city,cityId:r.cityId});if(window.console.log("addressDistrictAndTownRet ",n),je.isSuccess(n)&&n.data){const{districtId:s,district:a,townId:o,town:i}=n.data;s&&(this.purchaseOrderInfo.tbAreaInfo.countyId=n.data.districtId),a&&(this.purchaseOrderInfo.tbAreaInfo.county=n.data.district),o&&(this.purchaseOrderInfo.tbAreaInfo.townId=n.data.townId),i&&(this.purchaseOrderInfo.tbAreaInfo.town=n.data.town)}else je.isFail(n)&&(n.reason.includes("FAIL_SYS_TOKEN")||n.reason.includes("非法请求"))&&(this.isTaobaoCurlInvalidFail=!0)}return Promise.resolve(!0)}async _completeTbAreaInfo(){return new Promise(t=>{(async()=>{const r=this.purchaseOrderInfo.consignee||{},n=this.purchaseOrderInfo.tbAreaInfo;if(window.console.log("completeTbAreaInfo",r,n),n.useOtherCounty||n.townId&&n.town&&n.town===r.town){t(!0);return}const s=await this._getTbTownListNew(n.countyId);window.console.log("townListRet",s),je.isSuccess(s)&&k.each(s.data,(a,o)=>{const i=o.name||"";if(i===r.county||i===r.town||r.address.includes(i))return n.townId=o.id||0,n.town=o.name||"",!1}),window.console.log("final tbAreaInfo:",n),t(!0)})()})}_getTbAddressCheckCountForDelete(){var n;const t=this.purchaseOrderInfo.operateInfo;if(!this.purchaseOrderInfo.appInfo)return null;const r=(n=this.purchaseOrderInfo.appInfo)==null?void 0:n.userIdAndTbAddressCheckCountForDeleteMap;return r?r[vV(t)||""]:null}async _deleteAddressByDeliverId(t){if(!t)return!1;const r={bizCode:"ali.china.taobao",bizEntrance:"taobao",platform:"PC",deliverId:t,isRarelyUsedAddress:!1},a=this._getOptionFromTaobaoH5ApiVersion(r,"mtop.taobao.mbis.deleteDeliverAddressById","mtop.taobao.mbis.deletedeliveraddressbyid/2.0"),o=a.url,i=await _n({url:o,method:"GET",params:a.params,xhrFields:{withCredentials:!0,responseType:"text"}});i&&i.includes("操作成功")?this._saveTaobaoRequestLog({url:o,header:null,responseText:i,responseType:"success"}):i&&(i.includes("Session过期")||i.includes("令牌过期")||i.includes("非法请求"))?this._saveTaobaoRequestLog({url:o,header:null,responseText:i,responseType:"not_login"}):i&&i.includes("哎哟喂,被挤爆啦,请稍后重试")?this._saveTaobaoRequestLog({url:o,header:null,responseText:i,responseType:"verify"}):this._saveTaobaoRequestLog({url:o,header:null,responseText:i,responseType:"fail"}),window.console.log("deleteAddress response",i)}_saveTaobaoRequestLog({url:t,header:r,responseText:n,responseType:s,errorMsg:a=""}){var i;const o={appHost:(i=this.purchaseOrderInfo.appInfo)==null?void 0:i.host,url:t,header:r,responseText:n,responseType:s,errorMsg:a};Kn(o)}_getOptionFromTaobaoH5ApiVersion(t,r,n){const s=new Date().getTime(),a=JSON.stringify(t),o=El({now:s,dataStr:a,cookie:this._cookies._m_h5_tk});return{url:`https://h5api.m.taobao.com/h5/${n}/`,params:{jsv:"2.5.1",appKey:"12574478",t:s,sign:o,api:r,v:"1.0",ecode:"1",needLogin:!0,timeout:2e4,dataType:"jsonp",type:"jsonp",data:a}}}async _getAddressDistrictAndTownFromTb(t){const r={sn:"suibianchuan",addressDetail:t.addressDetail,countryCode:"CN",prov:t.province,provId:t.provinceId,city:t.city,cityId:t.cityId,district:t.district,districtId:t.districtId,town:t.town,townId:t.townId},n=new Date().getTime(),s=JSON.stringify(r),a=El({now:n,dataStr:s,cookie:this._cookies._m_h5_tk}),l=await _n({url:"https://h5api.m.taobao.com/h5/mtop.cainiao.geography.frontend.address.validate/1.0/",method:"GET",params:{jsv:"2.5.1",appKey:"12574478",t:n,sign:a,api:"mtop.cainiao.geography.frontend.address.validate",v:"1.0",dataType:"jsonp",type:"jsonp",callback:"mtopjsonp8",data:s},xhrFields:{withCredentials:!0,responseType:"text"}}),c=/mtopjsonp8\((.+)\)/.exec(l);if(c&&c[1]){const u=JSON.parse(c[1]);return u.data&&u.data.message&&u.data.message==="success"&&u.data.data.divisionParse?je.successResult({data:u.data.data.divisionParse}):je.failResult(u.ret.join(" "))}else return je.failResult("获取区镇失败")}async _getTbTownListNew(t){if(!t)return je.failResult("获取区镇失败, countyId为空");const r={sn:"suibianchuan",pid:t},n=new Date().getTime(),s=JSON.stringify(r),a=El({now:n,dataStr:s,cookie:this._cookies._m_h5_tk}),l=await _n({url:"https://h5api.m.taobao.com/h5/mtop.cainiao.address.ua.china.town.list/1.0/",method:"GET",params:{jsv:"2.5.1",appKey:"12574478",t:n,sign:a,api:"mtop.cainiao.address.ua.china.town.list",v:"1.0",dataType:"jsonp",type:"jsonp",callback:"mtopjsonp15",data:s},xhrFields:{withCredentials:!0,responseType:"text"}}),c=/mtopjsonp15\((.+)\)/.exec(l);if(c&&c[1]){const u=JSON.parse(c[1]);return u.ret&&u.ret[0]&&u.ret[0].includes("SUCCESS")&&u.data&&u.data.divisions?je.successResult({data:u.data.divisions}):je.failResult(u.ret.join(" "))}else return je.failResult("获取区镇失败")}_addAddress(t){return new Promise((r,n)=>{(async()=>{var C;const s=this.purchaseOrderInfo.tbAreaInfo;let a="";t=tf(t,this.purchaseOrderInfo.consigneeSuffixMap),s.useOtherCounty?a=t.fullAddress:(a=t.address,a.indexOf(s.town)===0&&(a=a.replace(s.town,""))),a=a.replace(/农村淘宝/g,"村a淘宝").replace(/村小二/g,"村a小二").replace(/·/g,"."),a=a.replace(/[‘’“”]/g,""),a=k.trim(a),a.length<5&&(a=(t.town||s.town)+a,a.length<5&&(a=t.county+a));let o=t.fullname.length===1?`${t.fullname} `:t.fullname;o=k.trim(o);let i=await ZI([o,a]);window.console.log("urlGbkEncode ret",i),typeof i=="string"&&(i=JSON.parse(i));const l=`${t.mobile?t.mobile:t.telephone}`,c=s.townId>0?s.townId:s.countyId,u={bizCode:"ali.china.taobao",bizEntrance:"taobao",platform:"PC",siteName:"taobao",divisionCode:c,townDivisionCode:c,addressDetail:a,longitude:"0",latitude:"0",postCode:"000000",overseaAddress:!1,fullName:o,mobileCode:"86",mobile:l,phoneInternationalCode:86,phoneAreaCode:"",phoneNumber:"",phoneExtension:"",defaultDeliverAddress:!0,acceptAddressName:!0},d=(C=this.purchaseOrderInfo.tbAddressList)==null?void 0:C.shift(),m=d&&d.deliverId?d.deliverId:"";window.console.log("tbAddressList",d,m),this.purchaseOrderInfo.isTaobaoEmptyAddress=!0;const h=this._getOptionFromTaobaoH5ApiVersion(u,"mtop.taobao.mbis.insertdeliveraddress","mtop.taobao.mbis.insertdeliveraddress/1.0"),v=h.url;let y=await _n({url:v,method:"GET",params:h.params,xhrFields:{withCredentials:!0,responseType:"text"}});if(window.console.log("addAddress response",y),y&&y.includes("deliverId")){window.console.log("添加收货地址成功"),this._saveTaobaoRequestLog({url:v,header:null,responseText:y,responseType:"success"});const _=/\\"deliverId\\":(\d+)/.exec(y);_&&_.length>1&&(this.purchaseOrderInfo.consignee&&(this.purchaseOrderInfo.consignee.deliverId=_[1]),this._setPurchaseOrderInfoToStorage()),r(!0)}else if(y&&y.includes("收货地址不存在"))this._saveTaobaoRequestLog({url:v,header:null,responseText:y,responseType:"success"}),n("修改地址失败");else if(y&&y.includes("最多能保存20个有效收货地址"))this._saveTaobaoRequestLog({url:v,header:null,responseText:y,responseType:"success"}),n("添加地址失败，最多能保存20个有效收货地址");else if(y&&(y.includes("Session过期")||y.includes("令牌过期")||y.includes("非法请求")||y.includes("令牌为空")))this._saveTaobaoRequestLog({url:v,header:null,responseText:y,responseType:"not_login"}),this.needLogin=!0,(y.includes("非法请求")||y.includes("令牌为空"))&&(this.isTaobaoCurlInvalidFail=!0),n("您的账号登录过期，请在新打开的页面登录，然后回来刷新页面！");else if(y&&y.includes("哎哟喂,被挤爆啦,请稍后重试")){this._saveTaobaoRequestLog({url:v,header:null,responseText:y,responseType:"verify"}),this.hasSliderVerify=!0;try{y=JSON.parse(y);const _=y.data.url;_&&(this.sliderVerifyUrl=_)}catch(_){window.console.log(_)}n("哎哟喂,被挤爆啦,请稍后重试")}else if(y&&y.includes("特殊字符")){this._saveTaobaoRequestLog({url:v,header:null,responseText:y,responseType:"fail"}),this.needAlertAddrMsg=!0;const _=y.match(/"message":"([^"]*)"/)[1]||"";n(`添加地址失败，${_} 请手动添加`)}else if(y&&/收货人姓名为(.*)个字符/.test(y)){this._saveTaobaoRequestLog({url:v,header:null,responseText:y,responseType:"fail"}),this.needAlertAddrMsg=!0;const _=y.match(/"message":"([^"]*)"/)[1]||"收货人姓名字符长度不正确";n(`添加地址失败，${_}`)}else y&&/并发锁问题/.test(y)?(this._saveTaobaoRequestLog({url:v,header:null,responseText:y,responseType:"fail"}),this.needAlertAddrMsg=!0,n("添加地址失败，并发锁问题（操作频繁），请稍后重试")):(this._saveTaobaoRequestLog({url:v,header:null,responseText:y,responseType:"fail"}),this.needAlertAddrMsg=!0,n(`添加地址失败，${y}`))})()})}async _getCookies(){const t=await jc({url:"https://member1.taobao.com/member/fresh/deliver_address.htm"}),r=["_nk_","_tb_token_","cookie2","dnk","_m_h5_tk"],n=t.reduce((s,a)=>(r.includes(a.name)&&(s[a.name]=a.value),s),{});return this._allCookies=t,n}async _removeCookies(){const t="https://member1.taobao.com/member/fresh/deliver_address.htm";try{const r=this._allCookies.map(n=>Bc({url:t,name:n.name}));await Promise.all(r)}catch(r){window.console.error("Failed to remove cookies:",r)}}_setPurchaseOrderInfoToStorage(){Ze.setItem(Pt(this.tabId),this.purchaseOrderInfo)}}class Dz{constructor(){me(this,"purchaseOrderInfo",{});me(this,"tabId")}async init(){window.console.log("initPurchaseTaoBaoCartPage");const t=await rr();return this.tabId=t==null?void 0:t.id,this.purchaseOrderInfo=await this._getPurchaseOrderInfoFromStorage(),this.purchaseOrderInfo?(await Ut(),await new fk().initAddress(this.purchaseOrderInfo).catch(n=>{window.console.error("initAddress: ",n)}),await Ye(1e3),this._buildEvent(),Promise.resolve()):Promise.reject("no purchase order info.")}async _buildEvent(){this._bindPurchasePlatformOrderingBtnEvent(),k(".ant-checkbox-input").on("change",async()=>{k(".J_Go").length&&k(".J_Go")[0].remove(),await Ye(500),this._bindPurchasePlatformOrderingBtnEvent()})}async _bindPurchasePlatformOrderingBtnEvent(){if(k("div[id^=settlementPanelEmptyContainer_]").length)return;const r=k("div[id^=settlementContainer_] div[class^=btn--]");if(r&&r.length){const n=k("div[id^=settlementContainer_]  div[class^=btnWrap]");ek(n[0],"overlay J_Go"),k(document).on("click",".J_Go",()=>{this._triggerBtnEvent(r)})}}async _triggerBtnEvent(t){window.console.log("触发虚拟按钮");const r=k("div[id^=shopCard_s]"),n={};if(k.each(r,(a,o)=>{const i=k(o).attr("id");k(o).find(".ant-checkbox-wrapper-checked").length&&(n[i]=!0)}),Object.keys(n).length>1){pt.alert("仅支持单个店铺同时结算，请保证当前结算的商品来源同一个店铺。");return}t[0].click()}_getPurchaseOrderInfoFromStorage(){return Ze.getItem(Pt(this.tabId))}}function Nz(){return new Dz().init()}class Fz{constructor(){me(this,"purchaseOrderInfo",{});me(this,"tabId");me(this,"purchasePlatform",Rs);me(this,"currentAddressLength",0);me(this,"selectedContent","");me(this,"curDeliverId");me(this,"tryAutoClickAddressTimes",10)}async init(t=Rs){window.console.log("initPurchaseTaoBaoConfirmPage");const r=await rr();return this.tabId=r.id,this.purchasePlatform=t,this.purchaseOrderInfo=await this._getPurchaseOrderInfoFromStorage(),this.purchaseOrderInfo?(await Ut(),await Ye(1e3),this._buildEvent(),Promise.resolve()):Promise.reject("no purchase order info.")}async _buildEvent(){this._autoCheckedFreightInsurance(),this._checkPurchaseOrderCount(),this._processPurchaseOrderInfo(),this._isUseTaobaoVirtualNumber(),this._rebuildPurchaseOrderInfo();let t=k("#submitOrder .trade-price-container").text();setInterval(()=>{const r=k("#submitOrder .trade-price-container").text();r!==t&&(t=r,this._rebuildPurchaseOrderInfo())},300),this._autoClickAddress().then(()=>{this.currentAddressLength=k("div[class^=listItemWrap--]").length,this.selectedContent=k("div[class*=listItemSelect]").text(),setInterval(()=>{this.currentAddressLength!==k("div[class^=listItemWrap--]").length?(this.currentAddressLength=k("div[class^=listItemWrap--]").length,this._checkAddress()):k("div[class*=listItemSelect]").text()&&this.selectedContent!==k("div[class*=listItemSelect]").text()&&(this.selectedContent=k("div[class*=listItemSelect]").text(),this._checkAddress())},1e3),k("div[class*=listItem--]").on("click",()=>{this.tryAutoClickAddressTimes=0,this._checkAddress()}),(!this.purchaseOrderInfo||!this.purchaseOrderInfo.useIframeAddAddress)&&this._checkAddress(!0)}),this._bindPurchasePlatformOrderingBtnEvent()}_autoCheckedFreightInsurance(){if(!(this.purchaseOrderInfo.purchaseSetting||{}).isAutoCheckedFreightInsurance)return!1;k("div[id*=freightInsurance] .ant-checkbox-inner").trigger("click")}_checkPurchaseOrderCount(){const t=k("order-order").length,r=k("div[id*=shopCard]").length;window.console.log("orderCount",t,r),t+r>1&&pt.alert('<strong style="color:red;font-size: 18px;">温馨提示：</strong><br>当前结算的商品属于多个店铺，将会产生多笔订单',{dangerouslyUseHTMLString:!0})}_processPurchaseOrderInfo(){const r=`<br><div style="width:400px;float:right;text-align:left;background-color:yellow;color:red;font-size:16px;font-weight:600;padding:3px;">${this.purchaseOrderInfo.pluginName}提示：提交订单且提示关联成功后您可以暂时不支付，待全部订单下完后再统一支付</div>`,n=this._buildOrderRemarkText();Fi()?(k('[data-spm^="memo_"] input').focus().val(n),k('[data-spm="submitOrder_1"]').append(r)):k(".ant-input-textarea-show-count").length>0&&(k(".ant-input-textarea-show-count textarea").focus().val(n),as(k(".ant-input-textarea-show-count textarea")[0],"input"),k("div[id^=orderExt_]").append(r))}_isUseTaobaoVirtualNumber(){if(this.purchaseOrderInfo.confirmUseVirtualNumber){const t=k("#paymentCard span[class^=optionTitle--]:contains(号码保护中)").closest("label");t&&!t.hasClass("ant-checkbox-wrapper-checked")&&t.trigger("click")}}_rebuildPurchaseOrderInfo(){const t=this.purchaseOrderInfo;if(t.purchasePlatform=this.purchasePlatform,Fi()){const r=this._getTmallTotalPrice();if(t.purchaseOrderPayment=r.toFixed(2),t.purchaseItem){const n=this._getTmallPurchaseNum(),s=(+t.purchaseOrderPayment/+n).toFixed(2);t.purchaseItem.purchaseNum=n,t.purchaseItem.purchasePrice=+s}}else{if(k("#settlementContainer div[class^=goodNum--] p").length>0){const r=k.trim(k("#submitOrder .trade-price-container").text().replace("￥",""));t.purchaseOrderPayment=r,t.purchaseItem&&(t.purchaseItem.purchaseNum=k("#settlementContainer div[class^=goodNum--] p").text())}if(t.purchaseItem){const r=(+(t.purchaseOrderPayment||0)/+(t.purchaseItem.purchaseNum||0)).toFixed(2);t.purchaseItem.purchasePrice=+r}}this._setPurchaseOrderInfoToStorage(),this._viewProfit()}_viewProfit(){const[t,r]=JI(this.purchaseOrderInfo),n=`<strong class="J_purchaseProfit" style="background-color:yellow;color:red;padding-right:20px;font-size: 22px;">${r}</strong>`;k(".J_purchaseProfit").remove(),Fi()?k('[data-spm="submitOrder_1"]').prepend(n):(k("div[id^=orderExtDown] .trade-order-ext-item-col:last-child").prepend(n),k("div[id=submitOrder] ").append(n))}async _autoClickAddress(){if(this.tryAutoClickAddressTimes){this.tryAutoClickAddressTimes--;let t;if(k("div[class^=listItemWrap--]").each((r,n)=>{if(k(n).find("div[class^=addressLabel--]").text().includes("默认"))return t=k(n).find("div[class^=listItem--]"),!1}),t){t.trigger("click"),await Ye(500);const r=this.purchaseOrderInfo.consignee;this._isOrderingAddress(r)?this.tryAutoClickAddressTimes=0:this._autoClickAddress()}}}_checkAddress(t=!1,r=!0){return new Promise(n=>{var l,c;if(this.curDeliverId=k('input[name="address"]:checked').data("id"),t)try{const u=(l=this.purchaseOrderInfo.consignee)==null?void 0:l.deliverId;window.console.log(u),u&&this.curDeliverId!==u&&k(`#addressInput-${u}`).length>0&&(k(`#addressInput-${u}`).trigger("click"),n(!1))}catch(u){window.console.error(u),n(!1)}const s=this.purchaseOrderInfo.consignee,a=this._isOrderingAddress(s);t?Uv(this.purchaseOrderInfo,a):sV(this.purchaseOrderInfo);const i=`<div class='J_purchaseAddressTip' style='padding:5px 10px;font-size:24px;font-weight:600;z-index:1000000;top:40px;left: 0px;color:#fff;background-color: #ff4400;border:1px solid red;box-shadow: 0 0 4px #000; display:flex;justify-content: space-between;'>${Zd(this.purchaseOrderInfo.appInfo)}<a href='javascript:;' class='J_closePurchaseAddressTip' style='color:blue;margin-left: 20px;'>X 关闭</a></div>`;a||(t&&this._saveAddressMatchError(),k(".J_closePurchaseAddressTip").length===0&&(k("#addressCard").append(i),k(".J_closePurchaseAddressTip").unbind().click(()=>{k(".J_purchaseAddressTip").remove()})),!(!this.purchaseOrderInfo.confirmUseVirtualNumberAgreement&&this.purchaseOrderInfo)&&r&&pt.alert(`当前地址与${(c=this.purchaseOrderInfo.appInfo)==null?void 0:c.platformChineseName}买家地址不一致，请核对`)),n(a)})}_isOrderingAddress(t){let r=t||this.purchaseOrderInfo.consignee;const n=this._getTaobaoAddress();r=tf(r,this.purchaseOrderInfo.consigneeSuffixMap);const s=n.province;let a=n.city,o=n.county;const i=n.town;let l=n.detail;if(!this.purchaseOrderInfo.purchaseOrderFullAddress||!this.purchaseOrderInfo.purchaseOrderFullname||!this.purchaseOrderInfo.purchaseOrderMobile||n.name!==r.fullname||n.phone!==r.mobile)return!1;if(k.inArray(r.province,["港澳","台湾"])>=0&&(r.province=r.city.substr(0,2),r.city=r.county,r.county=r.town),o.includes("其它")&&l===r.fullAddress)return!0;if(!s.includes(r.province.substr(0,2)))return!1;a=this._addressSuffixFilter(a),o=this._addressSuffixFilter(o);const c=["北京","天津","重庆","上海"];let u=!1;k.inArray(r.province.substr(0,2),c)>=0&&(u=!0);let d=u?r.province:r.city;const m=r.county;if(d=this._addressSuffixFilter(d),!a.includes(d))return!1;const b=o.includes(m.substr(0,2))||m.includes(o.substr(0,2))||u&&i.includes(m.substr(0,2));if(!/[\s\S]环到[\s\S]+环/.test(m)&&o!=="其它区"&&!b)return window.console.log("county hit"),!1;const g=rf(r.address);return l=rf(l),!g.includes(l)&&!l.includes(g)?(window.console.log("consigneeAddress",g,l),!1):!0}_getTaobaoAddress(){if(this.purchaseOrderInfo.purchaseOrderFullAddress="",this.purchaseOrderInfo.purchaseOrderFullname="",this.purchaseOrderInfo.purchaseOrderMobile="",this._setPurchaseOrderInfoToStorage(),Fi())return this._getTaobaoMobileAddress();{const t={province:"",city:"",county:"",town:"",detail:"",name:"",phone:""};if(k("div[class*=listItemSelect]").length>0){const r=k("div[class*=listItemSelect]"),n=r.find("div[class*=addressDetail--]").text(),a=r.find("div[class*=addressName--]").text().split(/\s+/);t.province=a[0]?a[0]:"",t.city=a[1]?a[1]:"",t.county=a[2]?a[2]:"",t.town=a[3]?a[3]:"",t.detail=k.trim(n),t.name=k.trim(r.find("div[class*=userInfo--] div:eq(0)").text()),t.phone=k.trim(r.find("div[class*=userInfo--] span").text()),t.phone||(t.phone=k.trim(r.find("div[class*=userInfo--] div:eq(1)").text()));const o=`${t.province} ${t.city} ${t.county} ${t.town} ${t.detail}`;this._setPurchaseConsigneeInfo(o,t.name,t.phone)}return t}}_getTaobaoMobileAddress(){const t={province:"",city:"",county:"",town:"",detail:"",name:"",phone:""};let r="";const n=k('[data-spm="address_1"]').find('[view-name="ImageView"]');if(n.length>0){const a=k(n[0]).siblings('[view-name="LinearLayout"]').find('[view-name="TextView"]');a.length>=3&&(t.name=k(a[0]).text(),t.phone=k(a[1]).text(),r=k(a[2]).text())}return r&&this.purchaseOrderInfo.tbAddressList&&k.each(this.purchaseOrderInfo.tbAddressList,(s,a)=>{if(a.mobile!==t.phone||a.fullName!==t.name)return!0;const o=[a.province||"",a.city||"",a.area||"",a.town||"",a.addressDetail||""].join(""),i=this._buildTmallMobileFullAddress(a.province||"",a.city||"",a.area||"",a.town||"",a.addressDetail||"");if(o===r||i===r){t.province=a.province,t.city=a.city,t.county=a.area,t.town=a.town,t.detail=a.addressDetail;const l=[];t.province&&l.push(t.province),t.city&&l.push(t.city),t.county&&l.push(t.county),t.town&&l.push(t.town),t.detail&&l.push(t.detail),this._setPurchaseConsigneeInfo(l.join(" "),t.name,t.phone)}}),t}_saveAddressMatchError(){const{appInfo:t,venderId:r,orderId:n,purchasePlatform:s}=this.purchaseOrderInfo,a=this.purchaseOrderInfo.consignee,o={appName:t==null?void 0:t.appName,venderId:r,orderId:n,fullname:a.fullname,mobile:a.mobile,province:a.province,city:a.city,county:a.county,address:a.address,purchasePlatform:s};y6(o)}_setPurchaseConsigneeInfo(t,r,n){if(t=t.replace(/\s+/g,""),!t||!r||!n)return!1;this.purchaseOrderInfo.purchaseOrderFullAddress=t,this.purchaseOrderInfo.purchaseOrderFullname=r,this.purchaseOrderInfo.purchaseOrderMobile=n,this._setPurchaseOrderInfoToStorage()}_buildTmallMobileFullAddress(t,r,n,s,a){return t=t.replace("省",""),t=t.replace("自治区",""),r=r.replace("市",""),n=n.replace("区",""),s=s.replace("街道",""),s=s.replace("镇",""),[t,r,n,s,a].join("")}_addressSuffixFilter(t){let r=t;const n=["自治区","自治州","自治县","市","县","地区","区","州"];for(const s in n){const a=n[s];if(new RegExp(`${a}$`,"gi").test(t)){r=t.substr(0,t.length-a.length);break}}return r}async _bindPurchasePlatformOrderingBtnEvent(){const t=k("#submitOrder");if(t&&t.length){const r=k("div[class^=btn--]");await Ye(1500),ek(r[0],"overlay J_checkRelatePurchaseBtn"),k(document).on("click",".J_checkRelatePurchaseBtn",n=>{if(k(n.currentTarget).attr("disabled")&&k(n.currentTarget).attr("disabled")==="disabled")return window.console.log("提交订单按钮禁用"),null;this._triggerBtnEvent(r)})}}async _triggerBtnEvent(t){window.console.log("触发虚拟按钮",t);const r=this._getTaobaoAddress();return this.purchaseOrderInfo.pageAddressInfo=r,await Bi(this.purchaseOrderInfo,"confirm_page",{checkAddressCallback:()=>this._checkAddress(!1,!1)})?(t[0].click(),!0):!1}_buildOrderRemarkText(){return ou(this.purchaseOrderInfo,"，")}_getPurchaseOrderInfoFromStorage(){return Ze.getItem(Pt(this.tabId))}_setPurchaseOrderInfoToStorage(){Ze.setItem(Pt(this.tabId),this.purchaseOrderInfo)}_isTaobaoNewOrderPage(){return k("#addressCard").length>0}_getTmallTotalPrice(){let t=0;if(Fi()){const r=k('#submitBlock_1 [view-name="TradePriceView"]').text().replace("￥","");t=Number.parseFloat(r)||0}else this._isTaobaoNewOrderPage()?t=k.trim(k("#submitOrder .trade-price-container").text().replace("￥","")).toNumber(2):k("#realPayPC_1").length>0?t=k.trim(k("#realPayPC_1").find(".realpay--price").text()).toNumber(2):t=k.trim(k(".order-realPay .realPay-price").text()).toNumber(2);return t}_getTmallPurchaseNum(){let t=0;return Fi()?k.trim(k('[data-spm^="quantity_"] input').val()):(this._isTaobaoNewOrderPage()?k("#settlementContainer div[class^=goodNum--] p").length>0&&(t=k("#settlementContainer div[class^=goodNum--] p").text()):k(".order-quantity").find("input").each((r,n)=>{const s=k.trim(k(n).val()).toNumber(0);t+=s}),t)}}function Bz(e){return new Fz().init(e)}class jz{constructor(){me(this,"purchaseOrderInfo",{});me(this,"tabId")}async init(){window.console.log("initPurchaseTaoBaoDeliverAddressPage");const t=await rr();return this.tabId=t==null?void 0:t.id,this.purchaseOrderInfo=await this._getPurchaseOrderInfoFromStorage(),this.purchaseOrderInfo?(await Ut(),this.purchaseOrderInfo.purchaseItem&&!k("body").html().includes("霸下通用 web 页面-验证码")&&(await Ye(1e3),window.location.href=this.purchaseOrderInfo.purchaseItem.purchaseUrl),Promise.resolve()):Promise.reject("no purchase order info.")}_getPurchaseOrderInfoFromStorage(){return Ze.getItem(Pt(this.tabId))}}function Uz(){return new jz().init()}class qz{constructor(){me(this,"purchaseOrderInfo",{});me(this,"targetGuessProps",[]);me(this,"tabId");me(this,"propertyMemoMap",{});me(this,"isTMall",location.href.includes("detail.tmall.com"));me(this,"currentAddCartProductId","")}async init(){if(window.console.log("initPurchaseTaoBaoDetailPage"),gV()){window.console.log("iframe window");return}const t=await rr();if(this.tabId=t==null?void 0:t.id,this.purchaseOrderInfo=await this._getPurchaseOrderInfoFromStorage(),!this.purchaseOrderInfo)return Promise.reject(je.failResult({reason:"no purchase order info.",code:"noPurchaseOrderInfo"}));await Ut();try{return await Ye(1e3),this._initPurchaseOrderInfo(),await this._autoSelectSku(),await new fk().initAddress(this.purchaseOrderInfo).catch(n=>{window.console.error("initAddress: ",n)}),this._handleCartEvent(),this._startPurchaseItem(),Promise.resolve()}catch(r){window.console.error("purchase_order init error: ",r)}}_initPurchaseOrderInfo(){const t=location.href,r=Hv(t);this.purchaseOrderInfo.purchaseItem.purchaseUrl=t,this.purchaseOrderInfo.purchaseItem.title=k("#tbpc-detail-item-title h1").text(),r&&(this.purchaseOrderInfo.purchasePlatform=r,this._setPurchaseOrderInfoToStorage()),window.console.log("_initPurchaseOrderInfo：",this.purchaseOrderInfo)}async _autoSelectSku(){if(location.href.includes("taobao.com/auction/noitem.htm")||location.href.includes("detail.tmall.com/item.htm")&&k(".errorDetail").text().includes("商品找不到"))return Promise.resolve();this._getPurchaseOrderShipmentPlace(),this._getHtmlElements();const{purchaseItem:r}=this.purchaseOrderInfo,{skuSubName:n,itemTotal:s}=r||{},a=+(s??0),o=n&&Ra(n)?n.split(" "):[],i=Qd(o,this._filterSpecialString);this.targetGuessProps=Gv(this.purchaseOrderInfo)||i,window.console.log("targetGuessProps",this.targetGuessProps);let l="";const c=k("body script");k(c).each((m,b)=>{const g=k(b).html();if(g.includes("Hub"))return l=g,!1});const d=new RegExp("propertyMemoMap: \\{([^}]*)\\}").exec(l)||[];return d[1]&&(this.propertyMemoMap=JSON.parse(`{${d[1]}}`)),Bv()?this._autoSelectTaobaoMobileSku({selectProps:this.targetGuessProps,purchaseItemTotal:a}):jv()?this._autoSelectTmallMobileSku({selectProps:this.targetGuessProps,purchaseItemTotal:a}):this._autoSelectSkuByWeb({Hub:l,itemTotal:a}),this._buildPurchaseToolInfo(),Promise.resolve()}_startPurchaseItem(){window.console.log("start Purchase"),this._checkAutoPurchaseNow(),Kv(this.purchaseOrderInfo)}_checkAutoPurchaseNow(){var t;if(this.purchaseOrderInfo.isAutoPurchaseNow==="1"){if(document.getElementsByClassName("J_LinkBuy").length>0){const r=document.getElementsByClassName("J_LinkBuy")[0];r==null||r.click()}document.getElementById("J_LinkBuy")&&((t=document.getElementById("J_LinkBuy"))==null||t.click())}}_getPurchaseOrderShipmentPlace(){let t=null;if(k("#J-From").length>0&&(t=k.trim(k("#J-From").text())),k("#J_deliveryAdd").length>0&&(t=k.trim(k("#J_deliveryAdd").text())),!t)return!1;this.purchaseOrderInfo.purchaseOrderShipmentPlace=t,this._setPurchaseOrderInfoToStorage()}_getHtmlElements(){this.purchaseOrderInfo.purchaseOrderSeller=Wv(location.href),this._setPurchaseOrderInfoToStorage()}_getPurchaseOrderInfoFromStorage(){return Ze.getItem(Pt(this.tabId))}_setPurchaseOrderInfoToStorage(){Ze.setItem(Pt(this.tabId),this.purchaseOrderInfo)}_filterSpecialString(t){return t.replace(/(\(|\)|（|）|【|】|\[|\]|，|,|；|;|《|》|<|>)*/g,"")}_replaceSpecialString(t){const r={"（":"(","）":")","【":"[","】":"]","，":",","；":";"};return t.replace(/（|）|【|】|，|；/g,n=>r[n]||n)}_autoSelectSkuByWeb({Hub:t,itemTotal:r}){for(let n=0;n<this.targetGuessProps.length;n++){let s=this.targetGuessProps[n];window.console.log("开始自动选择sku",s);const o=new RegExp(`"(\\d+:\\d+)":"${s}"`).exec(t);if(!o||o.length<2)if(s=this._replaceSpecialString(s),k(".tb-prop").length>0)k(".tb-prop ul li").each((i,l)=>{let c=k.trim(k(l).find("span").text());if(c=this._replaceSpecialString(c),c===s&&!k(l).hasClass("tb-selected")){const u=k(l);u.hasClass("tb-selected")||u.find("span").trigger("click"),k(l).find("span").trigger("click")}});else if(k('div[class^="skuWrapper--"]').length>0)k('div[class^="skuWrapper--"] div[class^="valueItem--"]').each((i,l)=>{let c=k.trim(k(l).find("span").text());c=this._replaceSpecialString(c);const u=k(l).attr("class");if(c===s&&!u.includes("isSelected--")){const d=k(l);d.attr("class").includes("isSelected--")||d.find("span").trigger("click"),k(l).find("span").trigger("click")}});else{window.console.log("未找到匹配的属性");break}else{window.console.log(s);const i=o[1];!k(`li[data-value='${i}']`).hasClass("tb-selected")&&k(`li[data-value='${i}']`).click()}}if(k("#J_IptAmount").val(r),k("#J_Amount").length>0){r>2&&k("#J_Amount").find(".mui-amount-input").val(r-1);for(let n=1;n<=r&&!(+Number.parseInt(k("#J_Amount").find(".mui-amount-input").val())>=r);n++)k("#J_Amount").find(".mui-amount-increase").trigger("click")}else if(k("div[class*=addBtn--]").length>0)for(let n=1;n<=r-1&&+k("div[class*=countValueWrapper--] .input").value!==r;n++)k("div[class*=addBtn--]").trigger("click")}async _autoSelectTaobaoMobileSku({selectProps:t,purchaseItemTotal:r}){window.console.log("开始手机端自动选择sku",t,r);const n=k('.tpl-wrapper[data-tpl-id="xsku"]').length>0;let s=null;k(".bottom-bar div").each((a,o)=>{k(o).text().includes("立即购买")&&(s=k(o))}),n&&(s&&s.trigger("click"),k(".dialog-container .sku-info li").each((a,o)=>{for(const i in t){const l=t[i],c=k(o).text();zI(l,c)&&(k(o).hasClass("sel")||k(o).trigger("click"))}}),k(".dialog-container .sku-quantity input").length>0&&(k(".dialog-container .sku-quantity input").focus().val(r),as(k(".dialog-container .sku-quantity input")[0],"input")),k(".dialog-container .sku-closed").trigger("click"))}async _autoSelectTmallMobileSku({selectProps:t,purchaseItemTotal:r}){window.console.log("开始手机端自动选择sku",t,r);const n=k(".module-sku").length>0;let s=k("#s-actionBar-container .trade .buy");s.length===0?s=null:s.children().length>0&&(s=s.children()),n&&(s&&s.trigger("click"),k('.sku-wrap .sku-list-wrap .items [role="radio"]').each((a,o)=>{for(const i in t){const l=t[i],c=k(o).text();zI(l,c)&&(k(o).hasClass("checked")||as(k(o)[0],"click"))}}),k(".sku-wrap #number").length>0&&(k(".sku-wrap #number").focus().val(r),as(k(".sku-wrap #number")[0],"input")),as(k(".sku-wrap .sku-close")[0],"click"))}_buildPurchaseToolInfo(){this._buildColorName()}async _buildColorName(){async function t(a){const o=await Ze.getItem(`local:openColorName-${a}`);return o===null||+o==1?1:0}const r=()=>{k(".J_TSaleProp").each((a,o)=>{if(!k(o).data("property").includes("颜色"))return!0;k(o).find("li").each((i,l)=>{let c=k(l).find("a span").text();const u=k(l).data("value");u&&this.propertyMemoMap[u]&&(c=this.propertyMemoMap[u]),k(l).addClass("od-color-container"),k(l).find(".J_appendColorName").length>0?k(l).find(".J_appendColorName").html(c):k(l).append(`<div style="padding: 0 10px;line-height: 1.5;" class="J_appendColorName">${c}</div>`)})})};let n=await t(this.tabId);n&&r();const s=this.isTMall?".tb-sku":"#J_isku";k(s).prepend(`<div class="od-sku-text-switch"><div class="J_odSkuTextSwitch od-sku-text-radio ${n===1?"od-radio-open":"od-radio-close"}"><div></div></div><div>${n===1?"关闭":"展开"}SKU文字</div></div>`),k(`${s} .J_odSkuTextSwitch`).on("click",async()=>{n=await t(this.tabId),n=n?0:1,Ze.setItem(`local:openColorName-${this.tabId}`,n?"1":"0"),k(".J_odSkuTextSwitch").siblings("div").html(`${n===1?"关闭":"展开"}SKU文字`),n===1?(k(".J_odSkuTextSwitch").addClass("od-radio-open").removeClass("od-radio-close"),r()):(k(".J_odSkuTextSwitch").removeClass("od-radio-open").addClass("od-radio-close"),k(".od-color-container").removeClass("od-color-container"),k(".J_appendColorName").remove())})}async _handleCartEvent(){if(this.isTMall){const t=setInterval(()=>{k("#mc-menu-hd").length>0&&(k("#mc-menu-hd").attr({href:"javascript:void(0);",target:"_self"}),k("#mc-menu-hd").on("click",this._goTaoBaoAndTmallCart),clearInterval(t))},300)}k(".tb-toolbar-item-label-cart").on("click",this._goTaoBaoAndTmallCart),await Ye(300),this._bindTmallAndTaoBaoCartEvent(),k("#J_LinkBasket").on("click",this._getProductIdByAddTmallCart)}_goTaoBaoAndTmallCart(){window.console.log("go cart");let t="http://cart.taobao.com/cart.htm";this.currentAddCartProductId&&(t=`${t}?productId=${this.currentAddCartProductId}`),window.location.href=t}async _bindTmallAndTaoBaoCartEvent(){const t=window.location.href;if(this._checkIsTmallDetailPage(t)){const r=k("#J_MUIMallbar").find(".mui-mbar-tab-cart");if(r.length){r.on("click",this._goTaoBaoAndTmallCart);return}}else{const r=k("#J_Toolbar").find(".J_TBToolbarCart");if(r.length){r.on("click",this._goTaoBaoAndTmallCart);return}}await Ye(100),this._bindTmallAndTaoBaoCartEvent()}_getProductIdByAddTmallCart(){if(this.currentAddCartProductId)return;const t=window.location.href;if(!this._checkIsTmallDetailPage(t))return;const r=/id=(\d+)/i.exec(t);r&&(this.currentAddCartProductId=r[1],window.console.log("tmall currentAddCartProductId = ",this.currentAddCartProductId))}_checkIsTmallDetailPage(t){const r=["detail.tmall.com","detail.yao.95095.com","detail.liangxinyao.com"];for(const n in r)if(t.includes(r[n]))return!0;return!1}}function Vz(){return new qz().init()}class Hz{constructor(){me(this,"purchaseOrderInfo",{});me(this,"tabId")}async init(){window.console.log("initPurchaseTaoBaoPayResultPage");const t=await rr();return this.tabId=t==null?void 0:t.id,this.purchaseOrderInfo=await this._getPurchaseOrderInfoFromStorage(),this.purchaseOrderInfo?(await Ut(),await Ye(1e3),this._buildEvent(),Promise.resolve()):Promise.reject("no purchase order info.")}_buildEvent(){this._getTaobaoBizOrderId()}_getTaobaoBizOrderId(){const t=k("body script");let r;k(t).each((s,a)=>{const o=k(a).html();if(o.includes("buyertrade.taobao.com/trade/pay_success.htm"))return r=this._matchTaobaoOrderId(o),!1;if(o.includes("trade.1688.com/order/unify_pay_success.htm"))return r=this._match1688OrderId(o),!1});const n=!r;if(n||(this.purchaseOrderInfo.purchaseOrderSn=r),Ja({status:n?"fail":"success",reason:n?"没有匹配到采购单号":""},this.purchaseOrderInfo),!r)return!1;os({purchaseOrderInfo:this.purchaseOrderInfo})}_matchTaobaoOrderId(t){const r=/biz_order_id=(\d+)/.exec(t);return!r||r.length<2?(pt.alert("获取淘宝订单号失败，请手动关联订单"),!1):r[1]}_match1688OrderId(t){const r=/orderId=(\d+)/.exec(t);return!r||r.length<2?(pt.alert("获取1688订单号失败，请手动关联订单"),!1):r[1]}_getPurchaseOrderInfoFromStorage(){return Ze.getItem(Pt(this.tabId))}}function zz(){return new Hz().init()}class Wz{constructor(){me(this,"purchaseOrderInfo",{});me(this,"tabId")}async init(){window.console.log("initPurchaseTaoBaoPaySuccessPage");const t=await rr();return this.tabId=t==null?void 0:t.id,this.purchaseOrderInfo=await this._getPurchaseOrderInfoFromStorage(),this.purchaseOrderInfo?(await Ut(),this._buildEvent(),Promise.resolve()):Promise.reject("no purchase order info.")}_buildEvent(){this._getTaobaoBizOrderId()}_getTaobaoBizOrderId(){if(this.purchaseOrderInfo.purchaseOrderSn&&typeof(this.purchaseOrderInfo.purchaseSetting||{}).isAutoRelateWaitPay>"u")return;const t=window.location.href;let r=!1;const n=JS(t);if(n?(window.console.log("已匹配到biz_order_id: ",n),this.purchaseOrderInfo.purchaseOrderSn=n):(window.console.log("未匹配到biz_order_id"),r=!0),Ja({status:r?"fail":"success",reason:r?"没有匹配到采购单号":""},this.purchaseOrderInfo),r)return pt.alert("获取淘宝订单号失败，请手动关联订单");os({purchaseOrderInfo:this.purchaseOrderInfo,isPurchaseOrderPaid:!0})}_getPurchaseOrderInfoFromStorage(){return Ze.getItem(Pt(this.tabId))}}function Gz(){return new Wz().init()}class Kz{constructor(){me(this,"purchaseOrderInfo",{});me(this,"tabId")}async init(){window.console.log("initPurchaseTaoBaoSearchSameGoods");const t=await rr();return this.tabId=t==null?void 0:t.id,this.purchaseOrderInfo=await this._getPurchaseOrderInfoFromStorage(),this.purchaseOrderInfo?(await Ut(),this.purchaseOrderInfo.searchType==="searchByImage"&&!window.location.href.includes("tfsid")&&this._searchGoodsByImage(),this._buildGoPurchaseEvent(),Promise.resolve()):Promise.reject("no purchase order info.")}async _searchGoodsByImage(){const t=Wn({text:"正在搜索同款商品..."});try{const r=this.purchaseOrderInfo.purchaseItem,n=this.purchaseOrderInfo.searchImageUrl||(r==null?void 0:r.goodsImg)||(r==null?void 0:r.picUrl)||"",s=n.substring(n.lastIndexOf("/")+1).toLowerCase();let a=this.purchaseOrderInfo.searchImageObj;a||(a=await vz(n));const o=yz(a.base64Code,s);this._uploadGoodsImage(o,i=>{if(t.close(),i.error||!i.name){pt.alert(i.errorMsg||"上传图片失败",{type:"error"});return}location.href=`https://s.taobao.com/search?tfsid=${i.name}&app=imgsearch`})}catch(r){t.close(),window.console.log("搜索失败",r)}}async _uploadGoodsImage(t,r){const n=new FormData;n.append("imgfile",t);const s=await _n({url:"https://s.taobao.com/image",method:"POST",data:n,xhrFields:{withCredentials:!0}});r(s)}_buildGoPurchaseEvent(){const t=["#mainsrp-itemlist .item .pic-box","#mainsrp-itemlist .item .title","#imgsearch-itemlist .item .pic-box","#imgsearch-itemlist .item .title","#J_shopkeeper_bottom li a","#J_shopkeeper li a"];k(document).on("click",t.join(","),this._goPurchase)}_goPurchase(t){if(this.purchaseOrderInfo.bizType==="getSameGoods")return;t.stopPropagation(),t.preventDefault();let r;k(t.currentTarget).is("a")?r=k(t.currentTarget).attr("href"):r=k(t.currentTarget).closest(".item").find(".title a").attr("href"),r&&(r.indexOf("//")===0&&(r=location.protocol+r),So({url:r,selected:!0}).then(n=>{Ze.setItem(Pt(n.id),{...this.purchaseOrderInfo,tabId:n.id})}))}_getPurchaseOrderInfoFromStorage(){return Ze.getItem(Pt(this.tabId))}}function Yz(){return new Kz().init()}class Jz{constructor(){me(this,"purchaseOrderInfo",{});me(this,"tabId")}async init(){window.console.log("initPurchaseTMallPaySuccessPage");const t=await rr();return this.tabId=t==null?void 0:t.id,this.purchaseOrderInfo=await this._getPurchaseOrderInfoFromStorage(),this.purchaseOrderInfo?(await Ut(),this._buildEvent(),Promise.resolve()):Promise.reject("no purchase order info.")}_buildEvent(){this._getTaobaoBizOrderId()}_getTaobaoBizOrderId(){if(this.purchaseOrderInfo.purchaseOrderSn&&typeof(this.purchaseOrderInfo.purchaseSetting||{}).isAutoRelateWaitPay>"u")return;const t=window.location.href;let r=!1;const n=JS(t);if(n?(window.console.log("已匹配到biz_order_id: ",n),this.purchaseOrderInfo.purchaseOrderSn=n):(window.console.log("未匹配到biz_order_id"),r=!0),Ja({status:r?"fail":"success",reason:r?"没有匹配到采购单号":""},this.purchaseOrderInfo),r)return pt.alert("获取天猫订单号失败，请手动关联订单");os({purchaseOrderInfo:this.purchaseOrderInfo,isPurchaseOrderPaid:!0})}_getPurchaseOrderInfoFromStorage(){return Ze.getItem(Pt(this.tabId))}}function Xz(){return new Jz().init()}class Qz{constructor(){me(this,"purchaseOrderInfo",{});me(this,"tabId")}async init(){window.console.log("initPurchaseTMallSearchSameGoods");const t=await rr();return this.tabId=t==null?void 0:t.id,this.purchaseOrderInfo=await this._getPurchaseOrderInfoFromStorage(),this.purchaseOrderInfo?(await Ut(),await Ye(500),this._buildGoPurchaseEvent(),Promise.resolve()):Promise.reject("no purchase order info.")}_buildGoPurchaseEvent(){const t=[".product .productImg-wrap",".product .productTitle"];k(document).on("click",t.join(","),this._goPurchase)}_goPurchase(t){if(this.purchaseOrderInfo.bizType==="getSameGoods")return;t.stopPropagation(),t.preventDefault();let r=k(this).find("a").attr("href");r&&(r.indexOf("//")===0&&(r=location.protocol+r),So({url:r,selected:!0}).then(n=>{Ze.setItem(Pt(n.id),{...this.purchaseOrderInfo,tabId:n.id})}))}_getPurchaseOrderInfoFromStorage(){return Ze.getItem(Pt(this.tabId))}}function Zz(){return new Qz().init()}class eW{constructor(){me(this,"tabId");me(this,"purchaseOrderInfo",{})}async init(){const t=await rr();if(this.tabId=t==null?void 0:t.id,this.purchaseOrderInfo=await this._getPurchaseOrderInfoFromStorage(),!this.purchaseOrderInfo)return Promise.reject(je.failResult({reason:"no purchase order info.",code:"noPurchaseOrderInfo"}));await Ut(),this.purchaseOrderInfo.purchaseOrderSn&&Bi(this.purchaseOrderInfo,"pay_page")}_getPurchaseOrderInfoFromStorage(){return Ze.getItem(Pt(this.tabId))}}function tW(){return new eW().init()}class rW{constructor(){me(this,"tabId");me(this,"pddUserId");me(this,"pddAccessToken");me(this,"purchaseOrderInfo",{});me(this,"locationUrl")}async init(){const t=await rr();if(this.tabId=t==null?void 0:t.id,this.purchaseOrderInfo=await this._getPurchaseOrderInfoFromStorage(),!this.purchaseOrderInfo)return Promise.reject(je.failResult({reason:"no purchase order info.",code:"noPurchaseOrderInfo"}));await Ut(),this.locationUrl=this.purchaseOrderInfo.yangkeduoUrl,this._getUserInfo().then(this._buildEvent.bind(this),this._throwError).then(this._getPddOrderId.bind(this),this._throwError).then(this._savePurchaseOrderInfo.bind(this),this._handleError)}_getPurchaseOrderInfoFromStorage(){return Ze.getItem(Pt(this.tabId))}_setPurchaseOrderInfoToStorage(){return Ze.setItem(Pt(this.tabId),this.purchaseOrderInfo)}_throwError(t){throw new Error(t)}_handleError(t){window.console.log(t)}_getUserInfo(){return Fc(this.locationUrl).then(t=>{this.pddUserId=t.pddUserId,this.pddAccessToken=t.pddAccessToken})}_buildEvent(){k(".goods-go-to-app").remove()}async _getPddOrderId(){let t=zv("subject");window.console.log("subject",t);let r=zv("return_url"),n=!1;if(!t&&this._isNewPayUrl()){const s=await this._getUrlRequestHistory();window.console.log("sendBackgroundGetUrlRequestHistory: ",s),s&&(t=s.subject,r=s.return_url)}if(window.console.log("subject2",t,r),t||(t=k(".am-list-item-text").text()),t){const s=/商户单号(\w+)/.exec(t);s&&s[1]&&(this.purchaseOrderInfo.purchaseAlipayMerchantNo=s[1]);const a=/订单编号([\d-]+)/.exec(t);if(a&&a[1]){n=!0;const o=a[1];this.purchaseOrderInfo.purchaseOrderSn=o,this._setPurchaseOrderInfoToStorage();return}}if(!r){let s=k('meta[name="unio_origin_url"]').attr("content");s&&(window.console.log("find unioOriginUrl"),window.console.log(s),s=decodeURIComponent(s),r=new URL(s).searchParams.get("return_url"),window.console.log(`parse from unioOriginUrl,return_url:${r}`))}if(r){const s=/order_sn=([\d-]+)/.exec(decodeURIComponent(r));if(s&&s[1]){n=!0;const a=s[1];this.purchaseOrderInfo.purchaseOrderSn=a,this._setPurchaseOrderInfoToStorage();return}if(!n){const a=/fp_id=([^&]+)/.exec(decodeURIComponent(r));if(a&&a[1]){const o=await this._getPurchaseOrderSnFromPddOrderList(a[1]);if(o){n=!0,this.purchaseOrderInfo.purchaseOrderSn=o,this._setPurchaseOrderInfoToStorage();return}}}}if(!n)return pt.alert("获取拼多多订单号失败，请手动关联拼多多订单和京东订单"),Promise.reject("获取拼多多订单号失败")}_isNewPayUrl(){return window.location.href.includes("h5pay/cashierPreConfirm/index")||window.location.href.includes("h5pay/unifiedLogin/index")||window.location.href.includes("h5pay/landing/index")}async _getUrlRequestHistory(){let t={};const r=await KI("https://mclient.alipay.com/home/exterfaceAssign.htm");return r&&(t=ef(r.url)),t}async _getPurchaseOrderSnFromPddOrderList(t){const r=await zD({host:this.locationUrl,pddAccessToken:this.pddAccessToken});if(r&&r.length){for(const n of r)if(n.fpId===t)return n.orderSn}return""}_savePurchaseOrderInfo(){HD({purchaseOrderInfo:this.purchaseOrderInfo,host:this.locationUrl,pddUserId:this.pddUserId,pddAccessToken:this.pddAccessToken});let t=!1;this.purchaseOrderInfo.purchaseOrderSn||(t=!0),Ja({status:t?"fail":"success",reason:t?"没有匹配到采购单号":""},this.purchaseOrderInfo),os({purchaseOrderInfo:this.purchaseOrderInfo})}}function nW(){return new rW().init()}class sW{constructor(){me(this,"tabId");me(this,"purchaseOrderInfo",{})}async init(){const t=await rr();if(this.tabId=t==null?void 0:t.id,this.purchaseOrderInfo=await this._getPurchaseOrderInfoFromStorage(),!this.purchaseOrderInfo)return Promise.reject(je.failResult({reason:"no purchase order info.",code:"noPurchaseOrderInfo"}));await Ut(),this._tryRelatePurchaseOrder()}_getPurchaseOrderInfoFromStorage(){return Ze.getItem(Pt(this.tabId))}async _tryRelatePurchaseOrder(){const t=k(document).find("body").html(),r=/window\.rawData=\s*((.*?)\}\});/.exec(t);let n="";if(r&&r[1])try{const s=JSON.parse(r[1]);window.console.log("orderInfo: ",s);const{store:a}=s;if(!a){St.error("页面解析失败");return}n=a.data.selfOrderInfo.orderSn,n||(n=a.queries.orderSn)}catch{St.error("页面解析失败");return}if(this.purchaseOrderInfo.updateOrderBuyerMemo){window.console.log("pay.js 已完成备注："),St.success("已完成备注");return}n&&(this.purchaseOrderInfo.purchaseOrderSn=n,am({purchaseOrderInfo:this.purchaseOrderInfo,handleBuildFillRemarkText:ou})),Ja({status:n?"fail":"success",reason:n?"没有匹配到采购单号":""},this.purchaseOrderInfo),os({purchaseOrderInfo:this.purchaseOrderInfo,isPurchaseOrderPaid:!0})}}function aW(){return new sW().init()}class oW{constructor(){me(this,"tabId");me(this,"purchaseOrderInfo",{})}async init(){const t=await rr();if(this.tabId=t==null?void 0:t.id,this.purchaseOrderInfo=await this._getPurchaseOrderInfoFromStorage(),!this.purchaseOrderInfo)return Promise.reject(je.failResult({reason:"no purchase order info.",code:"noPurchaseOrderInfo"}));await Ut(),this._checkPaySuccess().then(this._savePurchaseOrderInfo.bind(this),this._handleError)}_getPurchaseOrderInfoFromStorage(){return Ze.getItem(Pt(this.tabId))}_setPurchaseOrderInfoToStorage(){return Ze.setItem(Pt(this.tabId),this.purchaseOrderInfo)}_handleError(t){window.console.log(t)}_checkPaySuccess(){return new Promise((t,r)=>{const n=k("body script");let s=!0;if(k(n).each((a,o)=>{const i=k(o).html();if(i.includes("支付密码不正确")||i.includes("表单重复提交"))return s=!1,!1}),!s)return r("pay fail.");t(!0)})}_savePurchaseOrderInfo(){const t=k("div");let r=!1;if(!this.purchaseOrderInfo.purchaseOrderSn){const a=this._getBizOrderId();a&&(this.purchaseOrderInfo.purchaseOrderSn=a,this._setPurchaseOrderInfoToStorage())}t.each((a,o)=>{k(o).is(":visible")&&k(o).text()&&k(o).text().includes("付款成功")&&(r=!0)});const n=k(".J-success"),s=k(".J-failure");n.length>0&&s.length>0&&!r?this._listenerPaySuccessResult():(os({purchaseOrderInfo:this.purchaseOrderInfo,isPurchaseOrderPaid:r}),r&&this._updatePddOrderBuyerMemo())}_getBizOrderId(){const t=ef(k(".am-header-operate").attr("href")||"");let r="";if(t.bizOrderId&&t.appName==="ltao")r=t.bizOrderId;else{const n=/window._data\s*=\s*(.*);/.exec(document.body.innerHTML);if(n&&n[1]){const s=JSON.parse(n[1]),a=s&&s.next_url?s.next_url:"",o=ef(a);o.bizOrderId&&t.appName==="ltao"&&(r=o.bizOrderId)}}return r}_listenerPaySuccessResult(){const t=k(".J-success");if(!t.length)return!1;const r=t[0],n=new MutationObserver(()=>{let s=!1;t.length>0&&t.text()&&t.is(":visible")&&t.text().includes("支付成功")&&(s=!0),window.console.log("listenerPaySuccessResultV2 change"),os({purchaseOrderInfo:this.purchaseOrderInfo,isPurchaseOrderPaid:s}),s&&this._updatePddOrderBuyerMemo()});n.observe(r,{attributes:!0}),As.tabs.onRemoved.addListener(s=>{s===this.tabId&&n.disconnect()})}async _updatePddOrderBuyerMemo(){const t=await am({purchaseOrderInfo:this.purchaseOrderInfo,handleBuildFillRemarkText:ou});je.isSuccess(t)&&(this.purchaseOrderInfo.updateOrderBuyerMemo=!0,this._setPurchaseOrderInfoToStorage())}}function iW(){return new oW().init()}class lW{constructor(){me(this,"tabId");me(this,"purchaseOrderInfo",{})}async init(){const t=await rr();if(this.tabId=t==null?void 0:t.id,this.purchaseOrderInfo=await this._getPurchaseOrderInfoFromStorage(),!this.purchaseOrderInfo)return Promise.reject(je.failResult({reason:"no purchase order info.",code:"noPurchaseOrderInfo"}));await Ut(),await this._checkPaySuccess(),this._savePurchaseOrderInfo()}_getPurchaseOrderInfoFromStorage(){return Ze.getItem(Pt(this.tabId))}_checkPaySuccess(){const t=k("body script");let r=!0;if(k(t).each((n,s)=>{const a=k(s).html();if(a.includes("支付密码不正确")||a.includes("表单重复提交"))return r=!1,!1}),!r)return window.console.log("pay fail."),Promise.reject("pay fail.")}_savePurchaseOrderInfo(){am({purchaseOrderInfo:this.purchaseOrderInfo,handleBuildFillRemarkText:ou}),os({purchaseOrderInfo:this.purchaseOrderInfo,isPurchaseOrderPaid:!0})}}function uW(){return new lW().init()}const cW={class:"dialog-title-box"},dW={class:"parse-goods-fail-message-box"},fW={class:"base-line ft_20 bold"},pW={class:"content"},hW={class:"base-line ft_20 bold"},mW={class:"content goods-images-box"},gW=["src"],vW=["src"],yW={class:"dialog-footer-box"},bW=Gn(xe({__name:"PddNotSaleGoodsListDialog",emits:["closed"],setup(e,{emit:t}){const r=t,n=ee(!1),s=ee({}),a=ee(),o=mi(),i=W(()=>s.value.appInfo||{});async function l(){const m=Wn({text:"正在获取拼多多下架商品..."});try{const b=i.value.host||"",g=location.href;if(!b||!g)throw new Error("appHost or goodsUrl invalid");const h=await Jt({url:`${b}order/purchase_order/parse_pdd_goods?goodsUrl=${encodeURIComponent(g)}`,method:"GET"});if(je.isFail(h))throw new Error(h.reason);a.value=h.goodsData}catch(b){window.console.log("parseGoods error",b)}finally{m.close(),n.value=!0}}function c(m){return m?`${m}?imageMogr2/sharpen/1%7CimageView2/2/w/400/q/70/format/webp`:""}function u({row:m,action:b}){const{itemTotal:g,skuId:h}=m,v=Number(g)||0;if(!v||Number(v)===0){pt.alert("购买数量必须大于等于1");return}const{goodsId:y,groupTypes:C}=a.value;let _="",S="";if((C==null?void 0:C.length)>0)for(const P of C)P.requireNum===1?_=P.groupID:P.requireNum===2&&(S=P.groupID);const x=b==="in"?S:_,I=zv("_oc_pid"),f=I?`&_oc_pid=${I}`:"";window.location.href=`https://${o}/order_checkout.html?sku_id=${h}&goods_id=${y}&goods_number=${v}&group_id=${x}${f}`}function d(){r("closed")}return Kt(async()=>{const m=await rr();m&&(s.value=await Ze.getItem(Pt(m.id)),l())}),(m,b)=>{const g=KC,h=D9,v=FC,y=Ax,C=Ej,_=un,S=Px,x=fg,I=Ya;return K(),Le(I,null,{default:ie(()=>[le(x,{modelValue:w(n),"onUpdate:modelValue":b[2]||(b[2]=f=>ar(n)?n.value=f:null),top:"100px",width:"1300px","show-close":!1,onClosed:d},{header:ie(()=>[G("div",cW,[ot(ze(w(i).appChineseName||"")+"获取下架商品SKU ",1),b[3]||(b[3]=G("label",{class:"color-red"}," 在设置下单配置中【自动获取拼多多下架商品】关闭此功能 ",-1))])]),footer:ie(()=>[G("div",yW,[le(_,{type:"primary",size:"default",onClick:b[1]||(b[1]=f=>n.value=!1)},{default:ie(()=>b[11]||(b[11]=[ot(" 关闭 ")])),_:1})])]),default:ie(()=>[w(qt)(w(a))?(K(),Le(h,{key:0},{description:ie(()=>[G("div",dW,[b[5]||(b[5]=ot(" 未获取到商品SKU信息，请 ")),le(g,{type:"primary",underline:!1,onClick:b[0]||(b[0]=f=>l())},{default:ie(()=>b[4]||(b[4]=[ot(" 点此刷新重新 ")])),_:1})])]),_:1})):(K(),ue(ht,{key:1},[G("div",fW,[b[6]||(b[6]=G("div",{class:"label"}," 商品标题： ",-1)),G("div",pW,ze(w(a).title),1)]),G("div",hW,[b[7]||(b[7]=G("div",{class:"label"}," 商品图片： ",-1)),G("div",mW,[(K(!0),ue(ht,null,Or(w(a).thumbnails,(f,P)=>(K(),ue("img",{key:P,src:f,class:"goods-image"},null,8,gW))),128))])]),le(v),b[10]||(b[10]=G("div",{class:"color-red ft_20 bold"}," 注意：页面展示的拼购价和单买价可能和当次购买商品的价格存在差异，以实际支付时的金额为准！ ",-1)),le(S,{data:w(a).skus||[],"max-height":"360px"},{default:ie(()=>[le(y,{label:"图片",width:"80px"},{default:ie(({row:f})=>[G("img",{src:c(f.imgUrl)},null,8,vW)]),_:1}),le(y,{label:"SKU名称",prop:"skuSubName"}),le(y,{label:"拼购价",width:"100px"},{default:ie(({row:f})=>[ot(" ￥ "+ze(f.salePrice||"-"),1)]),_:1}),le(y,{label:"单买价",width:"100px"},{default:ie(({row:f})=>[ot(" ￥ "+ze(f.price||"-"),1)]),_:1}),le(y,{label:"购买数量",width:"160px"},{default:ie(({row:f})=>[le(C,{modelValue:f.itemTotal,"onUpdate:modelValue":P=>f.itemTotal=P,min:1,max:9999},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),le(y,{label:"操作",width:"220px"},{default:ie(({row:f})=>[le(_,{type:"primary",size:"small",onClick:P=>u({row:f,action:"single"})},{default:ie(()=>b[8]||(b[8]=[ot(" 单独购买 ")])),_:2},1032,["onClick"]),le(_,{type:"danger",size:"small",onClick:P=>u({row:f,action:"in"})},{default:ie(()=>b[9]||(b[9]=[ot(" 发起拼单 ")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])],64))]),_:1},8,["modelValue"])]),_:1})}}}),[["__scopeId","data-v-34ee38c1"]]);class wW{constructor(){me(this,"tabId");me(this,"pddUserId");me(this,"pddAccessToken");me(this,"locationUrl",mi());me(this,"purchaseOrderInfo",{});me(this,"pddConsignee",{});me(this,"isExecuteAutoTriggerBuyBtnBefore",!1)}async initAddress(t){const r=await rr();this.tabId=r.id,this.purchaseOrderInfo=t;try{await Fc(this.locationUrl,{isRedirectLoginPage:!0}).then(this._setUserInfo.bind(this)).then(this._getPddNickname.bind(this),this._throwError).then(this._getSellerName.bind(this),this._throwError).then(this._getAreaId.bind(this),this._throwError).then(this._getPddAddress.bind(this),this._throwError).then(this._savePddAddress.bind(this),this._handleError)}catch(n){return Promise.reject(n)}}_setPurchaseOrderInfoToStorage(){return Ze.setItem(Pt(this.tabId),this.purchaseOrderInfo)}_setUserInfo(t){this.pddUserId=t.pddUserId,this.pddAccessToken=t.pddAccessToken}_throwError(t){throw new Error(t)}_handleError(t){window.console.log(t)}async _getPddNickname(){const t=await qD({pddUserId:this.pddUserId,domain:window.location.hostname.split(".")[1]});t.nickname?(this.purchaseOrderInfo.purchaseOrderBuyer=t.nickname,await this._setPurchaseOrderInfoToStorage()):(window.console.log("getPddNickname error."),St({type:"error",message:"获取pdd账户名称失败,采购单将无法关联，请清理浏览器记录，重新登录pdd",duration:0,showClose:!0}))}async _getSellerName(){const t=k.trim(k(".goods-mall-name").text());t&&(this.purchaseOrderInfo.purchaseOrderSeller=t),this.purchaseOrderInfo.purchasePlatform="yangkeduo",await this._setPurchaseOrderInfoToStorage()}_getAreaId(){const t=this.purchaseOrderInfo.consignee||{};return this.purchaseOrderInfo.consigneeSuffixMap=hV(),Jt({url:"/order/purchase_order/get_pdd_area_ids",method:"GET",params:{province:t.province,city:t.city,county:t.county}}).then(r=>{window.console.log("fetch get_pdd_area_ids: ",r),this.pddConsignee||(this.pddConsignee={}),this.pddConsignee.name=t.fullname,this.pddConsignee.mobile=t.mobile,this.pddConsignee.province_id=r.provinceId,this.pddConsignee.city_id=r.cityId,this.pddConsignee.district_id=r.countyId,r.addCountyToStreet?this.pddConsignee.address=t.county+(t.town||"")+t.address:this.pddConsignee.address=(t.town||"")+t.address,this.pddConsignee.is_default="0",this.purchaseOrderInfo.consigneeSuffixMap&&(this.pddConsignee.name+=this.purchaseOrderInfo.consigneeSuffixMap.name,this.pddConsignee.address+=this.purchaseOrderInfo.consigneeSuffixMap.address),this.pddConsignee.address&&(this.pddConsignee.address=this.pddConsignee.address.replace("+","|"))}).catch(r=>r.reason?(pt.alert(r.reason),Promise.reject(r.reason)):Promise.reject("fetch /order/purchase_order/get_pdd_area_ids fail"))}async _getPddAddress(){const t=await sm({locationUrl:this.locationUrl,pddUserId:this.pddUserId,pddAccessToken:this.pddAccessToken});if(!t.length)return;const r=await this._getRealPddAddressInfo(this.pddConsignee,t);if(r)return Number(r.is_default)===1&&(this.pddConsignee.is_default="1"),r.address_id;t.length>=100&&await this._deletePddAddress(t[0].address_id)}_getRealPddAddressInfo(t,r){let n=null,s=null;for(const o of r)if(Number(o.is_default)===1&&(s=o),o.name===t.name&&o.province_id===t.province_id&&o.city_id===t.city_id&&o.district_id===t.district_id&&o.address===t.address&&(n=o),o&&n)break;const a=this._checkNeedAddNewPddAddress();return window.console.log("needAddNewPddAddress",a),a&&(s=null),n||s}_checkNeedAddNewPddAddress(){return"pddAddressAddType"in this.purchaseOrderInfo&&this.purchaseOrderInfo.pddAddressAddType==="addNew"}async _deletePddAddress(t){if(!t)return!1;try{const r=await $r({url:`https://${this.locationUrl}/proxy/api/api/origenes/address/delete/${t}?pdduid=${this.pddUserId}`,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8",AccessToken:this.pddAccessToken}});window.console.log("删除地址结果",r)}catch(r){window.console.log("删除地址异常",r)}}async _savePddAddress(t){t?await this._editAddress(t):await this._addAddress(),this._autoTriggerBuyBtnBefore()}_autoTriggerBuyBtnBefore(){if(this.isExecuteAutoTriggerBuyBtnBefore){window.console.log("already execute autoTriggerBuyBtnBefore");return}this.isExecuteAutoTriggerBuyBtnBefore=!0,!qt(this.purchaseOrderInfo)&&gz(this.purchaseOrderInfo)&&this._triggerPddPinBtn()}_triggerPddPinBtn(){const t=["去拼单","插队拼单","用券抢购","券后&立即购买","发起拼单","万人团拼单","立即购买","单独购买"];for(const r of t)if(this._matchPddPinBtnEvent(r)){window.console.log("btn: ",r);break}}_matchPddPinBtnEvent(t){let r=!1;return k("div[data-active]").each((a,o)=>{if(k.trim(k(o).text()).includes(t))return k(o).trigger("click"),t==="去拼单"&&n("参与拼单"),r=!0,!1}),r||k("span").each((a,o)=>{if(k.trim(k(o).text()).includes(t))return k(o).trigger("click"),r=!0,!1}),r||k(".sku-plus1").prevAll().each((a,o)=>{const i=k.trim(k(o).text());if(i.includes(t))return k(o).trigger("click"),s(k(o),t),r=!0,!1;if(t==="券后&立即购买"){const l=t.split("&");l.every(u=>i.includes(u))&&k(o).children().each((u,d)=>{const m=k.trim(k(d).text());if(l.every(g=>m.includes(g)))return s(k(d),"立即购买"),!1})}}),r;function n(a){k("button[data-active]").each((o,i)=>{if(k.trim(k(i).text()).includes(a))return k(i).trigger("click"),!1})}function s(a,o){if(a.children().length>0)a.children().each((i,l)=>{s(k(l),o)});else if(k.trim(a.text()).includes(o))return a.trigger("click"),r=!0,!1}}async _editAddress(t){this.pddConsignee.is_default="1";try{const r=await $r({url:`https://${this.locationUrl}/proxy/api/api/origenes/address_info/${t}?pdduid=${this.pddUserId}`,method:"POST",body:Ma.stringify(this.pddConsignee),headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8",AccessToken:this.pddAccessToken}});if(window.console.log("修改地址结果",r),!r){window.console.log("修改地址失败");return}if(r.error_msg){St.info(`修改地址失败,原因:${r.error_msg}`);return}this.purchaseOrderInfo.selAddressId=t,this.purchaseOrderInfo.pddAddressAddType="edit",await this._setPurchaseOrderInfoToStorage(),window.console.log("修改地址成功")}catch(r){window.console.log("修改地址异常",r)}}async _addAddress(){this.pddConsignee.is_default="0";try{const t=await $r({url:`https://${this.locationUrl}/proxy/api/api/origenes/address?pdduid=${this.pddUserId}`,method:"POST",body:Ma.stringify(this.pddConsignee),headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8",AccessToken:this.pddAccessToken}});if(window.console.log("添加地址结果",t),!t){window.console.log("添加地址失败");return}if(t.error_msg){St.info(`添加地址失败,原因:${t.error_msg}`);return}if(t.address_id){this.purchaseOrderInfo.selAddressId=t.address_id,this._setPurchaseOrderInfoToStorage();return}const r=await sm({locationUrl:this.locationUrl,pddUserId:this.pddUserId,pddAccessToken:this.pddAccessToken}),n=await this._getRealPddAddressInfo(this.pddConsignee,r);n&&(this.purchaseOrderInfo.selAddressId=n.address_id),this.purchaseOrderInfo.pddConsignee=this.pddConsignee,this._setPurchaseOrderInfoToStorage()}catch(t){window.console.log("添加地址异常",t)}}}class SW{constructor(t){me(this,"tabId");me(this,"needFixPddAccount",!1);me(this,"purchaseOrderInfo",{});me(this,"locationUrl",mi());me(this,"ctx");me(this,"targetGuessProps",[]);me(this,"selectedSkuLoop",0);me(this,"skuPaneLastDisplay","none");this.ctx=t.ctx}async init(){const t=await rr();if(this.tabId=t==null?void 0:t.id,await this._checkNeedFixPddAccount(),this.purchaseOrderInfo=await this._getPurchaseOrderInfoFromStorage(),!this.purchaseOrderInfo)return Promise.reject(je.failResult({reason:"no purchase order info.",code:"noPurchaseOrderInfo"}));window.console.log("pdd_detail_page purchaseOrderInfo: ",this.purchaseOrderInfo),await Ut(),await this._initPurchaseOrderInfo(),await new wW().initAddress(this.purchaseOrderInfo).catch(n=>{window.console.error("initAddress: ",n)})}_getPurchaseOrderInfoFromStorage(){return Ze.getItem(Pt(this.tabId))}_setPurchaseOrderInfoToStorage(){return Ze.setItem(Pt(this.tabId),this.purchaseOrderInfo)}async _checkNeedFixPddAccount(){const t=k("body").html();if(!t)return;if(!t.includes("商品已下架，为你推荐相似商品")&&!t.includes("拦截拼多多比价失败")&&!t.includes("商品已售罄，为你推荐相似商品")&&!t.includes("商品已售罄，推荐以下相似商品")){window.console.log("checkNeedFixPddAccount success, not need to fix account");return}let r=await Ze.getItem("local:hasClearPddCookieApiUid");if(r=Number(r)||0,r!==1){await this._clearPddCookieApiUid();return}this.needFixPddAccount=!0;const n=await RI(),{hasUpdate:s}=n,a=s?`
        <div id="J_fixPddAccountTip">
          <p style="margin: 10px; color: red; font-size: 18px; margin-top: -40px; text-align: left;">
            温馨提示：您查看任何宝贝都显示这个界面的话您的账号可能权重很低，您可以
            <a href="javascript:;" class="J_fixPddAccount" style="color: blue; cursor: pointer;">点击这里修复您的权重</a>
            尝试登出账号。如果还是不行请尝试更换浏览器，更换IP地址，更换电脑。
          </p>
        </div>
      `:`
        <div id="J_fixPddAccountTip">
          <p style="margin: 10px; color: red; font-size: 18px; margin-top: -40px; text-align: left;">
            温馨提示：您查看任何宝贝都显示这个界面的话您的账号可能权重很低，您需要卸载插件，重新下载最新插件，如果还是不行请尝试更换浏览器，更换IP地址，更换电脑。
          </p>
        </div>
      `;k(".container ._2WVHL_s0:first").before(a),window.console.log("帐号权重太低，需要修复")}_clearPddCookieApiUid(){return window.console.log("clear pdd cookie：api_uid"),Bc({name:"api_uid",url:`https://${this.locationUrl}`}).then(()=>{Ze.setItem("local:hasClearPddCookieApiUid",1)})}async renderPddNotSaleGoodsListDialog(){window.console.log("renderPddNotSaleGoodsListDialog");const t=await ji(this.ctx,{position:"inline",anchor:"body",onMount:r=>{const n=Fs(bW,{onClosed:()=>{t==null||t.remove()}});return n.mount(r),n},onRemove:r=>{r==null||r.unmount()}});t.mount()}async _parseGoods(){await this.renderPddNotSaleGoodsListDialog()}async _initPurchaseOrderInfo(){this.purchaseOrderInfo.purchaseItem.purchaseUrl=window.location.href,this.purchaseOrderInfo.yangkeduoUrl=this.locationUrl,await this._setPurchaseOrderInfoToStorage(),await this._showPurchaseOrderInfo(),this.needFixPddAccount&&this._initParseGoods(),this._buildDuoCouponLandingPageEvent()}async _showPurchaseOrderInfo(){k(".goods-go-to-app").remove(),this.purchaseOrderInfo.purchaseItem.title=k(".goods-container-v2 span.enable-select>span").text();const{purchaseItem:t}=this.purchaseOrderInfo,{skuSubName:r}=t,n=r&&Ra(r)?r.split(" "):[],s=Qd(n),a=Wv(window.location.href);window.console.log("self.purchaseOrderInfo.purchaseOrderSeller",a),a&&(this.purchaseOrderInfo.purchaseOrderSeller=a,await this._setPurchaseOrderInfoToStorage()),k(document).on("click",".goods-group-buy-button,.goods-direct-btn-new,.goods-group-btn-new,.g-group-footer button",()=>{this._autoSelectedPropEvent(s)}),this._addSkuPanelPopperOpenListener(s),this._renderMultiCouponRecOrderItemTotal(),this._selectMultiCouponRecProp(s)}async _addSkuPanelPopperOpenListener(t){await Ye(1e3);const r=k(".sku-plus1")[0];if(!r){this._addSkuPanelPopperOpenListener(t);return}const n=()=>{const a=k(r).css("display");a==="block"&&a!==this.skuPaneLastDisplay&&(this._autoSelectedPropEvent(t),this.skuPaneLastDisplay=a)};new MutationObserver(a=>{a.forEach(o=>{o.attributeName==="style"&&n()})}).observe(r,{attributes:!0,attributeFilter:["style"]}),n()}async _autoSelectedPropEvent(t){this._renderOrderItemTotal(),k(document).find(".sku-specs-key").length||await Ye(300),this._selectProp(t)}async _renderOrderItemTotal(){var n;await Ye(300);const t=this.purchaseOrderInfo,r=Number((n=t.purchaseItem)==null?void 0:n.itemTotal)||0;if(Number(k("input.sku-selector-input").val())>=r)return null;if(r>2&&k("input.sku-selector-input").val(r-1),r)for(let s=1;s<=r&&!(Number.parseInt(k("input.sku-selector-input").val())>=r);s++)k(document).find(".sku-selector-increase").trigger("click");this.purchaseOrderInfo.isAutoIncreasePurchaseNumber=!0}_selectProp(t=[]){if(this.targetGuessProps=Gv(this.purchaseOrderInfo)||t,!this.targetGuessProps||!this.targetGuessProps.length){window.console.log("未找到产品规格匹配的货源SKU");return}window.console.log("开始自动选择货源SKU");for(const r of this.targetGuessProps){const n=this._filterSpecialString(r);window.console.log("映射的规格：",n),k(document).find(".sku-specs-key").each((s,a)=>{k(a).next().find("div").each((o,i)=>{const l=k.trim(k(i).attr("aria-label")),c=k(i).attr("sku-spec-value-selected");if(window.console.log("当前比对的页面上的货源规格：",l),!c&&this._filterSpecialString(l)===n){window.console.log(`【${l}】比对成功，自动选中`),k(i).attr("sku-spec-value-selected",1);const u=k(i).attr("class").split(" ");k(i).trigger("click");const d=k(i).attr("class").split(" ");u>d&&k(i).trigger("click"),this.selectedSkuLoop++}})})}this.targetGuessProps&&this.selectedSkuLoop>0&&Kv(this.purchaseOrderInfo)}async _renderMultiCouponRecOrderItemTotal(){var n;if(await Ye(1e3),!k(".sku-plus1").length){this._renderMultiCouponRecOrderItemTotal();return}const t=this.purchaseOrderInfo,r=Number((n=t.purchaseItem)==null?void 0:n.itemTotal)||0;if(!(Number(k("input[type=number]").val())>=r)){for(let s=1;s<=r&&!(Number.parseInt(k("input[type=number]").val())>=r);s++)k(document).find("input[type=number]").next().trigger("click");this.purchaseOrderInfo.isAutoIncreasePurchaseNumber=!0}}async _selectMultiCouponRecProp(t){if(await Ye(1e3),!k(".sku-plus1").length){this._selectMultiCouponRecProp(t);return}if(!t)return;const r=t.length;for(let n=0;n<r;n++)k(".sku-selector-container").find(".sku-info .info-list .detail").each((s,a)=>{const o=k.trim(k(a).text());this._filterSpecialString(o)===this._filterSpecialString(t[n])&&!k(a).hasClass("select")&&k(a).trigger("click")})}_filterSpecialString(t){return t.replace(/(\(|\)|（|）|【|】|\[|\]|，|,|；|;|《|》|<|>|\s)*/g,"")}_initParseGoods(){var r;if(XS(this.locationUrl))return;k("#J_fixPddAccountTip").length>0&&(k("#J_fixPddAccountTip").append(`
          <div style="font-size:18px;color: red;">
            您也可以<a href="javascript:;" class="J_manualParseGoods" style="color: blue; cursor: pointer;">点击这里获取下架商品</a>，进行下单
          </div>
        `),k(document).on("click",".J_manualParseGoods",()=>{this._parseGoods()})),Number((r=this.purchaseOrderInfo.purchaseSetting)==null?void 0:r.isAutoParsePddGoods)===1&&this._parseGoods()}_buildDuoCouponLandingPageEvent(){if(!XS(this.locationUrl))return!1;const t=k("#buy-button");t.trigger("click");let r=!1;k(document).find("span").each((s,a)=>{if(k(a).text().includes("一键领取"))return r=!0,k(a).closest("div").click(),!1});const n=this.purchaseOrderInfo.purchaseItem;!r&&!t.length&&n.realPurchaseUrl&&!n.realPurchaseUrl.includes(`${this.locationUrl}/duo_coupon_landing.html`)&&(window.location.href=n.realPurchaseUrl)}}function _W(e){return new SW(e).init()}class TW{constructor(){me(this,"tabId");me(this,"purchaseOrderInfo",{})}async init(){const t=await rr();if(this.tabId=t==null?void 0:t.id,this.purchaseOrderInfo=await this._getPurchaseOrderInfoFromStorage(),!this.purchaseOrderInfo)return Promise.reject(je.failResult({reason:"no purchase order info.",code:"noPurchaseOrderInfo"}));await Ut(),this._checkIsVerificationBack()&&this._continuePurchase()}_getPurchaseOrderInfoFromStorage(){return Ze.getItem(Pt(this.tabId))}_checkIsVerificationBack(){const t=window.location.href;return window.console.log(t),window.console.log(t.indexOf("refer_page_name=psnl_varification")),t.includes("refer_page_name=psnl_varification")}_continuePurchase(){var r;const t=(r=this.purchaseOrderInfo.purchaseItem)==null?void 0:r.purchaseUrl;t&&(window.location.href=t)}}function CW(){return new TW().init()}class xW{constructor(){me(this,"locationUrl",mi())}async init(){window.console.log("√√√ pdd login_page_content init"),k("#submit-button").on("click",()=>{Bc({name:"pdd_user_id",url:`https://${this.locationUrl}`}),Bc({name:"PDDAccessToken",url:`https://${this.locationUrl}`})})}}function IW(){return new xW().init()}class kW{constructor(){me(this,"tabId");me(this,"pddUserId");me(this,"pddAccessToken");me(this,"noUseCouponClickEvent",!1);me(this,"submitOrderCallbackIng",!1);me(this,"isContinueSubmitOrderEvent",!1);me(this,"locationUrl",mi());me(this,"purchaseOrderInfo",{})}async init(){const t=await rr();if(this.tabId=t==null?void 0:t.id,this.purchaseOrderInfo=await this._getPurchaseOrderInfoFromStorage(),!this.purchaseOrderInfo)return Promise.reject(je.failResult({reason:"no purchase order info.",code:"noPurchaseOrderInfo"}));await Ut(),k(".goods-go-to-app").remove();try{await Fc(this.locationUrl).then(this._setUserInfo.bind(this)).then(this._initAddress.bind(this),this._throwError).then(this._buildEvent.bind(this),this._throwError)}catch(r){return Promise.reject(r)}}_getPurchaseOrderInfoFromStorage(){return Ze.getItem(Pt(this.tabId))}_setPurchaseOrderInfoToStorage(){return Ze.setItem(Pt(this.tabId),this.purchaseOrderInfo)}_throwError(t){throw new Error(t)}_setUserInfo(t){this.pddUserId=t.pddUserId,this.pddAccessToken=t.pddAccessToken}async _initAddress(){const t=window.location.href.toLowerCase();if(window.console.log(t),!t.includes("sel_address_id"))if(this.purchaseOrderInfo.selAddressId)window.location.href=`${t}&sel_address_id=${this.purchaseOrderInfo.selAddressId}`;else{const r=await sm({locationUrl:this.locationUrl,pddUserId:this.pddUserId,pddAccessToken:this.pddAccessToken});if(!this.purchaseOrderInfo.pddConsignee||!r.length)return;const n=this._getRealPddAddressInfo(this.purchaseOrderInfo.pddConsignee,r);n&&n.address_id&&(window.location.href=`${t}&sel_address_id=${n.address_id}`)}}_getRealPddAddressInfo(t,r){for(const n in r){const s=r[n];if(s.name===t.name&&s.province_id===t.province_id&&s.city_id===t.city_id&&s.district_id===t.district_id&&s.address===t.address)return s}return null}async _buildEvent(){this._bindSubmitOrderEvent(),this._setDefaultAlipay(),await Ye(1e3),this._checkAddress({isFirstCheck:!0}),this._initBuyNumber(),this._processPurchaseOrderInfo(),k(".oc-address").next().children().last().addClass("J_logisticBox"),this._initUseCouponPlatform(),k(".oc-goods-reduce,.oc-goods-increase").on("click",()=>{this._rebuildPurchaseOrderInfo()}),k(document).on("click",".oc-m-coupon, .oc-m-coupon-cancel, .oc-enable-coupons",()=>{this._rebuildPurchaseOrderInfo()}),k(document).find('input[type="number"]').parent().on("click",()=>{this._rebuildPurchaseOrderInfo()}),k(document).on("click",".J_logisticBox",()=>{this._rebuildPurchaseOrderInfo()})}_bindSubmitOrderEvent(){k(document).find(".oc-safe-pay-statement").nextAll().each((r,n)=>{k(n).find("div[data-active]").each((s,a)=>{if(k.trim(k(a).text()).includes("立即支付"))return k(a).on("click",i=>{this._submitOrderCallback(i)}),!1})})}async _submitOrderCallback(t){if(this.submitOrderCallbackIng)return t.stopPropagation(),!1;if(this.submitOrderCallbackIng=!0,this.isContinueSubmitOrderEvent)return this.isContinueSubmitOrderEvent=!1,!0;t.stopPropagation(),Ye(1);const r=k(t.currentTarget);return this._doSubmitOrdering().catch(n=>{this.submitOrderCallbackIng=!1,Hb(n)&&(window.console.log("startTrigger submit order"),r.trigger("click"))}),!1}async _doSubmitOrdering(){const t=await this._checkAddress({isFirstCheck:!1,isCheckMatchAddress:!0});if(typeof this.purchaseOrderInfo.isConfirmNotMatchAddress<"u"&&delete this.purchaseOrderInfo.isConfirmNotMatchAddress,!t){const n=await this._notMatchAddressConfirm();this.purchaseOrderInfo.isConfirmNotMatchAddress=n?1:0,n&&await QS(this.purchaseOrderInfo)}return await Bi(this.purchaseOrderInfo,"confirm_page")?(this.isContinueSubmitOrderEvent=!0,Promise.reject(!1)):Promise.reject(null)}_checkAddress({isFirstCheck:t=!1,isCheckMatchAddress:r=!1}){var b;const n=this._getPddAddress();window.console.log(n);const s=m(window.location.href.split("?")[1]||"");if(this.purchaseOrderInfo.selAddressId&&(!s||!s.sel_address_id))return!1;const a=Z2(this.purchaseOrderInfo.consignee)||{},o=n.name,i=n.phone,l=n.fullAddress;let c=!1,u="",d=a.mobile;if(a.province&&["北京","上海","重庆","天津"].includes(a.province)?(u=a.county||"",a.address&&(u+=a.address.replace("+","|"))):a.address&&(u=a.address.replace("+","|")),"consigneeSuffixMap"in this.purchaseOrderInfo&&(a.fullname+=this.purchaseOrderInfo.consigneeSuffixMap.name,u+=this.purchaseOrderInfo.consigneeSuffixMap.address),i.includes("****")&&(d=pV(d,"mobile")),a.fullname!==o||d!==i||!l.includes(u)){k(".oc-address-main-info").append(`
        <div style='background-color:yellow;padding:2px 4px;color:red;font-size:20px;position: fixed;'>
          <strong>
            ${Zd(this.purchaseOrderInfo.appInfo)}
          </strong>
        </div>
      `);const g=`
        <div
          style="
            max-width: 400px;
            position: fixed;
            z-index: 99;
            bottom: .53rem;
            line-height: 28px;
            left: 5%;
            margin: 0 auto;
            font-weight: bold;
            text-align: center;
            background-color: yellow;
            padding: 2px 4px;
            color: red;
            font-size: 26px;
          "
        >
          ${Zd(this.purchaseOrderInfo.appInfo)}
        </div>
      `;k(document).find("#order_checkout").append(g),t&&pt.alert(`当前地址与${((b=this.purchaseOrderInfo.appInfo)==null?void 0:b.platformChineseName)||""}买家地址不一致，请核对`)}else c=!0;if(this.purchaseOrderInfo.isMatchAddress=c,t&&!c&&QS(this.purchaseOrderInfo),r)return c;Uv(this.purchaseOrderInfo,c);function m(g){return g.split("&").reduce((h,v)=>{const[y,C]=v.split(/=(.*)/s);if(y){const _=decodeURIComponent(y.replace(/\+/g," ")),S=decodeURIComponent((C||"").replace(/\+/g," "));h[_]=S}return h},{})}}_getPddAddress(){let t={province:"",city:"",county:"",town:"",detail:"",name:"",phone:"",fullAddress:""};const r=k(".oc-address-info").children("div:eq(1)"),n=r.children("div:eq(0)");t.name=k.trim(n.children("span:eq(0)").text()),t.phone=k.trim(n.children("span:eq(1)").text()),t.fullAddress=k.trim(r.children("div:eq(1)").text());const s=t.fullAddress.split(" ");return t.province=s[0]?s[0]:"",t.city=s[1]?s[1]:"",t.county=s[2]?s[2]:"",t.detail=s[3]?s[3]:"",(t.name===""||t.phone===""||t.fullAddress==="")&&(t=this._getPddAddressSub(t)),this._setPurchaseConsigneeInfo(t.fullAddress,t.name,t.phone),t}_getPddAddressSub(t){const r=k.trim(k(".oc-address-info").text()),n=r.match(/\d{11}/);if(!n||!n[0])return t;t.phone=n[0];const s=r.indexOf(t.phone);t.name=r.substr(0,s);const a=t.phone.length;t.fullAddress=r.substr(s+a,r.length-(s+a));const o=t.fullAddress.split(" ");return t.province=o[0]?o[0]:"",t.city=o[1]?o[1]:"",t.county=o[2]?o[2]:"",t.detail=o[3]?o[3]:"",t}_setPurchaseConsigneeInfo(t,r,n){if(t=t.replace(/\s+/g,""),!t||!r||!n)return!1;this.purchaseOrderInfo.purchaseOrderFullAddress=t,this.purchaseOrderInfo.purchaseOrderFullname=r,this.purchaseOrderInfo.purchaseOrderMobile=n,this._setPurchaseOrderInfoToStorage()}_notMatchAddressConfirm(){var t;return pt.confirm(`当前地址与${((t=this.purchaseOrderInfo.appInfo)==null?void 0:t.platformChineseName)||""}买家地址不一致，确定要提交订单吗？`,{confirmButtonText:"确定",cancelButtonText:"取消",customStyle:{minWidth:"700px"}})}_setDefaultAlipay(){k(document).find('div[data-active="before-white"]').each((t,r)=>k(r).text().includes("支付宝")?(k(r).children("div").children("div").trigger("click"),!1):!0)}async _initBuyNumber(){var n;const t=Number((n=this.purchaseOrderInfo.purchaseItem)==null?void 0:n.itemTotal)||0;let r;if(this.purchaseOrderInfo.isAutoIncreasePurchaseNumber)return null;if(k(".oc-buy-number").length>0){const s=k(".oc-buy-number").val();this._startIncreaseGoodsNum(s,t)}else k(document).find(".oc-address").next().children("div").each((s,a)=>{if(k(a).text().includes("购买数量")){r=k(a).find('input[type="number"]');const i=r.val();return t>i&&(r.val(t),as(r[0],"blur")),!1}});await Ye(1e3),this._rebuildPurchaseOrderInfo()}_startIncreaseGoodsNum(t,r){t===1&&r>1&&typeof t<"u"&&this._increaseGoodsNum(r-t)}async _increaseGoodsNum(t){k(".oc-goods-increase").click(),t--,await Ye(300),t>0&&this._increaseGoodsNum(t)}_rebuildPurchaseOrderInfo(){const t=this.purchaseOrderInfo;t.purchasePlatform=Nc;const r=k(document).find(".oc-safe-pay-statement").parent(),n=/[提交订单|快要抢光实付款][\s:：]*(￥|¥)(0\.\d?[1-9]|(?!0)\d{1,6}(?:\.\d?[1-9])?)/.exec(r.text());let s=0;n&&n[2]&&(s=Number(n[2]),s=Number(s.toFixed(2))),t.purchaseOrderPayment=s,t.purchaseItem&&(t.purchaseItem.purchaseNum=Number(k(".oc-buy-number").eq(0).val())||0,t.purchaseItem.purchasePrice=Number((t.purchaseOrderPayment/t.purchaseItem.purchaseNum).toFixed(2))),this._setPurchaseOrderInfoToStorage(),this._viewProfit(),Number(this.purchaseOrderInfo.purchaseOrderPayment)<20&&this._viewPayNotice()}_viewProfit(){const[t,r]=XI(this.purchaseOrderInfo);k(".J_purchaseProfit").remove();const n=`
      <div 
        class="J_purchaseProfit"
        style="
        max-width: 768px;
        position: fixed;
        z-index: 99;
        bottom: .53rem;
        line-height: 28px;
        left: 0%;
        right: 0%;
        margin: 0 auto;
        font-weight: bold;
        text-align: center;
        background-color: yellow;
        padding: 2px 4px;
        color: red;
        font-size: 18px;
        "
      >
        <strong style='font-size:26px;'> 利润：￥${t} 利润率：${r}% </strong>（仅供参考）
      </div>
    `;k(document).find("#order_checkout").append(n)}_viewPayNotice(){k(".J_purchasePayNotice").remove(),k(document).find("#order_checkout").append(`
      <div 
        class="J_purchasePayNotice"
        style="max-width: 469px;position: fixed;z-index: 9999;bottom: 0rem;line-height: 15px;left: -298px;right: 0;margin:0 auto;font-weight:bold;background-color:yellow;padding:2px 4px;color:red;font-size: 14px;"
      >
        小额订单容易被拼多多自动退款，建议下单后用拼多多APP选择多多支付，降低自动退款的概率
      </div>
    `)}_processPurchaseOrderInfo(){let t=k.trim(k(".oc-final-amount").text())||"";t=t.substring(1,1+t.length),t=Number(t).toFixed(2),this.purchaseOrderInfo.purchaseOrderPayment=Number(t),this._setPurchaseOrderInfoToStorage()}_initUseCouponPlatform(){const t=()=>{k(".oc-enable-coupons").parent().parent().children().each((r,n)=>{if(k(n).text().includes("暂不使用优惠"))return k(n).on("click",async()=>{await Ye(1e3),this._rebuildPurchaseOrderInfo()}),this.noUseCouponClickEvent=!0,!1})};k(document).find('div[data-active="cell-white"]').each((r,n)=>{if(k(n).text().includes("平台优惠"))return k(n).on("click",async()=>{await Ye(1e3),this._rebuildPurchaseOrderInfo(),this.noUseCouponClickEvent||t()}),!1})}}function OW(){return new kW().init()}class PW{constructor(){me(this,"tabId");me(this,"purchaseOrderInfo",{})}async init(){const t=await rr();if(this.tabId=t==null?void 0:t.id,this.purchaseOrderInfo=await this._getPurchaseOrderInfoFromStorage(),!this.purchaseOrderInfo)return Promise.reject(je.failResult({reason:"no purchase order info.",code:"noPurchaseOrderInfo"}));await Ut(),this._sendOpenFailMessage()}_getPurchaseOrderInfoFromStorage(){return Ze.getItem(Pt(this.tabId))}_sendOpenFailMessage(){St.info("请进行安全验证")}}function AW(){return new PW().init()}class EW{constructor(){me(this,"tabId");me(this,"purchaseOrderInfo",{})}async init(){const t=await rr();if(this.tabId=t==null?void 0:t.id,this.purchaseOrderInfo=await this._getPurchaseOrderInfoFromStorage(),!this.purchaseOrderInfo)return Promise.reject(je.failResult({reason:"no purchase order info.",code:"noPurchaseOrderInfo"}));await Ut(),k(".goods-go-to-app").remove(),await this._getPddOrderId(),this._savePurchaseOrderInfo()}_getPurchaseOrderInfoFromStorage(){return Ze.getItem(Pt(this.tabId))}_setPurchaseOrderInfoToStorage(){return Ze.setItem(Pt(this.tabId),this.purchaseOrderInfo)}async _getPddOrderId(){if(!this.purchaseOrderInfo.purchaseOrderSn){const t=window.location.href,r=/order_sn=([\d-]+)/.exec(t);if(!r||r.length<2){pt.alert("获取拼多多订单号失败，请手动关联订单");return}this.purchaseOrderInfo.purchaseOrderSn=r[1],await this._setPurchaseOrderInfoToStorage()}}_savePurchaseOrderInfo(){var t;if(!this.purchaseOrderInfo.purchaseOrderSn){pt.alert(`关联${((t=this.purchaseOrderInfo.appInfo)==null?void 0:t.platformChineseName)||""}订单失败，请手动关联`);return}os({purchaseOrderInfo:this.purchaseOrderInfo,isPurchaseOrderPaid:!0})}}function $W(){return new EW().init()}const RW={registration:"runtime",cssInjectionMode:"ui",main(){return{async validatorCollectFields(e){if(e.includes("postFee"))return(await d6()).isAttachPostFeeToPrice==="1"?Promise.resolve():Promise.reject()},async onCollectError(e){console.warn(`error code :${e.antiCode}`)},createCollectUi:_V,createPurchaseUi:ez,initPurchase1688DetailPage:Tz,initPurchase1688CartPage:lz,initPurchase1688ConfirmPage:Sz,initPurchase1688WaitPayPage:Pz,initPurchase1688PaySuccessPage:xz,initPurchase1688SearchSameGoodPage:kz,initPurchaseYangKeDuoLoginPage:IW,initPurchaseYangKeDuoVerificationPage:AW,initPurchaseYangKeDuoHomePage:CW,initPurchaseYangKeDuoDetailPage:_W,initPurchaseYangKeDuoOrderCheckoutPage:OW,initPurchaseYangKeDuoPayConfirmPage:nW,initPurchaseYangKeDuoAliPayResultPage:iW,initPurchaseYangKeDuoAliPayCheckRelatePage:tW,initPurchaseYangKeDuoAliPayGroupSuccessPage:aW,initPurchaseYangKeDuoAliPaySuccessPage:uW,initPurchaseYangKeDuoWechatCallbackPage:$W,initPurchaseTaoBaoDetailPage:Vz,initPurchaseTaoBaoConfirmPage:Bz,initPurchaseTaoBaoCartPage:Nz,initPurchaseTaoBaoPayResultPage:zz,initPurchaseTaoBaoPaySuccessPage:Gz,initPurchaseTaoBaoAddCartSucceedPage:Ez,initPurchaseTaoBaoAddTempAddressPage:Rz,initPurchaseTaoBaoAlipaySuccessPage:Mz,initPurchaseTaoBaoDeliverAddressPage:Uz,initPurchaseTaoBaoSearchSameGoods:Yz,initPurchaseTMallPaySuccessPage:Xz,initPurchaseTMallSearchSameGoods:Zz,createPlatformCrawlUi:nH}}};function oY(){}function af(e,...t){}const LW={debug:(...e)=>af(console.debug,...e),log:(...e)=>af(console.log,...e),warn:(...e)=>af(console.warn,...e),error:(...e)=>af(console.error,...e)};return(async()=>{try{return await RW.main()}catch(e){throw LW.error('The unlisted script "platform-base-utils" crashed on startup!',e),e}})()}();
platformBaseUtils;
